var iV=Object.defineProperty;var sV=(n,e,t)=>e in n?iV(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var _c=(n,e,t)=>(sV(n,typeof e!="symbol"?e+"":e,t),t);function oV(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var Yi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function JC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Cn(n){var e=n.default;if(typeof e=="function"){var t=function(){return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var J={exports:{}},Xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg=Symbol.for("react.element"),aV=Symbol.for("react.portal"),lV=Symbol.for("react.fragment"),uV=Symbol.for("react.strict_mode"),cV=Symbol.for("react.profiler"),fV=Symbol.for("react.provider"),dV=Symbol.for("react.context"),hV=Symbol.for("react.forward_ref"),pV=Symbol.for("react.suspense"),mV=Symbol.for("react.memo"),gV=Symbol.for("react.lazy"),mP=Symbol.iterator;function vV(n){return n===null||typeof n!="object"?null:(n=mP&&n[mP]||n["@@iterator"],typeof n=="function"?n:null)}var F7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U7=Object.assign,z7={};function sp(n,e,t){this.props=n,this.context=e,this.refs=z7,this.updater=t||F7}sp.prototype.isReactComponent={};sp.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};sp.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function G7(){}G7.prototype=sp.prototype;function $C(n,e,t){this.props=n,this.context=e,this.refs=z7,this.updater=t||F7}var XC=$C.prototype=new G7;XC.constructor=$C;U7(XC,sp.prototype);XC.isPureReactComponent=!0;var gP=Array.isArray,H7=Object.prototype.hasOwnProperty,YC={current:null},j7={key:!0,ref:!0,__self:!0,__source:!0};function V7(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)H7.call(e,r)&&!j7.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:vg,type:n,key:s,ref:o,props:i,_owner:YC.current}}function yV(n,e){return{$$typeof:vg,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function QC(n){return typeof n=="object"&&n!==null&&n.$$typeof===vg}function xV(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var vP=/\/+/g;function d_(n,e){return typeof n=="object"&&n!==null&&n.key!=null?xV(""+n.key):e.toString(36)}function Wx(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case vg:case aV:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+d_(o,0):r,gP(i)?(t="",n!=null&&(t=n.replace(vP,"$&/")+"/"),Wx(i,e,t,"",function(u){return u})):i!=null&&(QC(i)&&(i=yV(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(vP,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",gP(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+d_(s,a);o+=Wx(s,e,t,l,i)}else if(l=vV(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+d_(s,a++),o+=Wx(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xv(n,e,t){if(n==null)return n;var r=[],i=0;return Wx(n,r,"","",function(s){return e.call(t,s,i++)}),r}function bV(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var zi={current:null},qx={transition:null},wV={ReactCurrentDispatcher:zi,ReactCurrentBatchConfig:qx,ReactCurrentOwner:YC};Xt.Children={map:Xv,forEach:function(n,e,t){Xv(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Xv(n,function(){e++}),e},toArray:function(n){return Xv(n,function(e){return e})||[]},only:function(n){if(!QC(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Xt.Component=sp;Xt.Fragment=lV;Xt.Profiler=cV;Xt.PureComponent=$C;Xt.StrictMode=uV;Xt.Suspense=pV;Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wV;Xt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=U7({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=YC.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)H7.call(e,l)&&!j7.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:vg,type:n.type,key:i,ref:s,props:r,_owner:o}};Xt.createContext=function(n){return n={$$typeof:dV,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:fV,_context:n},n.Consumer=n};Xt.createElement=V7;Xt.createFactory=function(n){var e=V7.bind(null,n);return e.type=n,e};Xt.createRef=function(){return{current:null}};Xt.forwardRef=function(n){return{$$typeof:hV,render:n}};Xt.isValidElement=QC;Xt.lazy=function(n){return{$$typeof:gV,_payload:{_status:-1,_result:n},_init:bV}};Xt.memo=function(n,e){return{$$typeof:mV,type:n,compare:e===void 0?null:e}};Xt.startTransition=function(n){var e=qx.transition;qx.transition={};try{n()}finally{qx.transition=e}};Xt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Xt.useCallback=function(n,e){return zi.current.useCallback(n,e)};Xt.useContext=function(n){return zi.current.useContext(n)};Xt.useDebugValue=function(){};Xt.useDeferredValue=function(n){return zi.current.useDeferredValue(n)};Xt.useEffect=function(n,e){return zi.current.useEffect(n,e)};Xt.useId=function(){return zi.current.useId()};Xt.useImperativeHandle=function(n,e,t){return zi.current.useImperativeHandle(n,e,t)};Xt.useInsertionEffect=function(n,e){return zi.current.useInsertionEffect(n,e)};Xt.useLayoutEffect=function(n,e){return zi.current.useLayoutEffect(n,e)};Xt.useMemo=function(n,e){return zi.current.useMemo(n,e)};Xt.useReducer=function(n,e,t){return zi.current.useReducer(n,e,t)};Xt.useRef=function(n){return zi.current.useRef(n)};Xt.useState=function(n){return zi.current.useState(n)};Xt.useSyncExternalStore=function(n,e,t){return zi.current.useSyncExternalStore(n,e,t)};Xt.useTransition=function(){return zi.current.useTransition()};Xt.version="18.2.0";(function(n){n.exports=Xt})(J);const Ar=JC(J.exports),kA=oV({__proto__:null,default:Ar},[J.exports]);var NA={},W7={exports:{}},Bs={},q7={exports:{}},K7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(L,F){var z=L.length;L.push(F);e:for(;0<z;){var B=z-1>>>1,E=L[B];if(0<i(E,F))L[B]=F,L[z]=E,z=B;else break e}}function t(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var F=L[0],z=L.pop();if(z!==F){L[0]=z;e:for(var B=0,E=L.length,j=E>>>1;B<j;){var X=2*(B+1)-1,N=L[X],K=X+1,oe=L[K];if(0>i(N,z))K<E&&0>i(oe,N)?(L[B]=oe,L[K]=z,B=K):(L[B]=N,L[X]=z,B=X);else if(K<E&&0>i(oe,z))L[B]=oe,L[K]=z,B=K;else break e}}return F}function i(L,F){var z=L.sortIndex-F.sortIndex;return z!==0?z:L.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,d=3,m=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var F=t(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=L)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=t(u)}}function A(L){if(g=!1,b(L),!y)if(t(l)!==null)y=!0,k(M);else{var F=t(u);F!==null&&U(A,F.startTime-L)}}function M(L,F){y=!1,g&&(g=!1,x(P),P=-1),m=!0;var z=d;try{for(b(F),f=t(l);f!==null&&(!(f.expirationTime>F)||L&&!q());){var B=f.callback;if(typeof B=="function"){f.callback=null,d=f.priorityLevel;var E=B(f.expirationTime<=F);F=n.unstable_now(),typeof E=="function"?f.callback=E:f===t(l)&&r(l),b(F)}else r(l);f=t(l)}if(f!==null)var j=!0;else{var X=t(u);X!==null&&U(A,X.startTime-F),j=!1}return j}finally{f=null,d=z,m=!1}}var I=!1,D=null,P=-1,O=5,V=-1;function q(){return!(n.unstable_now()-V<O)}function ne(){if(D!==null){var L=n.unstable_now();V=L;var F=!0;try{F=D(!0,L)}finally{F?H():(I=!1,D=null)}}else I=!1}var H;if(typeof w=="function")H=function(){w(ne)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,T=_.port2;_.port1.onmessage=ne,H=function(){T.postMessage(null)}}else H=function(){v(ne,0)};function k(L){D=L,I||(I=!0,H())}function U(L,F){P=v(function(){L(n.unstable_now())},F)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,k(M))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(L){switch(d){case 1:case 2:case 3:var F=3;break;default:F=d}var z=d;d=F;try{return L()}finally{d=z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,F){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var z=d;d=L;try{return F()}finally{d=z}},n.unstable_scheduleCallback=function(L,F,z){var B=n.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?B+z:B):z=B,L){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=z+E,L={id:c++,callback:F,priorityLevel:L,startTime:z,expirationTime:E,sortIndex:-1},z>B?(L.sortIndex=z,e(u,L),t(l)===null&&L===t(u)&&(g?(x(P),P=-1):g=!0,U(A,z-B))):(L.sortIndex=E,e(l,L),y||m||(y=!0,k(M))),L},n.unstable_shouldYield=q,n.unstable_wrapCallback=function(L){var F=d;return function(){var z=d;d=F;try{return L.apply(this,arguments)}finally{d=z}}}})(K7);(function(n){n.exports=K7})(q7);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J7=J.exports,Ms=q7.exports;function Ke(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $7=new Set,gm={};function Uf(n,e){Ah(n,e),Ah(n+"Capture",e)}function Ah(n,e){for(gm[n]=e,n=0;n<e.length;n++)$7.add(e[n])}var vl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),LA=Object.prototype.hasOwnProperty,_V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yP={},xP={};function AV(n){return LA.call(xP,n)?!0:LA.call(yP,n)?!1:_V.test(n)?xP[n]=!0:(yP[n]=!0,!1)}function SV(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function EV(n,e,t,r){if(e===null||typeof e>"u"||SV(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gi(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var oi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){oi[n]=new Gi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];oi[e]=new Gi(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){oi[n]=new Gi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){oi[n]=new Gi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){oi[n]=new Gi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){oi[n]=new Gi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){oi[n]=new Gi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){oi[n]=new Gi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){oi[n]=new Gi(n,5,!1,n.toLowerCase(),null,!1,!1)});var ZC=/[\-:]([a-z])/g;function eM(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(ZC,eM);oi[e]=new Gi(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(ZC,eM);oi[e]=new Gi(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(ZC,eM);oi[e]=new Gi(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){oi[n]=new Gi(n,1,!1,n.toLowerCase(),null,!1,!1)});oi.xlinkHref=new Gi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){oi[n]=new Gi(n,1,!1,n.toLowerCase(),null,!0,!0)});function tM(n,e,t,r){var i=oi.hasOwnProperty(e)?oi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(EV(e,t,i,r)&&(t=null),r||i===null?AV(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var kl=J7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yv=Symbol.for("react.element"),Od=Symbol.for("react.portal"),Fd=Symbol.for("react.fragment"),nM=Symbol.for("react.strict_mode"),DA=Symbol.for("react.profiler"),X7=Symbol.for("react.provider"),Y7=Symbol.for("react.context"),rM=Symbol.for("react.forward_ref"),OA=Symbol.for("react.suspense"),FA=Symbol.for("react.suspense_list"),iM=Symbol.for("react.memo"),hu=Symbol.for("react.lazy"),Q7=Symbol.for("react.offscreen"),bP=Symbol.iterator;function qp(n){return n===null||typeof n!="object"?null:(n=bP&&n[bP]||n["@@iterator"],typeof n=="function"?n:null)}var Yn=Object.assign,h_;function R0(n){if(h_===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);h_=e&&e[1]||""}return`
`+h_+n}var p_=!1;function m_(n,e){if(!n||p_)return"";p_=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{p_=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?R0(n):""}function CV(n){switch(n.tag){case 5:return R0(n.type);case 16:return R0("Lazy");case 13:return R0("Suspense");case 19:return R0("SuspenseList");case 0:case 2:case 15:return n=m_(n.type,!1),n;case 11:return n=m_(n.type.render,!1),n;case 1:return n=m_(n.type,!0),n;default:return""}}function UA(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Fd:return"Fragment";case Od:return"Portal";case DA:return"Profiler";case nM:return"StrictMode";case OA:return"Suspense";case FA:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Y7:return(n.displayName||"Context")+".Consumer";case X7:return(n._context.displayName||"Context")+".Provider";case rM:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case iM:return e=n.displayName||null,e!==null?e:UA(n.type)||"Memo";case hu:e=n._payload,n=n._init;try{return UA(n(e))}catch{}}return null}function MV(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return UA(e);case 8:return e===nM?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gu(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Z7(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TV(n){var e=Z7(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Qv(n){n._valueTracker||(n._valueTracker=TV(n))}function e9(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=Z7(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function P1(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function zA(n,e){var t=e.checked;return Yn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function wP(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Gu(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function t9(n,e){e=e.checked,e!=null&&tM(n,"checked",e,!1)}function GA(n,e){t9(n,e);var t=Gu(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?HA(n,e.type,t):e.hasOwnProperty("defaultValue")&&HA(n,e.type,Gu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function _P(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function HA(n,e,t){(e!=="number"||P1(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var B0=Array.isArray;function lh(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Gu(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function jA(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ke(91));return Yn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function AP(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ke(92));if(B0(t)){if(1<t.length)throw Error(Ke(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Gu(t)}}function n9(n,e){var t=Gu(e.value),r=Gu(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function SP(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function r9(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function VA(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?r9(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Zv,i9=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Zv=Zv||document.createElement("div"),Zv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zv.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function vm(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var j0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PV=["Webkit","ms","Moz","O"];Object.keys(j0).forEach(function(n){PV.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),j0[e]=j0[n]})});function s9(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||j0.hasOwnProperty(n)&&j0[n]?(""+e).trim():e+"px"}function o9(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=s9(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var IV=Yn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function WA(n,e){if(e){if(IV[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ke(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ke(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ke(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ke(62))}}function qA(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var KA=null;function sM(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var JA=null,uh=null,ch=null;function EP(n){if(n=bg(n)){if(typeof JA!="function")throw Error(Ke(280));var e=n.stateNode;e&&(e=Hb(e),JA(n.stateNode,n.type,e))}}function a9(n){uh?ch?ch.push(n):ch=[n]:uh=n}function l9(){if(uh){var n=uh,e=ch;if(ch=uh=null,EP(n),e)for(n=0;n<e.length;n++)EP(e[n])}}function u9(n,e){return n(e)}function c9(){}var g_=!1;function f9(n,e,t){if(g_)return n(e,t);g_=!0;try{return u9(n,e,t)}finally{g_=!1,(uh!==null||ch!==null)&&(c9(),l9())}}function ym(n,e){var t=n.stateNode;if(t===null)return null;var r=Hb(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ke(231,e,typeof t));return t}var $A=!1;if(vl)try{var Kp={};Object.defineProperty(Kp,"passive",{get:function(){$A=!0}}),window.addEventListener("test",Kp,Kp),window.removeEventListener("test",Kp,Kp)}catch{$A=!1}function RV(n,e,t,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(c){this.onError(c)}}var V0=!1,I1=null,R1=!1,XA=null,BV={onError:function(n){V0=!0,I1=n}};function kV(n,e,t,r,i,s,o,a,l){V0=!1,I1=null,RV.apply(BV,arguments)}function NV(n,e,t,r,i,s,o,a,l){if(kV.apply(this,arguments),V0){if(V0){var u=I1;V0=!1,I1=null}else throw Error(Ke(198));R1||(R1=!0,XA=u)}}function zf(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,(e.flags&4098)!==0&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function d9(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function CP(n){if(zf(n)!==n)throw Error(Ke(188))}function LV(n){var e=n.alternate;if(!e){if(e=zf(n),e===null)throw Error(Ke(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return CP(i),n;if(s===r)return CP(i),e;s=s.sibling}throw Error(Ke(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Ke(189))}}if(t.alternate!==r)throw Error(Ke(190))}if(t.tag!==3)throw Error(Ke(188));return t.stateNode.current===t?n:e}function h9(n){return n=LV(n),n!==null?p9(n):null}function p9(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=p9(n);if(e!==null)return e;n=n.sibling}return null}var m9=Ms.unstable_scheduleCallback,MP=Ms.unstable_cancelCallback,DV=Ms.unstable_shouldYield,OV=Ms.unstable_requestPaint,dr=Ms.unstable_now,FV=Ms.unstable_getCurrentPriorityLevel,oM=Ms.unstable_ImmediatePriority,g9=Ms.unstable_UserBlockingPriority,B1=Ms.unstable_NormalPriority,UV=Ms.unstable_LowPriority,v9=Ms.unstable_IdlePriority,Fb=null,ya=null;function zV(n){if(ya&&typeof ya.onCommitFiberRoot=="function")try{ya.onCommitFiberRoot(Fb,n,void 0,(n.current.flags&128)===128)}catch{}}var Go=Math.clz32?Math.clz32:jV,GV=Math.log,HV=Math.LN2;function jV(n){return n>>>=0,n===0?32:31-(GV(n)/HV|0)|0}var ey=64,ty=4194304;function k0(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function k1(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=k0(a):(s&=o,s!==0&&(r=k0(s)))}else o=t&~i,o!==0?r=k0(o):s!==0&&(r=k0(s));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if((r&4)!==0&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Go(e),i=1<<t,r|=n[t],e&=~i;return r}function VV(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WV(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Go(s),a=1<<o,l=i[o];l===-1?((a&t)===0||(a&r)!==0)&&(i[o]=VV(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function YA(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function y9(){var n=ey;return ey<<=1,(ey&4194240)===0&&(ey=64),n}function v_(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function yg(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Go(e),n[e]=t}function qV(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Go(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function aM(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Go(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var xn=0;function x9(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var b9,lM,w9,_9,A9,QA=!1,ny=[],Ru=null,Bu=null,ku=null,xm=new Map,bm=new Map,xu=[],KV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function TP(n,e){switch(n){case"focusin":case"focusout":Ru=null;break;case"dragenter":case"dragleave":Bu=null;break;case"mouseover":case"mouseout":ku=null;break;case"pointerover":case"pointerout":xm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bm.delete(e.pointerId)}}function Jp(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=bg(e),e!==null&&lM(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function JV(n,e,t,r,i){switch(e){case"focusin":return Ru=Jp(Ru,n,e,t,r,i),!0;case"dragenter":return Bu=Jp(Bu,n,e,t,r,i),!0;case"mouseover":return ku=Jp(ku,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return xm.set(s,Jp(xm.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,bm.set(s,Jp(bm.get(s)||null,n,e,t,r,i)),!0}return!1}function S9(n){var e=Wc(n.target);if(e!==null){var t=zf(e);if(t!==null){if(e=t.tag,e===13){if(e=d9(t),e!==null){n.blockedOn=e,A9(n.priority,function(){w9(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Kx(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=ZA(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);KA=r,t.target.dispatchEvent(r),KA=null}else return e=bg(t),e!==null&&lM(e),n.blockedOn=t,!1;e.shift()}return!0}function PP(n,e,t){Kx(n)&&t.delete(e)}function $V(){QA=!1,Ru!==null&&Kx(Ru)&&(Ru=null),Bu!==null&&Kx(Bu)&&(Bu=null),ku!==null&&Kx(ku)&&(ku=null),xm.forEach(PP),bm.forEach(PP)}function $p(n,e){n.blockedOn===e&&(n.blockedOn=null,QA||(QA=!0,Ms.unstable_scheduleCallback(Ms.unstable_NormalPriority,$V)))}function wm(n){function e(i){return $p(i,n)}if(0<ny.length){$p(ny[0],n);for(var t=1;t<ny.length;t++){var r=ny[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Ru!==null&&$p(Ru,n),Bu!==null&&$p(Bu,n),ku!==null&&$p(ku,n),xm.forEach(e),bm.forEach(e),t=0;t<xu.length;t++)r=xu[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<xu.length&&(t=xu[0],t.blockedOn===null);)S9(t),t.blockedOn===null&&xu.shift()}var fh=kl.ReactCurrentBatchConfig,N1=!0;function XV(n,e,t,r){var i=xn,s=fh.transition;fh.transition=null;try{xn=1,uM(n,e,t,r)}finally{xn=i,fh.transition=s}}function YV(n,e,t,r){var i=xn,s=fh.transition;fh.transition=null;try{xn=4,uM(n,e,t,r)}finally{xn=i,fh.transition=s}}function uM(n,e,t,r){if(N1){var i=ZA(n,e,t,r);if(i===null)M_(n,e,r,L1,t),TP(n,r);else if(JV(i,n,e,t,r))r.stopPropagation();else if(TP(n,r),e&4&&-1<KV.indexOf(n)){for(;i!==null;){var s=bg(i);if(s!==null&&b9(s),s=ZA(n,e,t,r),s===null&&M_(n,e,r,L1,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else M_(n,e,r,null,t)}}var L1=null;function ZA(n,e,t,r){if(L1=null,n=sM(r),n=Wc(n),n!==null)if(e=zf(n),e===null)n=null;else if(t=e.tag,t===13){if(n=d9(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return L1=n,null}function E9(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FV()){case oM:return 1;case g9:return 4;case B1:case UV:return 16;case v9:return 536870912;default:return 16}default:return 16}}var Au=null,cM=null,Jx=null;function C9(){if(Jx)return Jx;var n,e=cM,t=e.length,r,i="value"in Au?Au.value:Au.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return Jx=i.slice(n,1<r?1-r:void 0)}function $x(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function ry(){return!0}function IP(){return!1}function ks(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ry:IP,this.isPropagationStopped=IP,this}return Yn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=ry)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=ry)},persist:function(){},isPersistent:ry}),e}var op={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fM=ks(op),xg=Yn({},op,{view:0,detail:0}),QV=ks(xg),y_,x_,Xp,Ub=Yn({},xg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dM,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Xp&&(Xp&&n.type==="mousemove"?(y_=n.screenX-Xp.screenX,x_=n.screenY-Xp.screenY):x_=y_=0,Xp=n),y_)},movementY:function(n){return"movementY"in n?n.movementY:x_}}),RP=ks(Ub),ZV=Yn({},Ub,{dataTransfer:0}),eW=ks(ZV),tW=Yn({},xg,{relatedTarget:0}),b_=ks(tW),nW=Yn({},op,{animationName:0,elapsedTime:0,pseudoElement:0}),rW=ks(nW),iW=Yn({},op,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),sW=ks(iW),oW=Yn({},op,{data:0}),BP=ks(oW),aW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cW(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=uW[n])?!!e[n]:!1}function dM(){return cW}var fW=Yn({},xg,{key:function(n){if(n.key){var e=aW[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=$x(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?lW[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dM,charCode:function(n){return n.type==="keypress"?$x(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?$x(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),dW=ks(fW),hW=Yn({},Ub,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kP=ks(hW),pW=Yn({},xg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dM}),mW=ks(pW),gW=Yn({},op,{propertyName:0,elapsedTime:0,pseudoElement:0}),vW=ks(gW),yW=Yn({},Ub,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),xW=ks(yW),bW=[9,13,27,32],hM=vl&&"CompositionEvent"in window,W0=null;vl&&"documentMode"in document&&(W0=document.documentMode);var wW=vl&&"TextEvent"in window&&!W0,M9=vl&&(!hM||W0&&8<W0&&11>=W0),NP=String.fromCharCode(32),LP=!1;function T9(n,e){switch(n){case"keyup":return bW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P9(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ud=!1;function _W(n,e){switch(n){case"compositionend":return P9(e);case"keypress":return e.which!==32?null:(LP=!0,NP);case"textInput":return n=e.data,n===NP&&LP?null:n;default:return null}}function AW(n,e){if(Ud)return n==="compositionend"||!hM&&T9(n,e)?(n=C9(),Jx=cM=Au=null,Ud=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return M9&&e.locale!=="ko"?null:e.data;default:return null}}var SW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function DP(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!SW[n.type]:e==="textarea"}function I9(n,e,t,r){a9(r),e=D1(e,"onChange"),0<e.length&&(t=new fM("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var q0=null,_m=null;function EW(n){G9(n,0)}function zb(n){var e=Hd(n);if(e9(e))return n}function CW(n,e){if(n==="change")return e}var R9=!1;if(vl){var w_;if(vl){var __="oninput"in document;if(!__){var OP=document.createElement("div");OP.setAttribute("oninput","return;"),__=typeof OP.oninput=="function"}w_=__}else w_=!1;R9=w_&&(!document.documentMode||9<document.documentMode)}function FP(){q0&&(q0.detachEvent("onpropertychange",B9),_m=q0=null)}function B9(n){if(n.propertyName==="value"&&zb(_m)){var e=[];I9(e,_m,n,sM(n)),f9(EW,e)}}function MW(n,e,t){n==="focusin"?(FP(),q0=e,_m=t,q0.attachEvent("onpropertychange",B9)):n==="focusout"&&FP()}function TW(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return zb(_m)}function PW(n,e){if(n==="click")return zb(e)}function IW(n,e){if(n==="input"||n==="change")return zb(e)}function RW(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Vo=typeof Object.is=="function"?Object.is:RW;function Am(n,e){if(Vo(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!LA.call(e,i)||!Vo(n[i],e[i]))return!1}return!0}function UP(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function zP(n,e){var t=UP(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=UP(t)}}function k9(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?k9(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function N9(){for(var n=window,e=P1();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=P1(n.document)}return e}function pM(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function BW(n){var e=N9(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&k9(t.ownerDocument.documentElement,t)){if(r!==null&&pM(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=zP(t,s);var o=zP(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var kW=vl&&"documentMode"in document&&11>=document.documentMode,zd=null,eS=null,K0=null,tS=!1;function GP(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;tS||zd==null||zd!==P1(r)||(r=zd,"selectionStart"in r&&pM(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),K0&&Am(K0,r)||(K0=r,r=D1(eS,"onSelect"),0<r.length&&(e=new fM("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=zd)))}function iy(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Gd={animationend:iy("Animation","AnimationEnd"),animationiteration:iy("Animation","AnimationIteration"),animationstart:iy("Animation","AnimationStart"),transitionend:iy("Transition","TransitionEnd")},A_={},L9={};vl&&(L9=document.createElement("div").style,"AnimationEvent"in window||(delete Gd.animationend.animation,delete Gd.animationiteration.animation,delete Gd.animationstart.animation),"TransitionEvent"in window||delete Gd.transitionend.transition);function Gb(n){if(A_[n])return A_[n];if(!Gd[n])return n;var e=Gd[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in L9)return A_[n]=e[t];return n}var D9=Gb("animationend"),O9=Gb("animationiteration"),F9=Gb("animationstart"),U9=Gb("transitionend"),z9=new Map,HP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tc(n,e){z9.set(n,e),Uf(e,[n])}for(var S_=0;S_<HP.length;S_++){var E_=HP[S_],NW=E_.toLowerCase(),LW=E_[0].toUpperCase()+E_.slice(1);tc(NW,"on"+LW)}tc(D9,"onAnimationEnd");tc(O9,"onAnimationIteration");tc(F9,"onAnimationStart");tc("dblclick","onDoubleClick");tc("focusin","onFocus");tc("focusout","onBlur");tc(U9,"onTransitionEnd");Ah("onMouseEnter",["mouseout","mouseover"]);Ah("onMouseLeave",["mouseout","mouseover"]);Ah("onPointerEnter",["pointerout","pointerover"]);Ah("onPointerLeave",["pointerout","pointerover"]);Uf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var N0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DW=new Set("cancel close invalid load scroll toggle".split(" ").concat(N0));function jP(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,NV(r,e,void 0,n),n.currentTarget=null}function G9(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;jP(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;jP(i,a,u),s=l}}}if(R1)throw n=XA,R1=!1,XA=null,n}function kn(n,e){var t=e[oS];t===void 0&&(t=e[oS]=new Set);var r=n+"__bubble";t.has(r)||(H9(e,n,2,!1),t.add(r))}function C_(n,e,t){var r=0;e&&(r|=4),H9(t,n,r,e)}var sy="_reactListening"+Math.random().toString(36).slice(2);function Sm(n){if(!n[sy]){n[sy]=!0,$7.forEach(function(t){t!=="selectionchange"&&(DW.has(t)||C_(t,!1,n),C_(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[sy]||(e[sy]=!0,C_("selectionchange",!1,e))}}function H9(n,e,t,r){switch(E9(e)){case 1:var i=XV;break;case 4:i=YV;break;default:i=uM}t=i.bind(null,e,t,n),i=void 0,!$A||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function M_(n,e,t,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Wc(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}f9(function(){var u=s,c=sM(t),f=[];e:{var d=z9.get(n);if(d!==void 0){var m=fM,y=n;switch(n){case"keypress":if($x(t)===0)break e;case"keydown":case"keyup":m=dW;break;case"focusin":y="focus",m=b_;break;case"focusout":y="blur",m=b_;break;case"beforeblur":case"afterblur":m=b_;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=RP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=eW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=mW;break;case D9:case O9:case F9:m=rW;break;case U9:m=vW;break;case"scroll":m=QV;break;case"wheel":m=xW;break;case"copy":case"cut":case"paste":m=sW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=kP}var g=(e&4)!==0,v=!g&&n==="scroll",x=g?d!==null?d+"Capture":null:d;g=[];for(var w=u,b;w!==null;){b=w;var A=b.stateNode;if(b.tag===5&&A!==null&&(b=A,x!==null&&(A=ym(w,x),A!=null&&g.push(Em(w,A,b)))),v)break;w=w.return}0<g.length&&(d=new m(d,y,null,t,c),f.push({event:d,listeners:g}))}}if((e&7)===0){e:{if(d=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",d&&t!==KA&&(y=t.relatedTarget||t.fromElement)&&(Wc(y)||y[yl]))break e;if((m||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,m?(y=t.relatedTarget||t.toElement,m=u,y=y?Wc(y):null,y!==null&&(v=zf(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(g=RP,A="onMouseLeave",x="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(g=kP,A="onPointerLeave",x="onPointerEnter",w="pointer"),v=m==null?d:Hd(m),b=y==null?d:Hd(y),d=new g(A,w+"leave",m,t,c),d.target=v,d.relatedTarget=b,A=null,Wc(c)===u&&(g=new g(x,w+"enter",y,t,c),g.target=b,g.relatedTarget=v,A=g),v=A,m&&y)t:{for(g=m,x=y,w=0,b=g;b;b=ad(b))w++;for(b=0,A=x;A;A=ad(A))b++;for(;0<w-b;)g=ad(g),w--;for(;0<b-w;)x=ad(x),b--;for(;w--;){if(g===x||x!==null&&g===x.alternate)break t;g=ad(g),x=ad(x)}g=null}else g=null;m!==null&&VP(f,d,m,g,!1),y!==null&&v!==null&&VP(f,v,y,g,!0)}}e:{if(d=u?Hd(u):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var M=CW;else if(DP(d))if(R9)M=IW;else{M=TW;var I=MW}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(M=PW);if(M&&(M=M(n,u))){I9(f,M,t,c);break e}I&&I(n,d,u),n==="focusout"&&(I=d._wrapperState)&&I.controlled&&d.type==="number"&&HA(d,"number",d.value)}switch(I=u?Hd(u):window,n){case"focusin":(DP(I)||I.contentEditable==="true")&&(zd=I,eS=u,K0=null);break;case"focusout":K0=eS=zd=null;break;case"mousedown":tS=!0;break;case"contextmenu":case"mouseup":case"dragend":tS=!1,GP(f,t,c);break;case"selectionchange":if(kW)break;case"keydown":case"keyup":GP(f,t,c)}var D;if(hM)e:{switch(n){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ud?T9(n,t)&&(P="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(P="onCompositionStart");P&&(M9&&t.locale!=="ko"&&(Ud||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ud&&(D=C9()):(Au=c,cM="value"in Au?Au.value:Au.textContent,Ud=!0)),I=D1(u,P),0<I.length&&(P=new BP(P,n,null,t,c),f.push({event:P,listeners:I}),D?P.data=D:(D=P9(t),D!==null&&(P.data=D)))),(D=wW?_W(n,t):AW(n,t))&&(u=D1(u,"onBeforeInput"),0<u.length&&(c=new BP("onBeforeInput","beforeinput",null,t,c),f.push({event:c,listeners:u}),c.data=D))}G9(f,e)})}function Em(n,e,t){return{instance:n,listener:e,currentTarget:t}}function D1(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ym(n,t),s!=null&&r.unshift(Em(n,s,i)),s=ym(n,e),s!=null&&r.push(Em(n,s,i))),n=n.return}return r}function ad(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function VP(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ym(t,s),l!=null&&o.unshift(Em(t,l,a))):i||(l=ym(t,s),l!=null&&o.push(Em(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var OW=/\r\n?/g,FW=/\u0000|\uFFFD/g;function WP(n){return(typeof n=="string"?n:""+n).replace(OW,`
`).replace(FW,"")}function oy(n,e,t){if(e=WP(e),WP(n)!==e&&t)throw Error(Ke(425))}function O1(){}var nS=null,rS=null;function iS(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sS=typeof setTimeout=="function"?setTimeout:void 0,UW=typeof clearTimeout=="function"?clearTimeout:void 0,qP=typeof Promise=="function"?Promise:void 0,zW=typeof queueMicrotask=="function"?queueMicrotask:typeof qP<"u"?function(n){return qP.resolve(null).then(n).catch(GW)}:sS;function GW(n){setTimeout(function(){throw n})}function T_(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),wm(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);wm(e)}function Nu(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function KP(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var ap=Math.random().toString(36).slice(2),da="__reactFiber$"+ap,Cm="__reactProps$"+ap,yl="__reactContainer$"+ap,oS="__reactEvents$"+ap,HW="__reactListeners$"+ap,jW="__reactHandles$"+ap;function Wc(n){var e=n[da];if(e)return e;for(var t=n.parentNode;t;){if(e=t[yl]||t[da]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=KP(n);n!==null;){if(t=n[da])return t;n=KP(n)}return e}n=t,t=n.parentNode}return null}function bg(n){return n=n[da]||n[yl],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Hd(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ke(33))}function Hb(n){return n[Cm]||null}var aS=[],jd=-1;function nc(n){return{current:n}}function On(n){0>jd||(n.current=aS[jd],aS[jd]=null,jd--)}function Rn(n,e){jd++,aS[jd]=n.current,n.current=e}var Hu={},Ci=nc(Hu),rs=nc(!1),_f=Hu;function Sh(n,e){var t=n.type.contextTypes;if(!t)return Hu;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function is(n){return n=n.childContextTypes,n!=null}function F1(){On(rs),On(Ci)}function JP(n,e,t){if(Ci.current!==Hu)throw Error(Ke(168));Rn(Ci,e),Rn(rs,t)}function j9(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ke(108,MV(n)||"Unknown",i));return Yn({},t,r)}function U1(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Hu,_f=Ci.current,Rn(Ci,n),Rn(rs,rs.current),!0}function $P(n,e,t){var r=n.stateNode;if(!r)throw Error(Ke(169));t?(n=j9(n,e,_f),r.__reactInternalMemoizedMergedChildContext=n,On(rs),On(Ci),Rn(Ci,n)):On(rs),Rn(rs,t)}var rl=null,jb=!1,P_=!1;function V9(n){rl===null?rl=[n]:rl.push(n)}function VW(n){jb=!0,V9(n)}function rc(){if(!P_&&rl!==null){P_=!0;var n=0,e=xn;try{var t=rl;for(xn=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}rl=null,jb=!1}catch(i){throw rl!==null&&(rl=rl.slice(n+1)),m9(oM,rc),i}finally{xn=e,P_=!1}}return null}var Vd=[],Wd=0,z1=null,G1=0,to=[],no=0,Af=null,ll=1,ul="";function kc(n,e){Vd[Wd++]=G1,Vd[Wd++]=z1,z1=n,G1=e}function W9(n,e,t){to[no++]=ll,to[no++]=ul,to[no++]=Af,Af=n;var r=ll;n=ul;var i=32-Go(r)-1;r&=~(1<<i),t+=1;var s=32-Go(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ll=1<<32-Go(e)+i|t<<i|r,ul=s+n}else ll=1<<s|t<<i|r,ul=n}function mM(n){n.return!==null&&(kc(n,1),W9(n,1,0))}function gM(n){for(;n===z1;)z1=Vd[--Wd],Vd[Wd]=null,G1=Vd[--Wd],Vd[Wd]=null;for(;n===Af;)Af=to[--no],to[no]=null,ul=to[--no],to[no]=null,ll=to[--no],to[no]=null}var Ss=null,ws=null,zn=!1,Io=null;function q9(n,e){var t=io(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function XP(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Ss=n,ws=Nu(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Ss=n,ws=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Af!==null?{id:ll,overflow:ul}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=io(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Ss=n,ws=null,!0):!1;default:return!1}}function lS(n){return(n.mode&1)!==0&&(n.flags&128)===0}function uS(n){if(zn){var e=ws;if(e){var t=e;if(!XP(n,e)){if(lS(n))throw Error(Ke(418));e=Nu(t.nextSibling);var r=Ss;e&&XP(n,e)?q9(r,t):(n.flags=n.flags&-4097|2,zn=!1,Ss=n)}}else{if(lS(n))throw Error(Ke(418));n.flags=n.flags&-4097|2,zn=!1,Ss=n}}}function YP(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ss=n}function ay(n){if(n!==Ss)return!1;if(!zn)return YP(n),zn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!iS(n.type,n.memoizedProps)),e&&(e=ws)){if(lS(n))throw K9(),Error(Ke(418));for(;e;)q9(n,e),e=Nu(e.nextSibling)}if(YP(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ke(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ws=Nu(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ws=null}}else ws=Ss?Nu(n.stateNode.nextSibling):null;return!0}function K9(){for(var n=ws;n;)n=Nu(n.nextSibling)}function Eh(){ws=Ss=null,zn=!1}function vM(n){Io===null?Io=[n]:Io.push(n)}var WW=kl.ReactCurrentBatchConfig;function To(n,e){if(n&&n.defaultProps){e=Yn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var H1=nc(null),j1=null,qd=null,yM=null;function xM(){yM=qd=j1=null}function bM(n){var e=H1.current;On(H1),n._currentValue=e}function cS(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function dh(n,e){j1=n,yM=qd=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&e)!==0&&(es=!0),n.firstContext=null)}function uo(n){var e=n._currentValue;if(yM!==n)if(n={context:n,memoizedValue:e,next:null},qd===null){if(j1===null)throw Error(Ke(308));qd=n,j1.dependencies={lanes:0,firstContext:n}}else qd=qd.next=n;return e}var qc=null;function wM(n){qc===null?qc=[n]:qc.push(n)}function J9(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,wM(e)):(t.next=i.next,i.next=t),e.interleaved=t,xl(n,r)}function xl(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var pu=!1;function _M(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $9(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function hl(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Lu(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,(ln&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xl(n,t)}return i=r.interleaved,i===null?(e.next=e,wM(r)):(e.next=i.next,i.next=e),r.interleaved=e,xl(n,t)}function Xx(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,aM(n,t)}}function QP(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function V1(n,e,t,r){var i=n.updateQueue;pu=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=n.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,m=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,g=a;switch(d=e,m=t,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(m,f,d);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,d=typeof y=="function"?y.call(m,f,d):y,d==null)break e;f=Yn({},f,d);break e;case 2:pu=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ef|=o,n.lanes=o,n.memoizedState=f}}function ZP(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Ke(191,i));i.call(r)}}}var X9=new J7.Component().refs;function fS(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Yn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Vb={isMounted:function(n){return(n=n._reactInternals)?zf(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Fi(),i=Ou(n),s=hl(r,i);s.payload=e,t!=null&&(s.callback=t),e=Lu(n,s,i),e!==null&&(Ho(e,n,i,r),Xx(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Fi(),i=Ou(n),s=hl(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Lu(n,s,i),e!==null&&(Ho(e,n,i,r),Xx(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Fi(),r=Ou(n),i=hl(t,r);i.tag=2,e!=null&&(i.callback=e),e=Lu(n,i,r),e!==null&&(Ho(e,n,r,t),Xx(e,n,r))}};function e8(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Am(t,r)||!Am(i,s):!0}function Y9(n,e,t){var r=!1,i=Hu,s=e.contextType;return typeof s=="object"&&s!==null?s=uo(s):(i=is(e)?_f:Ci.current,r=e.contextTypes,s=(r=r!=null)?Sh(n,i):Hu),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vb,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function t8(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Vb.enqueueReplaceState(e,e.state,null)}function dS(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=X9,_M(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=uo(s):(s=is(e)?_f:Ci.current,i.context=Sh(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(fS(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vb.enqueueReplaceState(i,i.state,null),V1(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Yp(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ke(309));var r=t.stateNode}if(!r)throw Error(Ke(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===X9&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ke(284));if(!t._owner)throw Error(Ke(290,n))}return n}function ly(n,e){throw n=Object.prototype.toString.call(e),Error(Ke(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function n8(n){var e=n._init;return e(n._payload)}function Q9(n){function e(x,w){if(n){var b=x.deletions;b===null?(x.deletions=[w],x.flags|=16):b.push(w)}}function t(x,w){if(!n)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Fu(x,w),x.index=0,x.sibling=null,x}function s(x,w,b){return x.index=b,n?(b=x.alternate,b!==null?(b=b.index,b<w?(x.flags|=2,w):b):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return n&&x.alternate===null&&(x.flags|=2),x}function a(x,w,b,A){return w===null||w.tag!==6?(w=D_(b,x.mode,A),w.return=x,w):(w=i(w,b),w.return=x,w)}function l(x,w,b,A){var M=b.type;return M===Fd?c(x,w,b.props.children,A,b.key):w!==null&&(w.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===hu&&n8(M)===w.type)?(A=i(w,b.props),A.ref=Yp(x,w,b),A.return=x,A):(A=n1(b.type,b.key,b.props,null,x.mode,A),A.ref=Yp(x,w,b),A.return=x,A)}function u(x,w,b,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=O_(b,x.mode,A),w.return=x,w):(w=i(w,b.children||[]),w.return=x,w)}function c(x,w,b,A,M){return w===null||w.tag!==7?(w=af(b,x.mode,A,M),w.return=x,w):(w=i(w,b),w.return=x,w)}function f(x,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=D_(""+w,x.mode,b),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Yv:return b=n1(w.type,w.key,w.props,null,x.mode,b),b.ref=Yp(x,null,w),b.return=x,b;case Od:return w=O_(w,x.mode,b),w.return=x,w;case hu:var A=w._init;return f(x,A(w._payload),b)}if(B0(w)||qp(w))return w=af(w,x.mode,b,null),w.return=x,w;ly(x,w)}return null}function d(x,w,b,A){var M=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return M!==null?null:a(x,w,""+b,A);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Yv:return b.key===M?l(x,w,b,A):null;case Od:return b.key===M?u(x,w,b,A):null;case hu:return M=b._init,d(x,w,M(b._payload),A)}if(B0(b)||qp(b))return M!==null?null:c(x,w,b,A,null);ly(x,b)}return null}function m(x,w,b,A,M){if(typeof A=="string"&&A!==""||typeof A=="number")return x=x.get(b)||null,a(w,x,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Yv:return x=x.get(A.key===null?b:A.key)||null,l(w,x,A,M);case Od:return x=x.get(A.key===null?b:A.key)||null,u(w,x,A,M);case hu:var I=A._init;return m(x,w,b,I(A._payload),M)}if(B0(A)||qp(A))return x=x.get(b)||null,c(w,x,A,M,null);ly(w,A)}return null}function y(x,w,b,A){for(var M=null,I=null,D=w,P=w=0,O=null;D!==null&&P<b.length;P++){D.index>P?(O=D,D=null):O=D.sibling;var V=d(x,D,b[P],A);if(V===null){D===null&&(D=O);break}n&&D&&V.alternate===null&&e(x,D),w=s(V,w,P),I===null?M=V:I.sibling=V,I=V,D=O}if(P===b.length)return t(x,D),zn&&kc(x,P),M;if(D===null){for(;P<b.length;P++)D=f(x,b[P],A),D!==null&&(w=s(D,w,P),I===null?M=D:I.sibling=D,I=D);return zn&&kc(x,P),M}for(D=r(x,D);P<b.length;P++)O=m(D,x,P,b[P],A),O!==null&&(n&&O.alternate!==null&&D.delete(O.key===null?P:O.key),w=s(O,w,P),I===null?M=O:I.sibling=O,I=O);return n&&D.forEach(function(q){return e(x,q)}),zn&&kc(x,P),M}function g(x,w,b,A){var M=qp(b);if(typeof M!="function")throw Error(Ke(150));if(b=M.call(b),b==null)throw Error(Ke(151));for(var I=M=null,D=w,P=w=0,O=null,V=b.next();D!==null&&!V.done;P++,V=b.next()){D.index>P?(O=D,D=null):O=D.sibling;var q=d(x,D,V.value,A);if(q===null){D===null&&(D=O);break}n&&D&&q.alternate===null&&e(x,D),w=s(q,w,P),I===null?M=q:I.sibling=q,I=q,D=O}if(V.done)return t(x,D),zn&&kc(x,P),M;if(D===null){for(;!V.done;P++,V=b.next())V=f(x,V.value,A),V!==null&&(w=s(V,w,P),I===null?M=V:I.sibling=V,I=V);return zn&&kc(x,P),M}for(D=r(x,D);!V.done;P++,V=b.next())V=m(D,x,P,V.value,A),V!==null&&(n&&V.alternate!==null&&D.delete(V.key===null?P:V.key),w=s(V,w,P),I===null?M=V:I.sibling=V,I=V);return n&&D.forEach(function(ne){return e(x,ne)}),zn&&kc(x,P),M}function v(x,w,b,A){if(typeof b=="object"&&b!==null&&b.type===Fd&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Yv:e:{for(var M=b.key,I=w;I!==null;){if(I.key===M){if(M=b.type,M===Fd){if(I.tag===7){t(x,I.sibling),w=i(I,b.props.children),w.return=x,x=w;break e}}else if(I.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===hu&&n8(M)===I.type){t(x,I.sibling),w=i(I,b.props),w.ref=Yp(x,I,b),w.return=x,x=w;break e}t(x,I);break}else e(x,I);I=I.sibling}b.type===Fd?(w=af(b.props.children,x.mode,A,b.key),w.return=x,x=w):(A=n1(b.type,b.key,b.props,null,x.mode,A),A.ref=Yp(x,w,b),A.return=x,x=A)}return o(x);case Od:e:{for(I=b.key;w!==null;){if(w.key===I)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){t(x,w.sibling),w=i(w,b.children||[]),w.return=x,x=w;break e}else{t(x,w);break}else e(x,w);w=w.sibling}w=O_(b,x.mode,A),w.return=x,x=w}return o(x);case hu:return I=b._init,v(x,w,I(b._payload),A)}if(B0(b))return y(x,w,b,A);if(qp(b))return g(x,w,b,A);ly(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(t(x,w.sibling),w=i(w,b),w.return=x,x=w):(t(x,w),w=D_(b,x.mode,A),w.return=x,x=w),o(x)):t(x,w)}return v}var Ch=Q9(!0),Z9=Q9(!1),wg={},xa=nc(wg),Mm=nc(wg),Tm=nc(wg);function Kc(n){if(n===wg)throw Error(Ke(174));return n}function AM(n,e){switch(Rn(Tm,e),Rn(Mm,n),Rn(xa,wg),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:VA(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=VA(e,n)}On(xa),Rn(xa,e)}function Mh(){On(xa),On(Mm),On(Tm)}function eN(n){Kc(Tm.current);var e=Kc(xa.current),t=VA(e,n.type);e!==t&&(Rn(Mm,n),Rn(xa,t))}function SM(n){Mm.current===n&&(On(xa),On(Mm))}var Jn=nc(0);function W1(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var I_=[];function EM(){for(var n=0;n<I_.length;n++)I_[n]._workInProgressVersionPrimary=null;I_.length=0}var Yx=kl.ReactCurrentDispatcher,R_=kl.ReactCurrentBatchConfig,Sf=0,Xn=null,Ir=null,Wr=null,q1=!1,J0=!1,Pm=0,qW=0;function yi(){throw Error(Ke(321))}function CM(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Vo(n[t],e[t]))return!1;return!0}function MM(n,e,t,r,i,s){if(Sf=s,Xn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yx.current=n===null||n.memoizedState===null?XW:YW,n=t(r,i),J0){s=0;do{if(J0=!1,Pm=0,25<=s)throw Error(Ke(301));s+=1,Wr=Ir=null,e.updateQueue=null,Yx.current=QW,n=t(r,i)}while(J0)}if(Yx.current=K1,e=Ir!==null&&Ir.next!==null,Sf=0,Wr=Ir=Xn=null,q1=!1,e)throw Error(Ke(300));return n}function TM(){var n=Pm!==0;return Pm=0,n}function oa(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wr===null?Xn.memoizedState=Wr=n:Wr=Wr.next=n,Wr}function co(){if(Ir===null){var n=Xn.alternate;n=n!==null?n.memoizedState:null}else n=Ir.next;var e=Wr===null?Xn.memoizedState:Wr.next;if(e!==null)Wr=e,Ir=n;else{if(n===null)throw Error(Ke(310));Ir=n,n={memoizedState:Ir.memoizedState,baseState:Ir.baseState,baseQueue:Ir.baseQueue,queue:Ir.queue,next:null},Wr===null?Xn.memoizedState=Wr=n:Wr=Wr.next=n}return Wr}function Im(n,e){return typeof e=="function"?e(n):e}function B_(n){var e=co(),t=e.queue;if(t===null)throw Error(Ke(311));t.lastRenderedReducer=n;var r=Ir,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Sf&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Xn.lanes|=c,Ef|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Vo(r,e.memoizedState)||(es=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Xn.lanes|=s,Ef|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function k_(n){var e=co(),t=e.queue;if(t===null)throw Error(Ke(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Vo(s,e.memoizedState)||(es=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function tN(){}function nN(n,e){var t=Xn,r=co(),i=e(),s=!Vo(r.memoizedState,i);if(s&&(r.memoizedState=i,es=!0),r=r.queue,PM(sN.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Wr!==null&&Wr.memoizedState.tag&1){if(t.flags|=2048,Rm(9,iN.bind(null,t,r,i,e),void 0,null),qr===null)throw Error(Ke(349));(Sf&30)!==0||rN(t,e,i)}return i}function rN(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Xn.updateQueue,e===null?(e={lastEffect:null,stores:null},Xn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function iN(n,e,t,r){e.value=t,e.getSnapshot=r,oN(e)&&aN(n)}function sN(n,e,t){return t(function(){oN(e)&&aN(n)})}function oN(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Vo(n,t)}catch{return!0}}function aN(n){var e=xl(n,1);e!==null&&Ho(e,n,1,-1)}function r8(n){var e=oa();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Im,lastRenderedState:n},e.queue=n,n=n.dispatch=$W.bind(null,Xn,n),[e.memoizedState,n]}function Rm(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Xn.updateQueue,e===null?(e={lastEffect:null,stores:null},Xn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function lN(){return co().memoizedState}function Qx(n,e,t,r){var i=oa();Xn.flags|=n,i.memoizedState=Rm(1|e,t,void 0,r===void 0?null:r)}function Wb(n,e,t,r){var i=co();r=r===void 0?null:r;var s=void 0;if(Ir!==null){var o=Ir.memoizedState;if(s=o.destroy,r!==null&&CM(r,o.deps)){i.memoizedState=Rm(e,t,s,r);return}}Xn.flags|=n,i.memoizedState=Rm(1|e,t,s,r)}function i8(n,e){return Qx(8390656,8,n,e)}function PM(n,e){return Wb(2048,8,n,e)}function uN(n,e){return Wb(4,2,n,e)}function cN(n,e){return Wb(4,4,n,e)}function fN(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function dN(n,e,t){return t=t!=null?t.concat([n]):null,Wb(4,4,fN.bind(null,e,n),t)}function IM(){}function hN(n,e){var t=co();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&CM(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function pN(n,e){var t=co();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&CM(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function mN(n,e,t){return(Sf&21)===0?(n.baseState&&(n.baseState=!1,es=!0),n.memoizedState=t):(Vo(t,e)||(t=y9(),Xn.lanes|=t,Ef|=t,n.baseState=!0),e)}function KW(n,e){var t=xn;xn=t!==0&&4>t?t:4,n(!0);var r=R_.transition;R_.transition={};try{n(!1),e()}finally{xn=t,R_.transition=r}}function gN(){return co().memoizedState}function JW(n,e,t){var r=Ou(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},vN(n))yN(e,t);else if(t=J9(n,e,t,r),t!==null){var i=Fi();Ho(t,n,r,i),xN(t,e,r)}}function $W(n,e,t){var r=Ou(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(vN(n))yN(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Vo(a,o)){var l=e.interleaved;l===null?(i.next=i,wM(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=J9(n,e,i,r),t!==null&&(i=Fi(),Ho(t,n,r,i),xN(t,e,r))}}function vN(n){var e=n.alternate;return n===Xn||e!==null&&e===Xn}function yN(n,e){J0=q1=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function xN(n,e,t){if((t&4194240)!==0){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,aM(n,t)}}var K1={readContext:uo,useCallback:yi,useContext:yi,useEffect:yi,useImperativeHandle:yi,useInsertionEffect:yi,useLayoutEffect:yi,useMemo:yi,useReducer:yi,useRef:yi,useState:yi,useDebugValue:yi,useDeferredValue:yi,useTransition:yi,useMutableSource:yi,useSyncExternalStore:yi,useId:yi,unstable_isNewReconciler:!1},XW={readContext:uo,useCallback:function(n,e){return oa().memoizedState=[n,e===void 0?null:e],n},useContext:uo,useEffect:i8,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Qx(4194308,4,fN.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Qx(4194308,4,n,e)},useInsertionEffect:function(n,e){return Qx(4,2,n,e)},useMemo:function(n,e){var t=oa();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=oa();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=JW.bind(null,Xn,n),[r.memoizedState,n]},useRef:function(n){var e=oa();return n={current:n},e.memoizedState=n},useState:r8,useDebugValue:IM,useDeferredValue:function(n){return oa().memoizedState=n},useTransition:function(){var n=r8(!1),e=n[0];return n=KW.bind(null,n[1]),oa().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Xn,i=oa();if(zn){if(t===void 0)throw Error(Ke(407));t=t()}else{if(t=e(),qr===null)throw Error(Ke(349));(Sf&30)!==0||rN(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,i8(sN.bind(null,r,s,n),[n]),r.flags|=2048,Rm(9,iN.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=oa(),e=qr.identifierPrefix;if(zn){var t=ul,r=ll;t=(r&~(1<<32-Go(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Pm++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=qW++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},YW={readContext:uo,useCallback:hN,useContext:uo,useEffect:PM,useImperativeHandle:dN,useInsertionEffect:uN,useLayoutEffect:cN,useMemo:pN,useReducer:B_,useRef:lN,useState:function(){return B_(Im)},useDebugValue:IM,useDeferredValue:function(n){var e=co();return mN(e,Ir.memoizedState,n)},useTransition:function(){var n=B_(Im)[0],e=co().memoizedState;return[n,e]},useMutableSource:tN,useSyncExternalStore:nN,useId:gN,unstable_isNewReconciler:!1},QW={readContext:uo,useCallback:hN,useContext:uo,useEffect:PM,useImperativeHandle:dN,useInsertionEffect:uN,useLayoutEffect:cN,useMemo:pN,useReducer:k_,useRef:lN,useState:function(){return k_(Im)},useDebugValue:IM,useDeferredValue:function(n){var e=co();return Ir===null?e.memoizedState=n:mN(e,Ir.memoizedState,n)},useTransition:function(){var n=k_(Im)[0],e=co().memoizedState;return[n,e]},useMutableSource:tN,useSyncExternalStore:nN,useId:gN,unstable_isNewReconciler:!1};function Th(n,e){try{var t="",r=e;do t+=CV(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function N_(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function hS(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var ZW=typeof WeakMap=="function"?WeakMap:Map;function bN(n,e,t){t=hl(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){$1||($1=!0,AS=r),hS(n,e)},t}function wN(n,e,t){t=hl(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){hS(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){hS(n,e),typeof r!="function"&&(Du===null?Du=new Set([this]):Du.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function s8(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new ZW;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=hq.bind(null,n,e,t),e.then(n,n))}function o8(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function a8(n,e,t,r,i){return(n.mode&1)===0?(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=hl(-1,1),e.tag=2,Lu(t,e,1))),t.lanes|=1),n):(n.flags|=65536,n.lanes=i,n)}var eq=kl.ReactCurrentOwner,es=!1;function ki(n,e,t,r){e.child=n===null?Z9(e,null,t,r):Ch(e,n.child,t,r)}function l8(n,e,t,r,i){t=t.render;var s=e.ref;return dh(e,i),r=MM(n,e,t,r,s,i),t=TM(),n!==null&&!es?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,bl(n,e,i)):(zn&&t&&mM(e),e.flags|=1,ki(n,e,r,i),e.child)}function u8(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!FM(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,_N(n,e,s,r,i)):(n=n1(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,(n.lanes&i)===0){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Am,t(o,r)&&n.ref===e.ref)return bl(n,e,i)}return e.flags|=1,n=Fu(s,r),n.ref=e.ref,n.return=e,e.child=n}function _N(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Am(s,r)&&n.ref===e.ref)if(es=!1,e.pendingProps=r=s,(n.lanes&i)!==0)(n.flags&131072)!==0&&(es=!0);else return e.lanes=n.lanes,bl(n,e,i)}return pS(n,e,t,r,i)}function AN(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rn(Jd,vs),vs|=t;else{if((t&1073741824)===0)return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Rn(Jd,vs),vs|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Rn(Jd,vs),vs|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Rn(Jd,vs),vs|=r;return ki(n,e,i,t),e.child}function SN(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function pS(n,e,t,r,i){var s=is(t)?_f:Ci.current;return s=Sh(e,s),dh(e,i),t=MM(n,e,t,r,s,i),r=TM(),n!==null&&!es?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,bl(n,e,i)):(zn&&r&&mM(e),e.flags|=1,ki(n,e,t,i),e.child)}function c8(n,e,t,r,i){if(is(t)){var s=!0;U1(e)}else s=!1;if(dh(e,i),e.stateNode===null)Zx(n,e),Y9(e,t,r),dS(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=uo(u):(u=is(t)?_f:Ci.current,u=Sh(e,u));var c=t.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&t8(e,o,r,u),pu=!1;var d=e.memoizedState;o.state=d,V1(e,r,o,i),l=e.memoizedState,a!==r||d!==l||rs.current||pu?(typeof c=="function"&&(fS(e,t,c,r),l=e.memoizedState),(a=pu||e8(e,t,a,r,d,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,$9(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:To(e.type,a),o.props=u,f=e.pendingProps,d=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=uo(l):(l=is(t)?_f:Ci.current,l=Sh(e,l));var m=t.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&t8(e,o,r,l),pu=!1,d=e.memoizedState,o.state=d,V1(e,r,o,i);var y=e.memoizedState;a!==f||d!==y||rs.current||pu?(typeof m=="function"&&(fS(e,t,m,r),y=e.memoizedState),(u=pu||e8(e,t,u,r,d,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),r=!1)}return mS(n,e,t,r,s,i)}function mS(n,e,t,r,i,s){SN(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&$P(e,t,!1),bl(n,e,s);r=e.stateNode,eq.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Ch(e,n.child,null,s),e.child=Ch(e,null,a,s)):ki(n,e,a,s),e.memoizedState=r.state,i&&$P(e,t,!0),e.child}function EN(n){var e=n.stateNode;e.pendingContext?JP(n,e.pendingContext,e.pendingContext!==e.context):e.context&&JP(n,e.context,!1),AM(n,e.containerInfo)}function f8(n,e,t,r,i){return Eh(),vM(i),e.flags|=256,ki(n,e,t,r),e.child}var gS={dehydrated:null,treeContext:null,retryLane:0};function vS(n){return{baseLanes:n,cachePool:null,transitions:null}}function CN(n,e,t){var r=e.pendingProps,i=Jn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Rn(Jn,i&1),n===null)return uS(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((e.mode&1)===0?e.lanes=1:n.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Jb(o,r,0,null),n=af(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=vS(t),e.memoizedState=gS,n):RM(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return tq(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return(o&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Fu(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Fu(a,s):(s=af(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?vS(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=gS,r}return s=n.child,n=s.sibling,r=Fu(s,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function RM(n,e){return e=Jb({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function uy(n,e,t,r){return r!==null&&vM(r),Ch(e,n.child,null,t),n=RM(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function tq(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=N_(Error(Ke(422))),uy(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Jb({mode:"visible",children:r.children},i,0,null),s=af(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,(e.mode&1)!==0&&Ch(e,n.child,null,o),e.child.memoizedState=vS(o),e.memoizedState=gS,s);if((e.mode&1)===0)return uy(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ke(419)),r=N_(s,r,void 0),uy(n,e,o,r)}if(a=(o&n.childLanes)!==0,es||a){if(r=qr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|o))!==0?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,xl(n,i),Ho(r,n,i,-1))}return OM(),r=N_(Error(Ke(421))),uy(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=pq.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,ws=Nu(i.nextSibling),Ss=e,zn=!0,Io=null,n!==null&&(to[no++]=ll,to[no++]=ul,to[no++]=Af,ll=n.id,ul=n.overflow,Af=e),e=RM(e,r.children),e.flags|=4096,e)}function d8(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),cS(n.return,e,t)}function L_(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function MN(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ki(n,e,r.children,t),r=Jn.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&d8(n,t,e);else if(n.tag===19)d8(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Rn(Jn,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&W1(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),L_(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&W1(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}L_(e,!0,t,null,s);break;case"together":L_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zx(n,e){(e.mode&1)===0&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function bl(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Ef|=e.lanes,(t&e.childLanes)===0)return null;if(n!==null&&e.child!==n.child)throw Error(Ke(153));if(e.child!==null){for(n=e.child,t=Fu(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Fu(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function nq(n,e,t){switch(e.tag){case 3:EN(e),Eh();break;case 5:eN(e);break;case 1:is(e.type)&&U1(e);break;case 4:AM(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Rn(H1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Rn(Jn,Jn.current&1),e.flags|=128,null):(t&e.child.childLanes)!==0?CN(n,e,t):(Rn(Jn,Jn.current&1),n=bl(n,e,t),n!==null?n.sibling:null);Rn(Jn,Jn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,(n.flags&128)!==0){if(r)return MN(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Rn(Jn,Jn.current),r)break;return null;case 22:case 23:return e.lanes=0,AN(n,e,t)}return bl(n,e,t)}var TN,yS,PN,IN;TN=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};yS=function(){};PN=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Kc(xa.current);var s=null;switch(t){case"input":i=zA(n,i),r=zA(n,r),s=[];break;case"select":i=Yn({},i,{value:void 0}),r=Yn({},r,{value:void 0}),s=[];break;case"textarea":i=jA(n,i),r=jA(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=O1)}WA(t,r);var o;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(gm.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i?.[u],r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(gm.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&kn("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};IN=function(n,e,t,r){t!==r&&(e.flags|=4)};function Qp(n,e){if(!zn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function xi(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function rq(n,e,t){var r=e.pendingProps;switch(gM(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xi(e),null;case 1:return is(e.type)&&F1(),xi(e),null;case 3:return r=e.stateNode,Mh(),On(rs),On(Ci),EM(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(ay(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Io!==null&&(CS(Io),Io=null))),yS(n,e),xi(e),null;case 5:SM(e);var i=Kc(Tm.current);if(t=e.type,n!==null&&e.stateNode!=null)PN(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ke(166));return xi(e),null}if(n=Kc(xa.current),ay(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[da]=e,r[Cm]=s,n=(e.mode&1)!==0,t){case"dialog":kn("cancel",r),kn("close",r);break;case"iframe":case"object":case"embed":kn("load",r);break;case"video":case"audio":for(i=0;i<N0.length;i++)kn(N0[i],r);break;case"source":kn("error",r);break;case"img":case"image":case"link":kn("error",r),kn("load",r);break;case"details":kn("toggle",r);break;case"input":wP(r,s),kn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},kn("invalid",r);break;case"textarea":AP(r,s),kn("invalid",r)}WA(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&oy(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&oy(r.textContent,a,n),i=["children",""+a]):gm.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&kn("scroll",r)}switch(t){case"input":Qv(r),_P(r,s,!0);break;case"textarea":Qv(r),SP(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=O1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=r9(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[da]=e,n[Cm]=r,TN(n,e,!1,!1),e.stateNode=n;e:{switch(o=qA(t,r),t){case"dialog":kn("cancel",n),kn("close",n),i=r;break;case"iframe":case"object":case"embed":kn("load",n),i=r;break;case"video":case"audio":for(i=0;i<N0.length;i++)kn(N0[i],n);i=r;break;case"source":kn("error",n),i=r;break;case"img":case"image":case"link":kn("error",n),kn("load",n),i=r;break;case"details":kn("toggle",n),i=r;break;case"input":wP(n,r),i=zA(n,r),kn("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Yn({},r,{value:void 0}),kn("invalid",n);break;case"textarea":AP(n,r),i=jA(n,r),kn("invalid",n);break;default:i=r}WA(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?o9(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&i9(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&vm(n,l):typeof l=="number"&&vm(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(gm.hasOwnProperty(s)?l!=null&&s==="onScroll"&&kn("scroll",n):l!=null&&tM(n,s,l,o))}switch(t){case"input":Qv(n),_P(n,r,!1);break;case"textarea":Qv(n),SP(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Gu(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?lh(n,!!r.multiple,s,!1):r.defaultValue!=null&&lh(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=O1)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xi(e),null;case 6:if(n&&e.stateNode!=null)IN(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ke(166));if(t=Kc(Tm.current),Kc(xa.current),ay(e)){if(r=e.stateNode,t=e.memoizedProps,r[da]=e,(s=r.nodeValue!==t)&&(n=Ss,n!==null))switch(n.tag){case 3:oy(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&oy(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[da]=e,e.stateNode=r}return xi(e),null;case 13:if(On(Jn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(zn&&ws!==null&&(e.mode&1)!==0&&(e.flags&128)===0)K9(),Eh(),e.flags|=98560,s=!1;else if(s=ay(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Ke(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ke(317));s[da]=e}else Eh(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;xi(e),s=!1}else Io!==null&&(CS(Io),Io=null),s=!0;if(!s)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(n===null||(Jn.current&1)!==0?Br===0&&(Br=3):OM())),e.updateQueue!==null&&(e.flags|=4),xi(e),null);case 4:return Mh(),yS(n,e),n===null&&Sm(e.stateNode.containerInfo),xi(e),null;case 10:return bM(e.type._context),xi(e),null;case 17:return is(e.type)&&F1(),xi(e),null;case 19:if(On(Jn),s=e.memoizedState,s===null)return xi(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Qp(s,!1);else{if(Br!==0||n!==null&&(n.flags&128)!==0)for(n=e.child;n!==null;){if(o=W1(n),o!==null){for(e.flags|=128,Qp(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Rn(Jn,Jn.current&1|2),e.child}n=n.sibling}s.tail!==null&&dr()>Ph&&(e.flags|=128,r=!0,Qp(s,!1),e.lanes=4194304)}else{if(!r)if(n=W1(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Qp(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!zn)return xi(e),null}else 2*dr()-s.renderingStartTime>Ph&&t!==1073741824&&(e.flags|=128,r=!0,Qp(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=dr(),e.sibling=null,t=Jn.current,Rn(Jn,r?t&1|2:t&1),e):(xi(e),null);case 22:case 23:return DM(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(vs&1073741824)!==0&&(xi(e),e.subtreeFlags&6&&(e.flags|=8192)):xi(e),null;case 24:return null;case 25:return null}throw Error(Ke(156,e.tag))}function iq(n,e){switch(gM(e),e.tag){case 1:return is(e.type)&&F1(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Mh(),On(rs),On(Ci),EM(),n=e.flags,(n&65536)!==0&&(n&128)===0?(e.flags=n&-65537|128,e):null;case 5:return SM(e),null;case 13:if(On(Jn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ke(340));Eh()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return On(Jn),null;case 4:return Mh(),null;case 10:return bM(e.type._context),null;case 22:case 23:return DM(),null;case 24:return null;default:return null}}var cy=!1,wi=!1,sq=typeof WeakSet=="function"?WeakSet:Set,ct=null;function Kd(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){rr(n,e,r)}else t.current=null}function xS(n,e,t){try{t()}catch(r){rr(n,e,r)}}var h8=!1;function oq(n,e){if(nS=N1,n=N9(),pM(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=n,d=null;t:for(;;){for(var m;f!==t||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===n)break t;if(d===t&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(rS={focusedElem:n,selectionRange:t},N1=!1,ct=e;ct!==null;)if(e=ct,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,ct=n;else for(;ct!==null;){e=ct;try{var y=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,v=y.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:To(e.type,g),v);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ke(163))}}catch(A){rr(e,e.return,A)}if(n=e.sibling,n!==null){n.return=e.return,ct=n;break}ct=e.return}return y=h8,h8=!1,y}function $0(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&xS(e,t,s)}i=i.next}while(i!==r)}}function qb(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function bS(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function RN(n){var e=n.alternate;e!==null&&(n.alternate=null,RN(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[da],delete e[Cm],delete e[oS],delete e[HW],delete e[jW])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function BN(n){return n.tag===5||n.tag===3||n.tag===4}function p8(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||BN(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function wS(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=O1));else if(r!==4&&(n=n.child,n!==null))for(wS(n,e,t),n=n.sibling;n!==null;)wS(n,e,t),n=n.sibling}function _S(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(_S(n,e,t),n=n.sibling;n!==null;)_S(n,e,t),n=n.sibling}var Yr=null,Po=!1;function eu(n,e,t){for(t=t.child;t!==null;)kN(n,e,t),t=t.sibling}function kN(n,e,t){if(ya&&typeof ya.onCommitFiberUnmount=="function")try{ya.onCommitFiberUnmount(Fb,t)}catch{}switch(t.tag){case 5:wi||Kd(t,e);case 6:var r=Yr,i=Po;Yr=null,eu(n,e,t),Yr=r,Po=i,Yr!==null&&(Po?(n=Yr,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Yr.removeChild(t.stateNode));break;case 18:Yr!==null&&(Po?(n=Yr,t=t.stateNode,n.nodeType===8?T_(n.parentNode,t):n.nodeType===1&&T_(n,t),wm(n)):T_(Yr,t.stateNode));break;case 4:r=Yr,i=Po,Yr=t.stateNode.containerInfo,Po=!0,eu(n,e,t),Yr=r,Po=i;break;case 0:case 11:case 14:case 15:if(!wi&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&xS(t,e,o),i=i.next}while(i!==r)}eu(n,e,t);break;case 1:if(!wi&&(Kd(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){rr(t,e,a)}eu(n,e,t);break;case 21:eu(n,e,t);break;case 22:t.mode&1?(wi=(r=wi)||t.memoizedState!==null,eu(n,e,t),wi=r):eu(n,e,t);break;default:eu(n,e,t)}}function m8(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new sq),e.forEach(function(r){var i=mq.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function bo(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Yr=a.stateNode,Po=!1;break e;case 3:Yr=a.stateNode.containerInfo,Po=!0;break e;case 4:Yr=a.stateNode.containerInfo,Po=!0;break e}a=a.return}if(Yr===null)throw Error(Ke(160));kN(s,o,i),Yr=null,Po=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){rr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)NN(e,n),e=e.sibling}function NN(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(bo(e,n),sa(n),r&4){try{$0(3,n,n.return),qb(3,n)}catch(g){rr(n,n.return,g)}try{$0(5,n,n.return)}catch(g){rr(n,n.return,g)}}break;case 1:bo(e,n),sa(n),r&512&&t!==null&&Kd(t,t.return);break;case 5:if(bo(e,n),sa(n),r&512&&t!==null&&Kd(t,t.return),n.flags&32){var i=n.stateNode;try{vm(i,"")}catch(g){rr(n,n.return,g)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&t9(i,s),qA(a,o);var u=qA(a,s);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?o9(i,f):c==="dangerouslySetInnerHTML"?i9(i,f):c==="children"?vm(i,f):tM(i,c,f,u)}switch(a){case"input":GA(i,s);break;case"textarea":n9(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?lh(i,!!s.multiple,m,!1):d!==!!s.multiple&&(s.defaultValue!=null?lh(i,!!s.multiple,s.defaultValue,!0):lh(i,!!s.multiple,s.multiple?[]:"",!1))}i[Cm]=s}catch(g){rr(n,n.return,g)}}break;case 6:if(bo(e,n),sa(n),r&4){if(n.stateNode===null)throw Error(Ke(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(g){rr(n,n.return,g)}}break;case 3:if(bo(e,n),sa(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{wm(e.containerInfo)}catch(g){rr(n,n.return,g)}break;case 4:bo(e,n),sa(n);break;case 13:bo(e,n),sa(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(NM=dr())),r&4&&m8(n);break;case 22:if(c=t!==null&&t.memoizedState!==null,n.mode&1?(wi=(u=wi)||c,bo(e,n),wi=u):bo(e,n),sa(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!c&&(n.mode&1)!==0)for(ct=n,c=n.child;c!==null;){for(f=ct=c;ct!==null;){switch(d=ct,m=d.child,d.tag){case 0:case 11:case 14:case 15:$0(4,d,d.return);break;case 1:Kd(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){r=d,t=d.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){rr(r,t,g)}}break;case 5:Kd(d,d.return);break;case 22:if(d.memoizedState!==null){v8(f);continue}}m!==null?(m.return=d,ct=m):v8(f)}c=c.sibling}e:for(c=null,f=n;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=s9("display",o))}catch(g){rr(n,n.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){rr(n,n.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:bo(e,n),sa(n),r&4&&m8(n);break;case 21:break;default:bo(e,n),sa(n)}}function sa(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(BN(t)){var r=t;break e}t=t.return}throw Error(Ke(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(vm(i,""),r.flags&=-33);var s=p8(n);_S(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=p8(n);wS(n,a,o);break;default:throw Error(Ke(161))}}catch(l){rr(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function aq(n,e,t){ct=n,LN(n)}function LN(n,e,t){for(var r=(n.mode&1)!==0;ct!==null;){var i=ct,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||cy;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||wi;a=cy;var u=wi;if(cy=o,(wi=l)&&!u)for(ct=i;ct!==null;)o=ct,l=o.child,o.tag===22&&o.memoizedState!==null?y8(i):l!==null?(l.return=o,ct=l):y8(i);for(;s!==null;)ct=s,LN(s),s=s.sibling;ct=i,cy=a,wi=u}g8(n)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,ct=s):g8(n)}}function g8(n){for(;ct!==null;){var e=ct;if((e.flags&8772)!==0){var t=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:wi||qb(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!wi)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:To(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ZP(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}ZP(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&wm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ke(163))}wi||e.flags&512&&bS(e)}catch(d){rr(e,e.return,d)}}if(e===n){ct=null;break}if(t=e.sibling,t!==null){t.return=e.return,ct=t;break}ct=e.return}}function v8(n){for(;ct!==null;){var e=ct;if(e===n){ct=null;break}var t=e.sibling;if(t!==null){t.return=e.return,ct=t;break}ct=e.return}}function y8(n){for(;ct!==null;){var e=ct;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{qb(4,e)}catch(l){rr(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){rr(e,i,l)}}var s=e.return;try{bS(e)}catch(l){rr(e,s,l)}break;case 5:var o=e.return;try{bS(e)}catch(l){rr(e,o,l)}}}catch(l){rr(e,e.return,l)}if(e===n){ct=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ct=a;break}ct=e.return}}var lq=Math.ceil,J1=kl.ReactCurrentDispatcher,BM=kl.ReactCurrentOwner,ao=kl.ReactCurrentBatchConfig,ln=0,qr=null,Sr=null,ii=0,vs=0,Jd=nc(0),Br=0,Bm=null,Ef=0,Kb=0,kM=0,X0=null,Qi=null,NM=0,Ph=1/0,el=null,$1=!1,AS=null,Du=null,fy=!1,Su=null,X1=0,Y0=0,SS=null,e1=-1,t1=0;function Fi(){return(ln&6)!==0?dr():e1!==-1?e1:e1=dr()}function Ou(n){return(n.mode&1)===0?1:(ln&2)!==0&&ii!==0?ii&-ii:WW.transition!==null?(t1===0&&(t1=y9()),t1):(n=xn,n!==0||(n=window.event,n=n===void 0?16:E9(n.type)),n)}function Ho(n,e,t,r){if(50<Y0)throw Y0=0,SS=null,Error(Ke(185));yg(n,t,r),((ln&2)===0||n!==qr)&&(n===qr&&((ln&2)===0&&(Kb|=t),Br===4&&bu(n,ii)),ss(n,r),t===1&&ln===0&&(e.mode&1)===0&&(Ph=dr()+500,jb&&rc()))}function ss(n,e){var t=n.callbackNode;WV(n,e);var r=k1(n,n===qr?ii:0);if(r===0)t!==null&&MP(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&MP(t),e===1)n.tag===0?VW(x8.bind(null,n)):V9(x8.bind(null,n)),zW(function(){(ln&6)===0&&rc()}),t=null;else{switch(x9(r)){case 1:t=oM;break;case 4:t=g9;break;case 16:t=B1;break;case 536870912:t=v9;break;default:t=B1}t=jN(t,DN.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function DN(n,e){if(e1=-1,t1=0,(ln&6)!==0)throw Error(Ke(327));var t=n.callbackNode;if(hh()&&n.callbackNode!==t)return null;var r=k1(n,n===qr?ii:0);if(r===0)return null;if((r&30)!==0||(r&n.expiredLanes)!==0||e)e=Y1(n,r);else{e=r;var i=ln;ln|=2;var s=FN();(qr!==n||ii!==e)&&(el=null,Ph=dr()+500,of(n,e));do try{fq();break}catch(a){ON(n,a)}while(1);xM(),J1.current=s,ln=i,Sr!==null?e=0:(qr=null,ii=0,e=Br)}if(e!==0){if(e===2&&(i=YA(n),i!==0&&(r=i,e=ES(n,i))),e===1)throw t=Bm,of(n,0),bu(n,r),ss(n,dr()),t;if(e===6)bu(n,r);else{if(i=n.current.alternate,(r&30)===0&&!uq(i)&&(e=Y1(n,r),e===2&&(s=YA(n),s!==0&&(r=s,e=ES(n,s))),e===1))throw t=Bm,of(n,0),bu(n,r),ss(n,dr()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Ke(345));case 2:Nc(n,Qi,el);break;case 3:if(bu(n,r),(r&130023424)===r&&(e=NM+500-dr(),10<e)){if(k1(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Fi(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=sS(Nc.bind(null,n,Qi,el),e);break}Nc(n,Qi,el);break;case 4:if(bu(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-Go(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=dr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lq(r/1960))-r,10<r){n.timeoutHandle=sS(Nc.bind(null,n,Qi,el),r);break}Nc(n,Qi,el);break;case 5:Nc(n,Qi,el);break;default:throw Error(Ke(329))}}}return ss(n,dr()),n.callbackNode===t?DN.bind(null,n):null}function ES(n,e){var t=X0;return n.current.memoizedState.isDehydrated&&(of(n,e).flags|=256),n=Y1(n,e),n!==2&&(e=Qi,Qi=t,e!==null&&CS(e)),n}function CS(n){Qi===null?Qi=n:Qi.push.apply(Qi,n)}function uq(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Vo(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bu(n,e){for(e&=~kM,e&=~Kb,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Go(e),r=1<<t;n[t]=-1,e&=~r}}function x8(n){if((ln&6)!==0)throw Error(Ke(327));hh();var e=k1(n,0);if((e&1)===0)return ss(n,dr()),null;var t=Y1(n,e);if(n.tag!==0&&t===2){var r=YA(n);r!==0&&(e=r,t=ES(n,r))}if(t===1)throw t=Bm,of(n,0),bu(n,e),ss(n,dr()),t;if(t===6)throw Error(Ke(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Nc(n,Qi,el),ss(n,dr()),null}function LM(n,e){var t=ln;ln|=1;try{return n(e)}finally{ln=t,ln===0&&(Ph=dr()+500,jb&&rc())}}function Cf(n){Su!==null&&Su.tag===0&&(ln&6)===0&&hh();var e=ln;ln|=1;var t=ao.transition,r=xn;try{if(ao.transition=null,xn=1,n)return n()}finally{xn=r,ao.transition=t,ln=e,(ln&6)===0&&rc()}}function DM(){vs=Jd.current,On(Jd)}function of(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,UW(t)),Sr!==null)for(t=Sr.return;t!==null;){var r=t;switch(gM(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&F1();break;case 3:Mh(),On(rs),On(Ci),EM();break;case 5:SM(r);break;case 4:Mh();break;case 13:On(Jn);break;case 19:On(Jn);break;case 10:bM(r.type._context);break;case 22:case 23:DM()}t=t.return}if(qr=n,Sr=n=Fu(n.current,null),ii=vs=e,Br=0,Bm=null,kM=Kb=Ef=0,Qi=X0=null,qc!==null){for(e=0;e<qc.length;e++)if(t=qc[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}qc=null}return n}function ON(n,e){do{var t=Sr;try{if(xM(),Yx.current=K1,q1){for(var r=Xn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}q1=!1}if(Sf=0,Wr=Ir=Xn=null,J0=!1,Pm=0,BM.current=null,t===null||t.return===null){Br=1,Bm=e,Sr=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=ii,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if((c.mode&1)===0&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=o8(o);if(m!==null){m.flags&=-257,a8(m,o,a,s,e),m.mode&1&&s8(s,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if((e&1)===0){s8(s,u,e),OM();break e}l=Error(Ke(426))}}else if(zn&&a.mode&1){var v=o8(o);if(v!==null){(v.flags&65536)===0&&(v.flags|=256),a8(v,o,a,s,e),vM(Th(l,a));break e}}s=l=Th(l,a),Br!==4&&(Br=2),X0===null?X0=[s]:X0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=bN(s,l,e);QP(s,x);break e;case 1:a=l;var w=s.type,b=s.stateNode;if((s.flags&128)===0&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Du===null||!Du.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=wN(s,a,e);QP(s,A);break e}}s=s.return}while(s!==null)}zN(t)}catch(M){e=M,Sr===t&&t!==null&&(Sr=t=t.return);continue}break}while(1)}function FN(){var n=J1.current;return J1.current=K1,n===null?K1:n}function OM(){(Br===0||Br===3||Br===2)&&(Br=4),qr===null||(Ef&268435455)===0&&(Kb&268435455)===0||bu(qr,ii)}function Y1(n,e){var t=ln;ln|=2;var r=FN();(qr!==n||ii!==e)&&(el=null,of(n,e));do try{cq();break}catch(i){ON(n,i)}while(1);if(xM(),ln=t,J1.current=r,Sr!==null)throw Error(Ke(261));return qr=null,ii=0,Br}function cq(){for(;Sr!==null;)UN(Sr)}function fq(){for(;Sr!==null&&!DV();)UN(Sr)}function UN(n){var e=HN(n.alternate,n,vs);n.memoizedProps=n.pendingProps,e===null?zN(n):Sr=e,BM.current=null}function zN(n){var e=n;do{var t=e.alternate;if(n=e.return,(e.flags&32768)===0){if(t=rq(t,e,vs),t!==null){Sr=t;return}}else{if(t=iq(t,e),t!==null){t.flags&=32767,Sr=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Br=6,Sr=null;return}}if(e=e.sibling,e!==null){Sr=e;return}Sr=e=n}while(e!==null);Br===0&&(Br=5)}function Nc(n,e,t){var r=xn,i=ao.transition;try{ao.transition=null,xn=1,dq(n,e,t,r)}finally{ao.transition=i,xn=r}return null}function dq(n,e,t,r){do hh();while(Su!==null);if((ln&6)!==0)throw Error(Ke(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ke(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(qV(n,s),n===qr&&(Sr=qr=null,ii=0),(t.subtreeFlags&2064)===0&&(t.flags&2064)===0||fy||(fy=!0,jN(B1,function(){return hh(),null})),s=(t.flags&15990)!==0,(t.subtreeFlags&15990)!==0||s){s=ao.transition,ao.transition=null;var o=xn;xn=1;var a=ln;ln|=4,BM.current=null,oq(n,t),NN(t,n),BW(rS),N1=!!nS,rS=nS=null,n.current=t,aq(t),OV(),ln=a,xn=o,ao.transition=s}else n.current=t;if(fy&&(fy=!1,Su=n,X1=i),s=n.pendingLanes,s===0&&(Du=null),zV(t.stateNode),ss(n,dr()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if($1)throw $1=!1,n=AS,AS=null,n;return(X1&1)!==0&&n.tag!==0&&hh(),s=n.pendingLanes,(s&1)!==0?n===SS?Y0++:(Y0=0,SS=n):Y0=0,rc(),null}function hh(){if(Su!==null){var n=x9(X1),e=ao.transition,t=xn;try{if(ao.transition=null,xn=16>n?16:n,Su===null)var r=!1;else{if(n=Su,Su=null,X1=0,(ln&6)!==0)throw Error(Ke(331));var i=ln;for(ln|=4,ct=n.current;ct!==null;){var s=ct,o=s.child;if((ct.flags&16)!==0){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ct=u;ct!==null;){var c=ct;switch(c.tag){case 0:case 11:case 15:$0(8,c,s)}var f=c.child;if(f!==null)f.return=c,ct=f;else for(;ct!==null;){c=ct;var d=c.sibling,m=c.return;if(RN(c),c===u){ct=null;break}if(d!==null){d.return=m,ct=d;break}ct=m}}}var y=s.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}ct=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,ct=o;else e:for(;ct!==null;){if(s=ct,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:$0(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,ct=x;break e}ct=s.return}}var w=n.current;for(ct=w;ct!==null;){o=ct;var b=o.child;if((o.subtreeFlags&2064)!==0&&b!==null)b.return=o,ct=b;else e:for(o=w;ct!==null;){if(a=ct,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:qb(9,a)}}catch(M){rr(a,a.return,M)}if(a===o){ct=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,ct=A;break e}ct=a.return}}if(ln=i,rc(),ya&&typeof ya.onPostCommitFiberRoot=="function")try{ya.onPostCommitFiberRoot(Fb,n)}catch{}r=!0}return r}finally{xn=t,ao.transition=e}}return!1}function b8(n,e,t){e=Th(t,e),e=bN(n,e,1),n=Lu(n,e,1),e=Fi(),n!==null&&(yg(n,1,e),ss(n,e))}function rr(n,e,t){if(n.tag===3)b8(n,n,t);else for(;e!==null;){if(e.tag===3){b8(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Du===null||!Du.has(r))){n=Th(t,n),n=wN(e,n,1),e=Lu(e,n,1),n=Fi(),e!==null&&(yg(e,1,n),ss(e,n));break}}e=e.return}}function hq(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Fi(),n.pingedLanes|=n.suspendedLanes&t,qr===n&&(ii&t)===t&&(Br===4||Br===3&&(ii&130023424)===ii&&500>dr()-NM?of(n,0):kM|=t),ss(n,e)}function GN(n,e){e===0&&((n.mode&1)===0?e=1:(e=ty,ty<<=1,(ty&130023424)===0&&(ty=4194304)));var t=Fi();n=xl(n,e),n!==null&&(yg(n,e,t),ss(n,t))}function pq(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),GN(n,t)}function mq(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Ke(314))}r!==null&&r.delete(e),GN(n,t)}var HN;HN=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||rs.current)es=!0;else{if((n.lanes&t)===0&&(e.flags&128)===0)return es=!1,nq(n,e,t);es=(n.flags&131072)!==0}else es=!1,zn&&(e.flags&1048576)!==0&&W9(e,G1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zx(n,e),n=e.pendingProps;var i=Sh(e,Ci.current);dh(e,t),i=MM(null,e,r,n,i,t);var s=TM();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,is(r)?(s=!0,U1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_M(e),i.updater=Vb,e.stateNode=i,i._reactInternals=e,dS(e,r,n,t),e=mS(null,e,r,!0,s,t)):(e.tag=0,zn&&s&&mM(e),ki(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Zx(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=vq(r),n=To(r,n),i){case 0:e=pS(null,e,r,n,t);break e;case 1:e=c8(null,e,r,n,t);break e;case 11:e=l8(null,e,r,n,t);break e;case 14:e=u8(null,e,r,To(r.type,n),t);break e}throw Error(Ke(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:To(r,i),pS(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:To(r,i),c8(n,e,r,i,t);case 3:e:{if(EN(e),n===null)throw Error(Ke(387));r=e.pendingProps,s=e.memoizedState,i=s.element,$9(n,e),V1(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Th(Error(Ke(423)),e),e=f8(n,e,r,t,i);break e}else if(r!==i){i=Th(Error(Ke(424)),e),e=f8(n,e,r,t,i);break e}else for(ws=Nu(e.stateNode.containerInfo.firstChild),Ss=e,zn=!0,Io=null,t=Z9(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Eh(),r===i){e=bl(n,e,t);break e}ki(n,e,r,t)}e=e.child}return e;case 5:return eN(e),n===null&&uS(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,iS(r,i)?o=null:s!==null&&iS(r,s)&&(e.flags|=32),SN(n,e),ki(n,e,o,t),e.child;case 6:return n===null&&uS(e),null;case 13:return CN(n,e,t);case 4:return AM(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Ch(e,null,r,t):ki(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:To(r,i),l8(n,e,r,i,t);case 7:return ki(n,e,e.pendingProps,t),e.child;case 8:return ki(n,e,e.pendingProps.children,t),e.child;case 12:return ki(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Rn(H1,r._currentValue),r._currentValue=o,s!==null)if(Vo(s.value,o)){if(s.children===i.children&&!rs.current){e=bl(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=hl(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),cS(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ke(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),cS(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ki(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,dh(e,t),i=uo(i),r=r(i),e.flags|=1,ki(n,e,r,t),e.child;case 14:return r=e.type,i=To(r,e.pendingProps),i=To(r.type,i),u8(n,e,r,i,t);case 15:return _N(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:To(r,i),Zx(n,e),e.tag=1,is(r)?(n=!0,U1(e)):n=!1,dh(e,t),Y9(e,r,i),dS(e,r,i,t),mS(null,e,r,!0,n,t);case 19:return MN(n,e,t);case 22:return AN(n,e,t)}throw Error(Ke(156,e.tag))};function jN(n,e){return m9(n,e)}function gq(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function io(n,e,t,r){return new gq(n,e,t,r)}function FM(n){return n=n.prototype,!(!n||!n.isReactComponent)}function vq(n){if(typeof n=="function")return FM(n)?1:0;if(n!=null){if(n=n.$$typeof,n===rM)return 11;if(n===iM)return 14}return 2}function Fu(n,e){var t=n.alternate;return t===null?(t=io(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function n1(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")FM(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Fd:return af(t.children,i,s,e);case nM:o=8,i|=8;break;case DA:return n=io(12,t,e,i|2),n.elementType=DA,n.lanes=s,n;case OA:return n=io(13,t,e,i),n.elementType=OA,n.lanes=s,n;case FA:return n=io(19,t,e,i),n.elementType=FA,n.lanes=s,n;case Q7:return Jb(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case X7:o=10;break e;case Y7:o=9;break e;case rM:o=11;break e;case iM:o=14;break e;case hu:o=16,r=null;break e}throw Error(Ke(130,n==null?n:typeof n,""))}return e=io(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function af(n,e,t,r){return n=io(7,n,r,e),n.lanes=t,n}function Jb(n,e,t,r){return n=io(22,n,r,e),n.elementType=Q7,n.lanes=t,n.stateNode={isHidden:!1},n}function D_(n,e,t){return n=io(6,n,null,e),n.lanes=t,n}function O_(n,e,t){return e=io(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function yq(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=v_(0),this.expirationTimes=v_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=v_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function UM(n,e,t,r,i,s,o,a,l){return n=new yq(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=io(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},_M(s),n}function xq(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Od,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function VN(n){if(!n)return Hu;n=n._reactInternals;e:{if(zf(n)!==n||n.tag!==1)throw Error(Ke(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(is(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ke(171))}if(n.tag===1){var t=n.type;if(is(t))return j9(n,t,e)}return e}function WN(n,e,t,r,i,s,o,a,l){return n=UM(t,r,!0,n,i,s,o,a,l),n.context=VN(null),t=n.current,r=Fi(),i=Ou(t),s=hl(r,i),s.callback=e??null,Lu(t,s,i),n.current.lanes=i,yg(n,i,r),ss(n,r),n}function $b(n,e,t,r){var i=e.current,s=Fi(),o=Ou(i);return t=VN(t),e.context===null?e.context=t:e.pendingContext=t,e=hl(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Lu(i,e,o),n!==null&&(Ho(n,i,o,s),Xx(n,i,o)),o}function Q1(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function w8(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function zM(n,e){w8(n,e),(n=n.alternate)&&w8(n,e)}function bq(){return null}var qN=typeof reportError=="function"?reportError:function(n){console.error(n)};function GM(n){this._internalRoot=n}Xb.prototype.render=GM.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ke(409));$b(n,e,null,null)};Xb.prototype.unmount=GM.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Cf(function(){$b(null,n,null,null)}),e[yl]=null}};function Xb(n){this._internalRoot=n}Xb.prototype.unstable_scheduleHydration=function(n){if(n){var e=_9();n={blockedOn:null,target:n,priority:e};for(var t=0;t<xu.length&&e!==0&&e<xu[t].priority;t++);xu.splice(t,0,n),t===0&&S9(n)}};function HM(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Yb(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function _8(){}function wq(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Q1(o);s.call(u)}}var o=WN(e,r,n,0,null,!1,!1,"",_8);return n._reactRootContainer=o,n[yl]=o.current,Sm(n.nodeType===8?n.parentNode:n),Cf(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Q1(l);a.call(u)}}var l=UM(n,0,!1,null,null,!1,!1,"",_8);return n._reactRootContainer=l,n[yl]=l.current,Sm(n.nodeType===8?n.parentNode:n),Cf(function(){$b(e,l,t,r)}),l}function Qb(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Q1(o);a.call(l)}}$b(e,o,n,i)}else o=wq(t,e,n,i,r);return Q1(o)}b9=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=k0(e.pendingLanes);t!==0&&(aM(e,t|1),ss(e,dr()),(ln&6)===0&&(Ph=dr()+500,rc()))}break;case 13:Cf(function(){var r=xl(n,1);if(r!==null){var i=Fi();Ho(r,n,1,i)}}),zM(n,1)}};lM=function(n){if(n.tag===13){var e=xl(n,134217728);if(e!==null){var t=Fi();Ho(e,n,134217728,t)}zM(n,134217728)}};w9=function(n){if(n.tag===13){var e=Ou(n),t=xl(n,e);if(t!==null){var r=Fi();Ho(t,n,e,r)}zM(n,e)}};_9=function(){return xn};A9=function(n,e){var t=xn;try{return xn=n,e()}finally{xn=t}};JA=function(n,e,t){switch(e){case"input":if(GA(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=Hb(r);if(!i)throw Error(Ke(90));e9(r),GA(r,i)}}}break;case"textarea":n9(n,t);break;case"select":e=t.value,e!=null&&lh(n,!!t.multiple,e,!1)}};u9=LM;c9=Cf;var _q={usingClientEntryPoint:!1,Events:[bg,Hd,Hb,a9,l9,LM]},Zp={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Aq={bundleType:Zp.bundleType,version:Zp.version,rendererPackageName:Zp.rendererPackageName,rendererConfig:Zp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kl.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=h9(n),n===null?null:n.stateNode},findFiberByHostInstance:Zp.findFiberByHostInstance||bq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dy.isDisabled&&dy.supportsFiber)try{Fb=dy.inject(Aq),ya=dy}catch{}}Bs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_q;Bs.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!HM(e))throw Error(Ke(200));return xq(n,e,null,t)};Bs.createRoot=function(n,e){if(!HM(n))throw Error(Ke(299));var t=!1,r="",i=qN;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=UM(n,1,!1,null,null,t,!1,r,i),n[yl]=e.current,Sm(n.nodeType===8?n.parentNode:n),new GM(e)};Bs.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ke(188)):(n=Object.keys(n).join(","),Error(Ke(268,n)));return n=h9(e),n=n===null?null:n.stateNode,n};Bs.flushSync=function(n){return Cf(n)};Bs.hydrate=function(n,e,t){if(!Yb(e))throw Error(Ke(200));return Qb(null,n,e,!0,t)};Bs.hydrateRoot=function(n,e,t){if(!HM(n))throw Error(Ke(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=qN;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=WN(e,null,n,1,t??null,i,!1,s,o),n[yl]=e.current,Sm(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Xb(e)};Bs.render=function(n,e,t){if(!Yb(e))throw Error(Ke(200));return Qb(null,n,e,!1,t)};Bs.unmountComponentAtNode=function(n){if(!Yb(n))throw Error(Ke(40));return n._reactRootContainer?(Cf(function(){Qb(null,null,n,!1,function(){n._reactRootContainer=null,n[yl]=null})}),!0):!1};Bs.unstable_batchedUpdates=LM;Bs.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Yb(t))throw Error(Ke(200));if(n==null||n._reactInternals===void 0)throw Error(Ke(38));return Qb(n,e,t,!1,r)};Bs.version="18.2.0-next-9e3b772b8-20220608";(function(n){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}e(),n.exports=Bs})(W7);var A8=W7.exports;NA.createRoot=A8.createRoot,NA.hydrateRoot=A8.hydrateRoot;var Zb={exports:{}},ew={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sq=J.exports,Eq=Symbol.for("react.element"),Cq=Symbol.for("react.fragment"),Mq=Object.prototype.hasOwnProperty,Tq=Sq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pq={key:!0,ref:!0,__self:!0,__source:!0};function KN(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Mq.call(e,r)&&!Pq.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Eq,type:n,key:s,ref:o,props:i,_owner:Tq.current}}ew.Fragment=Cq;ew.jsx=KN;ew.jsxs=KN;(function(n){n.exports=ew})(Zb);const vr=Zb.exports.Fragment,te=Zb.exports.jsx,Tt=Zb.exports.jsxs;function ls(n){if(typeof n=="string"||typeof n=="number")return""+n;let e="";if(Array.isArray(n))for(let t=0,r;t<n.length;t++)(r=ls(n[t]))!==""&&(e+=(e&&" ")+r);else for(let t in n)n[t]&&(e+=(e&&" ")+t);return e}const S8=n=>{let e;const t=new Set,r=(l,u)=>{const c=typeof l=="function"?l(e):l;if(!Object.is(c,e)){const f=e;e=u??typeof c!="object"?c:Object.assign({},e,c),t.forEach(d=>d(e,f))}},i=()=>e,a={setState:r,getState:i,subscribe:l=>(t.add(l),()=>t.delete(l)),destroy:()=>t.clear()};return e=n(r,i,a),a},Iq=n=>n?S8(n):S8;var _g={exports:{}},JN={},jM={exports:{}},$N={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ih=J.exports;function Rq(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Bq=typeof Object.is=="function"?Object.is:Rq,kq=Ih.useState,Nq=Ih.useEffect,Lq=Ih.useLayoutEffect,Dq=Ih.useDebugValue;function Oq(n,e){var t=e(),r=kq({inst:{value:t,getSnapshot:e}}),i=r[0].inst,s=r[1];return Lq(function(){i.value=t,i.getSnapshot=e,F_(i)&&s({inst:i})},[n,t,e]),Nq(function(){return F_(i)&&s({inst:i}),n(function(){F_(i)&&s({inst:i})})},[n]),Dq(t),t}function F_(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Bq(n,t)}catch{return!0}}function Fq(n,e){return e()}var Uq=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Fq:Oq;$N.useSyncExternalStore=Ih.useSyncExternalStore!==void 0?Ih.useSyncExternalStore:Uq;(function(n){n.exports=$N})(jM);/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw=J.exports,zq=jM.exports;function Gq(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Hq=typeof Object.is=="function"?Object.is:Gq,jq=zq.useSyncExternalStore,Vq=tw.useRef,Wq=tw.useEffect,qq=tw.useMemo,Kq=tw.useDebugValue;JN.useSyncExternalStoreWithSelector=function(n,e,t,r,i){var s=Vq(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=qq(function(){function l(m){if(!u){if(u=!0,c=m,m=r(m),i!==void 0&&o.hasValue){var y=o.value;if(i(y,m))return f=y}return f=m}if(y=f,Hq(c,m))return y;var g=r(m);return i!==void 0&&i(y,g)?y:(c=m,f=g)}var u=!1,c,f,d=t===void 0?null:t;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,t,r,i]);var a=jq(n,s[0],s[1]);return Wq(function(){o.hasValue=!0,o.value=a},[a]),Kq(a),a};(function(n){n.exports=JN})(_g);const Jq=JC(_g.exports),{useSyncExternalStoreWithSelector:$q}=Jq;function Xq(n,e=n.getState,t){const r=$q(n.subscribe,n.getState,n.getServerState||n.getState,e,t);return J.exports.useDebugValue(r),r}function fo(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(n[t[r]],e[t[r]]))return!1;return!0}var Yq={value:()=>{}};function nw(){for(var n=0,e=arguments.length,t={},r;n<e;++n){if(!(r=arguments[n]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new r1(t)}function r1(n){this._=n}function Qq(n,e){return n.trim().split(/^|\s+/).map(function(t){var r="",i=t.indexOf(".");if(i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}r1.prototype=nw.prototype={constructor:r1,on:function(n,e){var t=this._,r=Qq(n+"",t),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(n=r[s]).type)&&(i=Zq(t[i],n.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(n=r[s]).type)t[i]=E8(t[i],n.name,e);else if(e==null)for(i in t)t[i]=E8(t[i],n.name,null);return this},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new r1(n)},call:function(n,e){if((i=arguments.length-2)>0)for(var t=new Array(i),r=0,i,s;r<i;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(s=this._[n],r=0,i=s.length;r<i;++r)s[r].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],i=0,s=r.length;i<s;++i)r[i].value.apply(e,t)}};function Zq(n,e){for(var t=0,r=n.length,i;t<r;++t)if((i=n[t]).name===e)return i.value}function E8(n,e,t){for(var r=0,i=n.length;r<i;++r)if(n[r].name===e){n[r]=Yq,n=n.slice(0,r).concat(n.slice(r+1));break}return t!=null&&n.push({name:e,value:t}),n}var MS="http://www.w3.org/1999/xhtml";const C8={svg:"http://www.w3.org/2000/svg",xhtml:MS,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function rw(n){var e=n+="",t=e.indexOf(":");return t>=0&&(e=n.slice(0,t))!=="xmlns"&&(n=n.slice(t+1)),C8.hasOwnProperty(e)?{space:C8[e],local:n}:n}function eK(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===MS&&e.documentElement.namespaceURI===MS?e.createElement(n):e.createElementNS(t,n)}}function tK(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function XN(n){var e=rw(n);return(e.local?tK:eK)(e)}function nK(){}function VM(n){return n==null?nK:function(){return this.querySelector(n)}}function rK(n){typeof n!="function"&&(n=VM(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,u,c=0;c<o;++c)(l=s[c])&&(u=n.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Ts(r,this._parents)}function iK(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function sK(){return[]}function YN(n){return n==null?sK:function(){return this.querySelectorAll(n)}}function oK(n){return function(){return iK(n.apply(this,arguments))}}function aK(n){typeof n=="function"?n=oK(n):n=YN(n);for(var e=this._groups,t=e.length,r=[],i=[],s=0;s<t;++s)for(var o=e[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(n.call(l,l.__data__,u,o)),i.push(l));return new Ts(r,i)}function QN(n){return function(){return this.matches(n)}}function ZN(n){return function(e){return e.matches(n)}}var lK=Array.prototype.find;function uK(n){return function(){return lK.call(this.children,n)}}function cK(){return this.firstElementChild}function fK(n){return this.select(n==null?cK:uK(typeof n=="function"?n:ZN(n)))}var dK=Array.prototype.filter;function hK(){return Array.from(this.children)}function pK(n){return function(){return dK.call(this.children,n)}}function mK(n){return this.selectAll(n==null?hK:pK(typeof n=="function"?n:ZN(n)))}function gK(n){typeof n!="function"&&(n=QN(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&n.call(l,l.__data__,u,s)&&a.push(l);return new Ts(r,this._parents)}function eL(n){return new Array(n.length)}function vK(){return new Ts(this._enter||this._groups.map(eL),this._parents)}function Z1(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}Z1.prototype={constructor:Z1,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function yK(n){return function(){return n}}function xK(n,e,t,r,i,s){for(var o=0,a,l=e.length,u=s.length;o<u;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):t[o]=new Z1(n,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function bK(n,e,t,r,i,s,o){var a,l,u=new Map,c=e.length,f=s.length,d=new Array(c),m;for(a=0;a<c;++a)(l=e[a])&&(d[a]=m=o.call(l,l.__data__,a,e)+"",u.has(m)?i[a]=l:u.set(m,l));for(a=0;a<f;++a)m=o.call(n,s[a],a,s)+"",(l=u.get(m))?(r[a]=l,l.__data__=s[a],u.delete(m)):t[a]=new Z1(n,s[a]);for(a=0;a<c;++a)(l=e[a])&&u.get(d[a])===l&&(i[a]=l)}function wK(n){return n.__data__}function _K(n,e){if(!arguments.length)return Array.from(this,wK);var t=e?bK:xK,r=this._parents,i=this._groups;typeof n!="function"&&(n=yK(n));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=r[u],f=i[u],d=f.length,m=AK(n.call(c,c&&c.__data__,u,r)),y=m.length,g=a[u]=new Array(y),v=o[u]=new Array(y),x=l[u]=new Array(d);t(c,f,g,v,x,m,e);for(var w=0,b=0,A,M;w<y;++w)if(A=g[w]){for(w>=b&&(b=w+1);!(M=v[b])&&++b<y;);A._next=M||null}}return o=new Ts(o,r),o._enter=a,o._exit=l,o}function AK(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function SK(){return new Ts(this._exit||this._groups.map(eL),this._parents)}function EK(n,e,t){var r=this.enter(),i=this,s=this.exit();return typeof n=="function"?(r=n(r),r&&(r=r.selection())):r=r.append(n+""),e!=null&&(i=e(i),i&&(i=i.selection())),t==null?s.remove():t(s),r&&i?r.merge(i).order():i}function CK(n){for(var e=n.selection?n.selection():n,t=this._groups,r=e._groups,i=t.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var u=t[l],c=r[l],f=u.length,d=a[l]=new Array(f),m,y=0;y<f;++y)(m=u[y]||c[y])&&(d[y]=m);for(;l<i;++l)a[l]=t[l];return new Ts(a,this._parents)}function MK(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var r=n[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function TK(n){n||(n=PK);function e(f,d){return f&&d?n(f.__data__,d.__data__):!f-!d}for(var t=this._groups,r=t.length,i=new Array(r),s=0;s<r;++s){for(var o=t[s],a=o.length,l=i[s]=new Array(a),u,c=0;c<a;++c)(u=o[c])&&(l[c]=u);l.sort(e)}return new Ts(i,this._parents).order()}function PK(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function IK(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function RK(){return Array.from(this)}function BK(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function kK(){let n=0;for(const e of this)++n;return n}function NK(){return!this.node()}function LK(n){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],s=0,o=i.length,a;s<o;++s)(a=i[s])&&n.call(a,a.__data__,s,i);return this}function DK(n){return function(){this.removeAttribute(n)}}function OK(n){return function(){this.removeAttributeNS(n.space,n.local)}}function FK(n,e){return function(){this.setAttribute(n,e)}}function UK(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function zK(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(n):this.setAttribute(n,t)}}function GK(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function HK(n,e){var t=rw(n);if(arguments.length<2){var r=this.node();return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}return this.each((e==null?t.local?OK:DK:typeof e=="function"?t.local?GK:zK:t.local?UK:FK)(t,e))}function tL(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function jK(n){return function(){this.style.removeProperty(n)}}function VK(n,e,t){return function(){this.style.setProperty(n,e,t)}}function WK(n,e,t){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(n):this.style.setProperty(n,r,t)}}function qK(n,e,t){return arguments.length>1?this.each((e==null?jK:typeof e=="function"?WK:VK)(n,e,t??"")):Rh(this.node(),n)}function Rh(n,e){return n.style.getPropertyValue(e)||tL(n).getComputedStyle(n,null).getPropertyValue(e)}function KK(n){return function(){delete this[n]}}function JK(n,e){return function(){this[n]=e}}function $K(n,e){return function(){var t=e.apply(this,arguments);t==null?delete this[n]:this[n]=t}}function XK(n,e){return arguments.length>1?this.each((e==null?KK:typeof e=="function"?$K:JK)(n,e)):this.node()[n]}function nL(n){return n.trim().split(/^|\s+/)}function WM(n){return n.classList||new rL(n)}function rL(n){this._node=n,this._names=nL(n.getAttribute("class")||"")}rL.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function iL(n,e){for(var t=WM(n),r=-1,i=e.length;++r<i;)t.add(e[r])}function sL(n,e){for(var t=WM(n),r=-1,i=e.length;++r<i;)t.remove(e[r])}function YK(n){return function(){iL(this,n)}}function QK(n){return function(){sL(this,n)}}function ZK(n,e){return function(){(e.apply(this,arguments)?iL:sL)(this,n)}}function eJ(n,e){var t=nL(n+"");if(arguments.length<2){for(var r=WM(this.node()),i=-1,s=t.length;++i<s;)if(!r.contains(t[i]))return!1;return!0}return this.each((typeof e=="function"?ZK:e?YK:QK)(t,e))}function tJ(){this.textContent=""}function nJ(n){return function(){this.textContent=n}}function rJ(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function iJ(n){return arguments.length?this.each(n==null?tJ:(typeof n=="function"?rJ:nJ)(n)):this.node().textContent}function sJ(){this.innerHTML=""}function oJ(n){return function(){this.innerHTML=n}}function aJ(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function lJ(n){return arguments.length?this.each(n==null?sJ:(typeof n=="function"?aJ:oJ)(n)):this.node().innerHTML}function uJ(){this.nextSibling&&this.parentNode.appendChild(this)}function cJ(){return this.each(uJ)}function fJ(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function dJ(){return this.each(fJ)}function hJ(n){var e=typeof n=="function"?n:XN(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function pJ(){return null}function mJ(n,e){var t=typeof n=="function"?n:XN(n),r=e==null?pJ:typeof e=="function"?e:VM(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),r.apply(this,arguments)||null)})}function gJ(){var n=this.parentNode;n&&n.removeChild(this)}function vJ(){return this.each(gJ)}function yJ(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function xJ(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function bJ(n){return this.select(n?xJ:yJ)}function wJ(n){return arguments.length?this.property("__data__",n):this.node().__data__}function _J(n){return function(e){n.call(this,e,this.__data__)}}function AJ(n){return n.trim().split(/^|\s+/).map(function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}})}function SJ(n){return function(){var e=this.__on;if(!!e){for(var t=0,r=-1,i=e.length,s;t<i;++t)s=e[t],(!n.type||s.type===n.type)&&s.name===n.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function EJ(n,e,t){return function(){var r=this.__on,i,s=_J(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===n.type&&i.name===n.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=t),i.value=e;return}}this.addEventListener(n.type,s,t),i={type:n.type,name:n.name,value:e,listener:s,options:t},r?r.push(i):this.__on=[i]}}function CJ(n,e,t){var r=AJ(n+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(i=0,c=a[l];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=e?EJ:SJ,i=0;i<s;++i)this.each(a(r[i],e,t));return this}function oL(n,e,t){var r=tL(n),i=r.CustomEvent;typeof i=="function"?i=new i(e,t):(i=r.document.createEvent("Event"),t?(i.initEvent(e,t.bubbles,t.cancelable),i.detail=t.detail):i.initEvent(e,!1,!1)),n.dispatchEvent(i)}function MJ(n,e){return function(){return oL(this,n,e)}}function TJ(n,e){return function(){return oL(this,n,e.apply(this,arguments))}}function PJ(n,e){return this.each((typeof e=="function"?TJ:MJ)(n,e))}function*IJ(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var r=n[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var aL=[null];function Ts(n,e){this._groups=n,this._parents=e}function Ag(){return new Ts([[document.documentElement]],aL)}function RJ(){return this}Ts.prototype=Ag.prototype={constructor:Ts,select:rK,selectAll:aK,selectChild:fK,selectChildren:mK,filter:gK,data:_K,enter:vK,exit:SK,join:EK,merge:CK,selection:RJ,order:MK,sort:TK,call:IK,nodes:RK,node:BK,size:kK,empty:NK,each:LK,attr:HK,style:qK,property:XK,classed:eJ,text:iJ,html:lJ,raise:cJ,lower:dJ,append:hJ,insert:mJ,remove:vJ,clone:bJ,datum:wJ,on:CJ,dispatch:PJ,[Symbol.iterator]:IJ};function Bo(n){return typeof n=="string"?new Ts([[document.querySelector(n)]],[document.documentElement]):new Ts([[n]],aL)}function BJ(n){let e;for(;e=n.sourceEvent;)n=e;return n}function aa(n,e){if(n=BJ(n),e===void 0&&(e=n.currentTarget),e){var t=e.ownerSVGElement||e;if(t.createSVGPoint){var r=t.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[n.clientX-i.left-e.clientLeft,n.clientY-i.top-e.clientTop]}}return[n.pageX,n.pageY]}const kJ={passive:!1},km={capture:!0,passive:!1};function U_(n){n.stopImmediatePropagation()}function ph(n){n.preventDefault(),n.stopImmediatePropagation()}function lL(n){var e=n.document.documentElement,t=Bo(n).on("dragstart.drag",ph,km);"onselectstart"in e?t.on("selectstart.drag",ph,km):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function uL(n,e){var t=n.document.documentElement,r=Bo(n).on("dragstart.drag",null);e&&(r.on("click.drag",ph,km),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in t?r.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}const hy=n=>()=>n;function TS(n,{sourceEvent:e,subject:t,target:r,identifier:i,active:s,x:o,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}TS.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function NJ(n){return!n.ctrlKey&&!n.button}function LJ(){return this.parentNode}function DJ(n,e){return e??{x:n.x,y:n.y}}function OJ(){return navigator.maxTouchPoints||"ontouchstart"in this}function FJ(){var n=NJ,e=LJ,t=DJ,r=OJ,i={},s=nw("start","drag","end"),o=0,a,l,u,c,f=0;function d(A){A.on("mousedown.drag",m).filter(r).on("touchstart.drag",v).on("touchmove.drag",x,kJ).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(A,M){if(!(c||!n.call(this,A,M))){var I=b(this,e.call(this,A,M),A,M,"mouse");!I||(Bo(A.view).on("mousemove.drag",y,km).on("mouseup.drag",g,km),lL(A.view),U_(A),u=!1,a=A.clientX,l=A.clientY,I("start",A))}}function y(A){if(ph(A),!u){var M=A.clientX-a,I=A.clientY-l;u=M*M+I*I>f}i.mouse("drag",A)}function g(A){Bo(A.view).on("mousemove.drag mouseup.drag",null),uL(A.view,u),ph(A),i.mouse("end",A)}function v(A,M){if(!!n.call(this,A,M)){var I=A.changedTouches,D=e.call(this,A,M),P=I.length,O,V;for(O=0;O<P;++O)(V=b(this,D,A,M,I[O].identifier,I[O]))&&(U_(A),V("start",A,I[O]))}}function x(A){var M=A.changedTouches,I=M.length,D,P;for(D=0;D<I;++D)(P=i[M[D].identifier])&&(ph(A),P("drag",A,M[D]))}function w(A){var M=A.changedTouches,I=M.length,D,P;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),D=0;D<I;++D)(P=i[M[D].identifier])&&(U_(A),P("end",A,M[D]))}function b(A,M,I,D,P,O){var V=s.copy(),q=aa(O||I,M),ne,H,_;if((_=t.call(A,new TS("beforestart",{sourceEvent:I,target:d,identifier:P,active:o,x:q[0],y:q[1],dx:0,dy:0,dispatch:V}),D))!=null)return ne=_.x-q[0]||0,H=_.y-q[1]||0,function T(k,U,L){var F=q,z;switch(k){case"start":i[P]=T,z=o++;break;case"end":delete i[P],--o;case"drag":q=aa(L||U,M),z=o;break}V.call(k,A,new TS(k,{sourceEvent:U,subject:_,target:d,identifier:P,active:z,x:q[0]+ne,y:q[1]+H,dx:q[0]-F[0],dy:q[1]-F[1],dispatch:V}),D)}}return d.filter=function(A){return arguments.length?(n=typeof A=="function"?A:hy(!!A),d):n},d.container=function(A){return arguments.length?(e=typeof A=="function"?A:hy(A),d):e},d.subject=function(A){return arguments.length?(t=typeof A=="function"?A:hy(A),d):t},d.touchable=function(A){return arguments.length?(r=typeof A=="function"?A:hy(!!A),d):r},d.on=function(){var A=s.on.apply(s,arguments);return A===s?d:A},d.clickDistance=function(A){return arguments.length?(f=(A=+A)*A,d):Math.sqrt(f)},d}function qM(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function cL(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function Sg(){}var Nm=.7,eb=1/Nm,mh="\\s*([+-]?\\d+)\\s*",Lm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ba="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",UJ=/^#([0-9a-f]{3,8})$/,zJ=new RegExp(`^rgb\\(${mh},${mh},${mh}\\)$`),GJ=new RegExp(`^rgb\\(${ba},${ba},${ba}\\)$`),HJ=new RegExp(`^rgba\\(${mh},${mh},${mh},${Lm}\\)$`),jJ=new RegExp(`^rgba\\(${ba},${ba},${ba},${Lm}\\)$`),VJ=new RegExp(`^hsl\\(${Lm},${ba},${ba}\\)$`),WJ=new RegExp(`^hsla\\(${Lm},${ba},${ba},${Lm}\\)$`),M8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qM(Sg,Dm,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:T8,formatHex:T8,formatHex8:qJ,formatHsl:KJ,formatRgb:P8,toString:P8});function T8(){return this.rgb().formatHex()}function qJ(){return this.rgb().formatHex8()}function KJ(){return fL(this).formatHsl()}function P8(){return this.rgb().formatRgb()}function Dm(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=UJ.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?I8(e):t===3?new ts(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?py(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?py(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=zJ.exec(n))?new ts(e[1],e[2],e[3],1):(e=GJ.exec(n))?new ts(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=HJ.exec(n))?py(e[1],e[2],e[3],e[4]):(e=jJ.exec(n))?py(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=VJ.exec(n))?k8(e[1],e[2]/100,e[3]/100,1):(e=WJ.exec(n))?k8(e[1],e[2]/100,e[3]/100,e[4]):M8.hasOwnProperty(n)?I8(M8[n]):n==="transparent"?new ts(NaN,NaN,NaN,0):null}function I8(n){return new ts(n>>16&255,n>>8&255,n&255,1)}function py(n,e,t,r){return r<=0&&(n=e=t=NaN),new ts(n,e,t,r)}function JJ(n){return n instanceof Sg||(n=Dm(n)),n?(n=n.rgb(),new ts(n.r,n.g,n.b,n.opacity)):new ts}function PS(n,e,t,r){return arguments.length===1?JJ(n):new ts(n,e,t,r??1)}function ts(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}qM(ts,PS,cL(Sg,{brighter(n){return n=n==null?eb:Math.pow(eb,n),new ts(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Nm:Math.pow(Nm,n),new ts(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new ts(lf(this.r),lf(this.g),lf(this.b),tb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:R8,formatHex:R8,formatHex8:$J,formatRgb:B8,toString:B8}));function R8(){return`#${Jc(this.r)}${Jc(this.g)}${Jc(this.b)}`}function $J(){return`#${Jc(this.r)}${Jc(this.g)}${Jc(this.b)}${Jc((isNaN(this.opacity)?1:this.opacity)*255)}`}function B8(){const n=tb(this.opacity);return`${n===1?"rgb(":"rgba("}${lf(this.r)}, ${lf(this.g)}, ${lf(this.b)}${n===1?")":`, ${n})`}`}function tb(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function lf(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Jc(n){return n=lf(n),(n<16?"0":"")+n.toString(16)}function k8(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new ko(n,e,t,r)}function fL(n){if(n instanceof ko)return new ko(n.h,n.s,n.l,n.opacity);if(n instanceof Sg||(n=Dm(n)),!n)return new ko;if(n instanceof ko)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,i=Math.min(e,t,r),s=Math.max(e,t,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(t-r)/a+(t<r)*6:t===s?o=(r-e)/a+2:o=(e-t)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new ko(o,a,l,n.opacity)}function XJ(n,e,t,r){return arguments.length===1?fL(n):new ko(n,e,t,r??1)}function ko(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}qM(ko,XJ,cL(Sg,{brighter(n){return n=n==null?eb:Math.pow(eb,n),new ko(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Nm:Math.pow(Nm,n),new ko(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,i=2*t-r;return new ts(z_(n>=240?n-240:n+120,i,r),z_(n,i,r),z_(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new ko(N8(this.h),my(this.s),my(this.l),tb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=tb(this.opacity);return`${n===1?"hsl(":"hsla("}${N8(this.h)}, ${my(this.s)*100}%, ${my(this.l)*100}%${n===1?")":`, ${n})`}`}}));function N8(n){return n=(n||0)%360,n<0?n+360:n}function my(n){return Math.max(0,Math.min(1,n||0))}function z_(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const dL=n=>()=>n;function YJ(n,e){return function(t){return n+t*e}}function QJ(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function ZJ(n){return(n=+n)==1?hL:function(e,t){return t-e?QJ(e,t,n):dL(isNaN(e)?t:e)}}function hL(n,e){var t=e-n;return t?YJ(n,t):dL(isNaN(n)?e:n)}const L8=function n(e){var t=ZJ(e);function r(i,s){var o=t((i=PS(i)).r,(s=PS(s)).r),a=t(i.g,s.g),l=t(i.b,s.b),u=hL(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=n,r}(1);function mu(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}var IS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,G_=new RegExp(IS.source,"g");function e$(n){return function(){return n}}function t$(n){return function(e){return n(e)+""}}function n$(n,e){var t=IS.lastIndex=G_.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(n=n+"",e=e+"";(r=IS.exec(n))&&(i=G_.exec(e));)(s=i.index)>t&&(s=e.slice(t,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:mu(r,i)})),t=G_.lastIndex;return t<e.length&&(s=e.slice(t),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?t$(l[0].x):e$(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}var D8=180/Math.PI,RS={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function pL(n,e,t,r,i,s){var o,a,l;return(o=Math.sqrt(n*n+e*e))&&(n/=o,e/=o),(l=n*t+e*r)&&(t-=n*l,r-=e*l),(a=Math.sqrt(t*t+r*r))&&(t/=a,r/=a,l/=a),n*r<e*t&&(n=-n,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,n)*D8,skewX:Math.atan(l)*D8,scaleX:o,scaleY:a}}var gy;function r$(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?RS:pL(e.a,e.b,e.c,e.d,e.e,e.f)}function i$(n){return n==null||(gy||(gy=document.createElementNS("http://www.w3.org/2000/svg","g")),gy.setAttribute("transform",n),!(n=gy.transform.baseVal.consolidate()))?RS:(n=n.matrix,pL(n.a,n.b,n.c,n.d,n.e,n.f))}function mL(n,e,t,r){function i(u){return u.length?u.pop()+" ":""}function s(u,c,f,d,m,y){if(u!==f||c!==d){var g=m.push("translate(",null,e,null,t);y.push({i:g-4,x:mu(u,f)},{i:g-2,x:mu(c,d)})}else(f||d)&&m.push("translate("+f+e+d+t)}function o(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:mu(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function a(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:mu(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function l(u,c,f,d,m,y){if(u!==f||c!==d){var g=m.push(i(m)+"scale(",null,",",null,")");y.push({i:g-4,x:mu(u,f)},{i:g-2,x:mu(c,d)})}else(f!==1||d!==1)&&m.push(i(m)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=n(u),c=n(c),s(u.translateX,u.translateY,c.translateX,c.translateY,f,d),o(u.rotate,c.rotate,f,d),a(u.skewX,c.skewX,f,d),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(m){for(var y=-1,g=d.length,v;++y<g;)f[(v=d[y]).i]=v.x(m);return f.join("")}}}var s$=mL(r$,"px, ","px)","deg)"),o$=mL(i$,", ",")",")"),a$=1e-12;function O8(n){return((n=Math.exp(n))+1/n)/2}function l$(n){return((n=Math.exp(n))-1/n)/2}function u$(n){return((n=Math.exp(2*n))-1)/(n+1)}const c$=function n(e,t,r){function i(s,o){var a=s[0],l=s[1],u=s[2],c=o[0],f=o[1],d=o[2],m=c-a,y=f-l,g=m*m+y*y,v,x;if(g<a$)x=Math.log(d/u)/e,v=function(D){return[a+D*m,l+D*y,u*Math.exp(e*D*x)]};else{var w=Math.sqrt(g),b=(d*d-u*u+r*g)/(2*u*t*w),A=(d*d-u*u-r*g)/(2*d*t*w),M=Math.log(Math.sqrt(b*b+1)-b),I=Math.log(Math.sqrt(A*A+1)-A);x=(I-M)/e,v=function(D){var P=D*x,O=O8(M),V=u/(t*w)*(O*u$(e*P+M)-l$(M));return[a+V*m,l+V*y,u*O/O8(e*P+M)]}}return v.duration=x*1e3*e/Math.SQRT2,v}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return n(o,a,l)},i}(Math.SQRT2,2,4);var Bh=0,L0=0,e0=0,gL=1e3,nb,D0,rb=0,Mf=0,iw=0,Om=typeof performance=="object"&&performance.now?performance:Date,vL=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function KM(){return Mf||(vL(f$),Mf=Om.now()+iw)}function f$(){Mf=0}function ib(){this._call=this._time=this._next=null}ib.prototype=yL.prototype={constructor:ib,restart:function(n,e,t){if(typeof n!="function")throw new TypeError("callback is not a function");t=(t==null?KM():+t)+(e==null?0:+e),!this._next&&D0!==this&&(D0?D0._next=this:nb=this,D0=this),this._call=n,this._time=t,BS()},stop:function(){this._call&&(this._call=null,this._time=1/0,BS())}};function yL(n,e,t){var r=new ib;return r.restart(n,e,t),r}function d$(){KM(),++Bh;for(var n=nb,e;n;)(e=Mf-n._time)>=0&&n._call.call(void 0,e),n=n._next;--Bh}function F8(){Mf=(rb=Om.now())+iw,Bh=L0=0;try{d$()}finally{Bh=0,p$(),Mf=0}}function h$(){var n=Om.now(),e=n-rb;e>gL&&(iw-=e,rb=n)}function p$(){for(var n,e=nb,t,r=1/0;e;)e._call?(r>e._time&&(r=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:nb=t);D0=n,BS(r)}function BS(n){if(!Bh){L0&&(L0=clearTimeout(L0));var e=n-Mf;e>24?(n<1/0&&(L0=setTimeout(F8,n-Om.now()-iw)),e0&&(e0=clearInterval(e0))):(e0||(rb=Om.now(),e0=setInterval(h$,gL)),Bh=1,vL(F8))}}function U8(n,e,t){var r=new ib;return e=e==null?0:+e,r.restart(i=>{r.stop(),n(i+e)},e,t),r}var m$=nw("start","end","cancel","interrupt"),g$=[],xL=0,z8=1,kS=2,i1=3,G8=4,NS=5,s1=6;function sw(n,e,t,r,i,s){var o=n.__transition;if(!o)n.__transition={};else if(t in o)return;v$(n,t,{name:e,index:r,group:i,on:m$,tween:g$,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:xL})}function JM(n,e){var t=Jo(n,e);if(t.state>xL)throw new Error("too late; already scheduled");return t}function ka(n,e){var t=Jo(n,e);if(t.state>i1)throw new Error("too late; already running");return t}function Jo(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function v$(n,e,t){var r=n.__transition,i;r[e]=t,t.timer=yL(s,0,t.time);function s(u){t.state=z8,t.timer.restart(o,t.delay,t.time),t.delay<=u&&o(u-t.delay)}function o(u){var c,f,d,m;if(t.state!==z8)return l();for(c in r)if(m=r[c],m.name===t.name){if(m.state===i1)return U8(o);m.state===G8?(m.state=s1,m.timer.stop(),m.on.call("interrupt",n,n.__data__,m.index,m.group),delete r[c]):+c<e&&(m.state=s1,m.timer.stop(),m.on.call("cancel",n,n.__data__,m.index,m.group),delete r[c])}if(U8(function(){t.state===i1&&(t.state=G8,t.timer.restart(a,t.delay,t.time),a(u))}),t.state=kS,t.on.call("start",n,n.__data__,t.index,t.group),t.state===kS){for(t.state=i1,i=new Array(d=t.tween.length),c=0,f=-1;c<d;++c)(m=t.tween[c].value.call(n,n.__data__,t.index,t.group))&&(i[++f]=m);i.length=f+1}}function a(u){for(var c=u<t.duration?t.ease.call(null,u/t.duration):(t.timer.restart(l),t.state=NS,1),f=-1,d=i.length;++f<d;)i[f].call(n,c);t.state===NS&&(t.on.call("end",n,n.__data__,t.index,t.group),l())}function l(){t.state=s1,t.timer.stop(),delete r[e];for(var u in r)return;delete n.__transition}}function o1(n,e){var t=n.__transition,r,i,s=!0,o;if(!!t){e=e==null?null:e+"";for(o in t){if((r=t[o]).name!==e){s=!1;continue}i=r.state>kS&&r.state<NS,r.state=s1,r.timer.stop(),r.on.call(i?"interrupt":"cancel",n,n.__data__,r.index,r.group),delete t[o]}s&&delete n.__transition}}function y$(n){return this.each(function(){o1(this,n)})}function x$(n,e){var t,r;return function(){var i=ka(this,n),s=i.tween;if(s!==t){r=t=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function b$(n,e,t){var r,i;if(typeof t!="function")throw new Error;return function(){var s=ka(this,n),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:t},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=a;break}l===u&&i.push(a)}s.tween=i}}function w$(n,e){var t=this._id;if(n+="",arguments.length<2){for(var r=Jo(this.node(),t).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===n)return o.value;return null}return this.each((e==null?x$:b$)(t,n,e))}function $M(n,e,t){var r=n._id;return n.each(function(){var i=ka(this,r);(i.value||(i.value={}))[e]=t.apply(this,arguments)}),function(i){return Jo(i,r).value[e]}}function bL(n,e){var t;return(typeof e=="number"?mu:e instanceof Dm?L8:(t=Dm(e))?(e=t,L8):n$)(n,e)}function _$(n){return function(){this.removeAttribute(n)}}function A$(n){return function(){this.removeAttributeNS(n.space,n.local)}}function S$(n,e,t){var r,i=t+"",s;return function(){var o=this.getAttribute(n);return o===i?null:o===r?s:s=e(r=o,t)}}function E$(n,e,t){var r,i=t+"",s;return function(){var o=this.getAttributeNS(n.space,n.local);return o===i?null:o===r?s:s=e(r=o,t)}}function C$(n,e,t){var r,i,s;return function(){var o,a=t(this),l;return a==null?void this.removeAttribute(n):(o=this.getAttribute(n),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function M$(n,e,t){var r,i,s;return function(){var o,a=t(this),l;return a==null?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function T$(n,e){var t=rw(n),r=t==="transform"?o$:bL;return this.attrTween(n,typeof e=="function"?(t.local?M$:C$)(t,r,$M(this,"attr."+n,e)):e==null?(t.local?A$:_$)(t):(t.local?E$:S$)(t,r,e))}function P$(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}function I$(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}function R$(n,e){var t,r;function i(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&I$(n,s)),t}return i._value=e,i}function B$(n,e){var t,r;function i(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&P$(n,s)),t}return i._value=e,i}function k$(n,e){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;var r=rw(n);return this.tween(t,(r.local?R$:B$)(r,e))}function N$(n,e){return function(){JM(this,n).delay=+e.apply(this,arguments)}}function L$(n,e){return e=+e,function(){JM(this,n).delay=e}}function D$(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?N$:L$)(e,n)):Jo(this.node(),e).delay}function O$(n,e){return function(){ka(this,n).duration=+e.apply(this,arguments)}}function F$(n,e){return e=+e,function(){ka(this,n).duration=e}}function U$(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?O$:F$)(e,n)):Jo(this.node(),e).duration}function z$(n,e){if(typeof e!="function")throw new Error;return function(){ka(this,n).ease=e}}function G$(n){var e=this._id;return arguments.length?this.each(z$(e,n)):Jo(this.node(),e).ease}function H$(n,e){return function(){var t=e.apply(this,arguments);if(typeof t!="function")throw new Error;ka(this,n).ease=t}}function j$(n){if(typeof n!="function")throw new Error;return this.each(H$(this._id,n))}function V$(n){typeof n!="function"&&(n=QN(n));for(var e=this._groups,t=e.length,r=new Array(t),i=0;i<t;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&n.call(l,l.__data__,u,s)&&a.push(l);return new wl(r,this._parents,this._name,this._id)}function W$(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,r=e.length,i=t.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],u=t[a],c=l.length,f=o[a]=new Array(c),d,m=0;m<c;++m)(d=l[m]||u[m])&&(f[m]=d);for(;a<r;++a)o[a]=e[a];return new wl(o,this._parents,this._name,this._id)}function q$(n){return(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function K$(n,e,t){var r,i,s=q$(e)?JM:ka;return function(){var o=s(this,n),a=o.on;a!==r&&(i=(r=a).copy()).on(e,t),o.on=i}}function J$(n,e){var t=this._id;return arguments.length<2?Jo(this.node(),t).on.on(n):this.each(K$(t,n,e))}function $$(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}function X$(){return this.on("end.remove",$$(this._id))}function Y$(n){var e=this._name,t=this._id;typeof n!="function"&&(n=VM(n));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,u=s[o]=new Array(l),c,f,d=0;d<l;++d)(c=a[d])&&(f=n.call(c,c.__data__,d,a))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,sw(u[d],e,t,d,u,Jo(c,t)));return new wl(s,this._parents,e,t)}function Q$(n){var e=this._name,t=this._id;typeof n!="function"&&(n=YN(n));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],u=l.length,c,f=0;f<u;++f)if(c=l[f]){for(var d=n.call(c,c.__data__,f,l),m,y=Jo(c,t),g=0,v=d.length;g<v;++g)(m=d[g])&&sw(m,e,t,g,d,y);s.push(d),o.push(c)}return new wl(s,o,e,t)}var Z$=Ag.prototype.constructor;function eX(){return new Z$(this._groups,this._parents)}function tX(n,e){var t,r,i;return function(){var s=Rh(this,n),o=(this.style.removeProperty(n),Rh(this,n));return s===o?null:s===t&&o===r?i:i=e(t=s,r=o)}}function wL(n){return function(){this.style.removeProperty(n)}}function nX(n,e,t){var r,i=t+"",s;return function(){var o=Rh(this,n);return o===i?null:o===r?s:s=e(r=o,t)}}function rX(n,e,t){var r,i,s;return function(){var o=Rh(this,n),a=t(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(n),Rh(this,n))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function iX(n,e){var t,r,i,s="style."+e,o="end."+s,a;return function(){var l=ka(this,n),u=l.on,c=l.value[s]==null?a||(a=wL(e)):void 0;(u!==t||i!==c)&&(r=(t=u).copy()).on(o,i=c),l.on=r}}function sX(n,e,t){var r=(n+="")=="transform"?s$:bL;return e==null?this.styleTween(n,tX(n,r)).on("end.style."+n,wL(n)):typeof e=="function"?this.styleTween(n,rX(n,r,$M(this,"style."+n,e))).each(iX(this._id,n)):this.styleTween(n,nX(n,r,e),t).on("end.style."+n,null)}function oX(n,e,t){return function(r){this.style.setProperty(n,e.call(this,r),t)}}function aX(n,e,t){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&oX(n,o,t)),r}return s._value=e,s}function lX(n,e,t){var r="style."+(n+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,aX(n,e,t??""))}function uX(n){return function(){this.textContent=n}}function cX(n){return function(){var e=n(this);this.textContent=e??""}}function fX(n){return this.tween("text",typeof n=="function"?cX($M(this,"text",n)):uX(n==null?"":n+""))}function dX(n){return function(e){this.textContent=n.call(this,e)}}function hX(n){var e,t;function r(){var i=n.apply(this,arguments);return i!==t&&(e=(t=i)&&dX(i)),e}return r._value=n,r}function pX(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,hX(n))}function mX(){for(var n=this._name,e=this._id,t=_L(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var c=Jo(l,e);sw(l,n,t,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new wl(r,this._parents,n,t)}function gX(){var n,e,t=this,r=t._id,i=t.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};t.each(function(){var u=ka(this,r),c=u.on;c!==n&&(e=(n=c).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),u.on=e}),i===0&&s()})}var vX=0;function wl(n,e,t,r){this._groups=n,this._parents=e,this._name=t,this._id=r}function _L(){return++vX}var qa=Ag.prototype;wl.prototype={constructor:wl,select:Y$,selectAll:Q$,selectChild:qa.selectChild,selectChildren:qa.selectChildren,filter:V$,merge:W$,selection:eX,transition:mX,call:qa.call,nodes:qa.nodes,node:qa.node,size:qa.size,empty:qa.empty,each:qa.each,on:J$,attr:T$,attrTween:k$,style:sX,styleTween:lX,text:fX,textTween:pX,remove:X$,tween:w$,delay:D$,duration:U$,ease:G$,easeVarying:j$,end:gX,[Symbol.iterator]:qa[Symbol.iterator]};function yX(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var xX={time:null,delay:0,duration:250,ease:yX};function bX(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}function wX(n){var e,t;n instanceof wl?(e=n._id,n=n._name):(e=_L(),(t=xX).time=KM(),n=n==null?null:n+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&sw(l,n,e,u,o,t||bX(l,e));return new wl(r,this._parents,n,e)}Ag.prototype.interrupt=y$;Ag.prototype.transition=wX;const vy=n=>()=>n;function _X(n,{sourceEvent:e,target:t,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function cl(n,e,t){this.k=n,this.x=e,this.y=t}cl.prototype={constructor:cl,scale:function(n){return n===1?this:new cl(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new cl(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var uf=new cl(1,0,0);cl.prototype;function H_(n){n.stopImmediatePropagation()}function t0(n){n.preventDefault(),n.stopImmediatePropagation()}function AX(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function SX(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function H8(){return this.__zoom||uf}function EX(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function CX(){return navigator.maxTouchPoints||"ontouchstart"in this}function MX(n,e,t){var r=n.invertX(e[0][0])-t[0][0],i=n.invertX(e[1][0])-t[1][0],s=n.invertY(e[0][1])-t[0][1],o=n.invertY(e[1][1])-t[1][1];return n.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function TX(){var n=AX,e=SX,t=MX,r=EX,i=CX,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=c$,u=nw("start","zoom","end"),c,f,d,m=500,y=150,g=0,v=10;function x(_){_.property("__zoom",H8).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",V).filter(i).on("touchstart.zoom",q).on("touchmove.zoom",ne).on("touchend.zoom touchcancel.zoom",H).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(_,T,k,U){var L=_.selection?_.selection():_;L.property("__zoom",H8),_!==L?M(_,T,k,U):L.interrupt().each(function(){I(this,arguments).event(U).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},x.scaleBy=function(_,T,k,U){x.scaleTo(_,function(){var L=this.__zoom.k,F=typeof T=="function"?T.apply(this,arguments):T;return L*F},k,U)},x.scaleTo=function(_,T,k,U){x.transform(_,function(){var L=e.apply(this,arguments),F=this.__zoom,z=k==null?A(L):typeof k=="function"?k.apply(this,arguments):k,B=F.invert(z),E=typeof T=="function"?T.apply(this,arguments):T;return t(b(w(F,E),z,B),L,o)},k,U)},x.translateBy=function(_,T,k,U){x.transform(_,function(){return t(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof k=="function"?k.apply(this,arguments):k),e.apply(this,arguments),o)},null,U)},x.translateTo=function(_,T,k,U,L){x.transform(_,function(){var F=e.apply(this,arguments),z=this.__zoom,B=U==null?A(F):typeof U=="function"?U.apply(this,arguments):U;return t(uf.translate(B[0],B[1]).scale(z.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof k=="function"?-k.apply(this,arguments):-k),F,o)},U,L)};function w(_,T){return T=Math.max(s[0],Math.min(s[1],T)),T===_.k?_:new cl(T,_.x,_.y)}function b(_,T,k){var U=T[0]-k[0]*_.k,L=T[1]-k[1]*_.k;return U===_.x&&L===_.y?_:new cl(_.k,U,L)}function A(_){return[(+_[0][0]+ +_[1][0])/2,(+_[0][1]+ +_[1][1])/2]}function M(_,T,k,U){_.on("start.zoom",function(){I(this,arguments).event(U).start()}).on("interrupt.zoom end.zoom",function(){I(this,arguments).event(U).end()}).tween("zoom",function(){var L=this,F=arguments,z=I(L,F).event(U),B=e.apply(L,F),E=k==null?A(B):typeof k=="function"?k.apply(L,F):k,j=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),X=L.__zoom,N=typeof T=="function"?T.apply(L,F):T,K=l(X.invert(E).concat(j/X.k),N.invert(E).concat(j/N.k));return function(oe){if(oe===1)oe=N;else{var ie=K(oe),fe=j/ie[2];oe=new cl(fe,E[0]-ie[0]*fe,E[1]-ie[1]*fe)}z.zoom(null,oe)}})}function I(_,T,k){return!k&&_.__zooming||new D(_,T)}function D(_,T){this.that=_,this.args=T,this.active=0,this.sourceEvent=null,this.extent=e.apply(_,T),this.taps=0}D.prototype={event:function(_){return _&&(this.sourceEvent=_),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(_,T){return this.mouse&&_!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&_!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&_!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(_){var T=Bo(this.that).datum();u.call(_,this.that,new _X(_,{sourceEvent:this.sourceEvent,target:x,type:_,transform:this.that.__zoom,dispatch:u}),T)}};function P(_,...T){if(!n.apply(this,arguments))return;var k=I(this,T).event(_),U=this.__zoom,L=Math.max(s[0],Math.min(s[1],U.k*Math.pow(2,r.apply(this,arguments)))),F=aa(_);if(k.wheel)(k.mouse[0][0]!==F[0]||k.mouse[0][1]!==F[1])&&(k.mouse[1]=U.invert(k.mouse[0]=F)),clearTimeout(k.wheel);else{if(U.k===L)return;k.mouse=[F,U.invert(F)],o1(this),k.start()}t0(_),k.wheel=setTimeout(z,y),k.zoom("mouse",t(b(w(U,L),k.mouse[0],k.mouse[1]),k.extent,o));function z(){k.wheel=null,k.end()}}function O(_,...T){if(d||!n.apply(this,arguments))return;var k=_.currentTarget,U=I(this,T,!0).event(_),L=Bo(_.view).on("mousemove.zoom",E,!0).on("mouseup.zoom",j,!0),F=aa(_,k),z=_.clientX,B=_.clientY;lL(_.view),H_(_),U.mouse=[F,this.__zoom.invert(F)],o1(this),U.start();function E(X){if(t0(X),!U.moved){var N=X.clientX-z,K=X.clientY-B;U.moved=N*N+K*K>g}U.event(X).zoom("mouse",t(b(U.that.__zoom,U.mouse[0]=aa(X,k),U.mouse[1]),U.extent,o))}function j(X){L.on("mousemove.zoom mouseup.zoom",null),uL(X.view,U.moved),t0(X),U.event(X).end()}}function V(_,...T){if(!!n.apply(this,arguments)){var k=this.__zoom,U=aa(_.changedTouches?_.changedTouches[0]:_,this),L=k.invert(U),F=k.k*(_.shiftKey?.5:2),z=t(b(w(k,F),U,L),e.apply(this,T),o);t0(_),a>0?Bo(this).transition().duration(a).call(M,z,U,_):Bo(this).call(x.transform,z,U,_)}}function q(_,...T){if(!!n.apply(this,arguments)){var k=_.touches,U=k.length,L=I(this,T,_.changedTouches.length===U).event(_),F,z,B,E;for(H_(_),z=0;z<U;++z)B=k[z],E=aa(B,this),E=[E,this.__zoom.invert(E),B.identifier],L.touch0?!L.touch1&&L.touch0[2]!==E[2]&&(L.touch1=E,L.taps=0):(L.touch0=E,F=!0,L.taps=1+!!c);c&&(c=clearTimeout(c)),F&&(L.taps<2&&(f=E[0],c=setTimeout(function(){c=null},m)),o1(this),L.start())}}function ne(_,...T){if(!!this.__zooming){var k=I(this,T).event(_),U=_.changedTouches,L=U.length,F,z,B,E;for(t0(_),F=0;F<L;++F)z=U[F],B=aa(z,this),k.touch0&&k.touch0[2]===z.identifier?k.touch0[0]=B:k.touch1&&k.touch1[2]===z.identifier&&(k.touch1[0]=B);if(z=k.that.__zoom,k.touch1){var j=k.touch0[0],X=k.touch0[1],N=k.touch1[0],K=k.touch1[1],oe=(oe=N[0]-j[0])*oe+(oe=N[1]-j[1])*oe,ie=(ie=K[0]-X[0])*ie+(ie=K[1]-X[1])*ie;z=w(z,Math.sqrt(oe/ie)),B=[(j[0]+N[0])/2,(j[1]+N[1])/2],E=[(X[0]+K[0])/2,(X[1]+K[1])/2]}else if(k.touch0)B=k.touch0[0],E=k.touch0[1];else return;k.zoom("touch",t(b(z,B,E),k.extent,o))}}function H(_,...T){if(!!this.__zooming){var k=I(this,T).event(_),U=_.changedTouches,L=U.length,F,z;for(H_(_),d&&clearTimeout(d),d=setTimeout(function(){d=null},m),F=0;F<L;++F)z=U[F],k.touch0&&k.touch0[2]===z.identifier?delete k.touch0:k.touch1&&k.touch1[2]===z.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(z=aa(z,this),Math.hypot(f[0]-z[0],f[1]-z[1])<v)){var B=Bo(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return x.wheelDelta=function(_){return arguments.length?(r=typeof _=="function"?_:vy(+_),x):r},x.filter=function(_){return arguments.length?(n=typeof _=="function"?_:vy(!!_),x):n},x.touchable=function(_){return arguments.length?(i=typeof _=="function"?_:vy(!!_),x):i},x.extent=function(_){return arguments.length?(e=typeof _=="function"?_:vy([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),x):e},x.scaleExtent=function(_){return arguments.length?(s[0]=+_[0],s[1]=+_[1],x):[s[0],s[1]]},x.translateExtent=function(_){return arguments.length?(o[0][0]=+_[0][0],o[1][0]=+_[1][0],o[0][1]=+_[0][1],o[1][1]=+_[1][1],x):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},x.constrain=function(_){return arguments.length?(t=_,x):t},x.duration=function(_){return arguments.length?(a=+_,x):a},x.interpolate=function(_){return arguments.length?(l=_,x):l},x.on=function(){var _=u.on.apply(u,arguments);return _===u?x:_},x.clickDistance=function(_){return arguments.length?(g=(_=+_)*_,x):Math.sqrt(g)},x.tapDistance=function(_){return arguments.length?(v=+_,x):v},x}const XM=J.exports.createContext(null),PX=XM.Provider,AL="[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#100";function Hn(n,e){const t=J.exports.useContext(XM);if(t===null)throw new Error(AL);return Xq(t,n,e)}const ai=()=>{const n=J.exports.useContext(XM);if(n===null)throw new Error(AL);return J.exports.useMemo(()=>({getState:n.getState,setState:n.setState,subscribe:n.subscribe,destroy:n.destroy}),[n])},IX=n=>n.userSelectionActive?"none":"all";function SL({position:n,children:e,className:t,style:r,...i}){const s=Hn(IX),o=`${n}`.split("-");return te("div",{className:ls(["react-flow__panel",t,...o]),style:{...r,pointerEvents:s},...i,children:e})}function RX({proOptions:n,position:e="bottom-right"}){return n?.hideAttribution?null:te(SL,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:te("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const BX=({x:n,y:e,label:t,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:u,...c})=>{const f=J.exports.useRef(null),[d,m]=J.exports.useState({x:0,y:0,width:0,height:0}),y=ls(["react-flow__edge-textwrapper",u]);return J.exports.useEffect(()=>{if(f.current){const g=f.current.getBBox();m({x:g.x,y:g.y,width:g.width,height:g.height})}},[t]),typeof t>"u"||!t?null:Tt("g",{transform:`translate(${n-d.width/2} ${e-d.height/2})`,className:y,visibility:d.width?"visible":"hidden",...c,children:[i&&te("rect",{width:d.width+2*o[0],x:-o[0],y:-o[1],height:d.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),te("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:f,style:r,children:t}),l]})};var kX=J.exports.memo(BX);const Eg=({path:n,labelX:e,labelY:t,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:l,style:u,markerEnd:c,markerStart:f,interactionWidth:d=20})=>Tt(vr,{children:[te("path",{style:u,d:n,fill:"none",className:"react-flow__edge-path",markerEnd:c,markerStart:f}),d&&te("path",{d:n,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}),r?te(kX,{x:e,y:t,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:l}):null]});Eg.displayName="BaseEdge";function n0(n,e,t){return t===void 0?t:r=>{const i=e().edges.find(s=>s.id===n);i&&t(r,{...i})}}function EL({sourceX:n,sourceY:e,targetX:t,targetY:r}){const i=Math.abs(t-n)/2,s=t<n?t+i:t-i,o=Math.abs(r-e)/2,a=r<e?r+o:r-o;return[s,a,i,o]}function CL({sourceX:n,sourceY:e,targetX:t,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const l=n*.125+i*.375+o*.375+t*.125,u=e*.125+s*.375+a*.375+r*.125,c=Math.abs(l-n),f=Math.abs(u-e);return[l,u,c,f]}var kh;(function(n){n.Strict="strict",n.Loose="loose"})(kh||(kh={}));var gh;(function(n){n.Free="free",n.Vertical="vertical",n.Horizontal="horizontal"})(gh||(gh={}));const YM=n=>({width:n.offsetWidth,height:n.offsetHeight}),vh=(n,e=0,t=1)=>Math.min(Math.max(n,e),t),QM=(n={x:0,y:0},e)=>({x:vh(n.x,e[0][0],e[1][0]),y:vh(n.y,e[0][1],e[1][1])}),ML=n=>n.getRootNode?.()||window?.document,NX=(n,e)=>({x:Math.min(n.x,e.x),y:Math.min(n.y,e.y),x2:Math.max(n.x2,e.x2),y2:Math.max(n.y2,e.y2)}),TL=({x:n,y:e,width:t,height:r})=>({x:n,y:e,x2:n+t,y2:e+r}),LX=({x:n,y:e,x2:t,y2:r})=>({x:n,y:e,width:t-n,height:r-e}),j8=n=>({...n.positionAbsolute||{x:0,y:0},width:n.width||0,height:n.height||0}),LS=(n,e)=>{const t=Math.max(0,Math.min(n.x+n.width,e.x+e.width)-Math.max(n.x,e.x)),r=Math.max(0,Math.min(n.y+n.height,e.y+e.height)-Math.max(n.y,e.y));return Math.ceil(t*r)},DX=n=>!!n.width&&!!n.height&&!!n.x&&!!n.y,PL=n=>!isNaN(n)&&isFinite(n),ei=Symbol.for("internals"),IL=["Enter"," ","Escape"],OX=n=>{};var wu;(function(n){n.Bezier="default",n.Straight="straight",n.Step="step",n.SmoothStep="smoothstep",n.SimpleBezier="simplebezier"})(wu||(wu={}));var sb;(function(n){n.Arrow="arrow",n.ArrowClosed="arrowclosed"})(sb||(sb={}));var wt;(function(n){n.Left="left",n.Top="top",n.Right="right",n.Bottom="bottom"})(wt||(wt={}));function V8({pos:n,x1:e,y1:t,x2:r,y2:i}){return n===wt.Left||n===wt.Right?[.5*(e+r),t]:[e,.5*(t+i)]}function RL({sourceX:n,sourceY:e,sourcePosition:t=wt.Bottom,targetX:r,targetY:i,targetPosition:s=wt.Top}){const[o,a]=V8({pos:t,x1:n,y1:e,x2:r,y2:i}),[l,u]=V8({pos:s,x1:r,y1:i,x2:n,y2:e}),[c,f,d,m]=CL({sourceX:n,sourceY:e,targetX:r,targetY:i,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:u});return[`M${n},${e} C${o},${a} ${l},${u} ${r},${i}`,c,f,d,m]}const ZM=J.exports.memo(({sourceX:n,sourceY:e,targetX:t,targetY:r,sourcePosition:i=wt.Bottom,targetPosition:s=wt.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:m,markerStart:y,interactionWidth:g})=>{const[v,x,w]=RL({sourceX:n,sourceY:e,sourcePosition:i,targetX:t,targetY:r,targetPosition:s});return te(Eg,{path:v,labelX:x,labelY:w,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:m,markerStart:y,interactionWidth:g})});ZM.displayName="SimpleBezierEdge";const W8={[wt.Left]:{x:-1,y:0},[wt.Right]:{x:1,y:0},[wt.Top]:{x:0,y:-1},[wt.Bottom]:{x:0,y:1}},FX=({source:n,sourcePosition:e=wt.Bottom,target:t})=>e===wt.Left||e===wt.Right?n.x<t.x?{x:1,y:0}:{x:-1,y:0}:n.y<t.y?{x:0,y:1}:{x:0,y:-1},q8=(n,e)=>Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2));function UX({source:n,sourcePosition:e=wt.Bottom,target:t,targetPosition:r=wt.Top,center:i,offset:s}){const o=W8[e],a=W8[r],l={x:n.x+o.x*s,y:n.y+o.y*s},u={x:t.x+a.x*s,y:t.y+a.y*s},c=FX({source:l,sourcePosition:e,target:u}),f=c.x!==0?"x":"y",d=c[f];let m=[],y,g;const[v,x,w,b]=EL({sourceX:n.x,sourceY:n.y,targetX:t.x,targetY:t.y});if(o[f]*a[f]===-1){y=i.x||v,g=i.y||x;const M=[{x:y,y:l.y},{x:y,y:u.y}],I=[{x:l.x,y:g},{x:u.x,y:g}];o[f]===d?m=f==="x"?M:I:m=f==="x"?I:M}else{const M=[{x:l.x,y:u.y}],I=[{x:u.x,y:l.y}];if(f==="x"?m=o.x===d?I:M:m=o.y===d?M:I,e!==r){const D=f==="x"?"y":"x",P=o[f]===a[D],O=l[D]>u[D],V=l[D]<u[D];(o[f]===1&&(!P&&O||P&&V)||o[f]!==1&&(!P&&V||P&&O))&&(m=f==="x"?M:I)}y=m[0].x,g=m[0].y}return[[n,l,...m,u,t],y,g,w,b]}function zX(n,e,t,r){const i=Math.min(q8(n,e)/2,q8(e,t)/2,r),{x:s,y:o}=e;if(n.x===s&&s===t.x||n.y===o&&o===t.y)return`L${s} ${o}`;if(n.y===o){const u=n.x<t.x?-1:1,c=n.y<t.y?1:-1;return`L ${s+i*u},${o}Q ${s},${o} ${s},${o+i*c}`}const a=n.x<t.x?1:-1,l=n.y<t.y?-1:1;return`L ${s},${o+i*l}Q ${s},${o} ${s+i*a},${o}`}function DS({sourceX:n,sourceY:e,sourcePosition:t=wt.Bottom,targetX:r,targetY:i,targetPosition:s=wt.Top,borderRadius:o=5,centerX:a,centerY:l,offset:u=20}){const[c,f,d,m,y]=UX({source:{x:n,y:e},sourcePosition:t,target:{x:r,y:i},targetPosition:s,center:{x:a,y:l},offset:u});return[c.reduce((v,x,w)=>{let b="";return w>0&&w<c.length-1?b=zX(c[w-1],x,c[w+1],o):b=`${w===0?"M":"L"}${x.x} ${x.y}`,v+=b,v},""),f,d,m,y]}const ow=J.exports.memo(({sourceX:n,sourceY:e,targetX:t,targetY:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,sourcePosition:f=wt.Bottom,targetPosition:d=wt.Top,markerEnd:m,markerStart:y,pathOptions:g,interactionWidth:v})=>{const[x,w,b]=DS({sourceX:n,sourceY:e,sourcePosition:f,targetX:t,targetY:r,targetPosition:d,borderRadius:g?.borderRadius,offset:g?.offset});return te(Eg,{path:x,labelX:w,labelY:b,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:m,markerStart:y,interactionWidth:v})});ow.displayName="SmoothStepEdge";const e6=J.exports.memo(n=>te(ow,{...n,pathOptions:J.exports.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])}));e6.displayName="StepEdge";function GX({sourceX:n,sourceY:e,targetX:t,targetY:r}){const[i,s,o,a]=EL({sourceX:n,sourceY:e,targetX:t,targetY:r});return[`M ${n},${e}L ${t},${r}`,i,s,o,a]}const t6=J.exports.memo(({sourceX:n,sourceY:e,targetX:t,targetY:r,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:d,interactionWidth:m})=>{const[y,g,v]=GX({sourceX:n,sourceY:e,targetX:t,targetY:r});return te(Eg,{path:y,labelX:g,labelY:v,label:i,labelStyle:s,labelShowBg:o,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:d,interactionWidth:m})});t6.displayName="StraightEdge";function yy(n,e){return n>=0?.5*n:e*25*Math.sqrt(-n)}function K8({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}){switch(n){case wt.Left:return[e-yy(e-r,s),t];case wt.Right:return[e+yy(r-e,s),t];case wt.Top:return[e,t-yy(t-i,s)];case wt.Bottom:return[e,t+yy(i-t,s)]}}function BL({sourceX:n,sourceY:e,sourcePosition:t=wt.Bottom,targetX:r,targetY:i,targetPosition:s=wt.Top,curvature:o=.25}){const[a,l]=K8({pos:t,x1:n,y1:e,x2:r,y2:i,c:o}),[u,c]=K8({pos:s,x1:r,y1:i,x2:n,y2:e,c:o}),[f,d,m,y]=CL({sourceX:n,sourceY:e,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${n},${e} C${a},${l} ${u},${c} ${r},${i}`,f,d,m,y]}const ob=J.exports.memo(({sourceX:n,sourceY:e,targetX:t,targetY:r,sourcePosition:i=wt.Bottom,targetPosition:s=wt.Top,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:m,markerStart:y,pathOptions:g,interactionWidth:v})=>{const[x,w,b]=BL({sourceX:n,sourceY:e,sourcePosition:i,targetX:t,targetY:r,targetPosition:s,curvature:g?.curvature});return te(Eg,{path:x,labelX:w,labelY:b,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:m,markerStart:y,interactionWidth:v})});ob.displayName="BezierEdge";const n6=J.exports.createContext(null),HX=n6.Provider;n6.Consumer;function OS(n,e,t,r,i,s,o){const a=o.elementFromPoint(n.clientX,n.clientY),l=a?.classList.contains("target")||!1,u=a?.classList.contains("source")||!1,c={elementBelow:a,isValid:!1,connection:{source:null,target:null,sourceHandle:null,targetHandle:null},isHoveringHandle:!1};if(a&&(l||u)){c.isHoveringHandle=!0;const f=a.getAttribute("data-nodeid"),d=a.getAttribute("data-handleid"),m=t?{source:f,sourceHandle:d,target:r,targetHandle:i}:{source:r,sourceHandle:i,target:f,targetHandle:d};c.connection=m,(e===kh.Strict?t&&u||!t&&l:!0)&&(c.isValid=s(m))}return c}function j_(n){n?.classList.remove("react-flow__handle-valid"),n?.classList.remove("react-flow__handle-connecting")}function kL({event:n,handleId:e,nodeId:t,onConnect:r,isTarget:i,getState:s,setState:o,isValidConnection:a,elementEdgeUpdaterType:l,onEdgeUpdateEnd:u}){const c=n.target.closest(".react-flow"),f=ML(n.target);if(!f)return;const d=f.elementFromPoint(n.clientX,n.clientY),m=d?.classList.contains("target"),y=d?.classList.contains("source");if(!c||!m&&!y&&!l)return;const{onConnectStart:g,connectionMode:v}=s(),x=l||(m?"target":"source"),w=c.getBoundingClientRect();let b;o({connectionPosition:{x:n.clientX-w.left,y:n.clientY-w.top},connectionNodeId:t,connectionHandleId:e,connectionHandleType:x}),g?.(n,{nodeId:t,handleId:e,handleType:x});function A(I){o({connectionPosition:{x:I.clientX-w.left,y:I.clientY-w.top}});const{connection:D,elementBelow:P,isValid:O,isHoveringHandle:V}=OS(I,v,i,t,e,a,f);if(!V)return j_(b);D.source!==D.target&&P&&(j_(b),b=P,P.classList.add("react-flow__handle-connecting"),P.classList.toggle("react-flow__handle-valid",O))}function M(I){const{connection:D,isValid:P}=OS(I,v,i,t,e,a,f);P&&r?.(D),s().onConnectEnd?.(I),l&&u&&u(I),j_(b),o({connectionNodeId:null,connectionHandleId:null,connectionHandleType:null}),f.removeEventListener("mousemove",A),f.removeEventListener("mouseup",M)}f.addEventListener("mousemove",A),f.addEventListener("mouseup",M)}const jX=n=>"id"in n&&"source"in n&&"target"in n,VX=({source:n,sourceHandle:e,target:t,targetHandle:r})=>`reactflow__edge-${n}${e||""}-${t}${r||""}`,FS=(n,e)=>typeof n>"u"?"":typeof n=="string"?n:`${e?`${e}__`:""}${Object.keys(n).sort().map(r=>`${r}=${n[r]}`).join("&")}`,WX=(n,e)=>e.some(t=>t.source===n.source&&t.target===n.target&&(t.sourceHandle===n.sourceHandle||!t.sourceHandle&&!n.sourceHandle)&&(t.targetHandle===n.targetHandle||!t.targetHandle&&!n.targetHandle)),qX=(n,e)=>{if(!n.source||!n.target)return e;let t;return jX(n)?t={...n}:t={...n,id:VX(n)},WX(t,e)?e:e.concat(t)},KX=({x:n,y:e},[t,r,i],s,[o,a])=>{const l={x:(n-t)/i,y:(e-r)/i};return s?{x:o*Math.round(l.x/o),y:a*Math.round(l.y/a)}:l},r6=n=>{if(n.length===0)return{x:0,y:0,width:0,height:0};const e=n.reduce((t,{positionAbsolute:r,position:i,width:s,height:o})=>NX(t,TL({x:r?r.x:i.x,y:r?r.y:i.y,width:s||0,height:o||0})),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return LX(e)},NL=(n,e,[t,r,i]=[0,0,1],s=!1,o=!1)=>{const a={x:(e.x-t)/i,y:(e.y-r)/i,width:e.width/i,height:e.height/i},l=[];return n.forEach(u=>{const{positionAbsolute:c={x:0,y:0},width:f,height:d,selectable:m=!0}=u;if(o&&!m)return!1;const y={...c,width:f||0,height:d||0},g=LS(a,y),v=typeof f>"u"||typeof d>"u"||f===null||d===null,x=s&&g>0,w=(f||0)*(d||0);(v||x||g>=w||u.dragging)&&l.push(u)}),l},LL=(n,e)=>{const t=n.map(r=>r.id);return e.filter(r=>t.includes(r.source)||t.includes(r.target))},DL=(n,e,t,r,i,s=.1)=>{const o=e/(n.width*(1+s)),a=t/(n.height*(1+s)),l=Math.min(o,a),u=vh(l,r,i),c=n.x+n.width/2,f=n.y+n.height/2,d=e/2-c*u,m=t/2-f*u;return[d,m,u]},Lc=(n,e=0)=>n.transition().duration(e),JX=()=>!0,$X=n=>({connectionStartHandle:n.connectionStartHandle,connectOnClick:n.connectOnClick,noPanClassName:n.noPanClassName}),OL=J.exports.forwardRef(({type:n="source",position:e=wt.Top,isValidConnection:t=JX,isConnectable:r=!0,id:i,onConnect:s,children:o,className:a,onMouseDown:l,...u},c)=>{const f=ai(),d=J.exports.useContext(n6),{connectionStartHandle:m,connectOnClick:y,noPanClassName:g}=Hn($X,fo),v=i||null,x=n==="target",w=M=>{const{defaultEdgeOptions:I,onConnect:D,hasDefaultEdges:P}=f.getState(),O={...I,...M};if(P){const{edges:V}=f.getState();f.setState({edges:qX(O,V)})}D?.(O),s?.(O)},b=M=>{M.button===0&&kL({event:M,handleId:v,nodeId:d,onConnect:w,isTarget:x,getState:f.getState,setState:f.setState,isValidConnection:t}),l?.(M)},A=M=>{const{onClickConnectStart:I,onClickConnectEnd:D,connectionMode:P}=f.getState();if(!m){I?.(M,{nodeId:d,handleId:v,handleType:n}),f.setState({connectionStartHandle:{nodeId:d,type:n,handleId:v}});return}const O=ML(M.target),{connection:V,isValid:q}=OS(M,P,m.type==="target",m.nodeId,m.handleId||null,t,O);q&&w(V),D?.(M),f.setState({connectionStartHandle:null})};return te("div",{"data-handleid":v,"data-nodeid":d,"data-handlepos":e,className:ls(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",g,a,{source:!x,target:x,connectable:r,connecting:m?.nodeId===d&&m?.handleId===v&&m?.type===n}]),onMouseDown:b,onClick:y?A:void 0,ref:c,...u,children:o})});OL.displayName="Handle";var Nh=J.exports.memo(OL);const FL=({data:n,isConnectable:e,targetPosition:t=wt.Top,sourcePosition:r=wt.Bottom})=>Tt(vr,{children:[te(Nh,{type:"target",position:t,isConnectable:e}),n?.label,te(Nh,{type:"source",position:r,isConnectable:e})]});FL.displayName="DefaultNode";var US=J.exports.memo(FL);const UL=({data:n,isConnectable:e,sourcePosition:t=wt.Bottom})=>Tt(vr,{children:[n?.label,te(Nh,{type:"source",position:t,isConnectable:e})]});UL.displayName="InputNode";var zL=J.exports.memo(UL);const GL=({data:n,isConnectable:e,targetPosition:t=wt.Top})=>Tt(vr,{children:[te(Nh,{type:"target",position:t,isConnectable:e}),n?.label]});GL.displayName="OutputNode";var HL=J.exports.memo(GL);const i6=()=>null;i6.displayName="GroupNode";const XX=n=>({selectedNodes:Array.from(n.nodeInternals.values()).filter(e=>e.selected),selectedEdges:n.edges.filter(e=>e.selected)}),xy=n=>n.id;function YX(n,e){return fo(n.selectedNodes.map(xy),e.selectedNodes.map(xy))&&fo(n.selectedEdges.map(xy),e.selectedEdges.map(xy))}const jL=J.exports.memo(({onSelectionChange:n})=>{const e=ai(),{selectedNodes:t,selectedEdges:r}=Hn(XX,YX);return J.exports.useEffect(()=>{const i={nodes:t,edges:r};n?.(i),e.getState().onSelectionChange?.(i)},[t,r,n]),null});jL.displayName="SelectionListener";const QX=n=>!!n.onSelectionChange;function ZX({onSelectionChange:n}){const e=Hn(QX);return n||e?te(jL,{onSelectionChange:n}):null}const eY=n=>({setNodes:n.setNodes,setEdges:n.setEdges,setDefaultNodesAndEdges:n.setDefaultNodesAndEdges,setMinZoom:n.setMinZoom,setMaxZoom:n.setMaxZoom,setTranslateExtent:n.setTranslateExtent,setNodeExtent:n.setNodeExtent,reset:n.reset});function ld(n,e){J.exports.useEffect(()=>{typeof n<"u"&&e(n)},[n])}function vn(n,e,t){J.exports.useEffect(()=>{typeof e<"u"&&t({[n]:e})},[e])}const tY=({nodes:n,edges:e,defaultNodes:t,defaultEdges:r,onConnect:i,onConnectStart:s,onConnectEnd:o,onClickConnectStart:a,onClickConnectEnd:l,nodesDraggable:u,nodesConnectable:c,nodesFocusable:f,edgesFocusable:d,minZoom:m,maxZoom:y,nodeExtent:g,onNodesChange:v,onEdgesChange:x,elementsSelectable:w,connectionMode:b,snapGrid:A,snapToGrid:M,translateExtent:I,connectOnClick:D,defaultEdgeOptions:P,fitView:O,fitViewOptions:V,onNodesDelete:q,onEdgesDelete:ne,onNodeDrag:H,onNodeDragStart:_,onNodeDragStop:T,onSelectionDrag:k,onSelectionDragStart:U,onSelectionDragStop:L,noPanClassName:F,nodeOrigin:z,rfId:B})=>{const{setNodes:E,setEdges:j,setDefaultNodesAndEdges:X,setMinZoom:N,setMaxZoom:K,setTranslateExtent:oe,setNodeExtent:ie,reset:fe}=Hn(eY,fo),ce=ai();return J.exports.useEffect(()=>{const Ee=r?.map(ae=>({...ae,...P}));return X(t,Ee),()=>{fe()}},[]),vn("defaultEdgeOptions",P,ce.setState),vn("connectionMode",b,ce.setState),vn("onConnect",i,ce.setState),vn("onConnectStart",s,ce.setState),vn("onConnectEnd",o,ce.setState),vn("onClickConnectStart",a,ce.setState),vn("onClickConnectEnd",l,ce.setState),vn("nodesDraggable",u,ce.setState),vn("nodesConnectable",c,ce.setState),vn("nodesFocusable",f,ce.setState),vn("edgesFocusable",d,ce.setState),vn("elementsSelectable",w,ce.setState),vn("snapToGrid",M,ce.setState),vn("snapGrid",A,ce.setState),vn("onNodesChange",v,ce.setState),vn("onEdgesChange",x,ce.setState),vn("connectOnClick",D,ce.setState),vn("fitViewOnInit",O,ce.setState),vn("fitViewOnInitOptions",V,ce.setState),vn("onNodesDelete",q,ce.setState),vn("onEdgesDelete",ne,ce.setState),vn("onNodeDrag",H,ce.setState),vn("onNodeDragStart",_,ce.setState),vn("onNodeDragStop",T,ce.setState),vn("onSelectionDrag",k,ce.setState),vn("onSelectionDragStart",U,ce.setState),vn("onSelectionDragStop",L,ce.setState),vn("noPanClassName",F,ce.setState),vn("nodeOrigin",z,ce.setState),vn("rfId",B,ce.setState),ld(n,E),ld(e,j),ld(m,N),ld(y,K),ld(I,oe),ld(g,ie),null},J8={display:"none"},nY={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},VL="react-flow__node-desc",WL="react-flow__edge-desc",rY="react-flow__aria-live",iY=n=>n.ariaLiveMessage;function sY({rfId:n}){const e=Hn(iY);return te("div",{id:`${rY}-${n}`,"aria-live":"assertive","aria-atomic":"true",style:nY,children:e})}function oY({rfId:n,disableKeyboardA11y:e}){return Tt(vr,{children:[Tt("div",{id:`${VL}-${n}`,style:J8,children:["Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),te("div",{id:`${WL}-${n}`,style:J8,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!e&&te(sY,{rfId:n})]})}const aY=(n,e,t)=>t===wt.Left?n-e:t===wt.Right?n+e:n,lY=(n,e,t)=>t===wt.Top?n-e:t===wt.Bottom?n+e:n,$8="react-flow__edgeupdater",X8=({position:n,centerX:e,centerY:t,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:a})=>te("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:ls([$8,`${$8}-${a}`]),cx:aY(e,r,n),cy:lY(t,r,n),r,stroke:"transparent",fill:"transparent"});var ud=n=>{const e=({id:t,className:r,type:i,data:s,onClick:o,onEdgeDoubleClick:a,selected:l,animated:u,label:c,labelStyle:f,labelShowBg:d,labelBgStyle:m,labelBgPadding:y,labelBgBorderRadius:g,style:v,source:x,target:w,sourceX:b,sourceY:A,targetX:M,targetY:I,sourcePosition:D,targetPosition:P,elementsSelectable:O,hidden:V,sourceHandleId:q,targetHandleId:ne,onContextMenu:H,onMouseEnter:_,onMouseMove:T,onMouseLeave:k,edgeUpdaterRadius:U,onEdgeUpdate:L,onEdgeUpdateStart:F,onEdgeUpdateEnd:z,markerEnd:B,markerStart:E,rfId:j,ariaLabel:X,isFocusable:N,pathOptions:K,interactionWidth:oe})=>{const ie=J.exports.useRef(null),[fe,ce]=J.exports.useState(!1),[Ee,ae]=J.exports.useState(!1),me=ai(),xe=J.exports.useMemo(()=>`url(#${FS(E,j)})`,[E,j]),Ne=J.exports.useMemo(()=>`url(#${FS(B,j)})`,[B,j]);if(V)return null;const He=be=>{const{edges:Ye,addSelectedEdges:ee}=me.getState();if(O&&(me.setState({nodesSelectionActive:!1}),ee([t])),o){const ge=Ye.find(Ue=>Ue.id===t);o(be,ge)}},$e=n0(t,me.getState,a),ue=n0(t,me.getState,H),we=n0(t,me.getState,_),Ce=n0(t,me.getState,T),ze=n0(t,me.getState,k),$=(be,Ye)=>{const ee=Ye?w:x,ge=(Ye?ne:q)||null,Ue=Ye?"target":"source",De=()=>!0,je=Ye,lt=me.getState().edges.find(Ae=>Ae.id===t);ae(!0),F?.(be,lt,Ue);const ht=Ae=>{ae(!1),z?.(Ae,lt,Ue)};kL({event:be,handleId:ge,nodeId:ee,onConnect:Ae=>L?.(lt,Ae),isTarget:je,getState:me.getState,setState:me.setState,isValidConnection:De,elementEdgeUpdaterType:Ue,onEdgeUpdateEnd:ht})},W=be=>$(be,!0),le=be=>$(be,!1),Re=()=>ce(!0),Te=()=>ce(!1),ke=!O&&!o,Qe=typeof L<"u",Oe=be=>{if(IL.includes(be.key)&&O){const{unselectNodesAndEdges:Ye,addSelectedEdges:ee,edges:ge}=me.getState();be.key==="Escape"?(ie.current?.blur(),Ye({edges:[ge.find(De=>De.id===t)]})):ee([t])}};return Tt("g",{className:ls(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:l,animated:u,inactive:ke,updating:fe}]),onClick:He,onDoubleClick:$e,onContextMenu:ue,onMouseEnter:we,onMouseMove:Ce,onMouseLeave:ze,onKeyDown:N?Oe:void 0,tabIndex:N?0:void 0,role:N?"button":void 0,"data-testid":`rf__edge-${t}`,"aria-label":X===null?void 0:X||`Edge from ${x} to ${w}`,"aria-describedby":N?`${WL}-${j}`:void 0,ref:ie,children:[!Ee&&te(n,{id:t,source:x,target:w,selected:l,animated:u,label:c,labelStyle:f,labelShowBg:d,labelBgStyle:m,labelBgPadding:y,labelBgBorderRadius:g,data:s,style:v,sourceX:b,sourceY:A,targetX:M,targetY:I,sourcePosition:D,targetPosition:P,sourceHandleId:q,targetHandleId:ne,markerStart:xe,markerEnd:Ne,pathOptions:K,interactionWidth:oe}),Qe&&Tt(vr,{children:[te(X8,{position:D,centerX:b,centerY:A,radius:U,onMouseDown:W,onMouseEnter:Re,onMouseOut:Te,type:"source"}),te(X8,{position:P,centerX:M,centerY:I,radius:U,onMouseDown:le,onMouseEnter:Re,onMouseOut:Te,type:"target"})]})]})};return e.displayName="EdgeWrapper",J.exports.memo(e)};function uY(n){const e={default:ud(n.default||ob),straight:ud(n.bezier||t6),step:ud(n.step||e6),smoothstep:ud(n.step||ow),simplebezier:ud(n.simplebezier||ZM)},t={},r=Object.keys(n).filter(i=>!["default","bezier"].includes(i)).reduce((i,s)=>(i[s]=ud(n[s]||ob),i),t);return{...e,...r}}function Y8(n,e,t=null){const r=(t?.x||0)+e.x,i=(t?.y||0)+e.y,s=t?.width||e.width,o=t?.height||e.height;switch(n){case wt.Top:return{x:r+s/2,y:i};case wt.Right:return{x:r+s,y:i+o/2};case wt.Bottom:return{x:r+s/2,y:i+o};case wt.Left:return{x:r,y:i+o/2}}}function Q8(n,e){if(!n)return null;let t=null;return n.length===1||!e?t=n[0]:e&&(t=n.find(r=>r.id===e)),typeof t>"u"?null:t}const cY=(n,e,t,r,i,s)=>{const o=Y8(t,n,e),a=Y8(s,r,i);return{sourceX:o.x,sourceY:o.y,targetX:a.x,targetY:a.y}};function fY({sourcePos:n,targetPos:e,sourceWidth:t,sourceHeight:r,targetWidth:i,targetHeight:s,width:o,height:a,transform:l}){const u={x:Math.min(n.x,e.x),y:Math.min(n.y,e.y),x2:Math.max(n.x+t,e.x+i),y2:Math.max(n.y+r,e.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=TL({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:o/l[2],height:a/l[2]}),f=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),d=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(f*d)>0}function Z8(n){const e=n?.[ei]?.handleBounds||null,t=!n||!e||!n.width||!n.height||typeof n.positionAbsolute?.x>"u"||typeof n.positionAbsolute?.y>"u";return[{x:n?.positionAbsolute?.x||0,y:n?.positionAbsolute?.y||0,width:n?.width||0,height:n?.height||0},e,!t]}function qL(n,e){if(!n.parentNode)return!1;const t=e.get(n.parentNode);return t?t.selected?!0:qL(t,e):!1}function eI(n,e,t){let r=n;do{if(r?.matches(e))return!0;if(r===t.current)return!1;r=r.parentElement}while(r);return!1}function dY(n,e,t){return Array.from(n.values()).filter(r=>(r.selected||r.id===t)&&(!r.parentNode||!qL(r,n))).map(r=>({id:r.id,position:r.position||{x:0,y:0},positionAbsolute:r.positionAbsolute||{x:0,y:0},distance:{x:e.x-(r.positionAbsolute?.x??0),y:e.y-(r.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:r.extent,parentNode:r.parentNode,width:r.width,height:r.height}))}function KL(n,e,t,r){let i=n.extent||r;if(n.extent==="parent")if(n.parentNode&&n.width&&n.height){const a=t.get(n.parentNode);i=a?.positionAbsolute&&a?.width&&a?.height?[[a.positionAbsolute.x,a.positionAbsolute.y],[a.positionAbsolute.x+a.width-n.width,a.positionAbsolute.y+a.height-n.height]]:i}else i=r;else if(n.extent&&n.parentNode){const a=t.get(n.parentNode),l=a?.positionAbsolute?.x??0,u=a?.positionAbsolute?.y??0;i=[[n.extent[0][0]+l,n.extent[0][1]+u],[n.extent[1][0]+l,n.extent[1][1]+u]]}let s={x:0,y:0};if(n.parentNode){const a=t.get(n.parentNode);s={x:a?.positionAbsolute?.x??0,y:a?.positionAbsolute?.y??0}}const o=i?QM(e,i):e;return{position:{x:o.x-s.x,y:o.y-s.y},positionAbsolute:o}}function V_({nodeId:n,dragItems:e,nodeInternals:t}){const r=e.map(i=>({...t.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[n?r.find(i=>i.id===n):r[0],r]}const tI=(n,e,t,r)=>{const i=e.querySelectorAll(n);if(!i||!i.length)return null;const s=Array.from(i),o=e.getBoundingClientRect(),a={x:o.width*r[0],y:o.height*r[1]};return s.map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(u.left-o.left-a.x)/t,y:(u.top-o.top-a.y)/t,...YM(l)}})};function r0(n,e,t){return t===void 0?t:r=>{const i=e().nodeInternals.get(n);t(r,{...i})}}function zS({id:n,store:e,unselect:t=!1}){const{addSelectedNodes:r,unselectNodesAndEdges:i,multiSelectionActive:s,nodeInternals:o}=e.getState(),a=o.get(n);e.setState({nodesSelectionActive:!1}),a.selected?(t||a.selected&&s)&&i({nodes:[a]}):r([n])}function W_(n){return(e,t,r)=>n?.(e,r)}function JL({nodeRef:n,disabled:e=!1,noDragClassName:t,handleSelector:r,nodeId:i,isSelectable:s,selectNodesOnDrag:o}){const[a,l]=J.exports.useState(!1),u=ai(),c=J.exports.useRef(),f=J.exports.useRef({x:null,y:null}),d=J.exports.useCallback(({sourceEvent:m})=>{const{transform:y,snapGrid:g,snapToGrid:v}=u.getState(),x=m.touches?m.touches[0].clientX:m.clientX,w=m.touches?m.touches[0].clientY:m.clientY,b={x:(x-y[0])/y[2],y:(w-y[1])/y[2]};return{xSnapped:v?g[0]*Math.round(b.x/g[0]):b.x,ySnapped:v?g[1]*Math.round(b.y/g[1]):b.y,...b}},[]);return J.exports.useEffect(()=>{if(n?.current){const m=Bo(n.current);if(e)m.on(".drag",null);else{const y=FJ().on("start",g=>{const{nodeInternals:v,multiSelectionActive:x,unselectNodesAndEdges:w,onNodeDragStart:b,onSelectionDragStart:A}=u.getState(),M=i?b:W_(A);!o&&!x&&i&&(v.get(i)?.selected||w()),i&&s&&o&&zS({id:i,store:u});const I=d(g);if(f.current=I,c.current=dY(v,I,i),M&&c.current){const[D,P]=V_({nodeId:i,dragItems:c.current,nodeInternals:v});M(g.sourceEvent,D,P)}}).on("drag",g=>{const{updateNodePositions:v,nodeInternals:x,nodeExtent:w,onNodeDrag:b,onSelectionDrag:A,snapGrid:M,snapToGrid:I}=u.getState(),D=d(g);if((f.current.x!==D.xSnapped||f.current.y!==D.ySnapped)&&c.current){f.current={x:D.xSnapped,y:D.ySnapped},c.current=c.current.map(O=>{const V={x:D.x-O.distance.x,y:D.y-O.distance.y};I&&(V.x=M[0]*Math.round(V.x/M[0]),V.y=M[1]*Math.round(V.y/M[1]));const q=KL(O,V,x,w);return O.position=q.position,O.positionAbsolute=q.positionAbsolute,O});const P=i?b:W_(A);if(v(c.current,!0,!0),l(!0),P){const[O,V]=V_({nodeId:i,dragItems:c.current,nodeInternals:x});P(g.sourceEvent,O,V)}}}).on("end",g=>{if(l(!1),c.current){const{updateNodePositions:v,nodeInternals:x,onNodeDragStop:w,onSelectionDragStop:b}=u.getState(),A=i?w:W_(b);if(v(c.current,!1,!1),A){const[M,I]=V_({nodeId:i,dragItems:c.current,nodeInternals:x});A(g.sourceEvent,M,I)}}}).filter(g=>{const v=g.target;return!g.button&&(!t||!eI(v,`.${t}`,n))&&(!r||eI(v,r,n))});return m.call(y),()=>{m.on(".drag",null)}}}},[n,e,t,r,s,u,i,o,d]),a}function $L(){const n=ai();return J.exports.useCallback(t=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:s,snapToGrid:o,snapGrid:a}=n.getState(),u=Array.from(r.values()).filter(c=>c.selected).map(c=>{if(c.positionAbsolute){const f={x:c.positionAbsolute.x+t.x,y:c.positionAbsolute.y+t.y};o&&(f.x=a[0]*Math.round(f.x/a[0]),f.y=a[1]*Math.round(f.y/a[1]));const d=KL(c,f,r,i);c.position=d.position,c.positionAbsolute=d.positionAbsolute}return c});s(u,!0,!0)},[])}const Q0={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var i0=n=>{const e=({id:t,type:r,data:i,xPos:s,yPos:o,xPosOrigin:a,yPosOrigin:l,selected:u,onClick:c,onMouseEnter:f,onMouseMove:d,onMouseLeave:m,onContextMenu:y,onDoubleClick:g,style:v,className:x,isDraggable:w,isSelectable:b,isConnectable:A,isFocusable:M,selectNodesOnDrag:I,sourcePosition:D,targetPosition:P,hidden:O,resizeObserver:V,dragHandle:q,zIndex:ne,isParent:H,noDragClassName:_,noPanClassName:T,initialized:k,disableKeyboardA11y:U,ariaLabel:L,rfId:F})=>{const z=ai(),B=J.exports.useRef(null),E=J.exports.useRef(D),j=J.exports.useRef(P),X=J.exports.useRef(r),N=b||w||c||f||d||m,K=$L(),oe=r0(t,z.getState,f),ie=r0(t,z.getState,d),fe=r0(t,z.getState,m),ce=r0(t,z.getState,y),Ee=r0(t,z.getState,g),ae=Ne=>{if(b&&(!I||!w)&&zS({id:t,store:z}),c){const He=z.getState().nodeInternals.get(t);c(Ne,{...He})}},me=Ne=>{const{snapGrid:He,snapToGrid:$e}=z.getState();if(IL.includes(Ne.key)&&b){const ue=Ne.key==="Escape";ue&&B.current?.blur(),zS({id:t,store:z,unselect:ue})}else if(!U&&w&&u&&Object.prototype.hasOwnProperty.call(Q0,Ne.key)){z.setState({ariaLiveMessage:`Moved selected node ${Ne.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~o}`});const ue=$e?He[0]:5,we=$e?He[1]:5,Ce=Ne.shiftKey?4:1;K({x:Q0[Ne.key].x*ue*Ce,y:Q0[Ne.key].y*we*Ce})}};J.exports.useEffect(()=>{if(B.current&&!O){const Ne=B.current;return V?.observe(Ne),()=>V?.unobserve(Ne)}},[O]),J.exports.useEffect(()=>{const Ne=X.current!==r,He=E.current!==D,$e=j.current!==P;B.current&&(Ne||He||$e)&&(Ne&&(X.current=r),He&&(E.current=D),$e&&(j.current=P),z.getState().updateNodeDimensions([{id:t,nodeElement:B.current,forceUpdate:!0}]))},[t,r,D,P]);const xe=JL({nodeRef:B,disabled:O||!w,noDragClassName:_,handleSelector:q,nodeId:t,isSelectable:b,selectNodesOnDrag:I});return O?null:te("div",{className:ls(["react-flow__node",`react-flow__node-${r}`,{[T]:w},x,{selected:u,selectable:b,parent:H,dragging:xe}]),ref:B,style:{zIndex:ne,transform:`translate(${a}px,${l}px)`,pointerEvents:N?"all":"none",visibility:k?"visible":"hidden",...v},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:oe,onMouseMove:ie,onMouseLeave:fe,onContextMenu:ce,onClick:ae,onDoubleClick:Ee,onKeyDown:M?me:void 0,tabIndex:M?0:void 0,role:M?"button":void 0,"aria-describedby":U?void 0:`${VL}-${F}`,"aria-label":L,children:te(HX,{value:t,children:te(n,{id:t,data:i,type:r,xPos:s,yPos:o,selected:u,isConnectable:A,sourcePosition:D,targetPosition:P,dragging:xe,dragHandle:q,zIndex:ne})})})};return e.displayName="NodeWrapper",J.exports.memo(e)};function hY(n){const e={input:i0(n.input||zL),default:i0(n.default||US),output:i0(n.output||HL),group:i0(n.group||i6)},t={},r=Object.keys(n).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,s)=>(i[s]=i0(n[s]||US),i),t);return{...e,...r}}const pY=({x:n,y:e,width:t,height:r,origin:i})=>!t||!r?{x:n,y:e}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:n,y:e}:{x:n-t*i[0],y:e-r*i[1]},mY=typeof document<"u"?document:null;var ab=(n=null,e={target:mY})=>{const[t,r]=J.exports.useState(!1),i=J.exports.useRef(new Set([])),[s,o]=J.exports.useMemo(()=>{if(n!==null){const l=(Array.isArray(n)?n:[n]).filter(c=>typeof c=="string").map(c=>c.split("+")),u=l.reduce((c,f)=>c.concat(...f),[]);return[l,u]}return[[],[]]},[n]);return J.exports.useEffect(()=>{if(n!==null){const a=c=>{if(iI(c))return!1;const f=rI(c.code,o);i.current.add(c[f]),nI(s,i.current,!1)&&(c.preventDefault(),r(!0))},l=c=>{if(iI(c))return!1;const f=rI(c.code,o);nI(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(c[f])},u=()=>{i.current.clear(),r(!1)};return e?.target?.addEventListener("keydown",a),e?.target?.addEventListener("keyup",l),window.addEventListener("blur",u),()=>{e?.target?.removeEventListener("keydown",a),e?.target?.removeEventListener("keyup",l),window.removeEventListener("blur",u)}}},[n,r]),t};function nI(n,e,t){return n.filter(r=>t||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function rI(n,e){return e.includes(n)?"code":"key"}function iI(n){const e=n.composedPath?.()[0]||n.target;return["INPUT","SELECT","TEXTAREA"].includes(e?.nodeName)||e?.hasAttribute("contenteditable")||!!e?.closest(".nokey")}function XL(n,e,t,r){if(!n.parentNode)return r;const i=e.get(n.parentNode);return XL(i,e,t,{x:(r.x??0)+(i.position?.x??0),y:(r.y??0)+(i.position?.y??0),z:(i[ei]?.z??0)>(r.z??0)?i[ei]?.z??0:r.z??0})}function q_(n,e){const t=new Map,r={};return n.forEach(i=>{const s=PL(i.zIndex)?i.zIndex:i.selected?1e3:0,o=e.get(i.id),a={width:o?.width,height:o?.height,...i,positionAbsolute:{x:i.position.x,y:i.position.y}};i.parentNode&&(a.parentNode=i.parentNode,r[i.parentNode]=!0),Object.defineProperty(a,ei,{enumerable:!1,value:{handleBounds:o?.[ei]?.handleBounds,z:s}}),t.set(i.id,a)}),t.forEach(i=>{if(i.parentNode&&!t.has(i.parentNode))throw new Error(`Parent node ${i.parentNode} not found`);if(i.parentNode||r[i.id]){const{x:s,y:o,z:a}=XL(i,t,r,{...i.position,z:i[ei]?.z??0});i.positionAbsolute={x:s,y:o},i[ei].z=a,r[i.id]&&(i[ei].isParent=!0)}}),t}function YL(n,e={}){const{nodeInternals:t,width:r,height:i,minZoom:s,maxZoom:o,d3Zoom:a,d3Selection:l,fitViewOnInitDone:u,fitViewOnInit:c}=n();if((e.initial&&!u&&c||!e.initial)&&a&&l){const f=Array.from(t.values()).filter(m=>e.includeHiddenNodes?m.width&&m.height:!m.hidden),d=f.every(m=>m.width&&m.height);if(f.length>0&&d){const m=r6(f),[y,g,v]=DL(m,r,i,e.minZoom??s,e.maxZoom??o,e.padding??.1),x=uf.translate(y,g).scale(v);return typeof e.duration=="number"&&e.duration>0?a.transform(Lc(l,e.duration),x):a.transform(l,x),!0}}return!1}function gY(n,e){return n.forEach(t=>{const r=e.get(t.id);r&&e.set(r.id,{...r,[ei]:r[ei],selected:t.selected})}),new Map(e)}function vY(n,e){return e.map(t=>{const r=n.find(i=>i.id===t.id);return r&&(t.selected=r.selected),t})}function by({changedNodes:n,changedEdges:e,get:t,set:r}){const{nodeInternals:i,edges:s,onNodesChange:o,onEdgesChange:a,hasDefaultNodes:l,hasDefaultEdges:u}=t();n?.length&&(l&&r({nodeInternals:gY(n,i)}),o?.(n)),e?.length&&(u&&r({edges:vY(e,s)}),a?.(e))}const Ac=()=>{},yY={zoomIn:Ac,zoomOut:Ac,zoomTo:Ac,getZoom:()=>1,setViewport:Ac,getViewport:()=>({x:0,y:0,zoom:1}),fitView:Ac,setCenter:Ac,fitBounds:Ac,project:n=>n,viewportInitialized:!1},xY=n=>({d3Zoom:n.d3Zoom,d3Selection:n.d3Selection}),bY=()=>{const n=ai(),{d3Zoom:e,d3Selection:t}=Hn(xY,fo);return J.exports.useMemo(()=>t&&e?{zoomIn:i=>e.scaleBy(Lc(t,i?.duration),1.2),zoomOut:i=>e.scaleBy(Lc(t,i?.duration),1/1.2),zoomTo:(i,s)=>e.scaleTo(Lc(t,s?.duration),i),getZoom:()=>n.getState().transform[2],setViewport:(i,s)=>{const[o,a,l]=n.getState().transform,u=uf.translate(i.x??o,i.y??a).scale(i.zoom??l);e.transform(Lc(t,s?.duration),u)},getViewport:()=>{const[i,s,o]=n.getState().transform;return{x:i,y:s,zoom:o}},fitView:i=>YL(n.getState,i),setCenter:(i,s,o)=>{const{width:a,height:l,maxZoom:u}=n.getState(),c=typeof o?.zoom<"u"?o.zoom:u,f=a/2-i*c,d=l/2-s*c,m=uf.translate(f,d).scale(c);e.transform(Lc(t,o?.duration),m)},fitBounds:(i,s)=>{const{width:o,height:a,minZoom:l,maxZoom:u}=n.getState(),[c,f,d]=DL(i,o,a,l,u,s?.padding??.1),m=uf.translate(c,f).scale(d);e.transform(Lc(t,s?.duration),m)},project:i=>{const{transform:s,snapToGrid:o,snapGrid:a}=n.getState();return KX(i,s,o,a)},viewportInitialized:!0}:yY,[e,t])};function Nl(){const n=bY(),e=ai(),t=J.exports.useCallback(()=>{const{nodeInternals:g}=e.getState();return Array.from(g.values()).map(x=>({...x}))},[]),r=J.exports.useCallback(g=>{const{nodeInternals:v}=e.getState();return v.get(g)},[]),i=J.exports.useCallback(()=>{const{edges:g=[]}=e.getState();return g.map(v=>({...v}))},[]),s=J.exports.useCallback(g=>{const{edges:v=[]}=e.getState();return v.find(x=>x.id===g)},[]),o=J.exports.useCallback(g=>{const{nodeInternals:v,setNodes:x,hasDefaultNodes:w,onNodesChange:b}=e.getState(),A=Array.from(v.values()),M=typeof g=="function"?g(A):g;if(w)x(M);else if(b){const I=M.length===0?A.map(D=>({type:"remove",id:D.id})):M.map(D=>({item:D,type:"reset"}));b(I)}},[]),a=J.exports.useCallback(g=>{const{edges:v=[],setEdges:x,hasDefaultEdges:w,onEdgesChange:b}=e.getState(),A=typeof g=="function"?g(v):g;if(w)x(A);else if(b){const M=A.length===0?v.map(I=>({type:"remove",id:I.id})):A.map(I=>({item:I,type:"reset"}));b(M)}},[]),l=J.exports.useCallback(g=>{const v=Array.isArray(g)?g:[g],{nodeInternals:x,setNodes:w,hasDefaultNodes:b,onNodesChange:A}=e.getState();if(b){const I=[...Array.from(x.values()),...v];w(I)}else if(A){const M=v.map(I=>({item:I,type:"add"}));A(M)}},[]),u=J.exports.useCallback(g=>{const v=Array.isArray(g)?g:[g],{edges:x=[],setEdges:w,hasDefaultEdges:b,onEdgesChange:A}=e.getState();if(b)w([...x,...v]);else if(A){const M=v.map(I=>({item:I,type:"add"}));A(M)}},[]),c=J.exports.useCallback(()=>{const{nodeInternals:g,edges:v=[],transform:x}=e.getState(),w=Array.from(g.values()),[b,A,M]=x;return{nodes:w.map(I=>({...I})),edges:v.map(I=>({...I})),viewport:{x:b,y:A,zoom:M}}},[]),f=J.exports.useCallback(({nodes:g,edges:v})=>{const{nodeInternals:x,edges:w,hasDefaultNodes:b,hasDefaultEdges:A,onNodesDelete:M,onEdgesDelete:I,onNodesChange:D,onEdgesChange:P}=e.getState(),O=Array.from(x.values()),V=(g||[]).map(T=>T.id),q=(v||[]).map(T=>T.id),ne=O.reduce((T,k)=>{const U=!V.includes(k.id)&&k.parentNode&&T.find(F=>F.id===k.parentNode);return(typeof k.deletable=="boolean"?k.deletable:!0)&&(V.includes(k.id)||U)&&T.push(k),T},[]),H=w.filter(T=>typeof T.deletable=="boolean"?T.deletable:!0),_=H.filter(T=>q.includes(T.id));if(ne||_){const T=LL(ne,H),k=[..._,...T],U=k.reduce((L,F)=>(L.includes(F.id)||L.push(F.id),L),[]);if((A||b)&&(A&&e.setState({edges:w.filter(L=>!U.includes(L.id))}),b&&(ne.forEach(L=>{x.delete(L.id)}),e.setState({nodeInternals:new Map(x)}))),U.length>0&&(I?.(k),P&&P(U.map(L=>({id:L,type:"remove"})))),ne.length>0&&(M?.(ne),D)){const L=ne.map(F=>({id:F.id,type:"remove"}));D(L)}}},[]),d=J.exports.useCallback(g=>{const v=DX(g),x=v?null:e.getState().nodeInternals.get(g.id);return[v?g:j8(x),x,v]},[]),m=J.exports.useCallback((g,v=!0,x)=>{const[w,b,A]=d(g);return w?(x||Array.from(e.getState().nodeInternals.values())).filter(M=>{if(!A&&(M.id===b.id||!M.positionAbsolute))return!1;const I=j8(M),D=LS(I,w);return v&&D>0||D>=g.width*g.height}):[]},[]),y=J.exports.useCallback((g,v,x=!0)=>{const[w]=d(g);if(!w)return!1;const b=LS(w,v);return x&&b>0||b>=g.width*g.height},[]);return J.exports.useMemo(()=>({...n,getNodes:t,getNode:r,getEdges:i,getEdge:s,setNodes:o,setEdges:a,addNodes:l,addEdges:u,toObject:c,deleteElements:f,getIntersectingNodes:m,isNodeIntersecting:y}),[n,t,r,i,s,o,a,l,u,c,f,m,y])}var wY=({deleteKeyCode:n,multiSelectionKeyCode:e})=>{const t=ai(),{deleteElements:r}=Nl(),i=ab(n),s=ab(e);J.exports.useEffect(()=>{if(i){const{nodeInternals:o,edges:a}=t.getState(),u=Array.from(o.values()).filter(f=>f.selected),c=a.filter(f=>f.selected);r({nodes:u,edges:c}),t.setState({nodesSelectionActive:!1})}},[i]),J.exports.useEffect(()=>{t.setState({multiSelectionActive:s})},[s])};function _Y(n){const e=ai();J.exports.useEffect(()=>{let t;const r=()=>{if(!n.current)return;const i=YM(n.current);i.height===0||i.width,e.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),n.current&&(t=new ResizeObserver(()=>r()),t.observe(n.current)),()=>{window.removeEventListener("resize",r),t&&n.current&&t.unobserve(n.current)}},[])}const s6={position:"absolute",width:"100%",height:"100%",top:0,left:0},AY=(n,e)=>n.x!==e.x||n.y!==e.y||n.zoom!==e.k,K_=n=>({x:n.x,y:n.y,zoom:n.k}),wy=(n,e)=>n.target.closest(`.${e}`),SY=n=>({d3Zoom:n.d3Zoom,d3Selection:n.d3Selection,d3ZoomHandler:n.d3ZoomHandler}),EY=({onMove:n,onMoveStart:e,onMoveEnd:t,zoomOnScroll:r=!0,zoomOnPinch:i=!0,panOnScroll:s=!1,panOnScrollSpeed:o=.5,panOnScrollMode:a=gh.Free,zoomOnDoubleClick:l=!0,selectionKeyPressed:u,elementsSelectable:c,panOnDrag:f=!0,defaultViewport:d,translateExtent:m,minZoom:y,maxZoom:g,zoomActivationKeyCode:v,preventScrolling:x=!0,children:w,noWheelClassName:b,noPanClassName:A})=>{const M=J.exports.useRef(),I=ai(),D=J.exports.useRef(!1),P=J.exports.useRef(null),O=J.exports.useRef({x:0,y:0,zoom:0}),{d3Zoom:V,d3Selection:q,d3ZoomHandler:ne}=Hn(SY,fo),H=ab(v);return _Y(P),J.exports.useEffect(()=>{if(P.current){const _=TX().scaleExtent([y,g]).translateExtent(m),T=Bo(P.current).call(_),k=vh(d.x,m[0][0],m[1][0]),U=vh(d.y,m[0][1],m[1][1]),L=vh(d.zoom,y,g),F=uf.translate(k,U).scale(L);_.transform(T,F),I.setState({d3Zoom:_,d3Selection:T,d3ZoomHandler:T.on("wheel.zoom"),transform:[k,U,L],domNode:P.current.closest(".react-flow")})}},[]),J.exports.useEffect(()=>{q&&V&&(s&&!H?q.on("wheel.zoom",_=>{if(wy(_,b))return!1;_.preventDefault(),_.stopImmediatePropagation();const T=q.property("__zoom").k||1;if(_.ctrlKey&&i){const F=aa(_),z=-_.deltaY*(_.deltaMode===1?.05:_.deltaMode?1:.002)*10,B=T*Math.pow(2,z);V.scaleTo(q,B,F);return}const k=_.deltaMode===1?20:1,U=a===gh.Vertical?0:_.deltaX*k,L=a===gh.Horizontal?0:_.deltaY*k;V.translateBy(q,-(U/T)*o,-(L/T)*o)}):typeof ne<"u"&&q.on("wheel.zoom",function(_,T){if(!x||wy(_,b))return null;_.preventDefault(),ne.call(this,_,T)}))},[s,a,q,V,ne,H,i,x,b]),J.exports.useEffect(()=>{V&&(u&&!D.current?V.on("zoom",null):u||V.on("zoom",_=>{const{onViewportChange:T}=I.getState();if(I.setState({transform:[_.transform.x,_.transform.y,_.transform.k]}),n||T){const k=K_(_.transform);T?.(k),n?.(_.sourceEvent,k)}}))},[u,V,n]),J.exports.useEffect(()=>{V&&V.on("start",_=>{if(!_.sourceEvent)return null;const{onViewportChangeStart:T}=I.getState();if(D.current=!0,_.sourceEvent?.type==="mousedown"&&I.setState({paneDragging:!0}),e||T){const k=K_(_.transform);O.current=k,T?.(k),e?.(_.sourceEvent,k)}})},[V,e]),J.exports.useEffect(()=>{V&&V.on("end",_=>{if(!_.sourceEvent)return null;const{onViewportChangeEnd:T}=I.getState();if(D.current=!1,I.setState({paneDragging:!1}),(t||T)&&AY(O.current,_.transform)){const k=K_(_.transform);O.current=k,clearTimeout(M.current),M.current=setTimeout(()=>{T?.(k),t?.(_.sourceEvent,k)},s?150:0)}})},[V,t,s]),J.exports.useEffect(()=>{V&&V.filter(_=>{const T=H||r,k=i&&_.ctrlKey;return _.button===1&&_.type==="mousedown"&&_.target.closest(".react-flow__node")?!0:!f&&!T&&!s&&!l&&!i||u||!l&&_.type==="dblclick"||wy(_,b)&&_.type==="wheel"||wy(_,A)&&_.type!=="wheel"||!i&&_.ctrlKey&&_.type==="wheel"||!T&&!s&&!k&&_.type==="wheel"||!f&&(_.type==="mousedown"||_.type==="touchstart")?!1:(!_.ctrlKey||_.type==="wheel")&&(!_.button||_.button<=1)})},[V,r,i,s,l,f,u,c,H]),te("div",{className:"react-flow__renderer",ref:P,style:s6,children:w})};function sI(n,e){const t=n.find(r=>r.id===e.parentNode);if(t){const r=e.position.x+e.width-t.width,i=e.position.y+e.height-t.height;if(r>0||i>0||e.position.x<0||e.position.y<0){if(t.style={...t.style},t.style.width=t.style.width??t.width,t.style.height=t.style.height??t.height,r>0&&(t.style.width+=r),i>0&&(t.style.height+=i),e.position.x<0){const s=Math.abs(e.position.x);t.position.x=t.position.x-s,t.style.width+=s,e.position.x=0}if(e.position.y<0){const s=Math.abs(e.position.y);t.position.y=t.position.y-s,t.style.height+=s,e.position.y=0}t.width=t.style.width,t.height=t.style.height}}}function QL(n,e){if(n.some(r=>r.type==="reset"))return n.filter(r=>r.type==="reset").map(r=>r.item);const t=n.filter(r=>r.type==="add").map(r=>r.item);return e.reduce((r,i)=>{const s=n.find(o=>o.id===i.id);if(s)switch(s.type){case"select":return r.push({...i,selected:s.selected}),r;case"position":{const o={...i};return typeof s.position<"u"&&(o.position=s.position),typeof s.positionAbsolute<"u"&&(o.positionAbsolute=s.positionAbsolute),typeof s.dragging<"u"&&(o.dragging=s.dragging),o.expandParent&&sI(r,o),r.push(o),r}case"dimensions":{const o={...i};return typeof s.dimensions<"u"&&(o.width=s.dimensions.width,o.height=s.dimensions.height),o.expandParent&&sI(r,o),r.push(o),r}case"remove":return r}return r.push(i),r},t)}function ZL(n,e){return QL(n,e)}function CY(n,e){return QL(n,e)}const gu=(n,e)=>({id:n,type:"select",selected:e});function $d(n,e){return n.reduce((t,r)=>{const i=e.includes(r.id);return!r.selected&&i?(r.selected=!0,t.push(gu(r.id,!0))):r.selected&&!i&&(r.selected=!1,t.push(gu(r.id,!1))),t},[])}function oI(n,e){return{x:n.clientX-e.left,y:n.clientY-e.top}}const MY=n=>({userSelectionActive:n.userSelectionActive,elementsSelectable:n.elementsSelectable}),aI={startX:0,startY:0,x:0,y:0,width:0,height:0,draw:!1},eD=J.exports.memo(({selectionKeyPressed:n})=>{const e=ai(),t=J.exports.useRef(0),r=J.exports.useRef(0),i=J.exports.useRef(),[s,o]=J.exports.useState(aI),{userSelectionActive:a,elementsSelectable:l}=Hn(MY,fo);if(!l||!(a||n))return null;const c=()=>{o(aI),e.setState({userSelectionActive:!1}),t.current=0,r.current=0};return te("div",{className:"react-flow__selectionpane react-flow__container",onMouseDown:g=>{const v=g.target.closest(".react-flow");i.current=v.getBoundingClientRect();const x=oI(g,i.current);o({width:0,height:0,startX:x.x,startY:x.y,x:x.x,y:x.y,draw:!0}),e.setState({userSelectionActive:!0,nodesSelectionActive:!1})},onMouseMove:g=>{if(!n||!s.draw||!i.current)return;const v=oI(g,i.current),x=s.startX??0,w=s.startY??0,b={...s,x:v.x<x?v.x:x,y:v.y<w?v.y:w,width:Math.abs(v.x-x),height:Math.abs(v.y-w)},{nodeInternals:A,edges:M,transform:I,onNodesChange:D,onEdgesChange:P}=e.getState(),O=Array.from(A.values()),V=NL(A,b,I,!1,!0),q=LL(V,M).map(H=>H.id),ne=V.map(H=>H.id);if(t.current!==ne.length){t.current=ne.length;const H=$d(O,ne);H.length&&D?.(H)}if(r.current!==q.length){r.current=q.length;const H=$d(M,q);H.length&&P?.(H)}o(b)},onMouseUp:()=>{e.setState({nodesSelectionActive:t.current>0}),c()},onMouseLeave:()=>{e.setState({nodesSelectionActive:!1}),c()},children:s.draw&&te("div",{className:"react-flow__selection react-flow__container",style:{width:s.width,height:s.height,transform:`translate(${s.x}px, ${s.y}px)`}})})});eD.displayName="UserSelection";const TY=n=>({transformString:`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]})`,userSelectionActive:n.userSelectionActive,...r6(Array.from(n.nodeInternals.values()).filter(e=>e.selected))}),PY=n=>{const e=Array.from(n.nodeInternals.values()).filter(t=>t.selected);return r6(e)};function IY({onSelectionContextMenu:n,noPanClassName:e,disableKeyboardA11y:t}){const r=ai(),{transformString:i,userSelectionActive:s}=Hn(TY,fo),{width:o,height:a,x:l,y:u}=Hn(PY,fo),c=$L(),f=J.exports.useRef(null);if(J.exports.useEffect(()=>{t||f.current?.focus()},[t]),JL({nodeRef:f}),s||!o||!a)return null;const d=n?y=>{const g=Array.from(r.getState().nodeInternals.values()).filter(v=>v.selected);n(y,g)}:void 0,m=y=>{Object.prototype.hasOwnProperty.call(Q0,y.key)&&c(Q0[y.key])};return te("div",{className:ls(["react-flow__nodesselection","react-flow__container",e]),style:{transform:i},children:te("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:t?void 0:-1,onKeyDown:t?void 0:m,style:{width:o,height:a,top:u,left:l}})})}var RY=J.exports.memo(IY);const BY=n=>n.paneDragging;function kY({onClick:n,onMouseEnter:e,onMouseMove:t,onMouseLeave:r,onContextMenu:i,onWheel:s}){const o=Hn(BY);return te("div",{className:ls(["react-flow__pane",{dragging:o}]),onClick:n,onMouseEnter:e,onMouseMove:t,onMouseLeave:r,onContextMenu:i,onWheel:s,style:s6})}const NY=n=>n.nodesSelectionActive,tD=({children:n,onPaneClick:e,onPaneMouseEnter:t,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,deleteKeyCode:a,onMove:l,onMoveStart:u,onMoveEnd:c,selectionKeyCode:f,multiSelectionKeyCode:d,zoomActivationKeyCode:m,elementsSelectable:y,zoomOnScroll:g,zoomOnPinch:v,panOnScroll:x,panOnScrollSpeed:w,panOnScrollMode:b,zoomOnDoubleClick:A,panOnDrag:M,defaultViewport:I,translateExtent:D,minZoom:P,maxZoom:O,preventScrolling:V,onSelectionContextMenu:q,noWheelClassName:ne,noPanClassName:H,disableKeyboardA11y:_})=>{const T=ai(),k=Hn(NY),U=ab(f);wY({deleteKeyCode:a,multiSelectionKeyCode:d});const L=B=>{e?.(B),T.getState().resetSelectedElements(),T.setState({nodesSelectionActive:!1})},F=s?B=>s(B):void 0,z=o?B=>o(B):void 0;return Tt(EY,{onMove:l,onMoveStart:u,onMoveEnd:c,selectionKeyPressed:U,elementsSelectable:y,zoomOnScroll:g,zoomOnPinch:v,panOnScroll:x,panOnScrollSpeed:w,panOnScrollMode:b,zoomOnDoubleClick:A,panOnDrag:M,defaultViewport:I,translateExtent:D,minZoom:P,maxZoom:O,zoomActivationKeyCode:m,preventScrolling:V,noWheelClassName:ne,noPanClassName:H,children:[n,te(eD,{selectionKeyPressed:U}),k&&te(RY,{onSelectionContextMenu:q,noPanClassName:H,disableKeyboardA11y:_}),te(kY,{onClick:L,onMouseEnter:t,onMouseMove:r,onMouseLeave:i,onContextMenu:F,onWheel:z})]})};tD.displayName="FlowRenderer";var LY=J.exports.memo(tD);function DY(n){return Hn(J.exports.useCallback(t=>n?NL(t.nodeInternals,{x:0,y:0,width:t.width,height:t.height},t.transform,!0):Array.from(t.nodeInternals.values()),[n]))}const OY=n=>({nodesDraggable:n.nodesDraggable,nodesConnectable:n.nodesConnectable,nodesFocusable:n.nodesFocusable,elementsSelectable:n.elementsSelectable,updateNodeDimensions:n.updateNodeDimensions}),nD=n=>{const{nodesDraggable:e,nodesConnectable:t,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:s}=Hn(OY,fo),o=DY(n.onlyRenderVisibleElements),a=J.exports.useRef(),l=J.exports.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const u=new ResizeObserver(c=>{const f=c.map(d=>({id:d.target.getAttribute("data-id"),nodeElement:d.target,forceUpdate:!0}));s(f)});return a.current=u,u},[]);return J.exports.useEffect(()=>()=>{a?.current?.disconnect()},[]),te("div",{className:"react-flow__nodes",style:s6,children:o.map(u=>{let c=u.type||"default";n.nodeTypes[c]||(c="default");const f=n.nodeTypes[c]||n.nodeTypes.default,d=!!(u.draggable||e&&typeof u.draggable>"u"),m=!!(u.selectable||i&&typeof u.selectable>"u"),y=!!(u.connectable||t&&typeof u.connectable>"u"),g=!!(u.focusable||r&&typeof u.focusable>"u"),v=n.nodeExtent?QM(u.positionAbsolute,n.nodeExtent):u.positionAbsolute,x=v?.x??0,w=v?.y??0,b=pY({x,y:w,width:u.width??0,height:u.height??0,origin:n.nodeOrigin});return te(f,{id:u.id,className:u.className,style:u.style,type:c,data:u.data,sourcePosition:u.sourcePosition||wt.Bottom,targetPosition:u.targetPosition||wt.Top,hidden:u.hidden,xPos:x,yPos:w,xPosOrigin:b.x,yPosOrigin:b.y,selectNodesOnDrag:n.selectNodesOnDrag,onClick:n.onNodeClick,onMouseEnter:n.onNodeMouseEnter,onMouseMove:n.onNodeMouseMove,onMouseLeave:n.onNodeMouseLeave,onContextMenu:n.onNodeContextMenu,onDoubleClick:n.onNodeDoubleClick,selected:!!u.selected,isDraggable:d,isSelectable:m,isConnectable:y,isFocusable:g,resizeObserver:l,dragHandle:u.dragHandle,zIndex:u[ei]?.z??0,isParent:!!u[ei]?.isParent,noDragClassName:n.noDragClassName,noPanClassName:n.noPanClassName,initialized:!!u.width&&!!u.height,rfId:n.rfId,disableKeyboardA11y:n.disableKeyboardA11y,ariaLabel:u.ariaLabel},u.id)})})};nD.displayName="NodeRenderer";var FY=J.exports.memo(nD);const UY=[{level:0,isMaxLevel:!0,edges:[]}];function zY(n,e,t=!1){let r=-1;const i=n.reduce((o,a)=>{const l=PL(a.zIndex);let u=l?a.zIndex:0;return t&&(u=l?a.zIndex:Math.max(e.get(a.source)?.[ei]?.z||0,e.get(a.target)?.[ei]?.z||0)),o[u]?o[u].push(a):o[u]=[a],r=u>r?u:r,o},{}),s=Object.entries(i).map(([o,a])=>{const l=+o;return{edges:a,level:l,isMaxLevel:l===r}});return s.length===0?UY:s}function GY(n,e,t){const r=Hn(J.exports.useCallback(i=>n?i.edges.filter(s=>{const o=e.get(s.source),a=e.get(s.target);return o?.width&&o?.height&&a?.width&&a?.height&&fY({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:a.width,targetHeight:a.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[n,e]));return zY(r,e,t)}const HY={[wt.Left]:wt.Right,[wt.Right]:wt.Left,[wt.Top]:wt.Bottom,[wt.Bottom]:wt.Top},rD=({connectionNodeId:n,connectionHandleType:e,connectionLineStyle:t,connectionLineType:r=wu.Bezier,isConnectable:i,CustomConnectionLineComponent:s})=>{const{fromNode:o,handleId:a,toX:l,toY:u}=Hn(J.exports.useCallback(M=>({fromNode:M.nodeInternals.get(n),handleId:M.connectionHandleId,toX:(M.connectionPosition.x-M.transform[0])/M.transform[2],toY:(M.connectionPosition.y-M.transform[1])/M.transform[2]}),[n]),fo),c=o?.[ei]?.handleBounds;if(!o||!i||!c?.[e])return null;const f=c[e],d=a?f.find(M=>M.id===a):f[0],m=d?d.x+d.width/2:(o?.width??0)/2,y=d?d.y+d.height/2:o?.height??0,g=(o?.positionAbsolute?.x||0)+m,v=(o?.positionAbsolute?.y||0)+y,x=d?.position;if(!x)return null;const w=HY[x];if(s)return te("g",{className:"react-flow__connection",children:te(s,{connectionLineType:r,connectionLineStyle:t,fromNode:o,fromHandle:d,fromX:g,fromY:v,toX:l,toY:u,fromPosition:x,toPosition:w})});let b="";const A={sourceX:g,sourceY:v,sourcePosition:x,targetX:l,targetY:u,targetPosition:w};return r===wu.Bezier?[b]=BL(A):r===wu.Step?[b]=DS({...A,borderRadius:0}):r===wu.SmoothStep?[b]=DS(A):r===wu.SimpleBezier?[b]=RL(A):b=`M${g},${v} ${l},${u}`,te("g",{className:"react-flow__connection",children:te("path",{d:b,fill:"none",className:"react-flow__connection-path",style:t})})};rD.displayName="ConnectionLine";const jY=({color:n="none",strokeWidth:e=1})=>te("polyline",{stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:e,fill:"none",points:"-5,-4 0,0 -5,4"}),VY=({color:n="none",strokeWidth:e=1})=>te("polyline",{stroke:n,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:e,fill:n,points:"-5,-4 0,0 -5,4 -5,-4"}),lI={[sb.Arrow]:jY,[sb.ArrowClosed]:VY};function WY(n){return J.exports.useMemo(()=>Object.prototype.hasOwnProperty.call(lI,n)?lI[n]:null,[n])}const qY=({id:n,type:e,color:t,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=WY(e);return l?te("marker",{className:"react-flow__arrowhead",id:n,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0",children:te(l,{color:t,strokeWidth:o})}):null},KY=({defaultColor:n,rfId:e})=>t=>{const r=[];return t.edges.reduce((i,s)=>([s.markerStart,s.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const a=FS(o,e);r.includes(a)||(i.push({id:a,color:o.color||n,...o}),r.push(a))}}),i),[]).sort((i,s)=>i.id.localeCompare(s.id))},iD=({defaultColor:n,rfId:e})=>{const t=Hn(J.exports.useCallback(KY({defaultColor:n,rfId:e}),[n,e]),(r,i)=>!(r.length!==i.length||r.some((s,o)=>s.id!==i[o].id)));return te("defs",{children:t.map(r=>te(qY,{id:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient},r.id))})};iD.displayName="MarkerDefinitions";var JY=J.exports.memo(iD);const $Y=n=>({connectionNodeId:n.connectionNodeId,connectionHandleType:n.connectionHandleType,nodesConnectable:n.nodesConnectable,edgesFocusable:n.edgesFocusable,elementsSelectable:n.elementsSelectable,width:n.width,height:n.height,connectionMode:n.connectionMode,nodeInternals:n.nodeInternals}),sD=n=>{const{connectionNodeId:e,connectionHandleType:t,nodesConnectable:r,edgesFocusable:i,elementsSelectable:s,width:o,height:a,connectionMode:l,nodeInternals:u}=Hn($Y,fo),c=GY(n.onlyRenderVisibleElements,u,n.elevateEdgesOnSelect);if(!o)return null;const{connectionLineType:f,defaultMarkerColor:d,connectionLineStyle:m,connectionLineComponent:y,connectionLineContainerStyle:g}=n,v=e&&t;return Tt(vr,{children:[c.map(({level:x,edges:w,isMaxLevel:b})=>Tt("svg",{style:{zIndex:x},width:o,height:a,className:"react-flow__edges react-flow__container",children:[b&&te(JY,{defaultColor:d,rfId:n.rfId}),te("g",{children:w.map(A=>{const[M,I,D]=Z8(u.get(A.source)),[P,O,V]=Z8(u.get(A.target));if(!D||!V)return null;let q=A.type||"default";n.edgeTypes[q]||(q="default");const ne=n.edgeTypes[q]||n.edgeTypes.default,H=l===kh.Strict?O.target:O.target||O.source,_=Q8(I.source,A.sourceHandle||null),T=Q8(H,A.targetHandle||null),k=_?.position||wt.Bottom,U=T?.position||wt.Top,L=!!(A.focusable||i&&typeof A.focusable>"u");if(!_||!T)return OX(`Couldn't create edge for ${_?"target":"source"} handle id: ${_?A.targetHandle:A.sourceHandle}; edge id: ${A.id}. Help: https://reactflow.dev/error#800`),null;const{sourceX:F,sourceY:z,targetX:B,targetY:E}=cY(M,_,k,P,T,U);return te(ne,{id:A.id,className:ls([A.className,n.noPanClassName]),type:q,data:A.data,selected:!!A.selected,animated:!!A.animated,hidden:!!A.hidden,label:A.label,labelStyle:A.labelStyle,labelShowBg:A.labelShowBg,labelBgStyle:A.labelBgStyle,labelBgPadding:A.labelBgPadding,labelBgBorderRadius:A.labelBgBorderRadius,style:A.style,source:A.source,target:A.target,sourceHandleId:A.sourceHandle,targetHandleId:A.targetHandle,markerEnd:A.markerEnd,markerStart:A.markerStart,sourceX:F,sourceY:z,targetX:B,targetY:E,sourcePosition:k,targetPosition:U,elementsSelectable:s,onEdgeUpdate:n.onEdgeUpdate,onContextMenu:n.onEdgeContextMenu,onMouseEnter:n.onEdgeMouseEnter,onMouseMove:n.onEdgeMouseMove,onMouseLeave:n.onEdgeMouseLeave,onClick:n.onEdgeClick,edgeUpdaterRadius:n.edgeUpdaterRadius,onEdgeDoubleClick:n.onEdgeDoubleClick,onEdgeUpdateStart:n.onEdgeUpdateStart,onEdgeUpdateEnd:n.onEdgeUpdateEnd,rfId:n.rfId,ariaLabel:A.ariaLabel,isFocusable:L,pathOptions:"pathOptions"in A?A.pathOptions:void 0,interactionWidth:A.interactionWidth},A.id)})})]},x)),v&&te("svg",{style:g,width:o,height:a,className:"react-flow__edges react-flow__connectionline react-flow__container",children:te(rD,{connectionNodeId:e,connectionHandleType:t,connectionLineStyle:m,connectionLineType:f,isConnectable:r,CustomConnectionLineComponent:y})})]})};sD.displayName="EdgeRenderer";var XY=J.exports.memo(sD);const YY=n=>`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]})`;function QY({children:n}){const e=Hn(YY);return te("div",{className:"react-flow__viewport react-flow__container",style:{transform:e},children:n})}function ZY(n){const e=Nl(),t=J.exports.useRef(!1);J.exports.useEffect(()=>{!t.current&&e.viewportInitialized&&n&&(setTimeout(()=>n(e),1),t.current=!0)},[n,e.viewportInitialized])}const oD=({nodeTypes:n,edgeTypes:e,onMove:t,onMoveStart:r,onMoveEnd:i,onInit:s,onNodeClick:o,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:m,onSelectionContextMenu:y,connectionLineType:g,connectionLineStyle:v,connectionLineComponent:x,connectionLineContainerStyle:w,selectionKeyCode:b,multiSelectionKeyCode:A,zoomActivationKeyCode:M,deleteKeyCode:I,onlyRenderVisibleElements:D,elementsSelectable:P,selectNodesOnDrag:O,defaultViewport:V,translateExtent:q,minZoom:ne,maxZoom:H,preventScrolling:_,defaultMarkerColor:T,zoomOnScroll:k,zoomOnPinch:U,panOnScroll:L,panOnScrollSpeed:F,panOnScrollMode:z,zoomOnDoubleClick:B,panOnDrag:E,onPaneClick:j,onPaneMouseEnter:X,onPaneMouseMove:N,onPaneMouseLeave:K,onPaneScroll:oe,onPaneContextMenu:ie,onEdgeUpdate:fe,onEdgeContextMenu:ce,onEdgeMouseEnter:Ee,onEdgeMouseMove:ae,onEdgeMouseLeave:me,edgeUpdaterRadius:xe,onEdgeUpdateStart:Ne,onEdgeUpdateEnd:He,noDragClassName:$e,noWheelClassName:ue,noPanClassName:we,elevateEdgesOnSelect:Ce,disableKeyboardA11y:ze,nodeOrigin:$,nodeExtent:W,rfId:le})=>(ZY(s),te(LY,{onPaneClick:j,onPaneMouseEnter:X,onPaneMouseMove:N,onPaneMouseLeave:K,onPaneContextMenu:ie,onPaneScroll:oe,deleteKeyCode:I,selectionKeyCode:b,multiSelectionKeyCode:A,zoomActivationKeyCode:M,elementsSelectable:P,onMove:t,onMoveStart:r,onMoveEnd:i,zoomOnScroll:k,zoomOnPinch:U,zoomOnDoubleClick:B,panOnScroll:L,panOnScrollSpeed:F,panOnScrollMode:z,panOnDrag:E,defaultViewport:V,translateExtent:q,minZoom:ne,maxZoom:H,onSelectionContextMenu:y,preventScrolling:_,noDragClassName:$e,noWheelClassName:ue,noPanClassName:we,disableKeyboardA11y:ze,children:Tt(QY,{children:[te(XY,{edgeTypes:e,onEdgeClick:a,onEdgeDoubleClick:u,connectionLineType:g,connectionLineStyle:v,connectionLineComponent:x,connectionLineContainerStyle:w,onEdgeUpdate:fe,onlyRenderVisibleElements:D,onEdgeContextMenu:ce,onEdgeMouseEnter:Ee,onEdgeMouseMove:ae,onEdgeMouseLeave:me,onEdgeUpdateStart:Ne,onEdgeUpdateEnd:He,edgeUpdaterRadius:xe,defaultMarkerColor:T,noPanClassName:we,elevateEdgesOnSelect:!!Ce,disableKeyboardA11y:ze,rfId:le}),te("div",{className:"react-flow__edgelabel-renderer",id:"edgelabel-portal"}),te(FY,{nodeTypes:n,onNodeClick:o,onNodeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:m,selectNodesOnDrag:O,onlyRenderVisibleElements:D,noPanClassName:we,noDragClassName:$e,disableKeyboardA11y:ze,nodeOrigin:$,nodeExtent:W,rfId:le})]})}));oD.displayName="GraphView";var eQ=J.exports.memo(oD);const GS=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],_y={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:GS,nodeExtent:GS,nodesSelectionActive:!1,userSelectionActive:!1,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionMode:kh.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,elementsSelectable:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,multiSelectionActive:!1,connectionStartHandle:null,connectOnClick:!0,ariaLiveMessage:""},tQ=()=>Iq((n,e)=>({..._y,setNodes:t=>{n({nodeInternals:q_(t,e().nodeInternals)})},setEdges:t=>{const{defaultEdgeOptions:r={}}=e();n({edges:t.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(t,r)=>{const i=typeof t<"u",s=typeof r<"u",o=i?q_(t,new Map):new Map;n({nodeInternals:o,edges:s?r:[],hasDefaultNodes:i,hasDefaultEdges:s})},updateNodeDimensions:t=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:s,fitViewOnInitDone:o,fitViewOnInitOptions:a,domNode:l,nodeOrigin:u}=e(),c=l?.querySelector(".react-flow__viewport");if(!c)return;const f=window.getComputedStyle(c),{m22:d}=new window.DOMMatrixReadOnly(f.transform),m=t.reduce((g,v)=>{const x=i.get(v.id);if(x){const w=YM(v.nodeElement);!!(w.width&&w.height&&(x.width!==w.width||x.height!==w.height||v.forceUpdate))&&(i.set(x.id,{...x,[ei]:{...x[ei],handleBounds:{source:tI(".source",v.nodeElement,d,u),target:tI(".target",v.nodeElement,d,u)}},...w}),g.push({id:x.id,type:"dimensions",dimensions:w}))}return g},[]),y=o||s&&!o&&YL(e,{initial:!0,...a});n({nodeInternals:new Map(i),fitViewOnInitDone:y}),m?.length>0&&r?.(m)},updateNodePositions:(t,r=!0,i=!1)=>{const{onNodesChange:s,nodeInternals:o,hasDefaultNodes:a}=e();if(a||s){const l=t.map(u=>{const c={id:u.id,type:"position",dragging:i};return r&&(c.positionAbsolute=u.positionAbsolute,c.position=u.position),c});if(l?.length){if(a){const u=ZL(l,Array.from(o.values())),c=q_(u,o);n({nodeInternals:c})}s?.(l)}}},addSelectedNodes:t=>{const{multiSelectionActive:r,nodeInternals:i,edges:s}=e();let o,a=null;r?o=t.map(l=>gu(l,!0)):(o=$d(Array.from(i.values()),t),a=$d(s,[])),by({changedNodes:o,changedEdges:a,get:e,set:n})},addSelectedEdges:t=>{const{multiSelectionActive:r,edges:i,nodeInternals:s}=e();let o,a=null;r?o=t.map(l=>gu(l,!0)):(o=$d(i,t),a=$d(Array.from(s.values()),[])),by({changedNodes:a,changedEdges:o,get:e,set:n})},unselectNodesAndEdges:({nodes:t,edges:r}={})=>{const{nodeInternals:i,edges:s}=e(),o=t||Array.from(i.values()),a=r||s,l=o.map(c=>(c.selected=!1,gu(c.id,!1))),u=a.map(c=>gu(c.id,!1));by({changedNodes:l,changedEdges:u,get:e,set:n})},setMinZoom:t=>{const{d3Zoom:r,maxZoom:i}=e();r?.scaleExtent([t,i]),n({minZoom:t})},setMaxZoom:t=>{const{d3Zoom:r,minZoom:i}=e();r?.scaleExtent([i,t]),n({maxZoom:t})},setTranslateExtent:t=>{const{d3Zoom:r}=e();r?.translateExtent(t),n({translateExtent:t})},resetSelectedElements:()=>{const{nodeInternals:t,edges:r}=e(),s=Array.from(t.values()).filter(a=>a.selected).map(a=>gu(a.id,!1)),o=r.filter(a=>a.selected).map(a=>gu(a.id,!1));by({changedNodes:s,changedEdges:o,get:e,set:n})},setNodeExtent:t=>{const{nodeInternals:r}=e();r.forEach(i=>{i.positionAbsolute=QM(i.position,t)}),n({nodeExtent:t,nodeInternals:new Map(r)})},cancelConnection:()=>n({connectionNodeId:_y.connectionNodeId,connectionHandleId:_y.connectionHandleId}),reset:()=>n({..._y})})),aD=({children:n})=>{const e=J.exports.useRef(null);return e.current||(e.current=tQ()),te(PX,{value:e.current,children:n})};aD.displayName="ReactFlowProvider";const lD=({children:n})=>{let e=!0;try{ai()}catch{e=!1}return e?te(vr,{children:n}):te(aD,{children:n})};lD.displayName="ReactFlowWrapper";function uI(n,e){return J.exports.useRef(null),J.exports.useMemo(()=>e(n),[n])}const nQ={input:zL,default:US,output:HL,group:i6},rQ={default:ob,straight:t6,step:e6,smoothstep:ow,simplebezier:ZM},iQ=[0,0],sQ=[15,15],oQ={x:0,y:0,zoom:1},aQ={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},uD=J.exports.forwardRef(({nodes:n,edges:e,defaultNodes:t,defaultEdges:r,className:i,nodeTypes:s=nQ,edgeTypes:o=rQ,onNodeClick:a,onEdgeClick:l,onInit:u,onMove:c,onMoveStart:f,onMoveEnd:d,onConnect:m,onConnectStart:y,onConnectEnd:g,onClickConnectStart:v,onClickConnectEnd:x,onNodeMouseEnter:w,onNodeMouseMove:b,onNodeMouseLeave:A,onNodeContextMenu:M,onNodeDoubleClick:I,onNodeDragStart:D,onNodeDrag:P,onNodeDragStop:O,onNodesDelete:V,onEdgesDelete:q,onSelectionChange:ne,onSelectionDragStart:H,onSelectionDrag:_,onSelectionDragStop:T,onSelectionContextMenu:k,connectionMode:U=kh.Strict,connectionLineType:L=wu.Bezier,connectionLineStyle:F,connectionLineComponent:z,connectionLineContainerStyle:B,deleteKeyCode:E="Backspace",selectionKeyCode:j="Shift",multiSelectionKeyCode:X="Meta",zoomActivationKeyCode:N="Meta",snapToGrid:K=!1,snapGrid:oe=sQ,onlyRenderVisibleElements:ie=!1,selectNodesOnDrag:fe=!0,nodesDraggable:ce,nodesConnectable:Ee,nodesFocusable:ae,nodeOrigin:me=iQ,edgesFocusable:xe,elementsSelectable:Ne,defaultViewport:He=oQ,minZoom:$e=.5,maxZoom:ue=2,translateExtent:we=GS,preventScrolling:Ce=!0,nodeExtent:ze,defaultMarkerColor:$="#b1b1b7",zoomOnScroll:W=!0,zoomOnPinch:le=!0,panOnScroll:Re=!1,panOnScrollSpeed:Te=.5,panOnScrollMode:ke=gh.Free,zoomOnDoubleClick:Qe=!0,panOnDrag:Oe=!0,onPaneClick:be,onPaneMouseEnter:Ye,onPaneMouseMove:ee,onPaneMouseLeave:ge,onPaneScroll:Ue,onPaneContextMenu:De,children:je,onEdgeUpdate:lt,onEdgeContextMenu:ht,onEdgeDoubleClick:re,onEdgeMouseEnter:Ae,onEdgeMouseMove:Be,onEdgeMouseLeave:Ve,onEdgeUpdateStart:st,onEdgeUpdateEnd:rt,edgeUpdaterRadius:vt=10,onNodesChange:mn,onEdgesChange:zt,noDragClassName:_t="nodrag",noWheelClassName:Qn="nowheel",noPanClassName:kt="nopan",fitView:cn=!1,fitViewOptions:cs,connectOnClick:fn=!0,attributionPosition:rn,proOptions:Q,defaultEdgeOptions:he,elevateEdgesOnSelect:Se=!1,disableKeyboardA11y:ve=!1,style:Me,id:Ze,...At},at)=>{const ot=uI(s,hY),Pt=uI(o,uY),Et=Ze||"1";return te("div",{...At,style:{...Me,...aQ},ref:at,className:ls(["react-flow",i]),"data-testid":"rf__wrapper",id:Ze,children:Tt(lD,{children:[te(eQ,{onInit:u,onMove:c,onMoveStart:f,onMoveEnd:d,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:w,onNodeMouseMove:b,onNodeMouseLeave:A,onNodeContextMenu:M,onNodeDoubleClick:I,nodeTypes:ot,edgeTypes:Pt,connectionLineType:L,connectionLineStyle:F,connectionLineComponent:z,connectionLineContainerStyle:B,selectionKeyCode:j,deleteKeyCode:E,multiSelectionKeyCode:X,zoomActivationKeyCode:N,onlyRenderVisibleElements:ie,selectNodesOnDrag:fe,defaultViewport:He,translateExtent:we,minZoom:$e,maxZoom:ue,preventScrolling:Ce,zoomOnScroll:W,zoomOnPinch:le,zoomOnDoubleClick:Qe,panOnScroll:Re,panOnScrollSpeed:Te,panOnScrollMode:ke,panOnDrag:Oe,onPaneClick:be,onPaneMouseEnter:Ye,onPaneMouseMove:ee,onPaneMouseLeave:ge,onPaneScroll:Ue,onPaneContextMenu:De,onSelectionContextMenu:k,onEdgeUpdate:lt,onEdgeContextMenu:ht,onEdgeDoubleClick:re,onEdgeMouseEnter:Ae,onEdgeMouseMove:Be,onEdgeMouseLeave:Ve,onEdgeUpdateStart:st,onEdgeUpdateEnd:rt,edgeUpdaterRadius:vt,defaultMarkerColor:$,noDragClassName:_t,noWheelClassName:Qn,noPanClassName:kt,elevateEdgesOnSelect:Se,rfId:Et,disableKeyboardA11y:ve,nodeOrigin:me,nodeExtent:ze}),te(tY,{nodes:n,edges:e,defaultNodes:t,defaultEdges:r,onConnect:m,onConnectStart:y,onConnectEnd:g,onClickConnectStart:v,onClickConnectEnd:x,nodesDraggable:ce,nodesConnectable:Ee,nodesFocusable:ae,edgesFocusable:xe,elementsSelectable:Ne,minZoom:$e,maxZoom:ue,nodeExtent:ze,onNodesChange:mn,onEdgesChange:zt,snapToGrid:K,snapGrid:oe,connectionMode:U,translateExtent:we,connectOnClick:fn,defaultEdgeOptions:he,fitView:cn,fitViewOptions:cs,onNodesDelete:V,onEdgesDelete:q,onNodeDragStart:D,onNodeDrag:P,onNodeDragStop:O,onSelectionDrag:_,onSelectionDragStart:H,onSelectionDragStop:T,noPanClassName:kt,nodeOrigin:me,rfId:Et}),te(ZX,{onSelectionChange:ne}),je,te(RX,{proOptions:Q,position:rn}),te(oY,{rfId:Et,disableKeyboardA11y:ve})]})})});uD.displayName="ReactFlow";const lQ=n=>Array.from(n.nodeInternals.values());function uQ(){return Hn(lQ)}const cQ=n=>n.edges;function cD(){return Hn(cQ)}function fD(n){return e=>{const[t,r]=J.exports.useState(e),i=J.exports.useCallback(s=>r(o=>n(s,o)),[]);return[t,r,i]}}const fQ=fD(ZL),dQ=fD(CY);function hQ(){return te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:te("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function pQ(){return te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:te("path",{d:"M0 0h32v4.2H0z"})})}function mQ(){return te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:te("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function gQ(){return te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:te("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function vQ(){return te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:te("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}const ha=({children:n,className:e,...t})=>te("button",{type:"button",className:ls(["react-flow__controls-button",e]),...t,children:n});ha.displayName="ControlButton";const yQ=n=>n.nodesDraggable&&n.nodesConnectable&&n.elementsSelectable,dD=({style:n,showZoom:e=!0,showFitView:t=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:u,children:c,position:f="bottom-left"})=>{const d=ai(),[m,y]=J.exports.useState(!1),g=Hn(yQ),{zoomIn:v,zoomOut:x,fitView:w}=Nl();if(J.exports.useEffect(()=>{y(!0)},[]),!m)return null;const b=()=>{v(),s?.()},A=()=>{x(),o?.()},M=()=>{w(i),a?.()},I=()=>{d.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),l?.(!g)};return Tt(SL,{className:ls(["react-flow__controls",u]),position:f,style:n,children:[e&&Tt(vr,{children:[te(ha,{onClick:b,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",children:te(hQ,{})}),te(ha,{onClick:A,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",children:te(pQ,{})})]}),t&&te(ha,{className:"react-flow__controls-fitview",onClick:M,title:"fit view","aria-label":"fit view",children:te(mQ,{})}),r&&te(ha,{className:"react-flow__controls-interactive",onClick:I,title:"toggle interactivity","aria-label":"toggle interactivity",children:g?te(vQ,{}):te(gQ,{})}),c]})};dD.displayName="Controls";var xQ=J.exports.memo(dD);function bQ(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(n[t[r]],e[t[r]]))return!1;return!0}var lo;(function(n){n.Lines="lines",n.Dots="dots",n.Cross="cross"})(lo||(lo={}));function wQ({color:n,dimensions:e,lineWidth:t}){return te("path",{stroke:n,strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})}function _Q({color:n,radius:e}){return te("circle",{cx:e,cy:e,r:e,fill:n})}const AQ={[lo.Dots]:"#91919a",[lo.Lines]:"#eee",[lo.Cross]:"#e2e2e2"},SQ={[lo.Dots]:1,[lo.Lines]:1,[lo.Cross]:6},EQ=n=>({transform:n.transform,patternId:`pattern-${n.rfId}`});function hD({variant:n=lo.Dots,gap:e=20,size:t,lineWidth:r=1,color:i,style:s,className:o}){const a=J.exports.useRef(null),{transform:l,patternId:u}=Hn(EQ,bQ),c=i||AQ[n],f=t||SQ[n],d=n===lo.Dots,m=n===lo.Cross,y=Array.isArray(e)?e:[e,e],g=[y[0]*l[2]||1,y[1]*l[2]||1],v=f*l[2],x=m?[v,v]:g,w=d?[v/2,v/2]:[x[0]/2,x[1]/2];return Tt("svg",{className:ls(["react-flow__background",o]),style:{...s,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:a,children:[te("pattern",{id:u,x:l[0]%g[0],y:l[1]%g[1],width:g[0],height:g[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${w[0]},-${w[1]})`,children:d?te(_Q,{color:c,radius:v/2}):te(wQ,{dimensions:x,color:c,lineWidth:r})}),te("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${u})`})]})}hD.displayName="Background";var CQ=J.exports.memo(hD);let Ay;const MQ=new Uint8Array(16);function TQ(){if(!Ay&&(Ay=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ay))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ay(MQ)}const $r=[];for(let n=0;n<256;++n)$r.push((n+256).toString(16).slice(1));function PQ(n,e=0){return($r[n[e+0]]+$r[n[e+1]]+$r[n[e+2]]+$r[n[e+3]]+"-"+$r[n[e+4]]+$r[n[e+5]]+"-"+$r[n[e+6]]+$r[n[e+7]]+"-"+$r[n[e+8]]+$r[n[e+9]]+"-"+$r[n[e+10]]+$r[n[e+11]]+$r[n[e+12]]+$r[n[e+13]]+$r[n[e+14]]+$r[n[e+15]]).toLowerCase()}const IQ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),cI={randomUUID:IQ};function Lh(n,e,t){if(cI.randomUUID&&!e&&!n)return cI.randomUUID();n=n||{};const r=n.random||(n.rng||TQ)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=r[i];return e}return PQ(r)}const pD=(n,e)=>{J.exports.useEffect(()=>{const t=r=>{r.code===n&&e(r)};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[n,e])},aw=({open:n=!1,onClose:e,title:t,children:r,actions:i})=>{if(pD("Escape",e),n===!1)return null;const s={primary:"bg-teal-400 hover:bg-teal-500",secondary:"bg-gray-400 hover:bg-gray-500"};return Tt(vr,{children:[te("div",{className:"z-[19] fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full",onClick:e}),Tt("div",{className:"z-20 relative top-20 mx-auto border w-96 shadow-lg bg-white text-sm rounded-md",children:[te("div",{className:"p-3 border-b",children:te("h2",{className:"text-lg text-center font-bold",children:t})}),te("div",{className:"p-3",children:r}),te("div",{className:"flex gap-3 p-3 border-t",children:i.map((o,a)=>te("button",{className:"text-white p-2 w-full cursor-pointer "+(a===i.length-1?s.primary:s.secondary),onClick:o.onClick,children:o.label},a))})]})]})},RQ=({open:n=!1,onClose:e})=>{const t=Nl();return te(aw,{title:"Clear Graph",actions:[{label:"Cancel",onClick:e},{label:"Clear",onClick:()=>{t.setNodes([]),t.setEdges([]),setTimeout(()=>{t.fitView()},100),e()}}],open:n,onClose:e,children:te("p",{children:"Are you sure?"})})},BQ=({open:n=!1,onClose:e})=>Tt(aw,{title:"Help",actions:[{label:"Close",onClick:e}],open:n,onClose:e,children:[te("p",{className:"mb-2",children:"Right click anywhere to add a new node."}),te("p",{className:"mb-2",children:"Drag a connection into empty space to add a new node and connect it to the source."}),te("p",{className:"mb-2",children:"Click and drag on a socket to connect to another socket of the same type."}),te("p",{children:"Left click to select nodes or connections, backspace to delete selected nodes or connections."})]});var mD={prefix:"fas",iconName:"caret-right",icon:[256,512,[],"f0da","M246.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-9.2-9.2-22.9-11.9-34.9-6.9s-19.8 16.6-19.8 29.6l0 256c0 12.9 7.8 24.6 19.8 29.6s25.7 2.2 34.9-6.9l128-128z"]},kQ={prefix:"fas",iconName:"pause",icon:[320,512,[9208],"f04c","M48 64C21.5 64 0 85.5 0 112V400c0 26.5 21.5 48 48 48H80c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H48zm192 0c-26.5 0-48 21.5-48 48V400c0 26.5 21.5 48 48 48h32c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H240z"]},NQ={prefix:"fas",iconName:"question",icon:[320,512,[10067,10068,61736],"3f","M96 96c-17.7 0-32 14.3-32 32s-14.3 32-32 32s-32-14.3-32-32C0 75 43 32 96 32h97c70.1 0 127 56.9 127 127c0 52.4-32.2 99.4-81 118.4l-63 24.5 0 18.1c0 17.7-14.3 32-32 32s-32-14.3-32-32V301.9c0-26.4 16.2-50.1 40.8-59.6l63-24.5C240 208.3 256 185 256 159c0-34.8-28.2-63-63-63H96zm48 384c-22.1 0-40-17.9-40-40s17.9-40 40-40s40 17.9 40 40s-17.9 40-40 40z"]},LQ={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"]},DQ={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V274.7l-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7V32zM64 352c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V416c0-35.3-28.7-64-64-64H346.5l-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352H64zM432 456c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"]},OQ={prefix:"fas",iconName:"upload",icon:[512,512,[],"f093","M288 109.3V352c0 17.7-14.3 32-32 32s-32-14.3-32-32V109.3l-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352H192c0 35.3 28.7 64 64 64s64-28.7 64-64H448c35.3 0 64 28.7 64 64v32c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V416c0-35.3 28.7-64 64-64zM432 456c13.3 0 24-10.7 24-24s-10.7-24-24-24s-24 10.7-24 24s10.7 24 24 24z"]},FQ={prefix:"fas",iconName:"play",icon:[384,512,[9654],"f04b","M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"]};function fI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ut(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(t),!0).forEach(function(r){kr(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function lb(n){return lb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lb(n)}function UQ(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function dI(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function zQ(n,e,t){return e&&dI(n.prototype,e),t&&dI(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function kr(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o6(n,e){return HQ(n)||VQ(n,e)||gD(n,e)||qQ()}function Cg(n){return GQ(n)||jQ(n)||gD(n)||WQ()}function GQ(n){if(Array.isArray(n))return HS(n)}function HQ(n){if(Array.isArray(n))return n}function jQ(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function VQ(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function gD(n,e){if(!!n){if(typeof n=="string")return HS(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return HS(n,e)}}function HS(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function WQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var hI=function(){},a6={},vD={},yD=null,xD={mark:hI,measure:hI};try{typeof window<"u"&&(a6=window),typeof document<"u"&&(vD=document),typeof MutationObserver<"u"&&(yD=MutationObserver),typeof performance<"u"&&(xD=performance)}catch{}var KQ=a6.navigator||{},pI=KQ.userAgent,mI=pI===void 0?"":pI,ju=a6,Fn=vD,gI=yD,Sy=xD;ju.document;var Ll=!!Fn.documentElement&&!!Fn.head&&typeof Fn.addEventListener=="function"&&typeof Fn.createElement=="function",bD=~mI.indexOf("MSIE")||~mI.indexOf("Trident/"),Ey,Cy,My,Ty,Py,_l="___FONT_AWESOME___",jS=16,wD="fa",_D="svg-inline--fa",Tf="data-fa-i2svg",VS="data-fa-pseudo-element",JQ="data-fa-pseudo-element-pending",l6="data-prefix",u6="data-icon",vI="fontawesome-i2svg",$Q="async",XQ=["HTML","HEAD","STYLE","SCRIPT"],AD=function(){try{return!0}catch{return!1}}(),Nn="classic",sr="sharp",c6=[Nn,sr];function Mg(n){return new Proxy(n,{get:function(t,r){return r in t?t[r]:t[Nn]}})}var Fm=Mg((Ey={},kr(Ey,Nn,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),kr(Ey,sr,{fa:"solid",fass:"solid","fa-solid":"solid"}),Ey)),Um=Mg((Cy={},kr(Cy,Nn,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),kr(Cy,sr,{solid:"fass"}),Cy)),zm=Mg((My={},kr(My,Nn,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),kr(My,sr,{fass:"fa-solid"}),My)),YQ=Mg((Ty={},kr(Ty,Nn,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),kr(Ty,sr,{"fa-solid":"fass"}),Ty)),QQ=/fa(s|r|l|t|d|b|k|ss)?[\-\ ]/,SD="fa-layers-text",ZQ=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,eZ=Mg((Py={},kr(Py,Nn,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),kr(Py,sr,{900:"fass"}),Py)),ED=[1,2,3,4,5,6,7,8,9,10],tZ=ED.concat([11,12,13,14,15,16,17,18,19,20]),nZ=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],$c={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Gm=new Set;Object.keys(Um[Nn]).map(Gm.add.bind(Gm));Object.keys(Um[sr]).map(Gm.add.bind(Gm));var rZ=[].concat(c6,Cg(Gm),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",$c.GROUP,$c.SWAP_OPACITY,$c.PRIMARY,$c.SECONDARY]).concat(ED.map(function(n){return"".concat(n,"x")})).concat(tZ.map(function(n){return"w-".concat(n)})),Z0=ju.FontAwesomeConfig||{};function iZ(n){var e=Fn.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}function sZ(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}if(Fn&&typeof Fn.querySelector=="function"){var oZ=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];oZ.forEach(function(n){var e=o6(n,2),t=e[0],r=e[1],i=sZ(iZ(t));i!=null&&(Z0[r]=i)})}var CD={styleDefault:"solid",familyDefault:"classic",cssPrefix:wD,replacementClass:_D,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Z0.familyPrefix&&(Z0.cssPrefix=Z0.familyPrefix);var Dh=ut(ut({},CD),Z0);Dh.autoReplaceSvg||(Dh.observeMutations=!1);var gt={};Object.keys(CD).forEach(function(n){Object.defineProperty(gt,n,{enumerable:!0,set:function(t){Dh[n]=t,em.forEach(function(r){return r(gt)})},get:function(){return Dh[n]}})});Object.defineProperty(gt,"familyPrefix",{enumerable:!0,set:function(e){Dh.cssPrefix=e,em.forEach(function(t){return t(gt)})},get:function(){return Dh.cssPrefix}});ju.FontAwesomeConfig=gt;var em=[];function aZ(n){return em.push(n),function(){em.splice(em.indexOf(n),1)}}var tu=jS,ma={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function lZ(n){if(!(!n||!Ll)){var e=Fn.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=Fn.head.childNodes,r=null,i=t.length-1;i>-1;i--){var s=t[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return Fn.head.insertBefore(e,r),n}}var uZ="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Hm(){for(var n=12,e="";n-- >0;)e+=uZ[Math.random()*62|0];return e}function lp(n){for(var e=[],t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function f6(n){return n.classList?lp(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(e){return e})}function MD(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function cZ(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(MD(n[t]),'" ')},"").trim()}function lw(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t].trim(),";")},"")}function d6(n){return n.size!==ma.size||n.x!==ma.x||n.y!==ma.y||n.rotate!==ma.rotate||n.flipX||n.flipY}function fZ(n){var e=n.transform,t=n.containerWidth,r=n.iconWidth,i={transform:"translate(".concat(t/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(s," ").concat(o," ").concat(a)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:l,path:u}}function dZ(n){var e=n.transform,t=n.width,r=t===void 0?jS:t,i=n.height,s=i===void 0?jS:i,o=n.startCentered,a=o===void 0?!1:o,l="";return a&&bD?l+="translate(".concat(e.x/tu-r/2,"em, ").concat(e.y/tu-s/2,"em) "):a?l+="translate(calc(-50% + ".concat(e.x/tu,"em), calc(-50% + ").concat(e.y/tu,"em)) "):l+="translate(".concat(e.x/tu,"em, ").concat(e.y/tu,"em) "),l+="scale(".concat(e.size/tu*(e.flipX?-1:1),", ").concat(e.size/tu*(e.flipY?-1:1),") "),l+="rotate(".concat(e.rotate,"deg) "),l}var hZ=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function TD(){var n=wD,e=_D,t=gt.cssPrefix,r=gt.replacementClass,i=hZ;if(t!==n||r!==e){var s=new RegExp("\\.".concat(n,"\\-"),"g"),o=new RegExp("\\--".concat(n,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(t,"-")).replace(o,"--".concat(t,"-")).replace(a,".".concat(r))}return i}var yI=!1;function J_(){gt.autoAddCss&&!yI&&(lZ(TD()),yI=!0)}var pZ={mixout:function(){return{dom:{css:TD,insertCss:J_}}},hooks:function(){return{beforeDOMElementCreation:function(){J_()},beforeI2svg:function(){J_()}}}},Al=ju||{};Al[_l]||(Al[_l]={});Al[_l].styles||(Al[_l].styles={});Al[_l].hooks||(Al[_l].hooks={});Al[_l].shims||(Al[_l].shims=[]);var Oo=Al[_l],PD=[],mZ=function n(){Fn.removeEventListener("DOMContentLoaded",n),ub=1,PD.map(function(e){return e()})},ub=!1;Ll&&(ub=(Fn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Fn.readyState),ub||Fn.addEventListener("DOMContentLoaded",mZ));function gZ(n){!Ll||(ub?setTimeout(n,0):PD.push(n))}function Tg(n){var e=n.tag,t=n.attributes,r=t===void 0?{}:t,i=n.children,s=i===void 0?[]:i;return typeof n=="string"?MD(n):"<".concat(e," ").concat(cZ(r),">").concat(s.map(Tg).join(""),"</").concat(e,">")}function xI(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}var vZ=function(e,t){return function(r,i,s,o){return e.call(t,r,i,s,o)}},$_=function(e,t,r,i){var s=Object.keys(e),o=s.length,a=i!==void 0?vZ(t,i):t,l,u,c;for(r===void 0?(l=1,c=e[s[0]]):(l=0,c=r);l<o;l++)u=s[l],c=a(c,e[u],u,e);return c};function yZ(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var s=n.charCodeAt(t++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e}function WS(n){var e=yZ(n);return e.length===1?e[0].toString(16):null}function xZ(n,e){var t=n.length,r=n.charCodeAt(e),i;return r>=55296&&r<=56319&&t>e+1&&(i=n.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function bI(n){return Object.keys(n).reduce(function(e,t){var r=n[t],i=!!r.icon;return i?e[r.iconName]=r.icon:e[t]=r,e},{})}function qS(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=t.skipHooks,i=r===void 0?!1:r,s=bI(e);typeof Oo.hooks.addPack=="function"&&!i?Oo.hooks.addPack(n,bI(e)):Oo.styles[n]=ut(ut({},Oo.styles[n]||{}),s),n==="fas"&&qS("fa",e)}var Iy,Ry,By,Xd=Oo.styles,bZ=Oo.shims,wZ=(Iy={},kr(Iy,Nn,Object.values(zm[Nn])),kr(Iy,sr,Object.values(zm[sr])),Iy),h6=null,ID={},RD={},BD={},kD={},ND={},_Z=(Ry={},kr(Ry,Nn,Object.keys(Fm[Nn])),kr(Ry,sr,Object.keys(Fm[sr])),Ry);function AZ(n){return~rZ.indexOf(n)}function SZ(n,e){var t=e.split("-"),r=t[0],i=t.slice(1).join("-");return r===n&&i!==""&&!AZ(i)?i:null}var LD=function(){var e=function(s){return $_(Xd,function(o,a,l){return o[l]=$_(a,s,{}),o},{})};ID=e(function(i,s,o){if(s[3]&&(i[s[3]]=o),s[2]){var a=s[2].filter(function(l){return typeof l=="number"});a.forEach(function(l){i[l.toString(16)]=o})}return i}),RD=e(function(i,s,o){if(i[o]=o,s[2]){var a=s[2].filter(function(l){return typeof l=="string"});a.forEach(function(l){i[l]=o})}return i}),ND=e(function(i,s,o){var a=s[2];return i[o]=o,a.forEach(function(l){i[l]=o}),i});var t="far"in Xd||gt.autoFetchSvg,r=$_(bZ,function(i,s){var o=s[0],a=s[1],l=s[2];return a==="far"&&!t&&(a="fas"),typeof o=="string"&&(i.names[o]={prefix:a,iconName:l}),typeof o=="number"&&(i.unicodes[o.toString(16)]={prefix:a,iconName:l}),i},{names:{},unicodes:{}});BD=r.names,kD=r.unicodes,h6=uw(gt.styleDefault,{family:gt.familyDefault})};aZ(function(n){h6=uw(n.styleDefault,{family:gt.familyDefault})});LD();function p6(n,e){return(ID[n]||{})[e]}function EZ(n,e){return(RD[n]||{})[e]}function Xc(n,e){return(ND[n]||{})[e]}function DD(n){return BD[n]||{prefix:null,iconName:null}}function CZ(n){var e=kD[n],t=p6("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}function Vu(){return h6}var m6=function(){return{prefix:null,iconName:null,rest:[]}};function uw(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.family,r=t===void 0?Nn:t,i=Fm[r][n],s=Um[r][n]||Um[r][i],o=n in Oo.styles?n:null;return s||o||null}var wI=(By={},kr(By,Nn,Object.keys(zm[Nn])),kr(By,sr,Object.keys(zm[sr])),By);function cw(n){var e,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.skipLookups,i=r===void 0?!1:r,s=(e={},kr(e,Nn,"".concat(gt.cssPrefix,"-").concat(Nn)),kr(e,sr,"".concat(gt.cssPrefix,"-").concat(sr)),e),o=null,a=Nn;(n.includes(s[Nn])||n.some(function(u){return wI[Nn].includes(u)}))&&(a=Nn),(n.includes(s[sr])||n.some(function(u){return wI[sr].includes(u)}))&&(a=sr);var l=n.reduce(function(u,c){var f=SZ(gt.cssPrefix,c);if(Xd[c]?(c=wZ[a].includes(c)?YQ[a][c]:c,o=c,u.prefix=c):_Z[a].indexOf(c)>-1?(o=c,u.prefix=uw(c,{family:a})):f?u.iconName=f:c!==gt.replacementClass&&c!==s[Nn]&&c!==s[sr]&&u.rest.push(c),!i&&u.prefix&&u.iconName){var d=o==="fa"?DD(u.iconName):{},m=Xc(u.prefix,u.iconName);d.prefix&&(o=null),u.iconName=d.iconName||m||u.iconName,u.prefix=d.prefix||u.prefix,u.prefix==="far"&&!Xd.far&&Xd.fas&&!gt.autoFetchSvg&&(u.prefix="fas")}return u},m6());return(n.includes("fa-brands")||n.includes("fab"))&&(l.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(l.prefix="fad"),!l.prefix&&a===sr&&(Xd.fass||gt.autoFetchSvg)&&(l.prefix="fass",l.iconName=Xc(l.prefix,l.iconName)||l.iconName),(l.prefix==="fa"||o==="fa")&&(l.prefix=Vu()||"fas"),l}var MZ=function(){function n(){UQ(this,n),this.definitions={}}return zQ(n,[{key:"add",value:function(){for(var t=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){t.definitions[a]=ut(ut({},t.definitions[a]||{}),o[a]),qS(a,o[a]);var l=zm[Nn][a];l&&qS(l,o[a]),LD()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],a=o.prefix,l=o.iconName,u=o.icon,c=u[2];t[a]||(t[a]={}),c.length>0&&c.forEach(function(f){typeof f=="string"&&(t[a][f]=u)}),t[a][l]=u}),t}}]),n}(),_I=[],Yd={},yh={},TZ=Object.keys(yh);function PZ(n,e){var t=e.mixoutsTo;return _I=n,Yd={},Object.keys(yh).forEach(function(r){TZ.indexOf(r)===-1&&delete yh[r]}),_I.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){typeof i[o]=="function"&&(t[o]=i[o]),lb(i[o])==="object"&&Object.keys(i[o]).forEach(function(a){t[o]||(t[o]={}),t[o][a]=i[o][a]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){Yd[o]||(Yd[o]=[]),Yd[o].push(s[o])})}r.provides&&r.provides(yh)}),t}function KS(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];var s=Yd[n]||[];return s.forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function Pf(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=Yd[n]||[];i.forEach(function(s){s.apply(null,t)})}function Sl(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return yh[n]?yh[n].apply(null,e):void 0}function JS(n){n.prefix==="fa"&&(n.prefix="fas");var e=n.iconName,t=n.prefix||Vu();if(!!e)return e=Xc(t,e)||e,xI(OD.definitions,t,e)||xI(Oo.styles,t,e)}var OD=new MZ,IZ=function(){gt.autoReplaceSvg=!1,gt.observeMutations=!1,Pf("noAuto")},RZ={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Ll?(Pf("beforeI2svg",e),Sl("pseudoElements2svg",e),Sl("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.autoReplaceSvgRoot;gt.autoReplaceSvg===!1&&(gt.autoReplaceSvg=!0),gt.observeMutations=!0,gZ(function(){kZ({autoReplaceSvgRoot:t}),Pf("watch",e)})}},BZ={icon:function(e){if(e===null)return null;if(lb(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Xc(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var t=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=uw(e[0]);return{prefix:r,iconName:Xc(r,t)||t}}if(typeof e=="string"&&(e.indexOf("".concat(gt.cssPrefix,"-"))>-1||e.match(QQ))){var i=cw(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||Vu(),iconName:Xc(i.prefix,i.iconName)||i.iconName}}if(typeof e=="string"){var s=Vu();return{prefix:s,iconName:Xc(s,e)||e}}}},Ns={noAuto:IZ,config:gt,dom:RZ,parse:BZ,library:OD,findIconDefinition:JS,toHtml:Tg},kZ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.autoReplaceSvgRoot,r=t===void 0?Fn:t;(Object.keys(Oo.styles).length>0||gt.autoFetchSvg)&&Ll&&gt.autoReplaceSvg&&Ns.dom.i2svg({node:r})};function fw(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return Tg(r)})}}),Object.defineProperty(n,"node",{get:function(){if(!!Ll){var r=Fn.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function NZ(n){var e=n.children,t=n.main,r=n.mask,i=n.attributes,s=n.styles,o=n.transform;if(d6(o)&&t.found&&!r.found){var a=t.width,l=t.height,u={x:a/l/2,y:.5};i.style=lw(ut(ut({},s),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function LZ(n){var e=n.prefix,t=n.iconName,r=n.children,i=n.attributes,s=n.symbol,o=s===!0?"".concat(e,"-").concat(gt.cssPrefix,"-").concat(t):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ut(ut({},i),{},{id:o}),children:r}]}]}function g6(n){var e=n.icons,t=e.main,r=e.mask,i=n.prefix,s=n.iconName,o=n.transform,a=n.symbol,l=n.title,u=n.maskId,c=n.titleId,f=n.extra,d=n.watchable,m=d===void 0?!1:d,y=r.found?r:t,g=y.width,v=y.height,x=i==="fak",w=[gt.replacementClass,s?"".concat(gt.cssPrefix,"-").concat(s):""].filter(function(O){return f.classes.indexOf(O)===-1}).filter(function(O){return O!==""||!!O}).concat(f.classes).join(" "),b={children:[],attributes:ut(ut({},f.attributes),{},{"data-prefix":i,"data-icon":s,class:w,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(v)})},A=x&&!~f.classes.indexOf("fa-fw")?{width:"".concat(g/v*16*.0625,"em")}:{};m&&(b.attributes[Tf]=""),l&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(c||Hm())},children:[l]}),delete b.attributes.title);var M=ut(ut({},b),{},{prefix:i,iconName:s,main:t,mask:r,maskId:u,transform:o,symbol:a,styles:ut(ut({},A),f.styles)}),I=r.found&&t.found?Sl("generateAbstractMask",M)||{children:[],attributes:{}}:Sl("generateAbstractIcon",M)||{children:[],attributes:{}},D=I.children,P=I.attributes;return M.children=D,M.attributes=P,a?LZ(M):NZ(M)}function AI(n){var e=n.content,t=n.width,r=n.height,i=n.transform,s=n.title,o=n.extra,a=n.watchable,l=a===void 0?!1:a,u=ut(ut(ut({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});l&&(u[Tf]="");var c=ut({},o.styles);d6(i)&&(c.transform=dZ({transform:i,startCentered:!0,width:t,height:r}),c["-webkit-transform"]=c.transform);var f=lw(c);f.length>0&&(u.style=f);var d=[];return d.push({tag:"span",attributes:u,children:[e]}),s&&d.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),d}function DZ(n){var e=n.content,t=n.title,r=n.extra,i=ut(ut(ut({},r.attributes),t?{title:t}:{}),{},{class:r.classes.join(" ")}),s=lw(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),t&&o.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),o}var X_=Oo.styles;function $S(n){var e=n[0],t=n[1],r=n.slice(4),i=o6(r,1),s=i[0],o=null;return Array.isArray(s)?o={tag:"g",attributes:{class:"".concat(gt.cssPrefix,"-").concat($c.GROUP)},children:[{tag:"path",attributes:{class:"".concat(gt.cssPrefix,"-").concat($c.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(gt.cssPrefix,"-").concat($c.PRIMARY),fill:"currentColor",d:s[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:e,height:t,icon:o}}var OZ={found:!1,width:512,height:512};function FZ(n,e){!AD&&!gt.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))}function XS(n,e){var t=e;return e==="fa"&&gt.styleDefault!==null&&(e=Vu()),new Promise(function(r,i){if(Sl("missingIconAbstract"),t==="fa"){var s=DD(n)||{};n=s.iconName||n,e=s.prefix||e}if(n&&e&&X_[e]&&X_[e][n]){var o=X_[e][n];return r($S(o))}FZ(n,e),r(ut(ut({},OZ),{},{icon:gt.showMissingIcons&&n?Sl("missingIconAbstract")||{}:{}}))})}var SI=function(){},YS=gt.measurePerformance&&Sy&&Sy.mark&&Sy.measure?Sy:{mark:SI,measure:SI},O0='FA "6.2.0"',UZ=function(e){return YS.mark("".concat(O0," ").concat(e," begins")),function(){return FD(e)}},FD=function(e){YS.mark("".concat(O0," ").concat(e," ends")),YS.measure("".concat(O0," ").concat(e),"".concat(O0," ").concat(e," begins"),"".concat(O0," ").concat(e," ends"))},v6={begin:UZ,end:FD},a1=function(){};function EI(n){var e=n.getAttribute?n.getAttribute(Tf):null;return typeof e=="string"}function zZ(n){var e=n.getAttribute?n.getAttribute(l6):null,t=n.getAttribute?n.getAttribute(u6):null;return e&&t}function GZ(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(gt.replacementClass)}function HZ(){if(gt.autoReplaceSvg===!0)return l1.replace;var n=l1[gt.autoReplaceSvg];return n||l1.replace}function jZ(n){return Fn.createElementNS("http://www.w3.org/2000/svg",n)}function VZ(n){return Fn.createElement(n)}function UD(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.ceFn,r=t===void 0?n.tag==="svg"?jZ:VZ:t;if(typeof n=="string")return Fn.createTextNode(n);var i=r(n.tag);Object.keys(n.attributes||[]).forEach(function(o){i.setAttribute(o,n.attributes[o])});var s=n.children||[];return s.forEach(function(o){i.appendChild(UD(o,{ceFn:r}))}),i}function WZ(n){var e=" ".concat(n.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var l1={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(i){t.parentNode.insertBefore(UD(i),t)}),t.getAttribute(Tf)===null&&gt.keepOriginalSource){var r=Fn.createComment(WZ(t));t.parentNode.replaceChild(r,t)}else t.remove()},nest:function(e){var t=e[0],r=e[1];if(~f6(t).indexOf(gt.replacementClass))return l1.replace(e);var i=new RegExp("".concat(gt.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(a,l){return l===gt.replacementClass||l.match(i)?a.toSvg.push(l):a.toNode.push(l),a},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(a){return Tg(a)}).join(`
`);t.setAttribute(Tf,""),t.innerHTML=o}};function CI(n){n()}function zD(n,e){var t=typeof e=="function"?e:a1;if(n.length===0)t();else{var r=CI;gt.mutateApproach===$Q&&(r=ju.requestAnimationFrame||CI),r(function(){var i=HZ(),s=v6.begin("mutate");n.map(i),s(),t()})}}var y6=!1;function GD(){y6=!0}function QS(){y6=!1}var cb=null;function MI(n){if(!!gI&&!!gt.observeMutations){var e=n.treeCallback,t=e===void 0?a1:e,r=n.nodeCallback,i=r===void 0?a1:r,s=n.pseudoElementsCallback,o=s===void 0?a1:s,a=n.observeMutationsRoot,l=a===void 0?Fn:a;cb=new gI(function(u){if(!y6){var c=Vu();lp(u).forEach(function(f){if(f.type==="childList"&&f.addedNodes.length>0&&!EI(f.addedNodes[0])&&(gt.searchPseudoElements&&o(f.target),t(f.target)),f.type==="attributes"&&f.target.parentNode&&gt.searchPseudoElements&&o(f.target.parentNode),f.type==="attributes"&&EI(f.target)&&~nZ.indexOf(f.attributeName))if(f.attributeName==="class"&&zZ(f.target)){var d=cw(f6(f.target)),m=d.prefix,y=d.iconName;f.target.setAttribute(l6,m||c),y&&f.target.setAttribute(u6,y)}else GZ(f.target)&&i(f.target)})}}),Ll&&cb.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function qZ(){!cb||cb.disconnect()}function KZ(n){var e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),t}function JZ(n){var e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),r=n.innerText!==void 0?n.innerText.trim():"",i=cw(f6(n));return i.prefix||(i.prefix=Vu()),e&&t&&(i.prefix=e,i.iconName=t),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=EZ(i.prefix,n.innerText)||p6(i.prefix,WS(n.innerText))),!i.iconName&&gt.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=n.firstChild.data)),i}function $Z(n){var e=lp(n.attributes).reduce(function(i,s){return i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i},{}),t=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return gt.autoA11y&&(t?e["aria-labelledby"]="".concat(gt.replacementClass,"-title-").concat(r||Hm()):(e["aria-hidden"]="true",e.focusable="false")),e}function XZ(){return{iconName:null,title:null,titleId:null,prefix:null,transform:ma,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function TI(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},t=JZ(n),r=t.iconName,i=t.prefix,s=t.rest,o=$Z(n),a=KS("parseNodeAttributes",{},n),l=e.styleParser?KZ(n):[];return ut({iconName:r,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:ma,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:l,attributes:o}},a)}var YZ=Oo.styles;function HD(n){var e=gt.autoReplaceSvg==="nest"?TI(n,{styleParser:!1}):TI(n);return~e.extra.classes.indexOf(SD)?Sl("generateLayersText",n,e):Sl("generateSvgReplacementMutation",n,e)}var Wu=new Set;c6.map(function(n){Wu.add("fa-".concat(n))});Object.keys(Fm[Nn]).map(Wu.add.bind(Wu));Object.keys(Fm[sr]).map(Wu.add.bind(Wu));Wu=Cg(Wu);function PI(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Ll)return Promise.resolve();var t=Fn.documentElement.classList,r=function(f){return t.add("".concat(vI,"-").concat(f))},i=function(f){return t.remove("".concat(vI,"-").concat(f))},s=gt.autoFetchSvg?Wu:c6.map(function(c){return"fa-".concat(c)}).concat(Object.keys(YZ));s.includes("fa")||s.push("fa");var o=[".".concat(SD,":not([").concat(Tf,"])")].concat(s.map(function(c){return".".concat(c,":not([").concat(Tf,"])")})).join(", ");if(o.length===0)return Promise.resolve();var a=[];try{a=lp(n.querySelectorAll(o))}catch{}if(a.length>0)r("pending"),i("complete");else return Promise.resolve();var l=v6.begin("onTree"),u=a.reduce(function(c,f){try{var d=HD(f);d&&c.push(d)}catch(m){AD||m.name==="MissingIcon"&&console.error(m)}return c},[]);return new Promise(function(c,f){Promise.all(u).then(function(d){zD(d,function(){r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),l(),c()})}).catch(function(d){l(),f(d)})})}function QZ(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;HD(n).then(function(t){t&&zD([t],e)})}function ZZ(n){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:JS(e||{}),i=t.mask;return i&&(i=(i||{}).icon?i:JS(i||{})),n(r,ut(ut({},t),{},{mask:i}))}}var eee=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.transform,i=r===void 0?ma:r,s=t.symbol,o=s===void 0?!1:s,a=t.mask,l=a===void 0?null:a,u=t.maskId,c=u===void 0?null:u,f=t.title,d=f===void 0?null:f,m=t.titleId,y=m===void 0?null:m,g=t.classes,v=g===void 0?[]:g,x=t.attributes,w=x===void 0?{}:x,b=t.styles,A=b===void 0?{}:b;if(!!e){var M=e.prefix,I=e.iconName,D=e.icon;return fw(ut({type:"icon"},e),function(){return Pf("beforeDOMElementCreation",{iconDefinition:e,params:t}),gt.autoA11y&&(d?w["aria-labelledby"]="".concat(gt.replacementClass,"-title-").concat(y||Hm()):(w["aria-hidden"]="true",w.focusable="false")),g6({icons:{main:$S(D),mask:l?$S(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:M,iconName:I,transform:ut(ut({},ma),i),symbol:o,title:d,maskId:c,titleId:y,extra:{attributes:w,styles:A,classes:v}})})}},tee={mixout:function(){return{icon:ZZ(eee)}},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=PI,t.nodeCallback=QZ,t}}},provides:function(e){e.i2svg=function(t){var r=t.node,i=r===void 0?Fn:r,s=t.callback,o=s===void 0?function(){}:s;return PI(i,o)},e.generateSvgReplacementMutation=function(t,r){var i=r.iconName,s=r.title,o=r.titleId,a=r.prefix,l=r.transform,u=r.symbol,c=r.mask,f=r.maskId,d=r.extra;return new Promise(function(m,y){Promise.all([XS(i,a),c.iconName?XS(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var v=o6(g,2),x=v[0],w=v[1];m([t,g6({icons:{main:x,mask:w},prefix:a,iconName:i,transform:l,symbol:u,maskId:f,title:s,titleId:o,extra:d,watchable:!0})])}).catch(y)})},e.generateAbstractIcon=function(t){var r=t.children,i=t.attributes,s=t.main,o=t.transform,a=t.styles,l=lw(a);l.length>0&&(i.style=l);var u;return d6(o)&&(u=Sl("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(u||s.icon),{children:r,attributes:i}}}},nee={mixout:function(){return{layer:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.classes,s=i===void 0?[]:i;return fw({type:"layer"},function(){Pf("beforeDOMElementCreation",{assembler:t,params:r});var o=[];return t(function(a){Array.isArray(a)?a.map(function(l){o=o.concat(l.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(gt.cssPrefix,"-layers")].concat(Cg(s)).join(" ")},children:o}]})}}}},ree={mixout:function(){return{counter:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.title,s=i===void 0?null:i,o=r.classes,a=o===void 0?[]:o,l=r.attributes,u=l===void 0?{}:l,c=r.styles,f=c===void 0?{}:c;return fw({type:"counter",content:t},function(){return Pf("beforeDOMElementCreation",{content:t,params:r}),DZ({content:t.toString(),title:s,extra:{attributes:u,styles:f,classes:["".concat(gt.cssPrefix,"-layers-counter")].concat(Cg(a))}})})}}}},iee={mixout:function(){return{text:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.transform,s=i===void 0?ma:i,o=r.title,a=o===void 0?null:o,l=r.classes,u=l===void 0?[]:l,c=r.attributes,f=c===void 0?{}:c,d=r.styles,m=d===void 0?{}:d;return fw({type:"text",content:t},function(){return Pf("beforeDOMElementCreation",{content:t,params:r}),AI({content:t,transform:ut(ut({},ma),s),title:a,extra:{attributes:f,styles:m,classes:["".concat(gt.cssPrefix,"-layers-text")].concat(Cg(u))}})})}}},provides:function(e){e.generateLayersText=function(t,r){var i=r.title,s=r.transform,o=r.extra,a=null,l=null;if(bD){var u=parseInt(getComputedStyle(t).fontSize,10),c=t.getBoundingClientRect();a=c.width/u,l=c.height/u}return gt.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([t,AI({content:t.innerHTML,width:a,height:l,transform:s,title:i,extra:o,watchable:!0})])}}},see=new RegExp('"',"ug"),II=[1105920,1112319];function oee(n){var e=n.replace(see,""),t=xZ(e,0),r=t>=II[0]&&t<=II[1],i=e.length===2?e[0]===e[1]:!1;return{value:WS(i?e[0]:e),isSecondary:r||i}}function RI(n,e){var t="".concat(JQ).concat(e.replace(":","-"));return new Promise(function(r,i){if(n.getAttribute(t)!==null)return r();var s=lp(n.children),o=s.filter(function(D){return D.getAttribute(VS)===e})[0],a=ju.getComputedStyle(n,e),l=a.getPropertyValue("font-family").match(ZQ),u=a.getPropertyValue("font-weight"),c=a.getPropertyValue("content");if(o&&!l)return n.removeChild(o),r();if(l&&c!=="none"&&c!==""){var f=a.getPropertyValue("content"),d=~["Sharp"].indexOf(l[2])?sr:Nn,m=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?Um[d][l[2].toLowerCase()]:eZ[d][u],y=oee(f),g=y.value,v=y.isSecondary,x=l[0].startsWith("FontAwesome"),w=p6(m,g),b=w;if(x){var A=CZ(g);A.iconName&&A.prefix&&(w=A.iconName,m=A.prefix)}if(w&&!v&&(!o||o.getAttribute(l6)!==m||o.getAttribute(u6)!==b)){n.setAttribute(t,b),o&&n.removeChild(o);var M=XZ(),I=M.extra;I.attributes[VS]=e,XS(w,m).then(function(D){var P=g6(ut(ut({},M),{},{icons:{main:D,mask:m6()},prefix:m,iconName:b,extra:I,watchable:!0})),O=Fn.createElement("svg");e==="::before"?n.insertBefore(O,n.firstChild):n.appendChild(O),O.outerHTML=P.map(function(V){return Tg(V)}).join(`
`),n.removeAttribute(t),r()}).catch(i)}else r()}else r()})}function aee(n){return Promise.all([RI(n,"::before"),RI(n,"::after")])}function lee(n){return n.parentNode!==document.head&&!~XQ.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(VS)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function BI(n){if(!!Ll)return new Promise(function(e,t){var r=lp(n.querySelectorAll("*")).filter(lee).map(aee),i=v6.begin("searchPseudoElements");GD(),Promise.all(r).then(function(){i(),QS(),e()}).catch(function(){i(),QS(),t()})})}var uee={hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=BI,t}}},provides:function(e){e.pseudoElements2svg=function(t){var r=t.node,i=r===void 0?Fn:r;gt.searchPseudoElements&&BI(i)}}},kI=!1,cee={mixout:function(){return{dom:{unwatch:function(){GD(),kI=!0}}}},hooks:function(){return{bootstrap:function(){MI(KS("mutationObserverCallbacks",{}))},noAuto:function(){qZ()},watch:function(t){var r=t.observeMutationsRoot;kI?QS():MI(KS("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},NI=function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&a==="h")return r.flipX=!0,r;if(o&&a==="v")return r.flipY=!0,r;if(a=parseFloat(a),isNaN(a))return r;switch(o){case"grow":r.size=r.size+a;break;case"shrink":r.size=r.size-a;break;case"left":r.x=r.x-a;break;case"right":r.x=r.x+a;break;case"up":r.y=r.y-a;break;case"down":r.y=r.y+a;break;case"rotate":r.rotate=r.rotate+a;break}return r},t)},fee={mixout:function(){return{parse:{transform:function(t){return NI(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-transform");return i&&(t.transform=NI(i)),t}}},provides:function(e){e.generateAbstractTransformGrouping=function(t){var r=t.main,i=t.transform,s=t.containerWidth,o=t.iconWidth,a={transform:"translate(".concat(s/2," 256)")},l="translate(".concat(i.x*32,", ").concat(i.y*32,") "),u="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),c="rotate(".concat(i.rotate," 0 0)"),f={transform:"".concat(l," ").concat(u," ").concat(c)},d={transform:"translate(".concat(o/2*-1," -256)")},m={outer:a,inner:f,path:d};return{tag:"g",attributes:ut({},m.outer),children:[{tag:"g",attributes:ut({},m.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:ut(ut({},r.icon.attributes),m.path)}]}]}}}},Y_={x:0,y:0,width:"100%",height:"100%"};function LI(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function dee(n){return n.tag==="g"?n.children:[n]}var hee={hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-mask"),s=i?cw(i.split(" ").map(function(o){return o.trim()})):m6();return s.prefix||(s.prefix=Vu()),t.mask=s,t.maskId=r.getAttribute("data-fa-mask-id"),t}}},provides:function(e){e.generateAbstractMask=function(t){var r=t.children,i=t.attributes,s=t.main,o=t.mask,a=t.maskId,l=t.transform,u=s.width,c=s.icon,f=o.width,d=o.icon,m=fZ({transform:l,containerWidth:f,iconWidth:u}),y={tag:"rect",attributes:ut(ut({},Y_),{},{fill:"white"})},g=c.children?{children:c.children.map(LI)}:{},v={tag:"g",attributes:ut({},m.inner),children:[LI(ut({tag:c.tag,attributes:ut(ut({},c.attributes),m.path)},g))]},x={tag:"g",attributes:ut({},m.outer),children:[v]},w="mask-".concat(a||Hm()),b="clip-".concat(a||Hm()),A={tag:"mask",attributes:ut(ut({},Y_),{},{id:w,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[y,x]},M={tag:"defs",children:[{tag:"clipPath",attributes:{id:b},children:dee(d)},A]};return r.push(M,{tag:"rect",attributes:ut({fill:"currentColor","clip-path":"url(#".concat(b,")"),mask:"url(#".concat(w,")")},Y_)}),{children:r,attributes:i}}}},pee={provides:function(e){var t=!1;ju.matchMedia&&(t=ju.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:ut(ut({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=ut(ut({},s),{},{attributeName:"opacity"}),a={tag:"circle",attributes:ut(ut({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:ut(ut({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ut(ut({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(a),r.push({tag:"path",attributes:ut(ut({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:ut(ut({},o),{},{values:"1;0;0;0;0;1;"})}]}),t||r.push({tag:"path",attributes:ut(ut({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ut(ut({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},mee={hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-symbol"),s=i===null?!1:i===""?!0:i;return t.symbol=s,t}}}},gee=[pZ,tee,nee,ree,iee,uee,cee,fee,hee,pee,mee];PZ(gee,{mixoutsTo:Ns});Ns.noAuto;Ns.config;Ns.library;Ns.dom;var ZS=Ns.parse;Ns.findIconDefinition;Ns.toHtml;var vee=Ns.icon;Ns.layer;Ns.text;Ns.counter;var qt={exports:{}},yee="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",xee=yee,bee=xee;function jD(){}function VD(){}VD.resetWarningCache=jD;var wee=function(){function n(r,i,s,o,a,l){if(l!==bee){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:VD,resetWarningCache:jD};return t.PropTypes=t,t};qt.exports=wee();function DI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Eu(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(t),!0).forEach(function(r){Qd(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):DI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function fb(n){return fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fb(n)}function Qd(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _ee(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Aee(n,e){if(n==null)return{};var t=_ee(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}function eE(n){return See(n)||Eee(n)||Cee(n)||Mee()}function See(n){if(Array.isArray(n))return tE(n)}function Eee(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Cee(n,e){if(!!n){if(typeof n=="string")return tE(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tE(n,e)}}function tE(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Mee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tee(n){var e,t=n.beat,r=n.fade,i=n.beatFade,s=n.bounce,o=n.shake,a=n.flash,l=n.spin,u=n.spinPulse,c=n.spinReverse,f=n.pulse,d=n.fixedWidth,m=n.inverse,y=n.border,g=n.listItem,v=n.flip,x=n.size,w=n.rotation,b=n.pull,A=(e={"fa-beat":t,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":o,"fa-flash":a,"fa-spin":l,"fa-spin-reverse":c,"fa-spin-pulse":u,"fa-pulse":f,"fa-fw":d,"fa-inverse":m,"fa-border":y,"fa-li":g,"fa-flip":v===!0,"fa-flip-horizontal":v==="horizontal"||v==="both","fa-flip-vertical":v==="vertical"||v==="both"},Qd(e,"fa-".concat(x),typeof x<"u"&&x!==null),Qd(e,"fa-rotate-".concat(w),typeof w<"u"&&w!==null&&w!==0),Qd(e,"fa-pull-".concat(b),typeof b<"u"&&b!==null),Qd(e,"fa-swap-opacity",n.swapOpacity),e);return Object.keys(A).map(function(M){return A[M]?M:null}).filter(function(M){return M})}function Pee(n){return n=n-0,n===n}function WD(n){return Pee(n)?n:(n=n.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),n.substr(0,1).toLowerCase()+n.substr(1))}var Iee=["style"];function Ree(n){return n.charAt(0).toUpperCase()+n.slice(1)}function Bee(n){return n.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var r=t.indexOf(":"),i=WD(t.slice(0,r)),s=t.slice(r+1).trim();return i.startsWith("webkit")?e[Ree(i)]=s:e[i]=s,e},{})}function qD(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(l){return qD(n,l)}),i=Object.keys(e.attributes||{}).reduce(function(l,u){var c=e.attributes[u];switch(u){case"class":l.attrs.className=c,delete e.attributes.class;break;case"style":l.attrs.style=Bee(c);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?l.attrs[u.toLowerCase()]=c:l.attrs[WD(u)]=c}return l},{attrs:{}}),s=t.style,o=s===void 0?{}:s,a=Aee(t,Iee);return i.attrs.style=Eu(Eu({},i.attrs.style),o),n.apply(void 0,[e.tag,Eu(Eu({},i.attrs),a)].concat(eE(r)))}var KD=!1;try{KD=!0}catch{}function kee(){if(!KD&&console&&typeof console.error=="function"){var n;(n=console).error.apply(n,arguments)}}function OI(n){if(n&&fb(n)==="object"&&n.prefix&&n.iconName&&n.icon)return n;if(ZS.icon)return ZS.icon(n);if(n===null)return null;if(n&&fb(n)==="object"&&n.prefix&&n.iconName)return n;if(Array.isArray(n)&&n.length===2)return{prefix:n[0],iconName:n[1]};if(typeof n=="string")return{prefix:"fas",iconName:n}}function Q_(n,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Qd({},n,e):{}}var No=Ar.forwardRef(function(n,e){var t=n.icon,r=n.mask,i=n.symbol,s=n.className,o=n.title,a=n.titleId,l=n.maskId,u=OI(t),c=Q_("classes",[].concat(eE(Tee(n)),eE(s.split(" ")))),f=Q_("transform",typeof n.transform=="string"?ZS.transform(n.transform):n.transform),d=Q_("mask",OI(r)),m=vee(u,Eu(Eu(Eu(Eu({},c),f),d),{},{symbol:i,title:o,titleId:a,maskId:l}));if(!m)return kee("Could not find icon",u),null;var y=m.abstract,g={ref:e};return Object.keys(n).forEach(function(v){No.defaultProps.hasOwnProperty(v)||(g[v]=n[v])}),Nee(y[0],g)});No.displayName="FontAwesomeIcon";No.propTypes={beat:qt.exports.bool,border:qt.exports.bool,beatFade:qt.exports.bool,bounce:qt.exports.bool,className:qt.exports.string,fade:qt.exports.bool,flash:qt.exports.bool,mask:qt.exports.oneOfType([qt.exports.object,qt.exports.array,qt.exports.string]),maskId:qt.exports.string,fixedWidth:qt.exports.bool,inverse:qt.exports.bool,flip:qt.exports.oneOf([!0,!1,"horizontal","vertical","both"]),icon:qt.exports.oneOfType([qt.exports.object,qt.exports.array,qt.exports.string]),listItem:qt.exports.bool,pull:qt.exports.oneOf(["right","left"]),pulse:qt.exports.bool,rotation:qt.exports.oneOf([0,90,180,270]),shake:qt.exports.bool,size:qt.exports.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:qt.exports.bool,spinPulse:qt.exports.bool,spinReverse:qt.exports.bool,symbol:qt.exports.oneOfType([qt.exports.bool,qt.exports.string]),title:qt.exports.string,titleId:qt.exports.string,transform:qt.exports.oneOfType([qt.exports.string,qt.exports.object]),swapOpacity:qt.exports.bool};No.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var Nee=qD.bind(null,Ar.createElement);const JD=n=>{const e=[],t=[];return n.customEvents?.forEach(r=>{const i={id:r.id,type:"event",position:{x:r.metadata?.positionX?Number(r.metadata?.positionX):0,y:r.metadata?.positionY?Number(r.metadata?.positionY):0},data:{}};e.push(i)}),n.nodes?.forEach(r=>{const i={id:r.id,type:r.type,position:{x:r.metadata?.positionX?Number(r.metadata?.positionX):0,y:r.metadata?.positionY?Number(r.metadata?.positionY):0},data:{}};if(e.push(i),r.parameters)for(const[s,o]of Object.entries(r.parameters))"link"in o&&o.link!==void 0&&t.push({id:Lh(),source:o.link.nodeId,sourceHandle:o.link.socket,target:r.id,targetHandle:s}),"value"in o&&(i.data[s]=o.value);if(r.flows)for(const[s,o]of Object.entries(r.flows))t.push({id:Lh(),source:r.id,sourceHandle:s,target:o.nodeId,targetHandle:o.socket})}),[e,t]},Lee=(n,e)=>{let t=0;n.forEach(r=>{r.position.x=t,t+=200})},Dee=n=>n.nodes===void 0?!1:n.nodes.some(e=>e.metadata?.positionX!==void 0||e.metadata?.positionY!==void 0),Oee=[{id:"b7c673cf-34f7-4bda-bfa8-04c281e5da5a",type:"flow/flipFlop",metadata:{positionX:"191.86881720430105",positionY:"38.177755376344095"}},{id:"00f8bce9-0ec6-4fb3-9ad7-ac7354194a52",type:"scene/set/boolean",metadata:{positionX:"545.1166666666667",positionY:"-163.44012096774196"},parameters:{jsonPath:{value:"nodes/Suzanne/visible"},value:{link:{nodeId:"b7c673cf-34f7-4bda-bfa8-04c281e5da5a",socket:"isOn"}}}},{id:"38415624-878a-4030-9899-0c9951013d1c",type:"scene/nodeClick",metadata:{positionX:"-183.04045698924733",positionY:"-256.750873655914"},parameters:{jsonPath:{value:"nodes/Torus"}},flows:{secondFlow:{nodeId:"b7c673cf-34f7-4bda-bfa8-04c281e5da5a",socket:"flow"},flow:{nodeId:"00f8bce9-0ec6-4fb3-9ad7-ac7354194a52",socket:"flow"}}}],Fee=[],Uee=[],zee={nodes:Oee,variables:Fee,customEvents:Uee},Gee=[{id:"0",type:"lifecycle/onTick",metadata:{positionX:"-225",positionY:"-2"},flows:{flow:{nodeId:"3",socket:"flow"}}},{id:"1",type:"math/create/euler",metadata:{positionX:"78",positionY:"108"},parameters:{y:{value:0},z:{value:0},x:{link:{nodeId:"0",socket:"time"}}}},{id:"2",type:"math/toQuat/euler",metadata:{positionX:"307",positionY:"109"},parameters:{a:{link:{nodeId:"1",socket:"result"}}}},{id:"3",type:"scene/set/quat",metadata:{positionX:"563",positionY:"-85"},parameters:{jsonPath:{value:"nodes/Suzanne/rotation"},value:{link:{nodeId:"2",socket:"result"}}}}],Hee=[],jee=[],$D={nodes:Gee,variables:Hee,customEvents:jee},Vee={clickToAnimate:zee,spinningModel:$D},Wee=({open:n=!1,onClose:e})=>{const[t,r]=J.exports.useState(),[i,s]=J.exports.useState(""),o=Nl(),a=()=>{let u;if(t!==void 0?u=JSON.parse(t):i!==""&&(u=Vee[i]),u===void 0)return;const[c,f]=JD(u);Dee(u)===!1&&Lee(c),o.setNodes(c),o.setEdges(f),setTimeout(()=>{o.fitView()},100),l()},l=()=>{r(void 0),s(""),e()};return Tt(aw,{title:"Load Graph",actions:[{label:"Cancel",onClick:l},{label:"Load",onClick:a}],open:n,onClose:e,children:[te("textarea",{autoFocus:!0,className:"border border-gray-300 w-full p-2 h-32 align-top",placeholder:"Paste JSON here",value:t,onChange:u=>r(u.currentTarget.value)}),te("div",{className:"p-4 text-center text-gray-800",children:"or"}),Tt("select",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded block w-full p-3",onChange:u=>s(u.target.value),value:i,children:[te("option",{disabled:!0,value:"",children:"Select an example"}),te("option",{value:"spinningModel",children:"Spinning Mdoel"}),te("option",{value:"clickToAnimate",children:"Click to Animate"})]})]})},ky=n=>n==null,XD=({nodes:n,edges:e,nodeSpecJSON:t})=>{const r={nodes:[],variables:[],customEvents:[]};return n.forEach(i=>{if(i.type===void 0)return;const s=t.find(a=>a.type===i.type);if(s===void 0)return;const o={id:i.id,type:i.type,metadata:{positionX:String(i.position.x),positionY:String(i.position.y)}};Object.entries(i.data).forEach(([a,l])=>{o.parameters===void 0&&(o.parameters={}),o.parameters[a]={value:l}}),e.filter(a=>a.target===i.id).forEach(a=>{const l=s.inputs.find(u=>u.name===a.targetHandle);l&&l.valueType==="flow"||(o.parameters===void 0&&(o.parameters={}),!ky(a.targetHandle)&&(ky(a.sourceHandle)||(o.parameters[a.targetHandle]={link:{nodeId:a.source,socket:a.sourceHandle}})))}),e.filter(a=>a.source===i.id).forEach(a=>{const l=s.outputs.find(u=>u.name===a.sourceHandle);l&&l.valueType!=="flow"||(o.flows===void 0&&(o.flows={}),!ky(a.targetHandle)&&(ky(a.sourceHandle)||(o.flows[a.sourceHandle]={nodeId:a.target,socket:a.targetHandle})))}),r.nodes?.push(o)}),r},qee=({open:n=!1,onClose:e,specJson:t})=>{const r=J.exports.useRef(null),[i,s]=J.exports.useState(!1),o=cD(),a=uQ(),l=J.exports.useMemo(()=>XD({nodes:a,edges:o,nodeSpecJSON:t}),[a,o]),u=JSON.stringify(l,null,2);return te(aw,{title:"Save Graph",actions:[{label:"Cancel",onClick:e},{label:i?"Copied":"Copy",onClick:()=>{r.current?.select(),document.execCommand("copy"),r.current?.blur(),s(!0),setInterval(()=>{s(!1)},1e3)}}],open:n,onClose:e,children:te("textarea",{ref:r,className:"border border-gray-300 w-full p-2 h-32",defaultValue:u})})},Kee=({toggleRun:n,specJson:e,running:t})=>{const[r,i]=J.exports.useState(!1),[s,o]=J.exports.useState(!1),[a,l]=J.exports.useState(!1),[u,c]=J.exports.useState(!1);return Tt(vr,{children:[Tt(xQ,{className:"bg-white",children:[te(ha,{title:"Help",onClick:()=>l(!0),children:te(No,{icon:NQ})}),te(ha,{title:"Load",onClick:()=>i(!0),children:te(No,{icon:OQ})}),te(ha,{title:"Save",onClick:()=>o(!0),children:te(No,{icon:DQ})}),te(ha,{title:"Clear",onClick:()=>c(!0),children:te(No,{icon:LQ})}),te(ha,{title:"Run",onClick:()=>n(),children:te(No,{icon:t?kQ:FQ})})]}),te(Wee,{open:r,onClose:()=>i(!1)}),te(qee,{open:s,onClose:()=>o(!1),specJson:e}),te(BQ,{open:a,onClose:()=>l(!1)}),te(RQ,{open:u,onClose:()=>c(!1)})]})},Jee=[{type:"debug/expectTrue",category:"Action",label:"Assert Expect True",inputs:[{name:"flow",valueType:"flow"},{name:"condition",valueType:"boolean",defaultValue:!1},{name:"description",valueType:"string",defaultValue:""}],outputs:[{name:"flow",valueType:"flow"}]},{type:"debug/log",category:"Action",label:"Debug Log",inputs:[{name:"flow",valueType:"flow"},{name:"text",valueType:"string",defaultValue:""}],outputs:[{name:"flow",valueType:"flow"}]},{type:"flow/branch",category:"Flow",label:"Branch",inputs:[{name:"flow",valueType:"flow"},{name:"condition",valueType:"boolean",defaultValue:!1}],outputs:[{name:"true",valueType:"flow"},{name:"false",valueType:"flow"}]},{type:"flow/debounce",category:"Flow",label:"Debounce",inputs:[{name:"flow",valueType:"flow"},{name:"waitDuration",valueType:"float",defaultValue:0},{name:"cancel",valueType:"flow"}],outputs:[{name:"flow",valueType:"flow"}]},{type:"flow/delay",category:"Flow",label:"Delay",inputs:[{name:"flow",valueType:"flow"},{name:"duration",valueType:"float",defaultValue:1}],outputs:[{name:"flow",valueType:"flow"}]},{type:"flow/doN",category:"Flow",label:"DoN",inputs:[{name:"flow",valueType:"flow"},{name:"n",valueType:"integer",defaultValue:1},{name:"reset",valueType:"flow"}],outputs:[{name:"flow",valueType:"flow"},{name:"count",valueType:"integer"}]},{type:"flow/doOnce",category:"Flow",label:"DoOnce",inputs:[{name:"flow",valueType:"flow"},{name:"reset",valueType:"flow"}],outputs:[{name:"flow",valueType:"flow"}]},{type:"flow/flipFlop",category:"Flow",label:"Flip Flop",inputs:[{name:"flow",valueType:"flow"}],outputs:[{name:"on",valueType:"flow"},{name:"off",valueType:"flow"},{name:"isOn",valueType:"boolean"}]},{type:"flow/forLoop",category:"Flow",label:"For Loop",inputs:[{name:"flow",valueType:"flow"},{name:"startIndex",valueType:"integer",defaultValue:0},{name:"endIndex",valueType:"integer",defaultValue:0}],outputs:[{name:"loopBody",valueType:"flow"},{name:"index",valueType:"integer"},{name:"completed",valueType:"flow"}]},{type:"flow/gate",category:"Flow",label:"Gate",inputs:[{name:"flow",valueType:"flow"},{name:"open",valueType:"flow"},{name:"close",valueType:"flow"},{name:"toggle",valueType:"flow"},{name:"startClosed",valueType:"boolean",defaultValue:!0}],outputs:[{name:"flow",valueType:"flow"}]},{type:"flow/multiGate",category:"Flow",label:"MultiGate",inputs:[{name:"flow",valueType:"flow"},{name:"reset",valueType:"flow"},{name:"loop",valueType:"boolean",defaultValue:!0},{name:"startIndex",valueType:"integer",defaultValue:0}],outputs:[{name:"1",valueType:"flow"},{name:"2",valueType:"flow"},{name:"3",valueType:"flow"}]},{type:"flow/sequence",category:"Flow",label:"Sequence",inputs:[{name:"flow",valueType:"flow"}],outputs:[{name:"1",valueType:"flow"},{name:"2",valueType:"flow"},{name:"3",valueType:"flow"}]},{type:"flow/throttle",category:"Flow",label:"Throttle",inputs:[{name:"flow",valueType:"flow"},{name:"duration",valueType:"float",defaultValue:1},{name:"cancel",valueType:"flow"}],outputs:[{name:"flow",valueType:"flow"}]},{type:"lifecycle/onEnd",category:"Event",label:"On End",inputs:[],outputs:[{name:"flow",valueType:"flow"}]},{type:"lifecycle/onStart",category:"Event",label:"On Start",inputs:[],outputs:[{name:"flow",valueType:"flow"}]},{type:"lifecycle/onTick",category:"Event",label:"On Tick",inputs:[],outputs:[{name:"flow",valueType:"flow"},{name:"deltaSeconds",valueType:"float"},{name:"time",valueType:"float"}]},{type:"logic/concat/string",category:"Logic",label:"Concat",inputs:[{name:"a",valueType:"string",defaultValue:""},{name:"b",valueType:"string",defaultValue:""}],outputs:[{name:"result",valueType:"string"}]},{type:"logic/includes/string",category:"Logic",label:"Includes",inputs:[{name:"a",valueType:"string",defaultValue:""},{name:"b",valueType:"string",defaultValue:""}],outputs:[{name:"result",valueType:"boolean"}]},{type:"logic/length/string",category:"Logic",label:"Length",inputs:[{name:"a",valueType:"string",defaultValue:""}],outputs:[{name:"result",valueType:"integer"}]},{type:"logic/string",category:"Logic",label:"String",inputs:[{name:"a",valueType:"string",defaultValue:""}],outputs:[{name:"result",valueType:"string"}]},{type:"math/abs/float",category:"Logic",label:"ABS",inputs:[{name:"a",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/abs/integer",category:"Logic",label:"ABS",inputs:[{name:"a",valueType:"integer",defaultValue:0}],outputs:[{name:"result",valueType:"integer"}]},{type:"math/acos/float",category:"Logic",label:"ACOS",inputs:[{name:"a",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/add/color",category:"Logic",label:"+",inputs:[{name:"a",valueType:"color",defaultValue:{r:0,g:0,b:0}},{name:"b",valueType:"color",defaultValue:{r:0,g:0,b:0}}],outputs:[{name:"result",valueType:"color"}]},{type:"math/add/euler",category:"Logic",label:"+",inputs:[{name:"a",valueType:"euler",defaultValue:{x:0,y:0,z:0}},{name:"b",valueType:"euler",defaultValue:{x:0,y:0,z:0}}],outputs:[{name:"result",valueType:"euler"}]},{type:"math/add/float",category:"Logic",label:"+",inputs:[{name:"a",valueType:"float",defaultValue:0},{name:"b",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/add/integer",category:"Logic",label:"+",inputs:[{name:"a",valueType:"integer",defaultValue:0},{name:"b",valueType:"integer",defaultValue:0}],outputs:[{name:"result",valueType:"integer"}]},{type:"math/add/vec2",category:"Logic",label:"+",inputs:[{name:"a",valueType:"vec2",defaultValue:{x:0,y:0}},{name:"b",valueType:"vec2",defaultValue:{x:0,y:0}}],outputs:[{name:"result",valueType:"vec2"}]},{type:"math/add/vec3",category:"Logic",label:"+",inputs:[{name:"a",valueType:"vec3",defaultValue:{x:0,y:0,z:0}},{name:"b",valueType:"vec3",defaultValue:{x:0,y:0,z:0}}],outputs:[{name:"result",valueType:"vec3"}]},{type:"math/add/vec4",category:"Logic",label:"+",inputs:[{name:"a",valueType:"vec4",defaultValue:{x:0,y:0,z:0,w:0}},{name:"b",valueType:"vec4",defaultValue:{x:0,y:0,z:0,w:0}}],outputs:[{name:"result",valueType:"vec4"}]},{type:"math/and/boolean",category:"Logic",label:"\u2227",inputs:[{name:"a",valueType:"boolean",defaultValue:!1},{name:"b",valueType:"boolean",defaultValue:!1}],outputs:[{name:"result",valueType:"boolean"}]},{type:"math/asin/float",category:"Logic",label:"ASIN",inputs:[{name:"a",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/atan/float",category:"Logic",label:"ATAN",inputs:[{name:"a",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/boolean",category:"Logic",label:"Boolean",inputs:[{name:"a",valueType:"boolean",defaultValue:!1}],outputs:[{name:"result",valueType:"boolean"}]},{type:"math/ceil/float",category:"Logic",label:"CEIL",inputs:[{name:"a",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/clamp/float",category:"Logic",label:"CLAMP",inputs:[{name:"value",valueType:"float",defaultValue:0},{name:"min",valueType:"float",defaultValue:0},{name:"max",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/clamp/integer",category:"Logic",label:"CLAMP",inputs:[{name:"value",valueType:"integer",defaultValue:0},{name:"min",valueType:"integer",defaultValue:0},{name:"max",valueType:"integer",defaultValue:0}],outputs:[{name:"result",valueType:"integer"}]},{type:"math/color",category:"Logic",label:"Color",inputs:[{name:"a",valueType:"color",defaultValue:{r:0,g:0,b:0}}],outputs:[{name:"result",valueType:"color"}]},{type:"math/conjugate/quat",category:"Logic",label:"Conjugate",inputs:[{name:"a",valueType:"quat",defaultValue:{x:0,y:0,z:0,w:0}}],outputs:[{name:"result",valueType:"quat"}]},{type:"math/cos/float",category:"Logic",label:"COS",inputs:[{name:"a",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/cross/vec3",category:"Logic",label:"Cross",inputs:[{name:"a",valueType:"vec3",defaultValue:{x:0,y:0,z:0}},{name:"b",valueType:"vec3",defaultValue:{x:0,y:0,z:0}}],outputs:[{name:"result",valueType:"vec3"}]},{type:"math/divide/float",category:"Logic",label:"\xF7",inputs:[{name:"a",valueType:"float",defaultValue:0},{name:"b",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/divide/integer",category:"Logic",label:"\xF7",inputs:[{name:"a",valueType:"integer",defaultValue:0},{name:"b",valueType:"integer",defaultValue:0}],outputs:[{name:"result",valueType:"integer"}]},{type:"math/dot/quat",category:"Logic",label:"Dot Product",inputs:[{name:"a",valueType:"quat",defaultValue:{x:0,y:0,z:0,w:0}},{name:"b",valueType:"quat",defaultValue:{x:0,y:0,z:0,w:0}}],outputs:[{name:"result",valueType:"float"}]},{type:"math/dot/vec2",category:"Logic",label:"Dot Product",inputs:[{name:"a",valueType:"vec2",defaultValue:{x:0,y:0}},{name:"b",valueType:"vec2",defaultValue:{x:0,y:0}}],outputs:[{name:"result",valueType:"float"}]},{type:"math/dot/vec3",category:"Logic",label:"Dot",inputs:[{name:"a",valueType:"vec3",defaultValue:{x:0,y:0,z:0}},{name:"b",valueType:"vec3",defaultValue:{x:0,y:0,z:0}}],outputs:[{name:"result",valueType:"float"}]},{type:"math/dot/vec4",category:"Logic",label:"Dot Product",inputs:[{name:"a",valueType:"vec4",defaultValue:{x:0,y:0,z:0,w:0}},{name:"b",valueType:"vec4",defaultValue:{x:0,y:0,z:0,w:0}}],outputs:[{name:"result",valueType:"float"}]},{type:"math/e/float",category:"Logic",label:"\u{1D452}",inputs:[],outputs:[{name:"result",valueType:"float"}]},{type:"math/equal/boolean",category:"Logic",label:"=",inputs:[{name:"a",valueType:"boolean",defaultValue:!1},{name:"b",valueType:"boolean",defaultValue:!1}],outputs:[{name:"result",valueType:"boolean"}]},{type:"math/equal/color",category:"Logic",label:"=",inputs:[{name:"a",valueType:"color",defaultValue:{r:0,g:0,b:0}},{name:"b",valueType:"color",defaultValue:{r:0,g:0,b:0}}],outputs:[{name:"result",valueType:"boolean"}]},{type:"math/equal/euler",category:"Logic",label:"=",inputs:[{name:"a",valueType:"euler",defaultValue:{x:0,y:0,z:0}},{name:"b",valueType:"euler",defaultValue:{x:0,y:0,z:0}}],outputs:[{name:"result",valueType:"boolean"}]},{type:"math/equal/float",category:"Logic",label:"=",inputs:[{name:"a",valueType:"float",defaultValue:0},{name:"b",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"boolean"}]},{type:"math/equal/integer",category:"Logic",label:"=",inputs:[{name:"a",valueType:"integer",defaultValue:0},{name:"b",valueType:"integer",defaultValue:0}],outputs:[{name:"result",valueType:"boolean"}]},{type:"math/equal/quat",category:"Logic",label:"=",inputs:[{name:"a",valueType:"quat",defaultValue:{x:0,y:0,z:0,w:0}},{name:"b",valueType:"quat",defaultValue:{x:0,y:0,z:0,w:0}}],outputs:[{name:"result",valueType:"boolean"}]},{type:"math/equal/string",category:"Logic",label:"=",inputs:[{name:"a",valueType:"string",defaultValue:""},{name:"b",valueType:"string",defaultValue:""}],outputs:[{name:"result",valueType:"boolean"}]},{type:"math/equal/vec2",category:"Logic",label:"=",inputs:[{name:"a",valueType:"vec2",defaultValue:{x:0,y:0}},{name:"b",valueType:"vec2",defaultValue:{x:0,y:0}}],outputs:[{name:"result",valueType:"boolean"}]},{type:"math/equal/vec3",category:"Logic",label:"=",inputs:[{name:"a",valueType:"vec3",defaultValue:{x:0,y:0,z:0}},{name:"b",valueType:"vec3",defaultValue:{x:0,y:0,z:0}}],outputs:[{name:"result",valueType:"boolean"}]},{type:"math/equal/vec4",category:"Logic",label:"=",inputs:[{name:"a",valueType:"vec4",defaultValue:{x:0,y:0,z:0,w:0}},{name:"b",valueType:"vec4",defaultValue:{x:0,y:0,z:0,w:0}}],outputs:[{name:"result",valueType:"boolean"}]},{type:"math/euler",category:"Logic",label:"Euler",inputs:[{name:"a",valueType:"euler",defaultValue:{x:0,y:0,z:0}}],outputs:[{name:"result",valueType:"euler"}]},{type:"math/exp/float",category:"Logic",label:"EXP",inputs:[{name:"a",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/float",category:"Logic",label:"Float",inputs:[{name:"a",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/floor/float",category:"Logic",label:"FLOOR",inputs:[{name:"a",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/greaterThan/float",category:"Logic",label:">",inputs:[{name:"a",valueType:"float",defaultValue:0},{name:"b",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"boolean"}]},{type:"math/greaterThan/integer",category:"Logic",label:">",inputs:[{name:"a",valueType:"integer",defaultValue:0},{name:"b",valueType:"integer",defaultValue:0}],outputs:[{name:"result",valueType:"boolean"}]},{type:"math/greaterThanOrEqual/float",category:"Logic",label:"\u2265",inputs:[{name:"a",valueType:"float",defaultValue:0},{name:"b",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"boolean"}]},{type:"math/greaterThanOrEqual/integer",category:"Logic",label:"\u2265",inputs:[{name:"a",valueType:"integer",defaultValue:0},{name:"b",valueType:"integer",defaultValue:0}],outputs:[{name:"result",valueType:"boolean"}]},{type:"math/integer",category:"Logic",label:"Integer",inputs:[{name:"a",valueType:"integer",defaultValue:0}],outputs:[{name:"result",valueType:"integer"}]},{type:"math/isInf/float",category:"Logic",label:"isInf",inputs:[{name:"a",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"boolean"}]},{type:"math/isNaN/float",category:"Logic",label:"isNaN",inputs:[{name:"a",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"boolean"}]},{type:"math/length/quat",category:"Logic",label:"Length",inputs:[{name:"a",valueType:"quat",defaultValue:{x:0,y:0,z:0,w:0}}],outputs:[{name:"result",valueType:"float"}]},{type:"math/length/vec2",category:"Logic",label:"Length",inputs:[{name:"a",valueType:"vec2",defaultValue:{x:0,y:0}}],outputs:[{name:"result",valueType:"float"}]},{type:"math/length/vec3",category:"Logic",label:"Length",inputs:[{name:"a",valueType:"vec3",defaultValue:{x:0,y:0,z:0}}],outputs:[{name:"result",valueType:"float"}]},{type:"math/length/vec4",category:"Logic",label:"Length",inputs:[{name:"a",valueType:"vec4",defaultValue:{x:0,y:0,z:0,w:0}}],outputs:[{name:"result",valueType:"float"}]},{type:"math/lessThan/float",category:"Logic",label:"<",inputs:[{name:"a",valueType:"float",defaultValue:0},{name:"b",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"boolean"}]},{type:"math/lessThan/integer",category:"Logic",label:"<",inputs:[{name:"a",valueType:"integer",defaultValue:0},{name:"b",valueType:"integer",defaultValue:0}],outputs:[{name:"result",valueType:"boolean"}]},{type:"math/lessThanOrEqual/float",category:"Logic",label:"\u2264",inputs:[{name:"a",valueType:"float",defaultValue:0},{name:"b",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"boolean"}]},{type:"math/lessThanOrEqual/integer",category:"Logic",label:"\u2264",inputs:[{name:"a",valueType:"integer",defaultValue:0},{name:"b",valueType:"integer",defaultValue:0}],outputs:[{name:"result",valueType:"boolean"}]},{type:"math/ln/float",category:"Logic",label:"LN",inputs:[{name:"a",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/log10/float",category:"Logic",label:"LOG10",inputs:[{name:"a",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/log2/float",category:"Logic",label:"LOG2",inputs:[{name:"a",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/max/float",category:"Logic",label:"MAX",inputs:[{name:"a",valueType:"float",defaultValue:0},{name:"b",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/max/integer",category:"Logic",label:"MAX",inputs:[{name:"a",valueType:"integer",defaultValue:0},{name:"b",valueType:"integer",defaultValue:0}],outputs:[{name:"result",valueType:"integer"}]},{type:"math/min/float",category:"Logic",label:"MIN",inputs:[{name:"a",valueType:"float",defaultValue:0},{name:"b",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/min/integer",category:"Logic",label:"MIN",inputs:[{name:"a",valueType:"integer",defaultValue:0},{name:"b",valueType:"integer",defaultValue:0}],outputs:[{name:"result",valueType:"integer"}]},{type:"math/mix/color",category:"Logic",label:"\xF7",inputs:[{name:"a",valueType:"color",defaultValue:{r:0,g:0,b:0}},{name:"b",valueType:"color",defaultValue:{r:0,g:0,b:0}},{name:"t",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"color"}]},{type:"math/mix/euler",category:"Logic",label:"\xF7",inputs:[{name:"a",valueType:"euler",defaultValue:{x:0,y:0,z:0}},{name:"b",valueType:"euler",defaultValue:{x:0,y:0,z:0}},{name:"t",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"euler"}]},{type:"math/mix/float",category:"Logic",label:"MIX",inputs:[{name:"a",valueType:"float",defaultValue:0},{name:"b",valueType:"float",defaultValue:0},{name:"t",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/mix/vec2",category:"Logic",label:"\xF7",inputs:[{name:"a",valueType:"vec2",defaultValue:{x:0,y:0}},{name:"b",valueType:"vec2",defaultValue:{x:0,y:0}},{name:"t",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"vec2"}]},{type:"math/mix/vec3",category:"Logic",label:"\xF7",inputs:[{name:"a",valueType:"vec3",defaultValue:{x:0,y:0,z:0}},{name:"b",valueType:"vec3",defaultValue:{x:0,y:0,z:0}},{name:"t",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"vec3"}]},{type:"math/mix/vec4",category:"Logic",label:"\xF7",inputs:[{name:"a",valueType:"vec4",defaultValue:{x:0,y:0,z:0,w:0}},{name:"b",valueType:"vec4",defaultValue:{x:0,y:0,z:0,w:0}},{name:"t",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"vec4"}]},{type:"math/modulus/float",category:"Logic",label:"MOD",inputs:[{name:"a",valueType:"float",defaultValue:0},{name:"b",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/modulus/integer",category:"Logic",label:"MOD",inputs:[{name:"a",valueType:"integer",defaultValue:0},{name:"b",valueType:"integer",defaultValue:0}],outputs:[{name:"result",valueType:"integer"}]},{type:"math/multiply/float",category:"Logic",label:"\xD7",inputs:[{name:"a",valueType:"float",defaultValue:0},{name:"b",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/multiply/integer",category:"Logic",label:"\xD7",inputs:[{name:"a",valueType:"integer",defaultValue:0},{name:"b",valueType:"integer",defaultValue:0}],outputs:[{name:"result",valueType:"integer"}]},{type:"math/multiply/quat",category:"Logic",label:"\xD7",inputs:[{name:"a",valueType:"quat",defaultValue:{x:0,y:0,z:0,w:0}},{name:"b",valueType:"quat",defaultValue:{x:0,y:0,z:0,w:0}}],outputs:[{name:"result",valueType:"quat"}]},{type:"math/negate/boolean",category:"Logic",label:"\xAC",inputs:[{name:"a",valueType:"boolean",defaultValue:!1}],outputs:[{name:"result",valueType:"boolean"}]},{type:"math/negate/color",category:"Logic",label:"-",inputs:[{name:"a",valueType:"color",defaultValue:{r:0,g:0,b:0}}],outputs:[{name:"result",valueType:"color"}]},{type:"math/negate/euler",category:"Logic",label:"-",inputs:[{name:"a",valueType:"euler",defaultValue:{x:0,y:0,z:0}}],outputs:[{name:"result",valueType:"euler"}]},{type:"math/negate/float",category:"Logic",label:"-",inputs:[{name:"a",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/negate/integer",category:"Logic",label:"-",inputs:[{name:"a",valueType:"integer",defaultValue:0}],outputs:[{name:"result",valueType:"integer"}]},{type:"math/negate/vec2",category:"Logic",label:"-",inputs:[{name:"a",valueType:"vec2",defaultValue:{x:0,y:0}}],outputs:[{name:"result",valueType:"vec2"}]},{type:"math/negate/vec3",category:"Logic",label:"-",inputs:[{name:"a",valueType:"vec3",defaultValue:{x:0,y:0,z:0}}],outputs:[{name:"result",valueType:"vec3"}]},{type:"math/negate/vec4",category:"Logic",label:"-",inputs:[{name:"a",valueType:"vec4",defaultValue:{x:0,y:0,z:0,w:0}}],outputs:[{name:"result",valueType:"vec4"}]},{type:"math/normalize/quat",category:"Logic",label:"Normalize",inputs:[{name:"a",valueType:"quat",defaultValue:{x:0,y:0,z:0,w:0}}],outputs:[{name:"result",valueType:"quat"}]},{type:"math/normalize/vec2",category:"Logic",label:"Normalize",inputs:[{name:"a",valueType:"vec2",defaultValue:{x:0,y:0}}],outputs:[{name:"result",valueType:"vec2"}]},{type:"math/normalize/vec3",category:"Logic",label:"Normalize",inputs:[{name:"a",valueType:"vec3",defaultValue:{x:0,y:0,z:0}}],outputs:[{name:"result",valueType:"vec3"}]},{type:"math/normalize/vec4",category:"Logic",label:"Normalize",inputs:[{name:"a",valueType:"vec4",defaultValue:{x:0,y:0,z:0,w:0}}],outputs:[{name:"result",valueType:"vec4"}]},{type:"math/or/boolean",category:"Logic",label:"\u2228",inputs:[{name:"a",valueType:"boolean",defaultValue:!1},{name:"b",valueType:"boolean",defaultValue:!1}],outputs:[{name:"result",valueType:"boolean"}]},{type:"math/pi/float",category:"Logic",label:"\u03C0",inputs:[],outputs:[{name:"result",valueType:"float"}]},{type:"math/pow/float",category:"Logic",label:"POW",inputs:[{name:"a",valueType:"float",defaultValue:0},{name:"b",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/quat",category:"Logic",label:"Quaternion",inputs:[{name:"a",valueType:"quat",defaultValue:{x:0,y:0,z:0,w:0}}],outputs:[{name:"result",valueType:"quat"}]},{type:"math/random/float",category:"Logic",label:"RANDOM",inputs:[],outputs:[{name:"result",valueType:"float"}]},{type:"math/round/float",category:"Logic",label:"ROUND",inputs:[{name:"a",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/scale/color",category:"Logic",label:"\xD7",inputs:[{name:"a",valueType:"color",defaultValue:{r:0,g:0,b:0}},{name:"b",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"color"}]},{type:"math/scale/euler",category:"Logic",label:"\xD7",inputs:[{name:"a",valueType:"euler",defaultValue:{x:0,y:0,z:0}},{name:"b",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"euler"}]},{type:"math/scale/quat",category:"Logic",label:"\xD7",inputs:[{name:"a",valueType:"quat",defaultValue:{x:0,y:0,z:0,w:0}},{name:"b",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"quat"}]},{type:"math/scale/vec2",category:"Logic",label:"\xD7",inputs:[{name:"a",valueType:"vec2",defaultValue:{x:0,y:0}},{name:"b",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"vec2"}]},{type:"math/scale/vec3",category:"Logic",label:"\xD7",inputs:[{name:"a",valueType:"vec3",defaultValue:{x:0,y:0,z:0}},{name:"b",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"vec3"}]},{type:"math/scale/vec4",category:"Logic",label:"\xD7",inputs:[{name:"a",valueType:"vec4",defaultValue:{x:0,y:0,z:0,w:0}},{name:"b",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"vec4"}]},{type:"math/sign/float",category:"Logic",label:"SIGN",inputs:[{name:"a",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/sign/integer",category:"Logic",label:"SIGN",inputs:[{name:"a",valueType:"integer",defaultValue:0}],outputs:[{name:"result",valueType:"integer"}]},{type:"math/sin/float",category:"Logic",label:"SIN",inputs:[{name:"a",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/slerp/quat",category:"Logic",label:"Slerp",inputs:[{name:"a",valueType:"quat",defaultValue:{x:0,y:0,z:0,w:0}},{name:"b",valueType:"quat",defaultValue:{x:0,y:0,z:0,w:0}},{name:"t",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"quat"}]},{type:"math/sqrt/float",category:"Logic",label:"\u221A",inputs:[{name:"a",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/subtract/color",category:"Logic",label:"-",inputs:[{name:"a",valueType:"color",defaultValue:{r:0,g:0,b:0}},{name:"b",valueType:"color",defaultValue:{r:0,g:0,b:0}}],outputs:[{name:"result",valueType:"color"}]},{type:"math/subtract/euler",category:"Logic",label:"-",inputs:[{name:"a",valueType:"euler",defaultValue:{x:0,y:0,z:0}},{name:"b",valueType:"euler",defaultValue:{x:0,y:0,z:0}}],outputs:[{name:"result",valueType:"euler"}]},{type:"math/subtract/float",category:"Logic",label:"-",inputs:[{name:"a",valueType:"float",defaultValue:0},{name:"b",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/subtract/integer",category:"Logic",label:"-",inputs:[{name:"a",valueType:"integer",defaultValue:0},{name:"b",valueType:"integer",defaultValue:0}],outputs:[{name:"result",valueType:"integer"}]},{type:"math/subtract/vec2",category:"Logic",label:"-",inputs:[{name:"a",valueType:"vec2",defaultValue:{x:0,y:0}},{name:"b",valueType:"vec2",defaultValue:{x:0,y:0}}],outputs:[{name:"result",valueType:"vec2"}]},{type:"math/subtract/vec3",category:"Logic",label:"-",inputs:[{name:"a",valueType:"vec3",defaultValue:{x:0,y:0,z:0}},{name:"b",valueType:"vec3",defaultValue:{x:0,y:0,z:0}}],outputs:[{name:"result",valueType:"vec3"}]},{type:"math/subtract/vec4",category:"Logic",label:"-",inputs:[{name:"a",valueType:"vec4",defaultValue:{x:0,y:0,z:0,w:0}},{name:"b",valueType:"vec4",defaultValue:{x:0,y:0,z:0,w:0}}],outputs:[{name:"result",valueType:"vec4"}]},{type:"math/tan/float",category:"Logic",label:"TAN",inputs:[{name:"a",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/toBoolean/string",category:"Logic",label:"To Boolean",inputs:[{name:"a",valueType:"string",defaultValue:""}],outputs:[{name:"result",valueType:"boolean"}]},{type:"math/toColor/hex",category:"Logic",label:"HEX to Color",inputs:[{name:"a",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"color"}]},{type:"math/ToColor/hsl",category:"Logic",label:"HSL to Color",inputs:[{name:"a",valueType:"vec3",defaultValue:{x:0,y:0,z:0}}],outputs:[{name:"result",valueType:"color"}]},{type:"math/toColor/rgb",category:"Logic",label:"RGB To Color",inputs:[{name:"r",valueType:"float",defaultValue:0},{name:"g",valueType:"float",defaultValue:0},{name:"b",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"color"}]},{type:"math/toColor/string",category:"Logic",label:"To Color",inputs:[{name:"a",valueType:"string",defaultValue:""}],outputs:[{name:"result",valueType:"color"}]},{type:"math/toEuler/float",category:"Logic",label:"Float to Euler",inputs:[{name:"x",valueType:"float",defaultValue:0},{name:"y",valueType:"float",defaultValue:0},{name:"z",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"euler"}]},{type:"math/toEuler/string",category:"Logic",label:"To Euler",inputs:[{name:"a",valueType:"string",defaultValue:""}],outputs:[{name:"result",valueType:"euler"}]},{type:"math/toFloat/boolean",category:"Logic",label:"To Float",inputs:[{name:"a",valueType:"boolean",defaultValue:!1}],outputs:[{name:"result",valueType:"float"}]},{type:"math/toFloat/euler",category:"Logic",label:"Euler to Float",inputs:[{name:"value",valueType:"euler",defaultValue:{x:0,y:0,z:0}}],outputs:[{name:"x",valueType:"float"},{name:"y",valueType:"float"},{name:"z",valueType:"float"}]},{type:"math/toFloat/float",category:"Logic",label:"To Float",inputs:[{name:"a",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/toFloat/integer",category:"Logic",label:"To Float",inputs:[{name:"a",valueType:"integer",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/toFloat/quat",category:"Logic",label:"Quat to Float",inputs:[{name:"value",valueType:"quat",defaultValue:{x:0,y:0,z:0,w:0}}],outputs:[{name:"x",valueType:"float"},{name:"y",valueType:"float"},{name:"z",valueType:"float"},{name:"w",valueType:"float"}]},{type:"math/toFloat/string",category:"Logic",label:"To Float",inputs:[{name:"a",valueType:"string",defaultValue:""}],outputs:[{name:"result",valueType:"float"}]},{type:"math/toFloat/vec2",category:"Logic",label:"Vec2 To Float",inputs:[{name:"value",valueType:"vec2",defaultValue:{x:0,y:0}}],outputs:[{name:"x",valueType:"float"},{name:"y",valueType:"float"},{name:"z",valueType:"float"}]},{type:"math/toFloat/vec3",category:"Logic",label:"Vec3 To Float",inputs:[{name:"value",valueType:"vec3",defaultValue:{x:0,y:0,z:0}}],outputs:[{name:"x",valueType:"float"},{name:"y",valueType:"float"},{name:"z",valueType:"float"}]},{type:"math/toFloat/vec4",category:"Logic",label:"Vec4 to Float",inputs:[{name:"value",valueType:"vec4",defaultValue:{x:0,y:0,z:0,w:0}}],outputs:[{name:"x",valueType:"float"},{name:"y",valueType:"float"},{name:"z",valueType:"float"},{name:"w",valueType:"float"}]},{type:"math/toHex/color",category:"Logic",label:"Color to HEX",inputs:[{name:"a",valueType:"color",defaultValue:{r:0,g:0,b:0}}],outputs:[{name:"result",valueType:"float"}]},{type:"math/toHsl/color",category:"Logic",label:"Color to HSL",inputs:[{name:"a",valueType:"color",defaultValue:{r:0,g:0,b:0}}],outputs:[{name:"result",valueType:"vec3"}]},{type:"math/toInteger/string",category:"Logic",label:"To Integer",inputs:[{name:"a",valueType:"string",defaultValue:""}],outputs:[{name:"result",valueType:"integer"}]},{type:"math/toQuat/angleAxis",category:"Logic",label:"Angle Axis to Quat",inputs:[{name:"a",valueType:"float",defaultValue:0},{name:"b",valueType:"vec3",defaultValue:{x:0,y:0,z:0}}],outputs:[{name:"result",valueType:"quat"}]},{type:"math/toQuat/euler",category:"Logic",label:"\xF7",inputs:[{name:"a",valueType:"euler",defaultValue:{x:0,y:0,z:0}}],outputs:[{name:"result",valueType:"quat"}]},{type:"math/toQuat/float",category:"Logic",label:"Float to Quat",inputs:[{name:"x",valueType:"float",defaultValue:0},{name:"y",valueType:"float",defaultValue:0},{name:"z",valueType:"float",defaultValue:0},{name:"w",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"quat"}]},{type:"math/toQuat/string",category:"Logic",label:"To Quat",inputs:[{name:"a",valueType:"string",defaultValue:""}],outputs:[{name:"result",valueType:"quat"}]},{type:"math/toRgb/color",category:"Logic",label:"Color to RGB",inputs:[{name:"value",valueType:"color",defaultValue:{r:0,g:0,b:0}}],outputs:[{name:"r",valueType:"float"},{name:"g",valueType:"float"},{name:"b",valueType:"float"}]},{type:"math/toString/boolean",category:"Logic",label:"To String",inputs:[{name:"a",valueType:"boolean",defaultValue:!1}],outputs:[{name:"result",valueType:"string"}]},{type:"math/toString/color",category:"Logic",label:"To String",inputs:[{name:"a",valueType:"color",defaultValue:{r:0,g:0,b:0}}],outputs:[{name:"result",valueType:"string"}]},{type:"math/toString/euler",category:"Logic",label:"To String",inputs:[{name:"a",valueType:"euler",defaultValue:{x:0,y:0,z:0}}],outputs:[{name:"result",valueType:"string"}]},{type:"math/toString/float",category:"Logic",label:"To String",inputs:[{name:"a",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"string"}]},{type:"math/toString/integer",category:"Logic",label:"To String",inputs:[{name:"a",valueType:"integer",defaultValue:0}],outputs:[{name:"result",valueType:"string"}]},{type:"math/toString/quat",category:"Logic",label:"To String",inputs:[{name:"a",valueType:"quat",defaultValue:{x:0,y:0,z:0,w:0}}],outputs:[{name:"result",valueType:"string"}]},{type:"math/toString/vec2",category:"Logic",label:"To String",inputs:[{name:"a",valueType:"vec2",defaultValue:{x:0,y:0}}],outputs:[{name:"result",valueType:"string"}]},{type:"math/toString/vec3",category:"Logic",label:"To String",inputs:[{name:"a",valueType:"vec3",defaultValue:{x:0,y:0,z:0}}],outputs:[{name:"result",valueType:"string"}]},{type:"math/toString/vec4",category:"Logic",label:"To String",inputs:[{name:"a",valueType:"vec4",defaultValue:{x:0,y:0,z:0,w:0}}],outputs:[{name:"result",valueType:"string"}]},{type:"math/toVec2/float",category:"Logic",label:"Float to Vec2",inputs:[{name:"x",valueType:"float",defaultValue:0},{name:"y",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"vec2"}]},{type:"math/toVec2/string",category:"Logic",label:"To Vec2",inputs:[{name:"a",valueType:"string",defaultValue:""}],outputs:[{name:"result",valueType:"vec2"}]},{type:"math/toVec3/float",category:"Logic",label:"Float to Vec3",inputs:[{name:"x",valueType:"float",defaultValue:0},{name:"y",valueType:"float",defaultValue:0},{name:"z",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"vec3"}]},{type:"math/toVec3/string",category:"Logic",label:"To Vec3",inputs:[{name:"a",valueType:"string",defaultValue:""}],outputs:[{name:"result",valueType:"vec3"}]},{type:"math/toVec4/float",category:"Logic",label:"Float to Vec4",inputs:[{name:"x",valueType:"float",defaultValue:0},{name:"y",valueType:"float",defaultValue:0},{name:"z",valueType:"float",defaultValue:0},{name:"w",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"vec4"}]},{type:"math/toVec4/string",category:"Logic",label:"To Vec4",inputs:[{name:"a",valueType:"string",defaultValue:""}],outputs:[{name:"result",valueType:"vec4"}]},{type:"math/trunc/float",category:"Logic",label:"TRUNC",inputs:[{name:"a",valueType:"float",defaultValue:0}],outputs:[{name:"result",valueType:"float"}]},{type:"math/vec2",category:"Logic",label:"Vec2",inputs:[{name:"a",valueType:"vec2",defaultValue:{x:0,y:0}}],outputs:[{name:"result",valueType:"vec2"}]},{type:"math/vec3",category:"Logic",label:"Vec3",inputs:[{name:"a",valueType:"vec3",defaultValue:{x:0,y:0,z:0}}],outputs:[{name:"result",valueType:"vec3"}]},{type:"math/vec4",category:"Logic",label:"Vec4",inputs:[{name:"a",valueType:"vec4",defaultValue:{x:0,y:0,z:0,w:0}}],outputs:[{name:"result",valueType:"vec4"}]},{type:"scene/get/boolean",category:"Query",label:"Get Scene Boolean",inputs:[{name:"jsonPath",valueType:"string",defaultValue:""}],outputs:[{name:"value",valueType:"boolean"}]},{type:"scene/get/color",category:"Query",label:"Get Scene Color",inputs:[{name:"jsonPath",valueType:"string",defaultValue:""}],outputs:[{name:"value",valueType:"color"}]},{type:"scene/get/euler",category:"Query",label:"Get Scene Euler",inputs:[{name:"jsonPath",valueType:"string",defaultValue:""}],outputs:[{name:"value",valueType:"euler"}]},{type:"scene/get/float",category:"Query",label:"Get Scene Float",inputs:[{name:"jsonPath",valueType:"string",defaultValue:""}],outputs:[{name:"value",valueType:"float"}]},{type:"scene/get/integer",category:"Query",label:"Get Scene Integer",inputs:[{name:"jsonPath",valueType:"string",defaultValue:""}],outputs:[{name:"value",valueType:"integer"}]},{type:"scene/get/quat",category:"Query",label:"Get Scene Quat",inputs:[{name:"jsonPath",valueType:"string",defaultValue:""}],outputs:[{name:"value",valueType:"quat"}]},{type:"scene/get/string",category:"Query",label:"Get Scene String",inputs:[{name:"jsonPath",valueType:"string",defaultValue:""}],outputs:[{name:"value",valueType:"string"}]},{type:"scene/get/vec2",category:"Query",label:"Get Scene Vec2",inputs:[{name:"jsonPath",valueType:"string",defaultValue:""}],outputs:[{name:"value",valueType:"vec2"}]},{type:"scene/get/vec3",category:"Query",label:"Get Scene Vec3",inputs:[{name:"jsonPath",valueType:"string",defaultValue:""}],outputs:[{name:"value",valueType:"vec3"}]},{type:"scene/get/vec4",category:"Query",label:"Get Scene Vec4",inputs:[{name:"jsonPath",valueType:"string",defaultValue:""}],outputs:[{name:"value",valueType:"vec4"}]},{type:"scene/nodeClick",category:"Event",label:"On Node Click",inputs:[],outputs:[{name:"flow",valueType:"flow"},{name:"nodeIndex",valueType:"float"}]},{type:"scene/set/boolean",category:"Action",label:"Set Scene Boolean",inputs:[{name:"flow",valueType:"flow"},{name:"jsonPath",valueType:"string",defaultValue:""},{name:"value",valueType:"boolean",defaultValue:!1}],outputs:[{name:"flow",valueType:"flow"}]},{type:"scene/set/color",category:"Action",label:"Set Scene Color",inputs:[{name:"flow",valueType:"flow"},{name:"jsonPath",valueType:"string",defaultValue:""},{name:"value",valueType:"color",defaultValue:{r:0,g:0,b:0}}],outputs:[{name:"flow",valueType:"flow"}]},{type:"scene/set/euler",category:"Action",label:"Set Scene Euler",inputs:[{name:"flow",valueType:"flow"},{name:"jsonPath",valueType:"string",defaultValue:""},{name:"value",valueType:"euler",defaultValue:{x:0,y:0,z:0}}],outputs:[{name:"flow",valueType:"flow"}]},{type:"scene/set/float",category:"Action",label:"Set Scene Float",inputs:[{name:"flow",valueType:"flow"},{name:"jsonPath",valueType:"string",defaultValue:""},{name:"value",valueType:"float",defaultValue:0}],outputs:[{name:"flow",valueType:"flow"}]},{type:"scene/set/integer",category:"Action",label:"Set Scene Integer",inputs:[{name:"flow",valueType:"flow"},{name:"jsonPath",valueType:"string",defaultValue:""},{name:"value",valueType:"integer",defaultValue:0}],outputs:[{name:"flow",valueType:"flow"}]},{type:"scene/set/quat",category:"Action",label:"Set Scene Quat",inputs:[{name:"flow",valueType:"flow"},{name:"jsonPath",valueType:"string",defaultValue:""},{name:"value",valueType:"quat",defaultValue:{x:0,y:0,z:0,w:0}}],outputs:[{name:"flow",valueType:"flow"}]},{type:"scene/set/string",category:"Action",label:"Set Scene String",inputs:[{name:"flow",valueType:"flow"},{name:"jsonPath",valueType:"string",defaultValue:""},{name:"value",valueType:"string",defaultValue:""}],outputs:[{name:"flow",valueType:"flow"}]},{type:"scene/set/vec2",category:"Action",label:"Set Scene Vec2",inputs:[{name:"flow",valueType:"flow"},{name:"jsonPath",valueType:"string",defaultValue:""},{name:"value",valueType:"vec2",defaultValue:{x:0,y:0}}],outputs:[{name:"flow",valueType:"flow"}]},{type:"scene/set/vec3",category:"Action",label:"Set Scene Vec3",inputs:[{name:"flow",valueType:"flow"},{name:"jsonPath",valueType:"string",defaultValue:""},{name:"value",valueType:"vec3",defaultValue:{x:0,y:0,z:0}}],outputs:[{name:"flow",valueType:"flow"}]},{type:"scene/set/vec4",category:"Action",label:"Set Scene Vec4",inputs:[{name:"flow",valueType:"flow"},{name:"jsonPath",valueType:"string",defaultValue:""},{name:"value",valueType:"vec4",defaultValue:{x:0,y:0,z:0,w:0}}],outputs:[{name:"flow",valueType:"flow"}]}],$ee=Jee,Xee=$ee,Yee=({position:n,onPickNode:e,onClose:t,filters:r})=>{const[i,s]=J.exports.useState(""),o=Nl();pD("Escape",t);let a=Xee;return r!==void 0&&(a=a.filter(l=>(r?.handleType==="source"?l.outputs:l.inputs).some(c=>c.valueType===r?.valueType))),a=a.filter(l=>{const u=i.toLowerCase();return l.type.toLowerCase().includes(u)}),Tt("div",{className:"node-picker absolute z-10 text-sm text-white bg-gray-800 border rounded border-gray-500",style:{top:n.y,left:0},children:[te("div",{className:"bg-gray-500 p-2",children:"Add Node"}),te("div",{className:"p-2",children:te("input",{type:"text",autoFocus:!0,placeholder:"Type to filter",className:" bg-gray-600 disabled:bg-gray-700 w-full py-1 px-2",value:i,onChange:l=>s(l.target.value)})}),te("div",{className:"max-h-48 overflow-y-scroll",children:a.map(({type:l})=>te("div",{className:"p-2 cursor-pointer border-b border-gray-600",onClick:()=>e(l,o.project(n)),children:l},l))})]})},jm=(n,e,t)=>{const r=n.find(i=>i.type===e);if(r!==void 0)return t==="source"?r.outputs:r.inputs},Qee=(n,e,t,r,i)=>{const o=jm(i,n.type,r.handleType)?.find(u=>u.name===r.handleId),l=jm(i,e,r.handleType==="source"?"target":"source")?.find(u=>u.valueType===o?.valueType);return r.handleType==="source"?{id:Lh(),source:r.nodeId??"",sourceHandle:r.handleId,target:t,targetHandle:l?.name}:{id:Lh(),target:r.nodeId??"",targetHandle:r.handleId,source:t,sourceHandle:l?.name}};var YD={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(!!s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=t.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(YD);const x6=YD.exports,b6={red:["bg-orange-700","border-orange-700","text-white"],green:["bg-green-600","border-green-600","text-white"],lime:["bg-lime-500","border-lime-500","text-white"],purple:["bg-purple-500","border-purple-500","text-white"],blue:["bg-cyan-600","border-cyan-600","text-white"],gray:["bg-gray-500","border-gray-500","text-white"],white:["bg-white","border-white","text-gray-700"]},QD={flow:"white",number:"green",float:"green",integer:"lime",boolean:"red",string:"purple"},Zee={Event:"red",Logic:"green",Variable:"purple",Query:"purple",Action:"blue",Flow:"gray",Time:"gray",None:"gray"},nE=(n,e,t,r)=>n.some(i=>i[r]===e&&i[`${r}Handle`]===t),ZD=(n,e,t)=>{if(n.source===null||n.target===null)return!1;const r=e.getNode(n.source),i=e.getNode(n.target),s=e.getEdges();if(r===void 0||i===void 0)return!1;const a=jm(t,r.type,"source")?.find(c=>c.name===n.sourceHandle),u=jm(t,i.type,"target")?.find(c=>c.name===n.targetHandle);return a===void 0||u===void 0||u.valueType!=="flow"&&nE(s,i.id,u.name,"target")?!1:a.valueType===u.valueType},ete={position:"absolute",top:0,left:0,visibility:"hidden",height:0,width:"auto",whiteSpace:"pre"},Ny=({minWidth:n=30,...e})=>{const t=J.exports.useRef(null),r=J.exports.useRef(null),[i,s]=J.exports.useState({}),o=J.exports.useCallback(a=>{if(a){const l=window.getComputedStyle(a);s({fontSize:l.getPropertyValue("font-size"),paddingLeft:l.getPropertyValue("padding-left"),paddingRight:l.getPropertyValue("padding-right")})}t.current=a},[]);return J.exports.useEffect(()=>{if(r.current===null||t.current===null)return;const a=r.current.clientWidth;t.current.style.width=Math.max(n,a)+"px"},[e.value,n,i]),Tt(vr,{children:[te("input",{ref:o,...e}),te("span",{ref:r,style:{...ete,...i},children:e.value})]})};class wa{constructor(){this.listeners=[]}addListener(e){this.listeners.push(e)}removeListener(e){this.listeners.splice(this.listeners.indexOf(e),1)}clear(){this.listeners.splice(0,this.listeners.length)}emit(e){this.listeners.length!==0&&this.listeners.slice(0).forEach(t=>{t(e)})}get listenerCount(){return this.listeners.length}}class _s{static verbose(e){this.onVerbose.emit(e)}static info(e){this.onInfo.emit(e)}static warn(e){this.onWarn.emit(e)}static error(e){this.onError.emit(e)}}_s.onVerbose=new wa;_s.onInfo=new wa;_s.onWarn=new wa;_s.onError=new wa;(()=>{const n=()=>new Date().toLocaleTimeString().padStart(11,"0");_s.onVerbose.addListener(e=>{console.log(n()+` VERB:  ${e}`)}),_s.onInfo.addListener(e=>{console.log(n()+` INFO:  ${e}`)}),_s.onWarn.addListener(e=>{console.warn(n()+` WARN:  ${e}`)}),_s.onError.addListener(e=>{console.error(n()+` ERR:  ${e}`)})})();class Gn{static mustBeTrue(e,t=""){if(!e)throw new Error(`failed assertion: ${t}`)}}const Xr=[];for(let n=0;n<256;n++)Xr[n]=(n<16?"0":"")+n.toString(16);function tte(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return`${Xr[n&255]+Xr[n>>8&255]+Xr[n>>16&255]+Xr[n>>24&255]}-${Xr[e&255]}${Xr[e>>8&255]}-${Xr[e>>16&15|64]}${Xr[e>>24&255]}-${Xr[t&63|128]}${Xr[t>>8&255]}-${Xr[t>>16&255]}${Xr[t>>24&255]}${Xr[r&255]}${Xr[r>>8&255]}${Xr[r>>16&255]}${Xr[r>>24&255]}`.toUpperCase()}class eO{constructor(){this.typeNameToNodeDescriptions={}}clear(){for(const e in this.typeNameToNodeDescriptions)delete this.typeNameToNodeDescriptions[e]}register(...e){e.forEach(t=>{if(t.typeName in this.typeNameToNodeDescriptions)throw new Error(`already registered node type ${t.typeName} (string)`);this.typeNameToNodeDescriptions[t.typeName]=t})}contains(e){return e in this.typeNameToNodeDescriptions}get(e){if(!(e in this.typeNameToNodeDescriptions))throw new Error(`no registered node with type name ${e}`);return this.typeNameToNodeDescriptions[e]}getAllNames(){return Object.keys(this.typeNameToNodeDescriptions)}getAllDescriptions(){return Object.values(this.typeNameToNodeDescriptions)}}class dw{constructor(e,t,r=[],i=[]){this.description=e,this.graph=t,this.inputSockets=r,this.outputSockets=i,this.id="",this.label="",this.metadata={}}readInput(e){const t=this.inputSockets.find(r=>r.name===e);if(t===void 0)throw new Error(`can not find input socket with name ${e} on node of type ${this.description.typeName}`);return t.value}writeOutput(e,t){const r=this.outputSockets.find(i=>i.name===e);if(r===void 0)throw new Error(`can not find output socket with name ${r} on node of type ${this.description.typeName}`);if(r.valueTypeName==="flow")throw new Error(`can not set the value of Flow output socket ${e}, use commit() instead`);r.value=t}}class El extends dw{constructor(e,t,r,i){super(e,t,r,i),Gn.mustBeTrue(!this.inputSockets.some(s=>s.valueTypeName==="flow")),Gn.mustBeTrue(this.outputSockets.some(s=>s.valueTypeName==="flow"))}init(e){throw new Error("not implemented")}dispose(e){throw new Error("not implemented")}}function ca(n){return Object.keys(n).map(e=>n[e]).filter(e=>e instanceof ye)}class ye{constructor(e,t,r,i){this.typeName=e,this.category=t,this.label=r,this.factory=i}}class Ge{constructor(e,t,r=void 0,i=void 0){this.valueTypeName=e,this.name=t,this.value=r,this.label=i,this.links=[]}}class w6 extends El{constructor(e,t,r){super(e,t,[],[new Ge("flow","flow"),...r.parameters.map(i=>new Ge(i.valueTypeName,i.name,i.value,i.label))]),this.customEvent=r,this.onCustomEvent=void 0}static GetDescription(e,t){const r=e.customEvents[t];return new ye(`customEvent/onTriggered/${r.id}`,"Event",`On ${r.name}`,(i,s)=>new w6(i,s,r))}init(e){Gn.mustBeTrue(this.onCustomEvent===void 0),this.onCustomEvent=t=>{this.customEvent.parameters.forEach(r=>{if(!(r.name in t))throw new Error(`parameters of custom event do not align with parameters of custom event node, missing ${r.name}`);this.writeOutput(r.name,t[r.name])}),e.commitToNewFiber(this,"flow")},this.customEvent.eventEmitter.addListener(this.onCustomEvent)}dispose(e){Gn.mustBeTrue(this.onCustomEvent!==void 0),this.onCustomEvent!==void 0&&this.customEvent.eventEmitter.removeListener(this.onCustomEvent)}}class Si extends dw{constructor(e,t,r,i){super(e,t,r,i),Gn.mustBeTrue(this.inputSockets.some(s=>s.valueTypeName==="flow"))}triggered(e,t){throw new Error("not implemented")}}class _6 extends Si{constructor(e,t,r){super(e,t,[new Ge("flow","flow"),...r.parameters.map(i=>new Ge(i.valueTypeName,i.name,i.value,i.label))],[new Ge("flow","flow")]),this.customEvent=r}static GetDescription(e,t){const r=e.customEvents[t];return new ye(`customEvent/trigger/${r.id}`,"Action",`Trigger ${r.name}`,(i,s)=>new _6(i,s,r))}triggered(e,t){const r={};this.customEvent.parameters.forEach(i=>{r[i.name]=this.readInput(i.name)}),this.customEvent.eventEmitter.emit(r)}}class Dl extends dw{constructor(e,t,r,i,s){super(e,t,r,i),this.exec=s,Gn.mustBeTrue(!this.inputSockets.some(o=>o.valueTypeName==="flow")),Gn.mustBeTrue(!this.outputSockets.some(o=>o.valueTypeName==="flow"))}}class A6 extends Dl{constructor(e,t,r){super(e,t,[],[new Ge(r.valueTypeName,"value",void 0,r.name)],()=>{this.writeOutput("value",r.get())}),this.variable=r}static GetDescription(e,t){const r=e.variables[t];return new ye(`variable/get/${r.id}`,"Query","",(i,s)=>new A6(i,s,r))}}class S6 extends Si{constructor(e,t,r){super(e,t,[new Ge("flow","flow"),new Ge(r.valueTypeName,"value",void 0,r.name)],[new Ge("flow","flow")]),this.variable=r}static GetDescription(e,t){const r=e.variables[t];return new ye(`variable/set/${r.id}`,"Action","Set",(i,s)=>new S6(i,s,r))}triggered(e,t){this.variable.set(this.readInput("value")),e.commit(this,"flow")}}class tO{constructor(e){this.registry=e,this.name="",this.nodes={},this.variables={},this.customEvents={},this.metadata={},this.dynamicNodeRegistry=new eO,this.version=0}updateDynamicNodeDescriptions(){this.dynamicNodeRegistry.clear();for(const e in this.variables)this.dynamicNodeRegistry.register(A6.GetDescription(this,e),S6.GetDescription(this,e));for(const e in this.customEvents)this.dynamicNodeRegistry.register(w6.GetDescription(this,e),_6.GetDescription(this,e))}createNode(e,t=tte()){if(t in this.nodes)throw new Error(`can not create new node of type ${e} with id ${t} as one with that id already exists.`);let r;if(this.registry.nodes.contains(e)&&(r=this.registry.nodes.get(e)),this.dynamicNodeRegistry.contains(e)&&(r=this.dynamicNodeRegistry.get(e)),r===void 0)throw new Error(`no registered node descriptions with the typeName ${e}`);const i=r.factory(r,this);return i.id=t,this.nodes[t]=i,i.inputSockets.forEach(s=>{s.valueTypeName!=="flow"&&s.value===void 0&&(s.value=this.registry.values.get(s.valueTypeName).creator())}),i}}class Oh extends dw{constructor(e,t,r,i){super(e,t,r,i),Gn.mustBeTrue(this.inputSockets.some(s=>s.valueTypeName==="flow")),Gn.mustBeTrue(this.outputSockets.some(s=>s.valueTypeName==="flow"))}triggered(e,t,r){throw new Error("not implemented")}dispose(){throw new Error("not implemented")}}class db{constructor(e="",t=""){this.nodeId=e,this.socketName=t,this._targetNode=void 0,this._targetSocket=void 0}}class Na{constructor(e,t,r,i){this.name=e,this.creator=t,this.deserialize=r,this.serialize=i}}class nte{constructor(e,t,r=[]){this.id=e,this.name=t,this.parameters=r,this.label="",this.metadata={},this.eventEmitter=new wa}}class rte{constructor(e,t,r,i){this.id=e,this.name=t,this.valueTypeName=r,this.initialValue=i,this.label="",this.metadata={},this.version=0,this.onChanged=new wa,this.value=this.initialValue}get(){return this.value}set(e){e!==this.value&&(this.value=e,this.version++,this.onChanged.emit(this))}}class nO extends Dl{constructor(e,t,r,i,s,o=["a","b","c","d"]){if(r.length!==4)throw new Error(`inputValueTypes must have a length of 4, it is instead ${r.length}`);if(o.length!==4)throw new Error(`inputNames must have a length of 4, it is instead ${o.length}`);super(e,t,[new Ge(r[0],o[0]),new Ge(r[1],o[1]),new Ge(r[2],o[2]),new Ge(r[3],o[3])],[new Ge(i,"result")],()=>{this.writeOutput("result",this.binaryEvalFunc(this.readInput(o[0]),this.readInput(o[1]),this.readInput(o[2]),this.readInput(o[3])))}),this.binaryEvalFunc=s,this.inputNames=o}}class po extends Dl{constructor(e,t,r,i,s,o=["a","b","c"]){if(r.length!==3)throw new Error(`inputValueTypes must have a length of 3, it is instead ${r.length}`);if(o.length!==3)throw new Error(`inputNames must have a length of 3, it is instead ${o.length}`);super(e,t,[new Ge(r[0],o[0]),new Ge(r[1],o[1]),new Ge(r[2],o[2])],[new Ge(i,"result")],()=>{this.writeOutput("result",this.binaryEvalFunc(this.readInput(o[0]),this.readInput(o[1]),this.readInput(o[2])))}),this.binaryEvalFunc=s,this.inputNames=o}}class mt extends Dl{constructor(e,t,r,i,s,o=["a","b"]){if(r.length!==2)throw new Error(`inputValueTypes must have a length of 2, it is instead ${r.length}`);if(o.length!==2)throw new Error(`inputNames must have a length of 2, it is instead ${o.length}`);super(e,t,[new Ge(r[0],o[0]),new Ge(r[1],o[1])],[new Ge(i,"result")],()=>{this.writeOutput("result",this.binaryEvalFunc(this.readInput(o[0]),this.readInput(o[1])))}),this.binaryEvalFunc=s,this.inputNames=o}}class yt extends Dl{constructor(e,t,r,i,s,o=["a"]){if(r.length!==1)throw new Error(`inputValueTypes must have a length of 1, it is instead ${r.length}`);if(o.length!==1)throw new Error(`inputNames must have a length of 1, it is instead ${o.length}`);super(e,t,[new Ge(r[0],o[0])],[new Ge(i,"result")],()=>{this.writeOutput("result",this.unaryEvalFunc(this.readInput(o[0])))}),this.unaryEvalFunc=s,this.inputNames=o}}class E6 extends Dl{constructor(e,t,r,i){super(e,t,[],[new Ge(r,"result")],()=>{this.writeOutput("result",this.nullaryEvalFunc())}),this.nullaryEvalFunc=i}}function ite(n){return new Promise(e=>setTimeout(e,Math.round(n*1e3)))}class ste{constructor(e,t,r=void 0){this.engine=e,this.nextEval=t,this.fiberCompletedListenerStack=[],this.executionSteps=0,this.graph=e.graph,r!==void 0&&this.fiberCompletedListenerStack.push(r)}resolveInputValueFromSocket(e){if(e.links.length===0)return;const t=e.links[0];if((t._targetNode===void 0||t._targetSocket===void 0)&&(Gn.mustBeTrue(e.links.length===1),t._targetNode=this.graph.nodes[t.nodeId],t._targetSocket=t._targetNode.outputSockets.find(s=>s.name===t.socketName),t._targetSocket===void 0))throw new Error(`can not find socket with the name ${t.socketName}`);const r=t._targetNode,i=t._targetSocket;if(r instanceof Dl){for(const s of r.inputSockets)this.resolveInputValueFromSocket(s);this.engine.onNodeExecution.emit(r),r.exec(),this.executionSteps++,e.value=i.value;return}if(r instanceof Si||r instanceof El||r instanceof Oh){e.value=i.value;return}throw new TypeError(`node, ${r.description.typeName}, must be an instance of ImmediateNode`)}commit(e,t,r=void 0){Gn.mustBeTrue(e instanceof Si),Gn.mustBeTrue(this.nextEval===null);const i=e.outputSockets.find(s=>s.name===t);if(i===void 0)throw new Error(`can not find socket with the name ${t}`);if(i.links.length>1)throw new Error(`invalid for an output flow socket to have multiple downstream links:${e.description.typeName}.${i.name} has ${i.links.length} downlinks`);if(i.links.length===1){const s=i.links[0];if(s===void 0)throw new Error("link must be defined");this.nextEval=s}r!==void 0&&this.fiberCompletedListenerStack.push(r)}executeStep(){const e=this.nextEval;if(this.nextEval=null,e===null){if(this.fiberCompletedListenerStack.length===0)return;const i=this.fiberCompletedListenerStack.pop();if(i===void 0)throw new Error("awaitingCallback is empty");i();return}const t=this.graph.nodes[e.nodeId];let r="";if(t.inputSockets.forEach(i=>{if(i.valueTypeName==="flow"){i.name===e.socketName&&(i.value=!0,r=i.name);return}this.resolveInputValueFromSocket(i)}),this.engine.onNodeExecution.emit(t),t instanceof Oh){this.engine.asyncNodes.push(t),t.triggered(this.engine,r,()=>{const i=this.engine.asyncNodes.indexOf(t);this.engine.asyncNodes.splice(i,1),this.executionSteps++});return}if(t instanceof Si){t.triggered(this,r),this.executionSteps++;return}throw new TypeError(`should not get here, unhandled node ${t.description.typeName}`)}isCompleted(){return this.fiberCompletedListenerStack.length===0&&this.nextEval===null}}class ote{constructor(e){this.graph=e,this.fiberQueue=[],this.asyncNodes=[],this.eventNodes=[],this.onNodeExecution=new wa,this.executionSteps=0,Object.values(e.nodes).forEach(t=>{t instanceof El&&this.eventNodes.push(t)}),this.eventNodes.forEach(t=>t.init(this))}dispose(){this.asyncNodes.forEach(e=>e.dispose()),this.eventNodes.forEach(e=>e.dispose(this))}commitToNewFiber(e,t,r=void 0){Gn.mustBeTrue(e instanceof El||e instanceof Oh);const i=e.outputSockets.find(s=>s.name===t);if(i===void 0)throw new Error(`no socket with the name ${t}`);if(i.links.length>1)throw new Error(`invalid for an output flow socket to have multiple downstream links:${e.description.typeName}.${i.name} has ${i.links.length} downlinks`);if(i.links.length===1){const s=new ste(this,i.links[0],r);this.fiberQueue.push(s)}}executeAllSync(e=100,t=1e8){const r=Date.now();let i=0,s=0;for(;s<t&&i<e&&this.fiberQueue.length>0;){const o=this.fiberQueue[0],a=o.executionSteps;o.executeStep(),s+=o.executionSteps-a,o.isCompleted()&&this.fiberQueue.shift(),i=(Date.now()-r)*.001}return this.executionSteps+=s,s}async executeAllAsync(e=100,t=1e8){const r=Date.now();let i=0,s=0,o=0;do o>0&&await ite(0),i+=this.executeAllSync(e-s,t-i),s=(Date.now()-r)*.001,o+=1;while((this.asyncNodes.length>0||this.fiberQueue.length>0)&&s<e&&i<t);return i}}function ate(n,e){const t=new tO(e);t.name=n?.name??t.name,t.metadata=n?.metadata??t.metadata,"variables"in n&&fte(t,n.variables??[]),"customEvents"in n&&dte(t,n.customEvents??[]),t.updateDynamicNodeDescriptions();const r=n?.nodes??[];r.length===0&&_s.warn("readGraphFromJSON: no nodes specified");for(let i=0;i<r.length;i+=1){const s=r[i];lte(t,s)}return Object.values(t.nodes).forEach(i=>{i.inputSockets.forEach(s=>{s.links.forEach(o=>{if(!(o.nodeId in t.nodes))throw new Error(`node '${i.description.typeName}' specifies an input '${s.name}' whose link goes to a nonexistent upstream node id: ${o.nodeId}`);const a=t.nodes[o.nodeId],l=a.outputSockets.find(c=>c.name===o.socketName);if(l===void 0)throw new Error(`node '${i.description.typeName}' specifies an input '${s.name}' whose link goes to a nonexistent output '${o.socketName}' on upstream node '${a.description.typeName}'`);const u=new db(i.id,s.name);l.links.findIndex(c=>c.nodeId==u.nodeId&&c.socketName==u.socketName)<0&&l.links.push(u)})}),i.outputSockets.forEach(s=>{s.links.forEach(o=>{if(!(o.nodeId in t.nodes))throw new Error(`node '${i.description.typeName}' specifies an output '${s.name}' whose link goes to a nonexistent downstream node id ${o.nodeId}`);const a=t.nodes[o.nodeId],l=a.inputSockets.find(c=>c.name===o.socketName);if(l===void 0)throw new Error(`node '${i.description.typeName}' specifies an output '${s.name}' whose link goes to a nonexistent input '${o.socketName}' on downstream node '${a.description.typeName}'`);const u=new db(i.id,s.name);l.links.findIndex(c=>c.nodeId==u.nodeId&&c.socketName==u.socketName)<0&&l.links.push(u)})})}),t}function lte(n,e){if(e.type===void 0)throw new Error("readGraphFromJSON: no type for node");const t=e.type,r=n.createNode(t,e.id);r.label=e?.label??r.label,r.metadata=e?.metadata??r.metadata,e.parameters!==void 0&&ute(n,r,e.parameters),e.flows!==void 0&&cte(n,r,e.flows)}function ute(n,e,t){e.inputSockets.forEach(r=>{if(!(r.name in t))return;const i=t[r.name];if("value"in i&&(r.value=n.registry.values.get(r.valueTypeName).deserialize(i.value)),"link"in i){const s=i.link;r.links.push(new db(s.nodeId,s.socket))}});for(const r in t)if(e.inputSockets.find(s=>s.name===r)===void 0)throw new Error(`node '${e.description.typeName}' specifies an input '${r}' that doesn't exist on its node type`)}function cte(n,e,t){e.outputSockets.forEach(r=>{if(r.name in t){const i=t[r.name];r.links.push(new db(i.nodeId,i.socket))}});for(const r in t)if(e.outputSockets.find(s=>s.name===r)===void 0)throw new Error(`node '${e.description.typeName}' specifies an output '${r}' that doesn't exist on its node type`)}function fte(n,e){for(let t=0;t<e.length;t+=1){const r=e[t],i=new rte(r.id,r.name,r.valueTypeName,n.registry.values.get(r.valueTypeName).deserialize(r.initialValue));if(i.label=r?.label??i.label,i.metadata=r?.metadata??i.metadata,r.id in n.variables)throw new Error(`duplicate variable id ${i.id}`);n.variables[r.id]=i}}function dte(n,e){for(let t=0;t<e.length;t+=1){const r=e[t],i=[];(r.parameters??[]).forEach(o=>{i.push(new Ge(o.valueTypeName,o.name,n.registry.values.get(o.valueTypeName).deserialize(o.defaultValue)))});const s=new nte(r.id,r.name,i);if(s.label=r?.label??s.label,s.metadata=r?.metadata??s.metadata,s.id in n.customEvents)throw new Error(`duplicate variable id ${s.id}`);n.customEvents[s.id]=s}}function hte(n){const e=[],t=new tO(n);return n.nodes.getAllNames().forEach(r=>{const i=t.createNode(r),s={type:r,category:i.description.category,label:i.description.label,inputs:[],outputs:[]};i.inputSockets.forEach(o=>{const a=o.valueTypeName==="flow"?void 0:n.values.get(o.valueTypeName);let l=o.value;a!==void 0&&(l=a.serialize(l)),l===void 0&&a!==void 0&&(l=a.serialize(a.creator()));const u={name:o.name,valueType:o.valueTypeName,defaultValue:l};s.inputs.push(u)}),i.outputSockets.forEach(o=>{const a={name:o.name,valueType:o.valueTypeName};s.outputs.push(a)}),e.push(s)}),e}class pte{constructor(){this.valueTypeNameToValueType={}}register(...e){e.forEach(t=>{if(t.name in this.valueTypeNameToValueType)throw new Error(`already registered value type ${t.name}`);this.valueTypeNameToValueType[t.name]=t})}get(e){if(!(e in this.valueTypeNameToValueType))throw new Error(`can not find value type with name '${e}`);return this.valueTypeNameToValueType[e]}getAllNames(){return Object.keys(this.valueTypeNameToValueType)}}class mte{constructor(){this.values=new pte,this.nodes=new eO}}class rO{verbose(e){_s.verbose(e)}info(e){_s.info(e)}warn(e){_s.warn(e)}error(e){_s.error(e)}}class rE{constructor(){this.startEvent=new wa,this.endEvent=new wa,this.tickEvent=new wa}}class iE extends Si{constructor(e,t){super(e,t,[new Ge("flow","flow"),new Ge("boolean","condition"),new Ge("string","description")],[new Ge("flow","flow")])}triggered(e,t){Gn.mustBeTrue(this.readInput("condition"),this.readInput("description")),e.commit(this,"flow")}}iE.Description=new ye("debug/expectTrue","Action","Assert Expect True",(n,e)=>new iE(n,e));class sE extends Si{constructor(e,t,r){super(e,t,[new Ge("flow","flow"),new Ge("string","text")],[new Ge("flow","flow")]),this.logger=r}triggered(e,t){this.logger.info(this.readInput("text")),e.commit(this,"flow")}}sE.Description=n=>new ye("debug/log","Action","Debug Log",(e,t)=>new sE(e,t,n));class oE extends Si{constructor(e,t){super(e,t,[new Ge("flow","flow"),new Ge("boolean","condition")],[new Ge("flow","true"),new Ge("flow","false")])}triggered(e,t){e.commit(this,this.readInput("condition")===!0?"true":"false")}}oE.Description=new ye("flow/branch","Flow","Branch",(n,e)=>new oE(n,e));class aE extends Oh{constructor(e,t){super(e,t,[new Ge("flow","flow"),new Ge("float","waitDuration"),new Ge("flow","cancel")],[new Ge("flow","flow")]),this.triggerVersion=0}triggered(e,t,r){if(this.triggerVersion++,t==="cancel")return;const i=this.triggerVersion;setTimeout(()=>{this.triggerVersion>=i||(e.commitToNewFiber(this,"flow"),r())},this.readInput("waitDuration")*1e3)}dispose(){this.triggerVersion++}}aE.Description=new ye("flow/debounce","Flow","Debounce",(n,e)=>new aE(n,e));class lE extends Oh{constructor(e,t){super(e,t,[new Ge("flow","flow"),new Ge("float","duration",1)],[new Ge("flow","flow")]),this.timeoutPending=!1}triggered(e,t,r){this.timeoutPending||(this.timeoutPending=!0,setTimeout(()=>{!this.timeoutPending||(this.timeoutPending=!1,e.commitToNewFiber(this,"flow"),r())},this.readInput("duration")*1e3))}dispose(){this.timeoutPending=!1}}lE.Description=new ye("flow/delay","Flow","Delay",(n,e)=>new lE(n,e));class uE extends Si{constructor(e,t){super(e,t,[new Ge("flow","flow")],[new Ge("flow","on"),new Ge("flow","off"),new Ge("boolean","isOn")]),this.isOn=!0}triggered(e,t){this.writeOutput("isOn",this.isOn),e.commit(this,this.isOn?"on":"off"),this.isOn=!this.isOn}}uE.Description=new ye("flow/flipFlop","Flow","Flip Flop",(n,e)=>new uE(n,e));class cE extends Si{constructor(e,t){super(e,t,[new Ge("flow","flow"),new Ge("integer","startIndex"),new Ge("integer","endIndex")],[new Ge("flow","loopBody"),new Ge("integer","index"),new Ge("flow","completed")])}triggered(e,t){const r=this.readInput("startIndex"),i=this.readInput("endIndex"),s=o=>{o<i?(this.writeOutput("index",o),e.commit(this,"loopBody",()=>{s(o+1n)})):e.commit(this,"completed")};s(r)}}cE.Description=new ye("flow/forLoop","Flow","For Loop",(n,e)=>new cE(n,e));class fE extends Si{constructor(e,t){super(e,t,[new Ge("flow","flow")],[new Ge("flow","1"),new Ge("flow","2"),new Ge("flow","3")])}triggered(e,t){const r=i=>{if(i<this.outputSockets.length){const s=this.outputSockets[i];e.commit(this,s.name,()=>{r(i+1)})}};r(0)}}fE.Description=new ye("flow/sequence","Flow","Sequence",(n,e)=>new fE(n,e));class dE extends El{constructor(e,t,r){super(e,t,[],[new Ge("flow","flow")]),this.lifecycleEventEmitter=r,this.onEndEvent=void 0}init(e){Gn.mustBeTrue(this.onEndEvent===void 0),this.onEndEvent=()=>{e.commitToNewFiber(this,"flow")},this.lifecycleEventEmitter.endEvent.addListener(this.onEndEvent)}dispose(e){Gn.mustBeTrue(this.onEndEvent!==void 0),this.onEndEvent!==void 0&&this.lifecycleEventEmitter.endEvent.removeListener(this.onEndEvent)}}dE.Description=n=>new ye("lifecycle/onEnd","Event","On End",(e,t)=>new dE(e,t,n));class hE extends El{constructor(e,t,r){super(e,t,[],[new Ge("flow","flow")]),this.lifecycleEventEmitter=r,this.onStartEvent=void 0}init(e){Gn.mustBeTrue(this.onStartEvent===void 0),this.onStartEvent=()=>{e.commitToNewFiber(this,"flow")},this.lifecycleEventEmitter.startEvent.addListener(this.onStartEvent)}dispose(e){Gn.mustBeTrue(this.onStartEvent!==void 0),this.onStartEvent!==void 0&&this.lifecycleEventEmitter.startEvent.removeListener(this.onStartEvent)}}hE.Description=n=>new ye("lifecycle/onStart","Event","On Start",(e,t)=>new hE(e,t,n));class pE extends El{constructor(e,t,r){super(e,t,[],[new Ge("flow","flow"),new Ge("float","deltaSeconds"),new Ge("float","time")]),this.lifecycleEventEmitter=r,this.onTickEvent=void 0}init(e){Gn.mustBeTrue(this.onTickEvent===void 0);let t=Date.now();this.onTickEvent=()=>{const r=Date.now(),i=(r-t)*.001;this.writeOutput("deltaSeconds",i),this.writeOutput("time",Date.now()),e.commitToNewFiber(this,"flow"),t=r},this.lifecycleEventEmitter.tickEvent.addListener(this.onTickEvent)}dispose(e){Gn.mustBeTrue(this.onTickEvent!==void 0),this.onTickEvent!==void 0&&this.lifecycleEventEmitter.tickEvent.removeListener(this.onTickEvent)}}pE.Description=n=>new ye("lifecycle/onTick","Event","On Tick",(e,t)=>new pE(e,t,n));const gte=new ye("math/boolean","Logic","Boolean",(n,e)=>new yt(n,e,["boolean"],"boolean",t=>t)),vte=new ye("math/and/boolean","Logic","\u2227",(n,e)=>new mt(n,e,["boolean","boolean"],"boolean",(t,r)=>t&&r)),yte=new ye("math/or/boolean","Logic","\u2228",(n,e)=>new mt(n,e,["boolean","boolean"],"boolean",(t,r)=>t||r)),xte=new ye("math/negate/boolean","Logic","\xAC",(n,e)=>new yt(n,e,["boolean"],"boolean",t=>!t)),bte=new ye("math/toFloat/boolean","Logic","To Float",(n,e)=>new yt(n,e,["boolean"],"float",t=>t?1:0)),wte=new ye("math/equal/boolean","Logic","=",(n,e)=>new mt(n,e,["boolean","boolean"],"boolean",(t,r)=>t===r)),_te=Object.freeze(Object.defineProperty({__proto__:null,Constant:gte,And:vte,Or:yte,Not:xte,ToFloat:bte,Equal:wte},Symbol.toStringTag,{value:"Module"})),Ate=new Na("boolean",()=>!1,n=>typeof n=="string"?n.toLowerCase()==="true":n,n=>n),Ste=new ye("math/float","Logic","Float",(n,e)=>new yt(n,e,["float"],"float",t=>t)),Ete=new ye("math/add/float","Logic","+",(n,e)=>new mt(n,e,["float","float"],"float",(t,r)=>t+r)),Cte=new ye("math/subtract/float","Logic","-",(n,e)=>new mt(n,e,["float","float"],"float",(t,r)=>t-r)),Mte=new ye("math/negate/float","Logic","-",(n,e)=>new yt(n,e,["float"],"float",t=>-t)),Tte=new ye("math/multiply/float","Logic","\xD7",(n,e)=>new mt(n,e,["float","float"],"float",(t,r)=>t*r)),Pte=new ye("math/divide/float","Logic","\xF7",(n,e)=>new mt(n,e,["float","float"],"float",(t,r)=>t/r)),Ite=new ye("math/modulus/float","Logic","MOD",(n,e)=>new mt(n,e,["float","float"],"float",(t,r)=>t%r)),Rte=new ye("math/pow/float","Logic","POW",(n,e)=>new mt(n,e,["float","float"],"float",Math.pow)),Bte=new ye("math/sqrt/float","Logic","\u221A",(n,e)=>new yt(n,e,["float"],"float",Math.sqrt)),kte=new ye("math/e/float","Logic","\u{1D452}",(n,e)=>new E6(n,e,"float",()=>Math.E)),Nte=new ye("math/exp/float","Logic","EXP",(n,e)=>new yt(n,e,["float"],"float",Math.exp)),Lte=new ye("math/ln/float","Logic","LN",(n,e)=>new yt(n,e,["float"],"float",Math.log)),Dte=new ye("math/log2/float","Logic","LOG2",(n,e)=>new yt(n,e,["float"],"float",Math.log2)),Ote=new ye("math/log10/float","Logic","LOG10",(n,e)=>new yt(n,e,["float"],"float",Math.log10)),Fte=new ye("math/pi/float","Logic","\u03C0",(n,e)=>new E6(n,e,"float",()=>Math.PI)),Ute=new ye("math/sin/float","Logic","SIN",(n,e)=>new yt(n,e,["float"],"float",Math.sin)),zte=new ye("math/asin/float","Logic","ASIN",(n,e)=>new yt(n,e,["float"],"float",Math.asin)),Gte=new ye("math/cos/float","Logic","COS",(n,e)=>new yt(n,e,["float"],"float",Math.cos)),Hte=new ye("math/acos/float","Logic","ACOS",(n,e)=>new yt(n,e,["float"],"float",Math.acos)),jte=new ye("math/tan/float","Logic","TAN",(n,e)=>new yt(n,e,["float"],"float",Math.tan)),Vte=new ye("math/atan/float","Logic","ATAN",(n,e)=>new yt(n,e,["float"],"float",Math.atan)),Wte=new ye("math/mix/float","Logic","MIX",(n,e)=>new po(n,e,["float","float","float"],"float",(t,r,i)=>{const s=1-i;return t*s+r*i},["a","b","t"])),qte=new ye("math/toFloat/float","Logic","To Float",(n,e)=>new yt(n,e,["float"],"float",t=>Number(t))),Kte=new ye("math/min/float","Logic","MIN",(n,e)=>new mt(n,e,["float","float"],"float",(t,r)=>Math.min(t,r))),Jte=new ye("math/max/float","Logic","MAX",(n,e)=>new mt(n,e,["float","float"],"float",(t,r)=>Math.max(t,r))),$te=new ye("math/clamp/float","Logic","CLAMP",(n,e)=>new po(n,e,["float","float","float"],"float",(t,r,i)=>t<r?r:t>i?i:t,["value","min","max"])),Xte=new ye("math/abs/float","Logic","ABS",(n,e)=>new yt(n,e,["float"],"float",Math.abs)),Yte=new ye("math/sign/float","Logic","SIGN",(n,e)=>new yt(n,e,["float"],"float",Math.sign)),Qte=new ye("math/floor/float","Logic","FLOOR",(n,e)=>new yt(n,e,["float"],"float",Math.floor)),Zte=new ye("math/ceil/float","Logic","CEIL",(n,e)=>new yt(n,e,["float"],"float",Math.ceil)),ene=new ye("math/round/float","Logic","ROUND",(n,e)=>new yt(n,e,["float"],"float",Math.round)),tne=new ye("math/trunc/float","Logic","TRUNC",(n,e)=>new yt(n,e,["float"],"float",Math.trunc)),nne=new ye("math/random/float","Logic","RANDOM",(n,e)=>new E6(n,e,"float",Math.random)),rne=new ye("math/equal/float","Logic","=",(n,e)=>new mt(n,e,["float","float"],"boolean",(t,r)=>t===r)),ine=new ye("math/greaterThan/float","Logic",">",(n,e)=>new mt(n,e,["float","float"],"boolean",(t,r)=>t>r)),sne=new ye("math/greaterThanOrEqual/float","Logic","\u2265",(n,e)=>new mt(n,e,["float","float"],"boolean",(t,r)=>t>=r)),one=new ye("math/lessThan/float","Logic","<",(n,e)=>new mt(n,e,["float","float"],"boolean",(t,r)=>t<r)),ane=new ye("math/lessThanOrEqual/float","Logic","\u2264",(n,e)=>new mt(n,e,["float","float"],"boolean",(t,r)=>t<=r)),lne=new ye("math/isNaN/float","Logic","isNaN",(n,e)=>new yt(n,e,["float"],"boolean",Number.isNaN)),une=new ye("math/isInf/float","Logic","isInf",(n,e)=>new yt(n,e,["float"],"boolean",t=>!Number.isFinite(t)&&!Number.isNaN(t))),cne=Object.freeze(Object.defineProperty({__proto__:null,Constant:Ste,Add:Ete,Subtract:Cte,Negate:Mte,Multiply:Tte,Divide:Pte,Modulus:Ite,Power:Rte,SquareRoot:Bte,E:kte,Exp:Nte,Ln:Lte,Log2:Dte,Log10:Ote,PI:Fte,Sin:Ute,Asin:zte,Cos:Gte,Acos:Hte,Tan:jte,Atan:Vte,Mix:Wte,ToFloat:qte,Min:Kte,Max:Jte,Clamp:$te,Abs:Xte,Sign:Yte,Floor:Qte,Ceil:Zte,Round:ene,Trunc:tne,Random:nne,Equal:rne,GreaterThan:ine,GreaterThanOrEqual:sne,LessThan:one,LessThanOrEqual:ane,IsNaN:lne,IsInf:une},Symbol.toStringTag,{value:"Module"})),fne=/[^\d+.-]+/;function iO(n,e=0){try{return Number.parseFloat(n)}catch{return e}}function C6(n,e=0){return n.split(fne).filter(Boolean).map(t=>iO(t,e))}const dne=new Na("float",()=>0,n=>typeof n=="string"?iO(n,0):n,n=>n),hne=new ye("math/integer","Logic","Integer",(n,e)=>new yt(n,e,["integer"],"integer",t=>t)),pne=new ye("math/add/integer","Logic","+",(n,e)=>new mt(n,e,["integer","integer"],"integer",(t,r)=>t+r)),mne=new ye("math/subtract/integer","Logic","-",(n,e)=>new mt(n,e,["integer","integer"],"integer",(t,r)=>t-r)),gne=new ye("math/negate/integer","Logic","-",(n,e)=>new yt(n,e,["integer"],"integer",t=>-t)),vne=new ye("math/multiply/integer","Logic","\xD7",(n,e)=>new mt(n,e,["integer","integer"],"integer",(t,r)=>t*r)),yne=new ye("math/divide/integer","Logic","\xF7",(n,e)=>new mt(n,e,["integer","integer"],"integer",(t,r)=>t/r)),xne=new ye("math/modulus/integer","Logic","MOD",(n,e)=>new mt(n,e,["integer","integer"],"integer",(t,r)=>t%r)),bne=new ye("math/toFloat/integer","Logic","To Float",(n,e)=>new yt(n,e,["integer"],"float",t=>Number(t))),wne=new ye("math/min/integer","Logic","MIN",(n,e)=>new mt(n,e,["integer","integer"],"integer",(t,r)=>t>r?r:t)),_ne=new ye("math/max/integer","Logic","MAX",(n,e)=>new mt(n,e,["integer","integer"],"integer",(t,r)=>t>r?t:r)),Ane=new ye("math/clamp/integer","Logic","CLAMP",(n,e)=>new po(n,e,["integer","integer","integer"],"integer",(t,r,i)=>t<r?r:t>i?i:t,["value","min","max"])),Sne=new ye("math/abs/integer","Logic","ABS",(n,e)=>new yt(n,e,["integer"],"integer",t=>t<0n?-t:t)),Ene=new ye("math/sign/integer","Logic","SIGN",(n,e)=>new yt(n,e,["integer"],"integer",t=>t<0n?-1n:t>0n?1n:0n)),Cne=new ye("math/equal/integer","Logic","=",(n,e)=>new mt(n,e,["integer","integer"],"boolean",(t,r)=>t===r)),Mne=new ye("math/greaterThan/integer","Logic",">",(n,e)=>new mt(n,e,["integer","integer"],"boolean",(t,r)=>t>r)),Tne=new ye("math/greaterThanOrEqual/integer","Logic","\u2265",(n,e)=>new mt(n,e,["integer","integer"],"boolean",(t,r)=>t>=r)),Pne=new ye("math/lessThan/integer","Logic","<",(n,e)=>new mt(n,e,["integer","integer"],"boolean",(t,r)=>t<r)),Ine=new ye("math/lessThanOrEqual/integer","Logic","\u2264",(n,e)=>new mt(n,e,["integer","integer"],"boolean",(t,r)=>t<=r)),Rne=Object.freeze(Object.defineProperty({__proto__:null,Constant:hne,Add:pne,Subtract:mne,Negate:gne,Multiply:vne,Divide:yne,Modulus:xne,ToFloat:bne,Min:wne,Max:_ne,Clamp:Ane,Abs:Sne,Sign:Ene,Equal:Cne,GreaterThan:Mne,GreaterThanOrEqual:Tne,LessThan:Pne,LessThanOrEqual:Ine},Symbol.toStringTag,{value:"Module"})),Bne=new Na("integer",()=>0n,n=>BigInt(n),n=>Number.MIN_SAFE_INTEGER<=n&&n<=Number.MAX_SAFE_INTEGER?Number(n):n.toString()),kne=new ye("logic/string","Logic","String",(n,e)=>new yt(n,e,["string"],"string",t=>t)),Nne=new ye("logic/concat/string","Logic","Concat",(n,e)=>new mt(n,e,["string","string"],"string",(t,r)=>t.concat(r))),Lne=new ye("logic/includes/string","Logic","Includes",(n,e)=>new mt(n,e,["string","string"],"boolean",(t,r)=>t.includes(r))),Dne=new ye("logic/length/string","Logic","Length",(n,e)=>new yt(n,e,["string"],"integer",t=>BigInt(t.length))),One=new ye("math/equal/string","Logic","=",(n,e)=>new mt(n,e,["string","string"],"boolean",(t,r)=>t===r)),Fne=Object.freeze(Object.defineProperty({__proto__:null,Constant:kne,Concat:Nne,Includes:Lne,Length:Dne,Equal:One},Symbol.toStringTag,{value:"Module"})),Une=new Na("string",()=>"",n=>n,n=>n);class mE extends Si{constructor(e,t){super(e,t,[new Ge("flow","flow"),new Ge("integer","n",1),new Ge("flow","reset")],[new Ge("flow","flow"),new Ge("integer","count")]),this.count=0}triggered(e,t){if(t==="reset"){this.count=0;return}if(t==="flow"){this.count<Number(this.readInput("n"))&&(this.writeOutput("count",this.count),this.count++,e.commit(this,"flow"));return}throw new Error("should not get here")}}mE.Description=new ye("flow/doN","Flow","DoN",(n,e)=>new mE(n,e));class gE extends Si{constructor(e,t){super(e,t,[new Ge("flow","flow"),new Ge("flow","reset")],[new Ge("flow","flow")]),this.firedOnce=!1}triggered(e,t){if(t==="reset"){this.firedOnce=!1;return}if(t==="flow"){this.firedOnce||(this.firedOnce=!0,e.commit(this,"flow"));return}throw new Error("should not get here")}}gE.Description=new ye("flow/doOnce","Flow","DoOnce",(n,e)=>new gE(n,e));class vE extends Si{constructor(e,t){super(e,t,[new Ge("flow","flow"),new Ge("flow","open"),new Ge("flow","close"),new Ge("flow","toggle"),new Ge("boolean","startClosed",!0)],[new Ge("flow","flow")]),this.isInitialized=!1,this.isClosed=!0}triggered(e,t){switch(this.isInitialized||(this.isClosed=this.readInput("startClosed"),this.isInitialized=!0),t){case"flow":{this.isClosed||e.commit(this,"flow");break}case"open":{this.isClosed=!1;return}case"close":{this.isClosed=!0;return}case"toggle":{this.isClosed=!this.isClosed;return}}}}vE.Description=new ye("flow/gate","Flow","Gate",(n,e)=>new vE(n,e));class yE extends Si{constructor(e,t){super(e,t,[new Ge("flow","flow"),new Ge("flow","reset"),new Ge("boolean","loop",!0),new Ge("integer","startIndex",0)],[new Ge("flow","1"),new Ge("flow","2"),new Ge("flow","3")]),this.isInitialized=!1,this.nextIndex=0}triggered(e,t){switch(this.isInitialized||(this.nextIndex=Number(this.readInput("startIndex"))),this.readInput("loop")&&(this.nextIndex=this.nextIndex%this.outputSockets.length),t){case"reset":{this.nextIndex=0;return}case"flow":{0<=this.nextIndex&&this.nextIndex<this.outputSockets.length&&e.commit(this,this.outputSockets[this.nextIndex].name),this.nextIndex++;return}}const r=i=>{if(i<this.outputSockets.length){const s=this.outputSockets[i];e.commit(this,s.name,()=>{r(i+1)})}};r(0)}}yE.Description=new ye("flow/multiGate","Flow","MultiGate",(n,e)=>new yE(n,e));class xE extends Oh{constructor(e,t){super(e,t,[new Ge("flow","flow"),new Ge("float","duration",1),new Ge("flow","cancel")],[new Ge("flow","flow")]),this.triggerVersion=0,this.timeoutPending=!1}triggered(e,t,r){if(t==="cancel"){this.timeoutPending&&(this.triggerVersion++,this.timeoutPending=!1);return}if(this.timeoutPending)return;this.triggerVersion++;const i=this.triggerVersion;this.timeoutPending=!0,setTimeout(()=>{this.triggerVersion===i&&(Gn.mustBeTrue(this.timeoutPending),this.timeoutPending=!1,e.commitToNewFiber(this,"flow"),r())},this.readInput("duration")*1e3)}dispose(){this.triggerVersion++,this.timeoutPending=!1}}xE.Description=new ye("flow/throttle","Flow","Throttle",(n,e)=>new xE(n,e));function M6(n){return n.length>0?n.at(0)?.toLocaleUpperCase()+n.slice(1):n}function sO(n,e){const t=M6(e);n.nodes.register(new ye(`math/to${t}/string`,"Logic",`To ${t}`,(r,i)=>new yt(r,i,["string"],e,s=>n.values.get(e).deserialize(s))),new ye(`math/toString/${e}`,"Logic","To String",(r,i)=>new yt(r,i,[e],"string",s=>n.values.get(e).serialize(s))))}function zne(n,e=new rO,t=new rE){const{nodes:r,values:i}=n;return i.register(Ate),i.register(Une),i.register(Bne),i.register(dne),r.register(...ca(Fne)),r.register(...ca(_te)),r.register(...ca(Rne)),r.register(...ca(cne)),r.register(sE.Description(e)),r.register(iE.Description),r.register(hE.Description(t)),r.register(dE.Description(t)),r.register(pE.Description(t)),r.register(oE.Description),r.register(uE.Description),r.register(cE.Description),r.register(fE.Description),r.register(lE.Description),r.register(aE.Description),r.register(xE.Description),r.register(mE.Description),r.register(gE.Description),r.register(vE.Description),r.register(yE.Description),["boolean","float","integer"].forEach(s=>{sO(n,s)}),n}class jn{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.z=r}clone(e=new jn){return e.set(this.x,this.y,this.z)}set(e,t,r){return this.x=e,this.y=t,this.z=r,this}}function T6(n,e){return n.x===e.x&&n.y===e.y&&n.z===e.z}function P6(n,e,t=new jn){return t.set(n.x+e.x,n.y+e.y,n.z+e.z)}function I6(n,e,t=new jn){return t.set(n.x-e.x,n.y-e.y,n.z-e.z)}function hw(n,e,t=new jn){return t.set(n.x*e,n.y*e,n.z*e)}function R6(n,e=new jn){return e.set(-n.x,-n.y,-n.z)}function oO(n){return Math.sqrt(aO(n,n))}function Gne(n,e=new jn){const t=1/oO(n);return hw(n,t,e)}function aO(n,e){return n.x*e.x+n.y*e.y+n.z*e.z}function Hne(n,e,t=new jn){const r=n.x,i=n.y,s=n.z,o=e.x,a=e.y,l=e.z;return t.set(i*l-s*a,s*o-r*l,r*a-i*o)}function B6(n,e,t,r=new jn){const i=1-t;return r.set(n.x*i+e.x*t,n.y*i+e.y*t,n.z*i+e.z*t)}function jne(n,e=0,t=new jn){return t.set(n[e+0],n[e+1],n[e+2])}function k6(n,e,t=0){e[t+0]=n.x,e[t+1]=n.y,e[t+2]=n.z}function N6(n,e=new jn){return jne(C6(n),0,e)}function Vne(n,e=new jn){function t(l,u,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?l+(u-l)*6*c:c<1/2?u:c<2/3?l+(u-l)*6*(2/3-c):l}const r=(n.x%1+1)%1,i=Math.min(Math.max(n.y,0),1),s=Math.min(Math.max(n.z,0),1);if(i===0)return e.set(1,1,1);const o=s<=.5?s*(1+i):s+i-s*i,a=2*s-o;return e.set(t(a,o,r+1/3),t(a,o,r),t(a,o,r-1/3))}function Wne(n,e=new jn){const t=n.x,r=n.y,i=n.z,s=Math.max(t,r,i),o=Math.min(t,r,i);let a=0,l=0;const u=(o+s)/2;if(o===s)a=0,l=0;else{const c=s-o;switch(l=u<=.5?c/(s+o):c/(2-s-o),s){case t:a=(r-i)/c+(r<i?6:0);break;case r:a=(i-t)/c+2;break;case i:a=(t-r)/c+4;break}a/=6}return e.set(a,l,u)}function qne(n,e=new jn){return n=Math.floor(n),e.set((n>>16&255)/255,(n>>8&255)/255,(n&255)/255)}function Kne(n){return n.x*255<<16^n.y*255<<8^n.z*255<<0}const Jne=new Na("color",()=>new jn,n=>typeof n=="string"?N6(n):new jn(n.r,n.g,n.b),n=>({r:n.x,g:n.y,b:n.z})),$ne=new Na("euler",()=>new jn,n=>typeof n=="string"?N6(n):new jn(n.x,n.y,n.z),n=>({x:n.x,y:n.y,z:n.z}));class or{constructor(e=0,t=0,r=0,i=0){this.x=e,this.y=t,this.z=r,this.w=i}clone(e=new or){return e.set(this.x,this.y,this.z,this.w)}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}}function lO(n,e){return n.x===e.x&&n.y===e.y&&n.z===e.z&&n.w==e.w}function Xne(n,e,t=new or){return t.set(n.x+e.x,n.y+e.y,n.z+e.z,n.w+e.w)}function Yne(n,e,t=new or){return t.set(n.x-e.x,n.y-e.y,n.z-e.z,n.w-e.w)}function L6(n,e,t=new or){return t.set(n.x*e,n.y*e,n.z*e,n.w*e)}function uO(n,e=new or){return e.set(-n.x,-n.y,-n.z,-n.w)}function D6(n){return Math.sqrt(pw(n,n))}function O6(n,e=new or){const t=1/D6(n);return L6(n,t,e)}function pw(n,e){return n.x*e.x+n.y*e.y+n.z*e.z+n.w*e.w}function cO(n,e,t,r=new or){const i=1-t;return r.set(n.x*i+e.x*t,n.y*i+e.y*t,n.z*i+e.z*t,n.w*i+e.w*t)}function Qne(n,e=0,t=new or){return t.set(n[e+0],n[e+1],n[e+2],n[e+3])}function fO(n,e,t=0){e[t+0]=n.x,e[t+1]=n.y,e[t+2]=n.z,e[t+3]=n.w}function dO(n,e=new or){return Qne(C6(n),0,e)}function Zne(n,e=new or){return e.set(-n.x,-n.y,-n.z,n.w)}function ere(n,e,t=new or){const r=n.x,i=n.y,s=n.z,o=n.w,a=e.x,l=e.y,u=e.z,c=e.w;return t.set(r*c+o*a+i*u-s*l,i*c+o*l+s*a-r*u,s*c+o*u+r*l-i*a,o*c-r*a-i*l-s*u)}function tre(n,e,t,r=new or){if(t<=0)return n.clone(r);if(t>=1)return e.clone(r);let i=pw(n,e);if(i<0?(uO(e,r),i=-i):e.clone(r),i>=1)return r;const s=1-i*i;if(s<=Number.EPSILON)return cO(n,r,t),O6(r,r),r;const o=Math.sqrt(s),a=Math.atan2(o,i),l=Math.sin((1-t)*a)/o,u=Math.sin(t*a)/o;return r.w=n.w*l+r.w*u,r.x=n.x*l+r.x*u,r.y=n.y*l+r.y*u,r.z=n.z*l+r.z*u,r}function nre(n,e=new or){const t=Math.cos(n.x/2),r=Math.cos(n.y/2),i=Math.cos(n.z/2),s=Math.sin(n.x/2),o=Math.sin(n.y/2),a=Math.sin(n.z/2);return e.set(s*r*i+t*o*a,t*o*i-s*r*a,t*r*a+s*o*i,t*r*i-s*o*a)}function rre(n,e,t=new or){const r=n/2,i=Math.sin(r);return t.set(e.x*i,e.y*i,e.z*i,Math.cos(r))}const ire=new Na("quat",()=>new or,n=>typeof n=="string"?dO(n):new or(n.x,n.y,n.z,n.w),n=>({x:n.x,y:n.y,z:n.z,w:n.w}));class Ps{constructor(e=0,t=0){this.x=e,this.y=t}clone(e=new Ps){return e.set(this.x,this.y)}set(e,t){return this.x=e,this.y=t,this}}function sre(n,e){return n.x===e.x&&n.y===e.y}function ore(n,e,t=new Ps){return t.set(n.x+e.x,n.y+e.y)}function are(n,e,t=new Ps){return t.set(n.x-e.x,n.y-e.y)}function hO(n,e,t=new Ps){return t.set(n.x*e,n.y*e)}function lre(n,e=new Ps){return e.set(-n.x,-n.y)}function pO(n){return Math.sqrt(mO(n,n))}function ure(n,e=new Ps){const t=1/pO(n);return hO(n,t,e)}function mO(n,e){return n.x*e.x+n.y*e.y}function cre(n,e,t,r=new Ps){const i=1-t;return r.set(n.x*i+e.x*t,n.y*i+e.y*t)}function fre(n,e=0,t=new Ps){return t.set(n[e+0],n[e+1])}function dre(n,e,t=0){e[t+0]=n.x,e[t+1]=n.y}function hre(n,e=new Ps){return fre(C6(n),0,e)}const gO=new Na("vec2",()=>new Ps,n=>typeof n=="string"?hre(n):new Ps(n.x,n.y),n=>({x:n.x,y:n.y})),pre=Object.freeze(Object.defineProperty({__proto__:null,Vec2Value:gO},Symbol.toStringTag,{value:"Module"})),vO=new Na("vec3",()=>new jn,n=>typeof n=="string"?N6(n):new jn(n.x,n.y,n.z),n=>({x:n.x,y:n.y,z:n.z})),mre=Object.freeze(Object.defineProperty({__proto__:null,Vec3Value:vO},Symbol.toStringTag,{value:"Module"})),yO=new Na("vec4",()=>new or,n=>typeof n=="string"?dO(n):new or(n.x,n.y,n.z,n.w),n=>({x:n.x,y:n.y,z:n.z,w:n.w})),gre=Object.freeze(Object.defineProperty({__proto__:null,Vec4Value:yO},Symbol.toStringTag,{value:"Module"}));class F6 extends Si{constructor(e,t,r,i){super(e,t,[new Ge("flow","flow"),new Ge("string","jsonPath"),new Ge(r,"value")],[new Ge("flow","flow")]),this.valueTypeName=r,this.scene=i}static GetDescriptions(e,...t){return t.map(r=>new ye(`scene/set/${r}`,"Action",`Set Scene ${M6(r)}`,(i,s)=>new F6(i,s,r,e)))}triggered(e,t){const r=this.scene,i=this.readInput("value");r.setProperty(this.readInput("jsonPath"),this.valueTypeName,i),e.commit(this,"flow")}}class FI extends El{constructor(e,t){super(e,t,[],[new Ge("flow","flow"),new Ge("float","nodeIndex")])}}FI.Description=new ye("scene/nodeClick","Event","On Node Click",(n,e)=>new FI(n,e));class up extends Dl{constructor(e,t,r,i=["x","y","z","w"],s){super(e,t,[new Ge(r,"value")],i.map(o=>new Ge("float",o)),()=>{const o=this.readInput("value"),a=i.map(()=>0);s(o,a,0),i.forEach((l,u)=>this.writeOutput(l,a[u]))})}}class U6 extends Dl{constructor(e,t,r,i){super(e,t,[new Ge("string","jsonPath")],[new Ge(r,"value")],()=>{this.writeOutput("value",this.scene.getProperty(this.readInput("jsonPath"),r))}),this.valueTypeName=r,this.scene=i}static GetDescriptions(e,...t){return t.map(r=>new ye(`scene/get/${r}`,"Query",`Get Scene ${M6(r)}`,(i,s)=>new U6(i,s,r,e)))}}const vre=new ye("math/color","Logic","Color",(n,e)=>new yt(n,e,["color"],"color",t=>t)),yre=new ye("math/toColor/rgb","Logic","RGB To Color",(n,e)=>new po(n,e,["float","float","float"],"color",(t,r,i)=>new jn(t,r,i),["r","g","b"])),xre=new ye("math/toRgb/color","Logic","Color to RGB",(n,e)=>new up(n,e,"color",["r","g","b"],k6)),bre=new ye("math/add/color","Logic","+",(n,e)=>new mt(n,e,["color","color"],"color",P6)),wre=new ye("math/subtract/color","Logic","-",(n,e)=>new mt(n,e,["color","color"],"color",I6)),_re=new ye("math/negate/color","Logic","-",(n,e)=>new yt(n,e,["color"],"color",R6)),Are=new ye("math/scale/color","Logic","\xD7",(n,e)=>new mt(n,e,["color","float"],"color",hw)),Sre=new ye("math/mix/color","Logic","\xF7",(n,e)=>new po(n,e,["color","color","float"],"color",B6,["a","b","t"])),Ere=new ye("math/ToColor/hsl","Logic","HSL to Color",(n,e)=>new yt(n,e,["vec3"],"color",Vne)),Cre=new ye("math/toHsl/color","Logic","Color to HSL",(n,e)=>new yt(n,e,["color"],"vec3",Wne)),Mre=new ye("math/toColor/hex","Logic","HEX to Color",(n,e)=>new yt(n,e,["float"],"color",qne)),Tre=new ye("math/toHex/color","Logic","Color to HEX",(n,e)=>new yt(n,e,["color"],"float",Kne)),Pre=new ye("math/equal/color","Logic","=",(n,e)=>new mt(n,e,["color","color"],"boolean",T6)),Ire=Object.freeze(Object.defineProperty({__proto__:null,Constant:vre,Create:yre,Elements:xre,Add:bre,Subtract:wre,Negate:_re,Scale:Are,Mix:Sre,HslToColor:Ere,ColorToHsl:Cre,HexToColor:Mre,ColorToHex:Tre,Equal:Pre},Symbol.toStringTag,{value:"Module"})),Rre=new ye("math/euler","Logic","Euler",(n,e)=>new yt(n,e,["euler"],"euler",t=>t)),Bre=new ye("math/toEuler/float","Logic","Float to Euler",(n,e)=>new po(n,e,["float","float","float"],"euler",(t,r,i)=>new jn(t,r,i),["x","y","z"])),kre=new ye("math/toFloat/euler","Logic","Euler to Float",(n,e)=>new up(n,e,"euler",["x","y","z"],k6)),Nre=new ye("math/add/euler","Logic","+",(n,e)=>new mt(n,e,["euler","euler"],"euler",P6)),Lre=new ye("math/subtract/euler","Logic","-",(n,e)=>new mt(n,e,["euler","euler"],"euler",I6)),Dre=new ye("math/negate/euler","Logic","-",(n,e)=>new yt(n,e,["euler"],"euler",R6)),Ore=new ye("math/scale/euler","Logic","\xD7",(n,e)=>new mt(n,e,["euler","float"],"euler",hw)),Fre=new ye("math/mix/euler","Logic","\xF7",(n,e)=>new po(n,e,["euler","euler","float"],"euler",B6,["a","b","t"])),Ure=new ye("math/toQuat/euler","Logic","\xF7",(n,e)=>new yt(n,e,["euler"],"quat",nre)),zre=new ye("math/equal/euler","Logic","=",(n,e)=>new mt(n,e,["euler","euler"],"boolean",T6)),Gre=Object.freeze(Object.defineProperty({__proto__:null,Constant:Rre,Create:Bre,Elements:kre,Add:Nre,Subtract:Lre,Negate:Dre,Scale:Ore,Mix:Fre,toQuat:Ure,Equal:zre},Symbol.toStringTag,{value:"Module"}));new ye("math/vec2","Logic","Vec2",(n,e)=>new yt(n,e,["vec2"],"vec2",t=>t));new ye("math/toVec2/float","Logic","Float to Vec2",(n,e)=>new mt(n,e,["float","float"],"vec2",(t,r)=>new Ps(t,r),["x","y"]));new ye("math/toFloat/vec2","Logic","Vec2 To Float",(n,e)=>new up(n,e,"vec2",["x","y","z"],dre));new ye("math/add/vec2","Logic","+",(n,e)=>new mt(n,e,["vec2","vec2"],"vec2",ore));new ye("math/subtract/vec2","Logic","-",(n,e)=>new mt(n,e,["vec2","vec2"],"vec2",are));new ye("math/negate/vec2","Logic","-",(n,e)=>new yt(n,e,["vec2"],"vec2",lre));new ye("math/scale/vec2","Logic","\xD7",(n,e)=>new mt(n,e,["vec2","float"],"vec2",hO));new ye("math/length/vec2","Logic","Length",(n,e)=>new yt(n,e,["vec2"],"float",pO));new ye("math/normalize/vec2","Logic","Normalize",(n,e)=>new yt(n,e,["vec2"],"vec2",ure));new ye("math/dot/vec2","Logic","Dot Product",(n,e)=>new mt(n,e,["vec2","vec2"],"float",mO));new ye("math/mix/vec2","Logic","\xF7",(n,e)=>new po(n,e,["vec2","vec2","float"],"vec2",cre,["a","b","t"]));new ye("math/equal/vec2","Logic","=",(n,e)=>new mt(n,e,["vec2","vec2"],"boolean",sre));new ye("math/vec3","Logic","Vec3",(n,e)=>new yt(n,e,["vec3"],"vec3",t=>t));new ye("math/toVec3/float","Logic","Float to Vec3",(n,e)=>new po(n,e,["float","float","float"],"vec3",(t,r,i)=>new jn(t,r,i),["x","y","z"]));new ye("math/toFloat/vec3","Logic","Vec3 To Float",(n,e)=>new up(n,e,"vec3",["x","y","z"],k6));new ye("math/add/vec3","Logic","+",(n,e)=>new mt(n,e,["vec3","vec3"],"vec3",P6));new ye("math/subtract/vec3","Logic","-",(n,e)=>new mt(n,e,["vec3","vec3"],"vec3",I6));new ye("math/negate/vec3","Logic","-",(n,e)=>new yt(n,e,["vec3"],"vec3",R6));new ye("math/scale/vec3","Logic","\xD7",(n,e)=>new mt(n,e,["vec3","float"],"vec3",hw));new ye("math/length/vec3","Logic","Length",(n,e)=>new yt(n,e,["vec3"],"float",oO));new ye("math/normalize/vec3","Logic","Normalize",(n,e)=>new yt(n,e,["vec3"],"vec3",Gne));new ye("math/cross/vec3","Logic","Cross",(n,e)=>new mt(n,e,["vec3","vec3"],"vec3",Hne));new ye("math/dot/vec3","Logic","Dot",(n,e)=>new mt(n,e,["vec3","vec3"],"float",aO));new ye("math/mix/vec3","Logic","\xF7",(n,e)=>new po(n,e,["vec3","vec3","float"],"vec3",B6,["a","b","t"]));new ye("math/equal/vec3","Logic","=",(n,e)=>new mt(n,e,["vec3","vec3"],"boolean",T6));new ye("math/vec4","Logic","Vec4",(n,e)=>new yt(n,e,["vec4"],"vec4",t=>t));new ye("math/toVec4/float","Logic","Float to Vec4",(n,e)=>new nO(n,e,["float","float","float","float"],"vec4",(t,r,i,s)=>new or(t,r,i,s),["x","y","z","w"]));new ye("math/toFloat/vec4","Logic","Vec4 to Float",(n,e)=>new up(n,e,"vec4",["x","y","z","w"],fO));new ye("math/add/vec4","Logic","+",(n,e)=>new mt(n,e,["vec4","vec4"],"vec4",Xne));new ye("math/subtract/vec4","Logic","-",(n,e)=>new mt(n,e,["vec4","vec4"],"vec4",Yne));new ye("math/negate/vec4","Logic","-",(n,e)=>new yt(n,e,["vec4"],"vec4",uO));new ye("math/scale/vec4","Logic","\xD7",(n,e)=>new mt(n,e,["vec4","float"],"vec4",L6));new ye("math/length/vec4","Logic","Length",(n,e)=>new yt(n,e,["vec4"],"float",D6));new ye("math/normalize/vec4","Logic","Normalize",(n,e)=>new yt(n,e,["vec4"],"vec4",O6));new ye("math/dot/vec4","Logic","Dot Product",(n,e)=>new mt(n,e,["vec4","vec4"],"float",pw));new ye("math/mix/vec4","Logic","\xF7",(n,e)=>new po(n,e,["vec4","vec4","float"],"vec4",cO,["a","b","t"]));new ye("math/equal/vec4","Logic","=",(n,e)=>new mt(n,e,["vec4","vec4"],"boolean",lO));const Hre=new ye("math/quat","Logic","Quaternion",(n,e)=>new yt(n,e,["quat"],"quat",t=>t)),jre=new ye("math/toQuat/float","Logic","Float to Quat",(n,e)=>new nO(n,e,["float","float","float","float"],"quat",(t,r,i,s)=>new or(t,r,i,s),["x","y","z","w"])),Vre=new ye("math/toFloat/quat","Logic","Quat to Float",(n,e)=>new up(n,e,"quat",["x","y","z","w"],fO)),Wre=new ye("math/conjugate/quat","Logic","Conjugate",(n,e)=>new yt(n,e,["quat"],"quat",Zne)),qre=new ye("math/multiply/quat","Logic","\xD7",(n,e)=>new mt(n,e,["quat","quat"],"quat",ere)),Kre=new ye("math/scale/quat","Logic","\xD7",(n,e)=>new mt(n,e,["quat","float"],"quat",L6)),Jre=new ye("math/length/quat","Logic","Length",(n,e)=>new yt(n,e,["quat"],"float",D6)),$re=new ye("math/normalize/quat","Logic","Normalize",(n,e)=>new yt(n,e,["quat"],"quat",O6)),Xre=new ye("math/dot/quat","Logic","Dot Product",(n,e)=>new mt(n,e,["quat","quat"],"float",pw)),Yre=new ye("math/toQuat/angleAxis","Logic","Angle Axis to Quat",(n,e)=>new mt(n,e,["float","vec3"],"quat",rre)),Qre=new ye("math/slerp/quat","Logic","Slerp",(n,e)=>new po(n,e,["quat","quat","float"],"quat",tre,["a","b","t"])),Zre=new ye("math/equal/quat","Logic","=",(n,e)=>new mt(n,e,["quat","quat"],"boolean",lO)),eie=Object.freeze(Object.defineProperty({__proto__:null,Constant:Hre,Create:jre,Elements:Vre,Negate:Wre,Multiply:qre,Scale:Kre,Length:Jre,Normalize:$re,Dot:Xre,FromAngleAxis:Yre,Slerp:Qre,Equal:Zre},Symbol.toStringTag,{value:"Module"}));function UI(n){return new jn(n.x,n.y,n.z)}function tie(n){return new or(n.x,n.y,n.z,n.w)}const nie=/^\/?(?<resource>[^/]+)\/(?<name>[^/]+)$/,rie=/^\/?(?<resource>[^/]+)\/(?<name>[^/]+)\/(?<property>[^/]+)$/;function iie({name:n,property:e,resource:t},r){return r?!t||!n?void 0:`${t}/${n}`:!t||!n||!e?void 0:`${t}/${n}/${e}`}function u1(n,e=!1){const r=(e?nie:rie).exec(n);if(r===null)throw new Error(`can not parse jsonPath: ${n}`);if(r.groups===void 0)throw new Error(`can not parse jsonPath (no groups): ${n}`);return{resource:r.groups.resource,name:r.groups.name,property:r.groups.property}}function sie({resource:n,name:e,property:t},r,i){if(n==="nodes"){const s=r.nodes[e];if(!s){console.error(`no node at path ${e}`);return}aie(t,s,i);return}if(n==="materials"){const s=r.materials[e];if(!s){console.error(`no node at path ${e}`);return}lie(t,s,i);return}console.error(`unknown resource type ${n}`)}function oie({resource:n,name:e,property:t},r){if(n==="nodes"){const i=r.nodes[e];if(!i){console.error(`no node at path ${e}`);return}uie(t,i);return}}function aie(n,e,t){switch(n){case"visible":{e.visible=t;break}case"translation":{const r=t;e.position.set(r.x,r.y,r.z);break}case"scale":{const r=t;e.scale.set(r.x,r.y,r.z);break}case"rotation":{const r=t;e.quaternion.set(r.x,r.y,r.z,r.w);break}}}function lie(n,e,t){switch(n){case"color":{const r=e;if(r.color){const i=t;r.color.setRGB(i.x,i.y,i.z),r.needsUpdate=!0}break}}}function uie(n,e){switch(n){case"visible":return e.visible;case"translation":return UI(e.position);case"scale":return UI(e.scale);case"rotation":return tie(e.quaternion);default:throw new Error(`unrecognized property: ${n}`)}}const cie=(n,e)=>({getProperty:(l,u)=>{const c=u1(l);return oie(c,n)},setProperty:(l,u,c)=>{const f=u1(l);sie(f,n,c)},getProperties:()=>{const l=["visible","translation","scale","rotation","color"],u=["color"],c=Object.entries(n.nodes).map(([m])=>m),f=Object.entries(n.materials).map(([m])=>m);return{nodes:{names:c,properties:l},materials:{names:f,properties:u}}},addOnClickedListener:(l,u)=>{const c=u1(l,!0);e(f=>{const d=f[l]||{path:c,callbacks:[]},m={...d,callbacks:[...d.callbacks,u]};return{...f,[l]:m}})},removeOnClickedListener:(l,u)=>{e(c=>{const f=c[l];if(!f)return c;const d=f.callbacks.filter(y=>y!==u);if(d.length>0){const y={...f,callback:d};return{...c,[l]:y}}console.log("none left...clearing");const m={...c};return delete m[l],m})}}),fie=(n,e)=>{const[t,r]=J.exports.useState();return J.exports.useEffect(()=>{r(cie(n,e))},[n,e]),t},die=({value:n,onChange:e,getProperties:t,short:r})=>{const[i]=J.exports.useState(()=>{if(console.log("parsing:",n,r),n)return u1(n,r)}),[s,o]=J.exports.useState(i?.resource),[a,l]=J.exports.useState(i?.name),[u,c]=J.exports.useState(i?.property),[f]=J.exports.useState(t());return J.exports.useEffect(()=>{const d=iie({name:a,property:u,resource:s},r);console.log("got json path string",d),e(d)},[s,a,u,e,r]),Tt(vr,{children:[Tt("select",{value:s,onChange:d=>o(d.target.value),className:" bg-gray-600 disabled:bg-gray-700 py-1 px-2 nodrag",children:[te("option",{children:"--type--"}),Object.keys(f).map(d=>te("option",{value:d,children:d},d))]}),s&&Tt("select",{value:a,onChange:d=>l(d.target.value),className:" bg-gray-600 disabled:bg-gray-700 py-1 px-2 nodrag",children:[te("option",{children:"--element--"}),f[s].names.map(d=>te("option",{value:d,children:d},d))]}),s&&!r&&Tt("select",{value:u,onChange:d=>c(d.target.value),className:" bg-gray-600 disabled:bg-gray-700 py-1 px-2 nodrag",children:[te("option",{children:"-property-"}),f[s].properties.map(d=>te("option",{value:d,children:d},d))]})]})};function hie({connected:n,value:e,onChange:t,name:r,valueType:i,defaultValue:s,allSpecs:o,getProperties:a,shortJsonPath:l}){const u=Nl(),c=i==="flow";let f=QD[i];f===void 0&&(f="red");const[d,m]=b6[f],y=c===!1||r!=="flow",g=J.exports.useCallback(x=>{t(r,x)},[r,t]),v=J.exports.useCallback(x=>{const w=x.target.value;t(r,w)},[r,t]);return Tt("div",{className:"flex grow items-center justify-start h-7",children:[c&&te(No,{icon:mD,color:"#ffffff",size:"lg"}),y&&te("div",{className:"capitalize mr-2",children:r}),c===!1&&n===!1&&Tt(vr,{children:[i==="string"&&(r==="jsonPath"?te(die,{value:String(e),onChange:g,getProperties:a,short:l}):te(Ny,{type:"text",className:" bg-gray-600 disabled:bg-gray-700 py-1 px-2 nodrag",value:String(e)??s??"",onChange:v})),i==="number"&&te(Ny,{type:"number",className:" bg-gray-600 disabled:bg-gray-700 py-1 px-2 nodrag",value:String(e)??s??"",onChange:v}),i==="float"&&te(Ny,{type:"number",className:" bg-gray-600 disabled:bg-gray-700 py-1 px-2 nodrag",value:String(e)??s??"",onChange:v}),i==="integer"&&te(Ny,{type:"number",className:" bg-gray-600 disabled:bg-gray-700 py-1 px-2 nodrag",value:String(e)??s??"",onChange:v}),i==="boolean"&&te("input",{type:"checkbox",className:" bg-gray-600 disabled:bg-gray-700 py-1 px-2 nodrag",value:String(e)??s??"",onChange:v})]}),te(Nh,{id:r,type:"target",position:wt.Left,className:x6(m,n?d:"bg-gray-800"),isValidConnection:x=>ZD(x,u,o)})]})}function pie({title:n,category:e="None",selected:t,children:r}){let i=Zee[e];i===void 0&&(i="red");let[s,o,a]=b6[i];return t&&(o="border-gray-800"),Tt("div",{className:x6("rounded text-white text-sm bg-gray-800 min-w-[120px]",t&&"outline outline-1"),children:[te("div",{className:`${s} ${a} px-2 py-1 rounded-t`,children:n}),te("div",{className:`flex flex-col gap-2 py-2 border-l border-r border-b ${o} `,children:r})]})}function mie({connected:n,valueType:e,name:t,specJSON:r}){const i=Nl(),s=e==="flow";let o=QD[e];o===void 0&&(o="red");const[a,l]=b6[o];return Tt("div",{className:"flex grow items-center justify-end h-7",children:[(s===!1||t!=="flow")&&te("div",{className:"capitalize",children:t}),s&&te(No,{icon:mD,color:"#ffffff",size:"lg",className:"ml-1"}),te(Nh,{id:t,type:"source",position:wt.Right,className:x6(l,n?a:"bg-gray-800"),isValidConnection:c=>ZD(c,i,r)})]})}const gie=n=>{const e=Nl();return J.exports.useCallback((t,r)=>{e.setNodes(i=>i.map(s=>s.id!==n?s:{...s,data:{...s.data,[t]:r}}))},[e,n])},vie=n=>{const e=n.split("/"),r=e[Math.min(e.length-1,1)].replace(/([A-Z])/g," $1");return r.charAt(0).toUpperCase()+r.slice(1)},yie=(n,e)=>{const t=Math.max(n.length,e.length),r=[];for(let i=0;i<t;i++){const s=[n[i],e[i]];r.push(s)}return r},xie=({id:n,data:e,spec:t,selected:r,allSpecs:i,getProperties:s})=>{const o=cD(),a=gie(n),l=yie(t.inputs,t.outputs),u=t.type.includes("scene/nodeClick");return te(pie,{title:vie(t.type),category:t.category,selected:r,children:l.map(([c,f],d)=>Tt("div",{className:"flex flex-row justify-between gap-8 relative px-2",children:[c&&te(hie,{...c,allSpecs:i,value:e[c.name]??c.defaultValue,onChange:a,connected:nE(o,n,c.name,"target"),getProperties:s,shortJsonPath:u}),f&&te(mie,{...f,specJSON:i,connected:nE(o,n,f.name,"source")})]},d))})},bie=(n,e)=>n.reduce((t,r)=>(t[r.type]=i=>te(xie,{spec:r,allSpecs:n,...i,getProperties:e.getProperties}),t),{}),wie=(n,e,t)=>{if(e===void 0)return;const r=n.find(o=>o.id===e.nodeId);if(r===void 0)return;const s=jm(t,r.type,e.handleType)?.find(o=>o.name===e.handleId);if(s!==void 0)return{handleType:e.handleType==="source"?"target":"source",valueType:s.valueType}},_ie=({registry:n,nodes:e,lastConnectStart:t,specJson:r,scene:i})=>{const[s,o]=J.exports.useState(),[a,l]=J.exports.useState();return J.exports.useEffect(()=>{},[n]),J.exports.useEffect(()=>{if(!r)return;const u=wie(e,t,r);o(u)},[t,e,r]),J.exports.useEffect(()=>{if(!r)return;const u=bie(r,i);l(u)},[r]),{filters:s,customNodeTypes:a,specJson:r}};function Aie({toggleRun:n,running:e,registry:t,nodes:r,onNodesChange:i,edges:s,onEdgesChange:o,specJson:a,scene:l}){const[u,c]=J.exports.useState(),[f,d]=J.exports.useState(),{filters:m,customNodeTypes:y}=_ie({registry:t,nodes:r,lastConnectStart:f,specJson:a,scene:l}),g=J.exports.useCallback(I=>{if(I.source===null||I.target===null)return;const D={id:Lh(),source:I.source,target:I.target,sourceHandle:I.sourceHandle,targetHandle:I.targetHandle};o([{type:"add",item:D}])},[o]),v=J.exports.useCallback((I,D)=>{if(!a)return;b();const P={id:Lh(),type:I,position:D,data:{}};if(i([{type:"add",item:P}]),f===void 0)return;const O=r.find(V=>V.id===f.nodeId);O!==void 0&&o([{type:"add",item:Qee(O,I,P.id,f,a)}])},[f,r,o,i,a]),x=(I,D)=>{d(D)},w=I=>{I.target.classList.contains("react-flow__pane")?c({x:I.clientX,y:I.clientY}):d(void 0)},b=()=>{d(void 0),c(void 0)},A=()=>b(),M=I=>{I.preventDefault(),c({x:I.clientX,y:I.clientY})};return!y||!a?null:Tt(uD,{nodeTypes:y,nodes:r,edges:s,onNodesChange:i,onEdgesChange:o,onConnect:g,onConnectStart:x,onConnectEnd:w,fitView:!0,fitViewOptions:{maxZoom:1},onPaneClick:A,onPaneContextMenu:M,children:[te(Kee,{toggleRun:n,specJson:a,running:e}),te(CQ,{variant:lo.Lines,color:"#2a2b2d",style:{backgroundColor:"#1E1F22"}}),u&&te(Yee,{position:u,filters:m,onPickNode:v,onClose:b})]})}let Z_;const Sie=n=>(Z_===void 0&&(Z_=hte(n)),Z_),N4=class extends El{constructor(t,r,i,s){super(t,r,[new Ge("string","jsonPath"),new Ge("boolean","tokenGated"),new Ge("string","tokenGatedAddress")],[new Ge("flow","flow"),new Ge("flow","secondFlow"),new Ge("integer","count")]);_c(this,"clickCount",0);_c(this,"jsonPath");_c(this,"sendNodeClickedData",(t,r)=>{t.commitToNewFiber(this,"flow"),t.commitToNewFiber(this,"secondFlow"),this.writeOutput("count",r)});_c(this,"handleNodeClick");_c(this,"handleSmartContractTriggered");this.scene=i,this.smartContractActions=s}init(t){const r=this.readInput("jsonPath");if(console.log({jsonPath:r}),!r)return;Gn.mustBeTrue(this.handleNodeClick===void 0),this.jsonPath=r;const i=this.smartContractActions;this.clickCount=0,this.handleNodeClick=()=>{i?i.invoke(this.id):(this.clickCount++,this.sendNodeClickedData(t,this.clickCount))},this.scene.addOnClickedListener(r,this.handleNodeClick),this.handleSmartContractTriggered=o=>{this.sendNodeClickedData(t,o)},i&&i.registerTriggerHandler(this.id,this.handleSmartContractTriggered)}dispose(t){Gn.mustBeTrue(this.handleNodeClick!==void 0),Gn.mustBeTrue(this.jsonPath!==void 0),!(!this.jsonPath||!this.handleNodeClick)&&(this.scene.removeOnClickedListener(this.jsonPath,this.handleNodeClick),this.handleNodeClick&&this.smartContractActions?.unRegisterTriggerHandler(this.jsonPath,this.handleNodeClick))}};let c1=N4;_c(c1,"Description",(t,r)=>new ye("scene/nodeClick","Event","On Node Click",(i,s)=>new N4(i,s,t,r)));function Eie(n,e){const{values:t,nodes:r}=n;t.register(gO),t.register(vO),t.register(yO),t.register(Jne),t.register($ne),t.register(ire),r.register(...ca(pre)),r.register(...ca(mre)),r.register(...ca(gre)),r.register(...ca(Ire)),r.register(...ca(Gre)),r.register(...ca(eie));const i=t.getAllNames();r.register(...F6.GetDescriptions(e,...i)),r.register(...U6.GetDescriptions(e,...i)),["vec2","vec3","vec4","quat","euler","color"].forEach(o=>{sO(n,o)})}function Cie(n,e,t){const{nodes:r}=n;r.register(c1.Description(e,t))}const Mie=({scene:n,smartContractActions:e})=>{const[t,r]=J.exports.useState(),[i,s]=J.exports.useState(new rE),[o]=J.exports.useState(new rO),[a,l]=J.exports.useState();return J.exports.useEffect(()=>{if(!n)return;const u=new mte,c=new rE;zne(u,o,c),Eie(u,n),Cie(u,n,e);const f=Sie(u);r(u),l(f),s(c)},[n,e,o]),{registry:t,specJson:a,lifecyleEmitter:i,logger:o}},Tie=({graphJson:n,registry:e,eventEmitter:t,run:r})=>{const[i,s]=J.exports.useState();return J.exports.useEffect(()=>{if(!n||!e||!r)return;const o=ate(n,e),a=new ote(o);return s(a),()=>{a.dispose(),s(void 0)}},[n,e,r]),J.exports.useEffect(()=>{if(!i||!r)return;i.executeAllSync();let o;const a=async()=>{t.tickEvent.emit(),await i.executeAllAsync(500),o=window.setTimeout(a,50)};return(async()=>(t.startEvent.listenerCount>0?(t.startEvent.emit(),await i.executeAllAsync(5)):console.log("has no listener count"),a()))(),()=>{console.log("clear timeout"),window.clearTimeout(o)}},[t,i,r]),i};/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const mw="146",Dc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Oc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},xO=0,bE=1,bO=2,Pie=3,Iie=0,z6=1,G6=2,Zd=3,qu=0,Es=1,Fo=2,pl=0,cf=1,wE=2,_E=3,AE=4,wO=5,Gc=100,_O=101,AO=102,SE=103,EE=104,SO=200,EO=201,CO=202,MO=203,H6=204,j6=205,TO=206,PO=207,IO=208,RO=209,BO=210,kO=0,NO=1,LO=2,hb=3,DO=4,OO=5,FO=6,UO=7,Pg=0,zO=1,GO=2,jo=0,HO=1,jO=2,VO=3,V6=4,WO=5,gw=300,Cl=301,Ku=302,Fh=303,Vm=304,cp=306,Ju=1e3,ti=1001,Uh=1002,hr=1003,Wm=1004,Rie=1004,qm=1005,Bie=1005,Ln=1006,vw=1007,kie=1007,Ol=1008,Nie=1008,$u=1009,qO=1010,KO=1011,W6=1012,JO=1013,Cu=1014,so=1015,Uo=1016,$O=1017,XO=1018,ff=1020,YO=1021,QO=1022,bs=1023,ZO=1024,eF=1025,Uu=1026,If=1027,tF=1028,nF=1029,rF=1030,iF=1031,sF=1033,f1=33776,d1=33777,h1=33778,p1=33779,CE=35840,ME=35841,TE=35842,PE=35843,oF=36196,IE=37492,RE=37496,BE=37808,kE=37809,NE=37810,LE=37811,DE=37812,OE=37813,FE=37814,UE=37815,zE=37816,GE=37817,HE=37818,jE=37819,VE=37820,WE=37821,qE=36492,aF=2200,lF=2201,uF=2202,zh=2300,Rf=2301,m1=2302,Yc=2400,Qc=2401,Km=2402,yw=2500,q6=2501,Lie=0,cF=1,K6=2,Wo=3e3,on=3001,fF=3200,dF=3201,Fl=0,hF=1,Die="",la="srgb",Mu="srgb-linear",Oie=0,g1=7680,Fie=7681,Uie=7682,zie=7683,Gie=34055,Hie=34056,jie=5386,Vie=512,Wie=513,qie=514,Kie=515,Jie=516,$ie=517,Xie=518,pF=519,Jm=35044,Yie=35048,Qie=35040,Zie=35045,ese=35049,tse=35041,nse=35046,rse=35050,ise=35042,sse="100",KE="300 es",pb=1035;class La{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const bi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let zI=1234567;const df=Math.PI/180,$m=180/Math.PI;function Cs(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(bi[n&255]+bi[n>>8&255]+bi[n>>16&255]+bi[n>>24&255]+"-"+bi[e&255]+bi[e>>8&255]+"-"+bi[e>>16&15|64]+bi[e>>24&255]+"-"+bi[t&63|128]+bi[t>>8&255]+"-"+bi[t>>16&255]+bi[t>>24&255]+bi[r&255]+bi[r>>8&255]+bi[r>>16&255]+bi[r>>24&255]).toLowerCase()}function pr(n,e,t){return Math.max(e,Math.min(t,n))}function J6(n,e){return(n%e+e)%e}function ose(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function ase(n,e,t){return n!==e?(t-n)/(e-n):0}function tm(n,e,t){return(1-t)*n+t*e}function lse(n,e,t,r){return tm(n,e,1-Math.exp(-t*r))}function use(n,e=1){return e-Math.abs(J6(n,e*2)-e)}function cse(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function fse(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function dse(n,e){return n+Math.floor(Math.random()*(e-n+1))}function hse(n,e){return n+Math.random()*(e-n)}function pse(n){return n*(.5-Math.random())}function mse(n){n!==void 0&&(zI=n);let e=zI+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function gse(n){return n*df}function vse(n){return n*$m}function JE(n){return(n&n-1)===0&&n!==0}function mF(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function mb(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function yse(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),u=s((e+r)/2),c=o((e+r)/2),f=s((e-r)/2),d=o((e-r)/2),m=s((r-e)/2),y=o((r-e)/2);switch(i){case"XYX":n.set(a*c,l*f,l*d,a*u);break;case"YZY":n.set(l*d,a*c,l*f,a*u);break;case"ZXZ":n.set(l*f,l*d,a*c,a*u);break;case"XZX":n.set(a*c,l*y,l*m,a*u);break;case"YXY":n.set(l*m,a*c,l*y,a*u);break;case"ZYZ":n.set(l*y,l*m,a*c,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function fl(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Tn(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var gF=Object.freeze({__proto__:null,DEG2RAD:df,RAD2DEG:$m,generateUUID:Cs,clamp:pr,euclideanModulo:J6,mapLinear:ose,inverseLerp:ase,lerp:tm,damp:lse,pingpong:use,smoothstep:cse,smootherstep:fse,randInt:dse,randFloat:hse,randFloatSpread:pse,seededRandom:mse,degToRad:gse,radToDeg:vse,isPowerOfTwo:JE,ceilPowerOfTwo:mF,floorPowerOfTwo:mb,setQuaternionFromProperEuler:yse,normalize:Tn,denormalize:fl});class Fe{constructor(e=0,t=0){Fe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ns{constructor(){ns.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,i,s,o,a,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=a,c[3]=t,c[4]=s,c[5]=l,c[6]=r,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],c=r[4],f=r[7],d=r[2],m=r[5],y=r[8],g=i[0],v=i[3],x=i[6],w=i[1],b=i[4],A=i[7],M=i[2],I=i[5],D=i[8];return s[0]=o*g+a*w+l*M,s[3]=o*v+a*b+l*I,s[6]=o*x+a*A+l*D,s[1]=u*g+c*w+f*M,s[4]=u*v+c*b+f*I,s[7]=u*x+c*A+f*D,s[2]=d*g+m*w+y*M,s[5]=d*v+m*b+y*I,s[8]=d*x+m*A+y*D,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return t*o*c-t*a*u-r*s*c+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=c*o-a*u,d=a*l-c*s,m=u*s-o*l,y=t*f+r*d+i*m;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/y;return e[0]=f*g,e[1]=(i*u-c*r)*g,e[2]=(a*r-i*o)*g,e[3]=d*g,e[4]=(c*t-i*l)*g,e[5]=(i*s-a*t)*g,e[6]=m*g,e[7]=(r*l-u*t)*g,e[8]=(o*t-r*s)*g,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,s=i[0],o=i[3],a=i[6],l=i[1],u=i[4],c=i[7];return i[0]=t*s+r*l,i[3]=t*o+r*u,i[6]=t*a+r*c,i[1]=-r*s+t*l,i[4]=-r*o+t*u,i[7]=-r*a+t*c,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}function vF(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const xse={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function eh(n,e){return new xse[n](e)}function Xm(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function hf(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function v1(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const e3={[la]:{[Mu]:hf},[Mu]:{[la]:v1}},Xs={legacyMode:!0,get workingColorSpace(){return Mu},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(e3[e]&&e3[e][t]!==void 0){const r=e3[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},yF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Tr={r:0,g:0,b:0},wo={h:0,s:0,l:0},Ly={h:0,s:0,l:0};function t3(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function Dy(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class et{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=la){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Xs.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Mu){return this.r=e,this.g=t,this.b=r,Xs.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Mu){if(e=J6(e,1),t=pr(t,0,1),r=pr(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=t3(o,s,e+1/3),this.g=t3(o,s,e),this.b=t3(o,s,e-1/3)}return Xs.toWorkingColorSpace(this,i),this}setStyle(e,t=la){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,Xs.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,Xs.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,u=parseFloat(s[2])/100,c=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,u,c,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,Xs.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,Xs.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=la){const r=yF[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=hf(e.r),this.g=hf(e.g),this.b=hf(e.b),this}copyLinearToSRGB(e){return this.r=v1(e.r),this.g=v1(e.g),this.b=v1(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=la){return Xs.fromWorkingColorSpace(Dy(this,Tr),e),pr(Tr.r*255,0,255)<<16^pr(Tr.g*255,0,255)<<8^pr(Tr.b*255,0,255)<<0}getHexString(e=la){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Mu){Xs.fromWorkingColorSpace(Dy(this,Tr),t);const r=Tr.r,i=Tr.g,s=Tr.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const c=(a+o)/2;if(a===o)l=0,u=0;else{const f=o-a;switch(u=c<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,t=Mu){return Xs.fromWorkingColorSpace(Dy(this,Tr),t),e.r=Tr.r,e.g=Tr.g,e.b=Tr.b,e}getStyle(e=la){return Xs.fromWorkingColorSpace(Dy(this,Tr),e),e!==la?`color(${e} ${Tr.r} ${Tr.g} ${Tr.b})`:`rgb(${Tr.r*255|0},${Tr.g*255|0},${Tr.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(wo),wo.h+=e,wo.s+=t,wo.l+=r,this.setHSL(wo.h,wo.s,wo.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(wo),e.getHSL(Ly);const r=tm(wo.h,Ly.h,t),i=tm(wo.s,Ly.s,t),s=tm(wo.l,Ly.l,t);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}et.NAMES=yF;let cd;class $6{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{cd===void 0&&(cd=Xm("canvas")),cd.width=e.width,cd.height=e.height;const r=cd.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=cd}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Xm("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=hf(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(hf(t[r]/255)*255):t[r]=hf(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Zc{constructor(e=null){this.isSource=!0,this.uuid=Cs(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(n3(i[o].image)):s.push(n3(i[o]))}else s=n3(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function n3(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?$6.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let bse=0;class ar extends La{constructor(e=ar.DEFAULT_IMAGE,t=ar.DEFAULT_MAPPING,r=ti,i=ti,s=Ln,o=Ol,a=bs,l=$u,u=1,c=Wo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:bse++}),this.uuid=Cs(),this.name="",this.source=new Zc(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Fe(0,0),this.repeat=new Fe(1,1),this.center=new Fe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ns,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==gw)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ju:e.x=e.x-Math.floor(e.x);break;case ti:e.x=e.x<0?0:1;break;case Uh:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ju:e.y=e.y-Math.floor(e.y);break;case ti:e.y=e.y<0?0:1;break;case Uh:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}ar.DEFAULT_IMAGE=null;ar.DEFAULT_MAPPING=gw;class yn{constructor(e=0,t=0,r=0,i=1){yn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,u=l[0],c=l[4],f=l[8],d=l[1],m=l[5],y=l[9],g=l[2],v=l[6],x=l[10];if(Math.abs(c-d)<.01&&Math.abs(f-g)<.01&&Math.abs(y-v)<.01){if(Math.abs(c+d)<.1&&Math.abs(f+g)<.1&&Math.abs(y+v)<.1&&Math.abs(u+m+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const b=(u+1)/2,A=(m+1)/2,M=(x+1)/2,I=(c+d)/4,D=(f+g)/4,P=(y+v)/4;return b>A&&b>M?b<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(b),i=I/r,s=D/r):A>M?A<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(A),r=I/i,s=P/i):M<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(M),r=D/s,i=P/s),this.set(r,i,s,t),this}let w=Math.sqrt((v-y)*(v-y)+(f-g)*(f-g)+(d-c)*(d-c));return Math.abs(w)<.001&&(w=1),this.x=(v-y)/w,this.y=(f-g)/w,this.z=(d-c)/w,this.w=Math.acos((u+m+x-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class os extends La{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new yn(0,0,e,t),this.scissorTest=!1,this.viewport=new yn(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new ar(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Ln,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Zc(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ig extends ar{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=hr,this.minFilter=hr,this.wrapR=ti,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class wse extends os{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Ig(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class xw extends ar{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=hr,this.minFilter=hr,this.wrapR=ti,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class _se extends os{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new xw(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class Ase extends os{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class si{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],u=r[i+1],c=r[i+2],f=r[i+3];const d=s[o+0],m=s[o+1],y=s[o+2],g=s[o+3];if(a===0){e[t+0]=l,e[t+1]=u,e[t+2]=c,e[t+3]=f;return}if(a===1){e[t+0]=d,e[t+1]=m,e[t+2]=y,e[t+3]=g;return}if(f!==g||l!==d||u!==m||c!==y){let v=1-a;const x=l*d+u*m+c*y+f*g,w=x>=0?1:-1,b=1-x*x;if(b>Number.EPSILON){const M=Math.sqrt(b),I=Math.atan2(M,x*w);v=Math.sin(v*I)/M,a=Math.sin(a*I)/M}const A=a*w;if(l=l*v+d*A,u=u*v+m*A,c=c*v+y*A,f=f*v+g*A,v===1-a){const M=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=M,u*=M,c*=M,f*=M}}e[t]=l,e[t+1]=u,e[t+2]=c,e[t+3]=f}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],c=r[i+3],f=s[o],d=s[o+1],m=s[o+2],y=s[o+3];return e[t]=a*y+c*f+l*m-u*d,e[t+1]=l*y+c*d+u*f-a*m,e[t+2]=u*y+c*m+a*d-l*f,e[t+3]=c*y-a*f-l*d-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),c=a(i/2),f=a(s/2),d=l(r/2),m=l(i/2),y=l(s/2);switch(o){case"XYZ":this._x=d*c*f+u*m*y,this._y=u*m*f-d*c*y,this._z=u*c*y+d*m*f,this._w=u*c*f-d*m*y;break;case"YXZ":this._x=d*c*f+u*m*y,this._y=u*m*f-d*c*y,this._z=u*c*y-d*m*f,this._w=u*c*f+d*m*y;break;case"ZXY":this._x=d*c*f-u*m*y,this._y=u*m*f+d*c*y,this._z=u*c*y+d*m*f,this._w=u*c*f-d*m*y;break;case"ZYX":this._x=d*c*f-u*m*y,this._y=u*m*f+d*c*y,this._z=u*c*y-d*m*f,this._w=u*c*f+d*m*y;break;case"YZX":this._x=d*c*f+u*m*y,this._y=u*m*f+d*c*y,this._z=u*c*y-d*m*f,this._w=u*c*f-d*m*y;break;case"XZY":this._x=d*c*f-u*m*y,this._y=u*m*f-d*c*y,this._z=u*c*y+d*m*f,this._w=u*c*f+d*m*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],u=t[2],c=t[6],f=t[10],d=r+a+f;if(d>0){const m=.5/Math.sqrt(d+1);this._w=.25/m,this._x=(c-l)*m,this._y=(s-u)*m,this._z=(o-i)*m}else if(r>a&&r>f){const m=2*Math.sqrt(1+r-a-f);this._w=(c-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+u)/m}else if(a>f){const m=2*Math.sqrt(1+a-r-f);this._w=(s-u)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+c)/m}else{const m=2*Math.sqrt(1+f-r-a);this._w=(o-i)/m,this._x=(s+u)/m,this._y=(l+c)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(pr(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,u=t._z,c=t._w;return this._x=r*c+o*a+i*u-s*l,this._y=i*c+o*l+s*a-r*u,this._z=s*c+o*u+r*l-i*a,this._w=o*c-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),c=Math.atan2(u,a),f=Math.sin((1-t)*c)/u,d=Math.sin(t*c)/u;return this._w=o*f+this._w*d,this._x=r*f+this._x*d,this._y=i*f+this._y*d,this._z=s*f+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Y{constructor(e=0,t=0,r=0){Y.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(GI.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(GI.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*t+o*i-a*r,c=l*r+a*t-s*i,f=l*i+s*r-o*t,d=-s*t-o*r-a*i;return this.x=u*l+d*-s+c*-a-f*-o,this.y=c*l+d*-o+f*-s-u*-a,this.z=f*l+d*-a+u*-o-c*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return r3.copy(this).projectOnVector(e),this.sub(r3)}reflect(e){return this.sub(r3.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(pr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const r3=new Y,GI=new si;class Ul{constructor(e=new Y(1/0,1/0,1/0),t=new Y(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.length;l<u;l+=3){const c=e[l],f=e[l+1],d=e[l+2];c<t&&(t=c),f<r&&(r=f),d<i&&(i=d),c>s&&(s=c),f>o&&(o=f),d>a&&(a=d)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.count;l<u;l++){const c=e.getX(l),f=e.getY(l),d=e.getZ(l);c<t&&(t=c),f<r&&(r=f),d<i&&(i=d),c>s&&(s=c),f>o&&(o=f),d>a&&(a=d)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Sc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)Sc.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Sc)}else r.boundingBox===null&&r.computeBoundingBox(),i3.copy(r.boundingBox),i3.applyMatrix4(e.matrixWorld),this.union(i3);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Sc),Sc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(s0),Oy.subVectors(this.max,s0),fd.subVectors(e.a,s0),dd.subVectors(e.b,s0),hd.subVectors(e.c,s0),nu.subVectors(dd,fd),ru.subVectors(hd,dd),Ec.subVectors(fd,hd);let t=[0,-nu.z,nu.y,0,-ru.z,ru.y,0,-Ec.z,Ec.y,nu.z,0,-nu.x,ru.z,0,-ru.x,Ec.z,0,-Ec.x,-nu.y,nu.x,0,-ru.y,ru.x,0,-Ec.y,Ec.x,0];return!s3(t,fd,dd,hd,Oy)||(t=[1,0,0,0,1,0,0,0,1],!s3(t,fd,dd,hd,Oy))?!1:(Fy.crossVectors(nu,ru),t=[Fy.x,Fy.y,Fy.z],s3(t,fd,dd,hd,Oy))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Sc.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Sc).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ka[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ka[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ka[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ka[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ka[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ka[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ka[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ka[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ka),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ka=[new Y,new Y,new Y,new Y,new Y,new Y,new Y,new Y],Sc=new Y,i3=new Ul,fd=new Y,dd=new Y,hd=new Y,nu=new Y,ru=new Y,Ec=new Y,s0=new Y,Oy=new Y,Fy=new Y,Cc=new Y;function s3(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){Cc.fromArray(n,s);const a=i.x*Math.abs(Cc.x)+i.y*Math.abs(Cc.y)+i.z*Math.abs(Cc.z),l=e.dot(Cc),u=t.dot(Cc),c=r.dot(Cc);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>a)return!1}return!0}const Sse=new Ul,o0=new Y,o3=new Y;class zl{constructor(e=new Y,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):Sse.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;o0.subVectors(e,this.center);const t=o0.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(o0,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(o3.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(o0.copy(e.center).add(o3)),this.expandByPoint(o0.copy(e.center).sub(o3))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ja=new Y,a3=new Y,Uy=new Y,iu=new Y,l3=new Y,zy=new Y,u3=new Y;class Rg{constructor(e=new Y,t=new Y(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ja)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ja.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ja.copy(this.direction).multiplyScalar(t).add(this.origin),Ja.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){a3.copy(e).add(t).multiplyScalar(.5),Uy.copy(t).sub(e).normalize(),iu.copy(this.origin).sub(a3);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Uy),a=iu.dot(this.direction),l=-iu.dot(Uy),u=iu.lengthSq(),c=Math.abs(1-o*o);let f,d,m,y;if(c>0)if(f=o*l-a,d=o*a-l,y=s*c,f>=0)if(d>=-y)if(d<=y){const g=1/c;f*=g,d*=g,m=f*(f+o*d+2*a)+d*(o*f+d+2*l)+u}else d=s,f=Math.max(0,-(o*d+a)),m=-f*f+d*(d+2*l)+u;else d=-s,f=Math.max(0,-(o*d+a)),m=-f*f+d*(d+2*l)+u;else d<=-y?(f=Math.max(0,-(-o*s+a)),d=f>0?-s:Math.min(Math.max(-s,-l),s),m=-f*f+d*(d+2*l)+u):d<=y?(f=0,d=Math.min(Math.max(-s,-l),s),m=d*(d+2*l)+u):(f=Math.max(0,-(o*s+a)),d=f>0?s:Math.min(Math.max(-s,-l),s),m=-f*f+d*(d+2*l)+u);else d=o>0?-s:s,f=Math.max(0,-(o*d+a)),m=-f*f+d*(d+2*l)+u;return r&&r.copy(this.direction).multiplyScalar(f).add(this.origin),i&&i.copy(Uy).multiplyScalar(d).add(a3),m}intersectSphere(e,t){Ja.subVectors(e.center,this.origin);const r=Ja.dot(this.direction),i=Ja.dot(Ja)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,d=this.origin;return u>=0?(r=(e.min.x-d.x)*u,i=(e.max.x-d.x)*u):(r=(e.max.x-d.x)*u,i=(e.min.x-d.x)*u),c>=0?(s=(e.min.y-d.y)*c,o=(e.max.y-d.y)*c):(s=(e.max.y-d.y)*c,o=(e.min.y-d.y)*c),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-d.z)*f,l=(e.max.z-d.z)*f):(a=(e.max.z-d.z)*f,l=(e.min.z-d.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Ja)!==null}intersectTriangle(e,t,r,i,s){l3.subVectors(t,e),zy.subVectors(r,e),u3.crossVectors(l3,zy);let o=this.direction.dot(u3),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;iu.subVectors(this.origin,e);const l=a*this.direction.dot(zy.crossVectors(iu,zy));if(l<0)return null;const u=a*this.direction.dot(l3.cross(iu));if(u<0||l+u>o)return null;const c=-a*iu.dot(u3);return c<0?null:this.at(c/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Bt{constructor(){Bt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,i,s,o,a,l,u,c,f,d,m,y,g,v){const x=this.elements;return x[0]=e,x[4]=t,x[8]=r,x[12]=i,x[1]=s,x[5]=o,x[9]=a,x[13]=l,x[2]=u,x[6]=c,x[10]=f,x[14]=d,x[3]=m,x[7]=y,x[11]=g,x[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Bt().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/pd.setFromMatrixColumn(e,0).length(),s=1/pd.setFromMatrixColumn(e,1).length(),o=1/pd.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const d=o*c,m=o*f,y=a*c,g=a*f;t[0]=l*c,t[4]=-l*f,t[8]=u,t[1]=m+y*u,t[5]=d-g*u,t[9]=-a*l,t[2]=g-d*u,t[6]=y+m*u,t[10]=o*l}else if(e.order==="YXZ"){const d=l*c,m=l*f,y=u*c,g=u*f;t[0]=d+g*a,t[4]=y*a-m,t[8]=o*u,t[1]=o*f,t[5]=o*c,t[9]=-a,t[2]=m*a-y,t[6]=g+d*a,t[10]=o*l}else if(e.order==="ZXY"){const d=l*c,m=l*f,y=u*c,g=u*f;t[0]=d-g*a,t[4]=-o*f,t[8]=y+m*a,t[1]=m+y*a,t[5]=o*c,t[9]=g-d*a,t[2]=-o*u,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const d=o*c,m=o*f,y=a*c,g=a*f;t[0]=l*c,t[4]=y*u-m,t[8]=d*u+g,t[1]=l*f,t[5]=g*u+d,t[9]=m*u-y,t[2]=-u,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const d=o*l,m=o*u,y=a*l,g=a*u;t[0]=l*c,t[4]=g-d*f,t[8]=y*f+m,t[1]=f,t[5]=o*c,t[9]=-a*c,t[2]=-u*c,t[6]=m*f+y,t[10]=d-g*f}else if(e.order==="XZY"){const d=o*l,m=o*u,y=a*l,g=a*u;t[0]=l*c,t[4]=-f,t[8]=u*c,t[1]=d*f+g,t[5]=o*c,t[9]=m*f-y,t[2]=y*f-m,t[6]=a*c,t[10]=g*f+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Ese,e,Cse)}lookAt(e,t,r){const i=this.elements;return ms.subVectors(e,t),ms.lengthSq()===0&&(ms.z=1),ms.normalize(),su.crossVectors(r,ms),su.lengthSq()===0&&(Math.abs(r.z)===1?ms.x+=1e-4:ms.z+=1e-4,ms.normalize(),su.crossVectors(r,ms)),su.normalize(),Gy.crossVectors(ms,su),i[0]=su.x,i[4]=Gy.x,i[8]=ms.x,i[1]=su.y,i[5]=Gy.y,i[9]=ms.y,i[2]=su.z,i[6]=Gy.z,i[10]=ms.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],c=r[1],f=r[5],d=r[9],m=r[13],y=r[2],g=r[6],v=r[10],x=r[14],w=r[3],b=r[7],A=r[11],M=r[15],I=i[0],D=i[4],P=i[8],O=i[12],V=i[1],q=i[5],ne=i[9],H=i[13],_=i[2],T=i[6],k=i[10],U=i[14],L=i[3],F=i[7],z=i[11],B=i[15];return s[0]=o*I+a*V+l*_+u*L,s[4]=o*D+a*q+l*T+u*F,s[8]=o*P+a*ne+l*k+u*z,s[12]=o*O+a*H+l*U+u*B,s[1]=c*I+f*V+d*_+m*L,s[5]=c*D+f*q+d*T+m*F,s[9]=c*P+f*ne+d*k+m*z,s[13]=c*O+f*H+d*U+m*B,s[2]=y*I+g*V+v*_+x*L,s[6]=y*D+g*q+v*T+x*F,s[10]=y*P+g*ne+v*k+x*z,s[14]=y*O+g*H+v*U+x*B,s[3]=w*I+b*V+A*_+M*L,s[7]=w*D+b*q+A*T+M*F,s[11]=w*P+b*ne+A*k+M*z,s[15]=w*O+b*H+A*U+M*B,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],c=e[2],f=e[6],d=e[10],m=e[14],y=e[3],g=e[7],v=e[11],x=e[15];return y*(+s*l*f-i*u*f-s*a*d+r*u*d+i*a*m-r*l*m)+g*(+t*l*m-t*u*d+s*o*d-i*o*m+i*u*c-s*l*c)+v*(+t*u*f-t*a*m-s*o*f+r*o*m+s*a*c-r*u*c)+x*(-i*a*c-t*l*f+t*a*d+i*o*f-r*o*d+r*l*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=e[9],d=e[10],m=e[11],y=e[12],g=e[13],v=e[14],x=e[15],w=f*v*u-g*d*u+g*l*m-a*v*m-f*l*x+a*d*x,b=y*d*u-c*v*u-y*l*m+o*v*m+c*l*x-o*d*x,A=c*g*u-y*f*u+y*a*m-o*g*m-c*a*x+o*f*x,M=y*f*l-c*g*l-y*a*d+o*g*d+c*a*v-o*f*v,I=t*w+r*b+i*A+s*M;if(I===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const D=1/I;return e[0]=w*D,e[1]=(g*d*s-f*v*s-g*i*m+r*v*m+f*i*x-r*d*x)*D,e[2]=(a*v*s-g*l*s+g*i*u-r*v*u-a*i*x+r*l*x)*D,e[3]=(f*l*s-a*d*s-f*i*u+r*d*u+a*i*m-r*l*m)*D,e[4]=b*D,e[5]=(c*v*s-y*d*s+y*i*m-t*v*m-c*i*x+t*d*x)*D,e[6]=(y*l*s-o*v*s-y*i*u+t*v*u+o*i*x-t*l*x)*D,e[7]=(o*d*s-c*l*s+c*i*u-t*d*u-o*i*m+t*l*m)*D,e[8]=A*D,e[9]=(y*f*s-c*g*s-y*r*m+t*g*m+c*r*x-t*f*x)*D,e[10]=(o*g*s-y*a*s+y*r*u-t*g*u-o*r*x+t*a*x)*D,e[11]=(c*a*s-o*f*s-c*r*u+t*f*u+o*r*m-t*a*m)*D,e[12]=M*D,e[13]=(c*g*i-y*f*i+y*r*d-t*g*d-c*r*v+t*f*v)*D,e[14]=(y*a*i-o*g*i-y*r*l+t*g*l+o*r*v-t*a*v)*D,e[15]=(o*f*i-c*a*i+c*r*l-t*f*l-o*r*d+t*a*d)*D,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,c=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,c*a+r,c*l-i*o,0,u*l-i*a,c*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,u=s+s,c=o+o,f=a+a,d=s*u,m=s*c,y=s*f,g=o*c,v=o*f,x=a*f,w=l*u,b=l*c,A=l*f,M=r.x,I=r.y,D=r.z;return i[0]=(1-(g+x))*M,i[1]=(m+A)*M,i[2]=(y-b)*M,i[3]=0,i[4]=(m-A)*I,i[5]=(1-(d+x))*I,i[6]=(v+w)*I,i[7]=0,i[8]=(y+b)*D,i[9]=(v-w)*D,i[10]=(1-(d+g))*D,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=pd.set(i[0],i[1],i[2]).length();const o=pd.set(i[4],i[5],i[6]).length(),a=pd.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],_o.copy(this);const u=1/s,c=1/o,f=1/a;return _o.elements[0]*=u,_o.elements[1]*=u,_o.elements[2]*=u,_o.elements[4]*=c,_o.elements[5]*=c,_o.elements[6]*=c,_o.elements[8]*=f,_o.elements[9]*=f,_o.elements[10]*=f,t.setFromRotationMatrix(_o),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){const a=this.elements,l=2*s/(t-e),u=2*s/(r-i),c=(t+e)/(t-e),f=(r+i)/(r-i),d=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=f,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),u=1/(r-i),c=1/(o-s),f=(t+e)*l,d=(r+i)*u,m=(o+s)*c;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-f,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const pd=new Y,_o=new Bt,Ese=new Y(0,0,0),Cse=new Y(1,1,1),su=new Y,Gy=new Y,ms=new Y,HI=new Bt,jI=new si;class fp{constructor(e=0,t=0,r=0,i=fp.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],c=i[9],f=i[2],d=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(pr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,u),this._z=0);break;case"YXZ":this._x=Math.asin(-pr(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(pr(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-pr(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(pr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-pr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-c,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return HI.makeRotationFromQuaternion(e),this.setFromRotationMatrix(HI,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return jI.setFromEuler(this),this.setFromQuaternion(jI,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}fp.DefaultOrder="XYZ";fp.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class pf{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Mse=0;const VI=new Y,md=new si,$a=new Bt,Hy=new Y,a0=new Y,Tse=new Y,Pse=new si,WI=new Y(1,0,0),qI=new Y(0,1,0),KI=new Y(0,0,1),Ise={type:"added"},JI={type:"removed"};class un extends La{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Mse++}),this.uuid=Cs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=un.DefaultUp.clone();const e=new Y,t=new fp,r=new si,i=new Y(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Bt},normalMatrix:{value:new ns}}),this.matrix=new Bt,this.matrixWorld=new Bt,this.matrixAutoUpdate=un.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=un.DefaultMatrixWorldAutoUpdate,this.layers=new pf,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return md.setFromAxisAngle(e,t),this.quaternion.multiply(md),this}rotateOnWorldAxis(e,t){return md.setFromAxisAngle(e,t),this.quaternion.premultiply(md),this}rotateX(e){return this.rotateOnAxis(WI,e)}rotateY(e){return this.rotateOnAxis(qI,e)}rotateZ(e){return this.rotateOnAxis(KI,e)}translateOnAxis(e,t){return VI.copy(e).applyQuaternion(this.quaternion),this.position.add(VI.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(WI,e)}translateY(e){return this.translateOnAxis(qI,e)}translateZ(e){return this.translateOnAxis(KI,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4($a.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?Hy.copy(e):Hy.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),a0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?$a.lookAt(a0,Hy,this.up):$a.lookAt(Hy,a0,this.up),this.quaternion.setFromRotationMatrix($a),i&&($a.extractRotation(i.matrixWorld),md.setFromRotationMatrix($a),this.quaternion.premultiply(md.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Ise)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(JI)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(JI)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),$a.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),$a.multiply(e.parent.matrixWorld)),e.applyMatrix4($a),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(a0,e,Tse),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(a0,Pse,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),c=o(e.images),f=o(e.shapes),d=o(e.skeletons),m=o(e.animations),y=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),f.length>0&&(r.shapes=f),d.length>0&&(r.skeletons=d),m.length>0&&(r.animations=m),y.length>0&&(r.nodes=y)}return r.object=i,r;function o(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}un.DefaultUp=new Y(0,1,0);un.DefaultMatrixAutoUpdate=!0;un.DefaultMatrixWorldAutoUpdate=!0;const Ao=new Y,Xa=new Y,c3=new Y,Ya=new Y,gd=new Y,vd=new Y,$I=new Y,f3=new Y,d3=new Y,h3=new Y;class ro{constructor(e=new Y,t=new Y,r=new Y){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Ao.subVectors(e,t),i.cross(Ao);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){Ao.subVectors(i,t),Xa.subVectors(r,t),c3.subVectors(e,t);const o=Ao.dot(Ao),a=Ao.dot(Xa),l=Ao.dot(c3),u=Xa.dot(Xa),c=Xa.dot(c3),f=o*u-a*a;if(f===0)return s.set(-2,-1,-1);const d=1/f,m=(u*l-a*c)*d,y=(o*c-a*l)*d;return s.set(1-m-y,y,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Ya),Ya.x>=0&&Ya.y>=0&&Ya.x+Ya.y<=1}static getUV(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,Ya),l.set(0,0),l.addScaledVector(s,Ya.x),l.addScaledVector(o,Ya.y),l.addScaledVector(a,Ya.z),l}static isFrontFacing(e,t,r,i){return Ao.subVectors(r,t),Xa.subVectors(e,t),Ao.cross(Xa).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ao.subVectors(this.c,this.b),Xa.subVectors(this.a,this.b),Ao.cross(Xa).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ro.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ro.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return ro.getUV(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return ro.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ro.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;gd.subVectors(i,r),vd.subVectors(s,r),f3.subVectors(e,r);const l=gd.dot(f3),u=vd.dot(f3);if(l<=0&&u<=0)return t.copy(r);d3.subVectors(e,i);const c=gd.dot(d3),f=vd.dot(d3);if(c>=0&&f<=c)return t.copy(i);const d=l*f-c*u;if(d<=0&&l>=0&&c<=0)return o=l/(l-c),t.copy(r).addScaledVector(gd,o);h3.subVectors(e,s);const m=gd.dot(h3),y=vd.dot(h3);if(y>=0&&m<=y)return t.copy(s);const g=m*u-l*y;if(g<=0&&u>=0&&y<=0)return a=u/(u-y),t.copy(r).addScaledVector(vd,a);const v=c*y-m*f;if(v<=0&&f-c>=0&&m-y>=0)return $I.subVectors(s,i),a=(f-c)/(f-c+(m-y)),t.copy(i).addScaledVector($I,a);const x=1/(v+g+d);return o=g*x,a=d*x,t.copy(r).addScaledVector(gd,o).addScaledVector(vd,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Rse=0;class Cr extends La{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Rse++}),this.uuid=Cs(),this.name="",this.type="Material",this.blending=cf,this.side=qu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=H6,this.blendDst=j6,this.blendEquation=Gc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=hb,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=pF,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=g1,this.stencilZFail=g1,this.stencilZPass=g1,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==cf&&(r.blending=this.blending),this.side!==qu&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class As extends Cr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Pg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const br=new Y,jy=new Fe;class gn{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=Jm,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)jy.fromBufferAttribute(this,t),jy.applyMatrix3(e),this.setXY(t,jy.x,jy.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)br.fromBufferAttribute(this,t),br.applyMatrix3(e),this.setXYZ(t,br.x,br.y,br.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)br.fromBufferAttribute(this,t),br.applyMatrix4(e),this.setXYZ(t,br.x,br.y,br.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)br.fromBufferAttribute(this,t),br.applyNormalMatrix(e),this.setXYZ(t,br.x,br.y,br.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)br.fromBufferAttribute(this,t),br.transformDirection(e),this.setXYZ(t,br.x,br.y,br.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=fl(t,this.array)),t}setX(e,t){return this.normalized&&(t=Tn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=fl(t,this.array)),t}setY(e,t){return this.normalized&&(t=Tn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=fl(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Tn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=fl(t,this.array)),t}setW(e,t){return this.normalized&&(t=Tn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Tn(t,this.array),r=Tn(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Tn(t,this.array),r=Tn(r,this.array),i=Tn(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=Tn(t,this.array),r=Tn(r,this.array),i=Tn(i,this.array),s=Tn(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Jm&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Bse extends gn{constructor(e,t,r){super(new Int8Array(e),t,r)}}class kse extends gn{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class Nse extends gn{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class Lse extends gn{constructor(e,t,r){super(new Int16Array(e),t,r)}}class X6 extends gn{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class Dse extends gn{constructor(e,t,r){super(new Int32Array(e),t,r)}}class Y6 extends gn{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class Ose extends gn{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}}class pt extends gn{constructor(e,t,r){super(new Float32Array(e),t,r)}}class Fse extends gn{constructor(e,t,r){super(new Float64Array(e),t,r)}}let Use=0;const Js=new Bt,p3=new un,yd=new Y,gs=new Ul,l0=new Ul,jr=new Y;class Ut extends La{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Use++}),this.uuid=Cs(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(vF(e)?Y6:X6)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new ns().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Js.makeRotationFromQuaternion(e),this.applyMatrix4(Js),this}rotateX(e){return Js.makeRotationX(e),this.applyMatrix4(Js),this}rotateY(e){return Js.makeRotationY(e),this.applyMatrix4(Js),this}rotateZ(e){return Js.makeRotationZ(e),this.applyMatrix4(Js),this}translate(e,t,r){return Js.makeTranslation(e,t,r),this.applyMatrix4(Js),this}scale(e,t,r){return Js.makeScale(e,t,r),this.applyMatrix4(Js),this}lookAt(e){return p3.lookAt(e),p3.updateMatrix(),this.applyMatrix4(p3.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(yd).negate(),this.translate(yd.x,yd.y,yd.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new pt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ul);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Y(-1/0,-1/0,-1/0),new Y(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];gs.setFromBufferAttribute(s),this.morphTargetsRelative?(jr.addVectors(this.boundingBox.min,gs.min),this.boundingBox.expandByPoint(jr),jr.addVectors(this.boundingBox.max,gs.max),this.boundingBox.expandByPoint(jr)):(this.boundingBox.expandByPoint(gs.min),this.boundingBox.expandByPoint(gs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new zl);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Y,1/0);return}if(e){const r=this.boundingSphere.center;if(gs.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];l0.setFromBufferAttribute(a),this.morphTargetsRelative?(jr.addVectors(gs.min,l0.min),gs.expandByPoint(jr),jr.addVectors(gs.max,l0.max),gs.expandByPoint(jr)):(gs.expandByPoint(l0.min),gs.expandByPoint(l0.max))}gs.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)jr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(jr));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let u=0,c=a.count;u<c;u++)jr.fromBufferAttribute(a,u),l&&(yd.fromBufferAttribute(e,u),jr.add(yd)),i=Math.max(i,r.distanceToSquared(jr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new gn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],c=[];for(let V=0;V<a;V++)u[V]=new Y,c[V]=new Y;const f=new Y,d=new Y,m=new Y,y=new Fe,g=new Fe,v=new Fe,x=new Y,w=new Y;function b(V,q,ne){f.fromArray(i,V*3),d.fromArray(i,q*3),m.fromArray(i,ne*3),y.fromArray(o,V*2),g.fromArray(o,q*2),v.fromArray(o,ne*2),d.sub(f),m.sub(f),g.sub(y),v.sub(y);const H=1/(g.x*v.y-v.x*g.y);!isFinite(H)||(x.copy(d).multiplyScalar(v.y).addScaledVector(m,-g.y).multiplyScalar(H),w.copy(m).multiplyScalar(g.x).addScaledVector(d,-v.x).multiplyScalar(H),u[V].add(x),u[q].add(x),u[ne].add(x),c[V].add(w),c[q].add(w),c[ne].add(w))}let A=this.groups;A.length===0&&(A=[{start:0,count:r.length}]);for(let V=0,q=A.length;V<q;++V){const ne=A[V],H=ne.start,_=ne.count;for(let T=H,k=H+_;T<k;T+=3)b(r[T+0],r[T+1],r[T+2])}const M=new Y,I=new Y,D=new Y,P=new Y;function O(V){D.fromArray(s,V*3),P.copy(D);const q=u[V];M.copy(q),M.sub(D.multiplyScalar(D.dot(q))).normalize(),I.crossVectors(P,q);const H=I.dot(c[V])<0?-1:1;l[V*4]=M.x,l[V*4+1]=M.y,l[V*4+2]=M.z,l[V*4+3]=H}for(let V=0,q=A.length;V<q;++V){const ne=A[V],H=ne.start,_=ne.count;for(let T=H,k=H+_;T<k;T+=3)O(r[T+0]),O(r[T+1]),O(r[T+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new gn(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let d=0,m=r.count;d<m;d++)r.setXYZ(d,0,0,0);const i=new Y,s=new Y,o=new Y,a=new Y,l=new Y,u=new Y,c=new Y,f=new Y;if(e)for(let d=0,m=e.count;d<m;d+=3){const y=e.getX(d+0),g=e.getX(d+1),v=e.getX(d+2);i.fromBufferAttribute(t,y),s.fromBufferAttribute(t,g),o.fromBufferAttribute(t,v),c.subVectors(o,s),f.subVectors(i,s),c.cross(f),a.fromBufferAttribute(r,y),l.fromBufferAttribute(r,g),u.fromBufferAttribute(r,v),a.add(c),l.add(c),u.add(c),r.setXYZ(y,a.x,a.y,a.z),r.setXYZ(g,l.x,l.y,l.z),r.setXYZ(v,u.x,u.y,u.z)}else for(let d=0,m=t.count;d<m;d+=3)i.fromBufferAttribute(t,d+0),s.fromBufferAttribute(t,d+1),o.fromBufferAttribute(t,d+2),c.subVectors(o,s),f.subVectors(i,s),c.cross(f),r.setXYZ(d+0,c.x,c.y,c.z),r.setXYZ(d+1,c.x,c.y,c.z),r.setXYZ(d+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)jr.fromBufferAttribute(e,t),jr.normalize(),e.setXYZ(t,jr.x,jr.y,jr.z)}toNonIndexed(){function e(a,l){const u=a.array,c=a.itemSize,f=a.normalized,d=new u.constructor(l.length*c);let m=0,y=0;for(let g=0,v=l.length;g<v;g++){a.isInterleavedBufferAttribute?m=l[g]*a.data.stride+a.offset:m=l[g]*c;for(let x=0;x<c;x++)d[y++]=u[m++]}return new gn(d,c,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Ut,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);t.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let c=0,f=u.length;c<f;c++){const d=u[c],m=e(d,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,d=u.length;f<d;f++){const m=u[f];c.push(m.toJSON(e.data))}c.length>0&&(i[l]=c,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(t))}const s=e.morphAttributes;for(const u in s){const c=[],f=s[u];for(let d=0,m=f.length;d<m;d++)c.push(f[d].clone(t));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,c=o.length;u<c;u++){const f=o[u];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const XI=new Bt,xd=new Rg,m3=new zl,ou=new Y,au=new Y,lu=new Y,g3=new Y,v3=new Y,y3=new Y,Vy=new Y,Wy=new Y,qy=new Y,Ky=new Fe,Jy=new Fe,$y=new Fe,x3=new Y,Xy=new Y;class Er extends un{constructor(e=new Ut,t=new As){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),m3.copy(r.boundingSphere),m3.applyMatrix4(s),e.ray.intersectsSphere(m3)===!1)||(XI.copy(s).invert(),xd.copy(e.ray).applyMatrix4(XI),r.boundingBox!==null&&xd.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,u=r.morphAttributes.position,c=r.morphTargetsRelative,f=r.attributes.uv,d=r.attributes.uv2,m=r.groups,y=r.drawRange;if(a!==null)if(Array.isArray(i))for(let g=0,v=m.length;g<v;g++){const x=m[g],w=i[x.materialIndex],b=Math.max(x.start,y.start),A=Math.min(a.count,Math.min(x.start+x.count,y.start+y.count));for(let M=b,I=A;M<I;M+=3){const D=a.getX(M),P=a.getX(M+1),O=a.getX(M+2);o=Yy(this,w,e,xd,l,u,c,f,d,D,P,O),o&&(o.faceIndex=Math.floor(M/3),o.face.materialIndex=x.materialIndex,t.push(o))}}else{const g=Math.max(0,y.start),v=Math.min(a.count,y.start+y.count);for(let x=g,w=v;x<w;x+=3){const b=a.getX(x),A=a.getX(x+1),M=a.getX(x+2);o=Yy(this,i,e,xd,l,u,c,f,d,b,A,M),o&&(o.faceIndex=Math.floor(x/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let g=0,v=m.length;g<v;g++){const x=m[g],w=i[x.materialIndex],b=Math.max(x.start,y.start),A=Math.min(l.count,Math.min(x.start+x.count,y.start+y.count));for(let M=b,I=A;M<I;M+=3){const D=M,P=M+1,O=M+2;o=Yy(this,w,e,xd,l,u,c,f,d,D,P,O),o&&(o.faceIndex=Math.floor(M/3),o.face.materialIndex=x.materialIndex,t.push(o))}}else{const g=Math.max(0,y.start),v=Math.min(l.count,y.start+y.count);for(let x=g,w=v;x<w;x+=3){const b=x,A=x+1,M=x+2;o=Yy(this,i,e,xd,l,u,c,f,d,b,A,M),o&&(o.faceIndex=Math.floor(x/3),t.push(o))}}}}function zse(n,e,t,r,i,s,o,a){let l;if(e.side===Es?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side!==Fo,a),l===null)return null;Xy.copy(a),Xy.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(Xy);return u<t.near||u>t.far?null:{distance:u,point:Xy.clone(),object:n}}function Yy(n,e,t,r,i,s,o,a,l,u,c,f){ou.fromBufferAttribute(i,u),au.fromBufferAttribute(i,c),lu.fromBufferAttribute(i,f);const d=n.morphTargetInfluences;if(s&&d){Vy.set(0,0,0),Wy.set(0,0,0),qy.set(0,0,0);for(let y=0,g=s.length;y<g;y++){const v=d[y],x=s[y];v!==0&&(g3.fromBufferAttribute(x,u),v3.fromBufferAttribute(x,c),y3.fromBufferAttribute(x,f),o?(Vy.addScaledVector(g3,v),Wy.addScaledVector(v3,v),qy.addScaledVector(y3,v)):(Vy.addScaledVector(g3.sub(ou),v),Wy.addScaledVector(v3.sub(au),v),qy.addScaledVector(y3.sub(lu),v)))}ou.add(Vy),au.add(Wy),lu.add(qy)}n.isSkinnedMesh&&(n.boneTransform(u,ou),n.boneTransform(c,au),n.boneTransform(f,lu));const m=zse(n,e,t,r,ou,au,lu,x3);if(m){a&&(Ky.fromBufferAttribute(a,u),Jy.fromBufferAttribute(a,c),$y.fromBufferAttribute(a,f),m.uv=ro.getUV(x3,ou,au,lu,Ky,Jy,$y,new Fe)),l&&(Ky.fromBufferAttribute(l,u),Jy.fromBufferAttribute(l,c),$y.fromBufferAttribute(l,f),m.uv2=ro.getUV(x3,ou,au,lu,Ky,Jy,$y,new Fe));const y={a:u,b:c,c:f,normal:new Y,materialIndex:0};ro.getNormal(ou,au,lu,y.normal),m.face=y}return m}class ic extends Ut{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],c=[],f=[];let d=0,m=0;y("z","y","x",-1,-1,r,t,e,o,s,0),y("z","y","x",1,-1,r,t,-e,o,s,1),y("x","z","y",1,1,e,r,t,i,o,2),y("x","z","y",1,-1,e,r,-t,i,o,3),y("x","y","z",1,-1,e,t,r,i,s,4),y("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new pt(u,3)),this.setAttribute("normal",new pt(c,3)),this.setAttribute("uv",new pt(f,2));function y(g,v,x,w,b,A,M,I,D,P,O){const V=A/D,q=M/P,ne=A/2,H=M/2,_=I/2,T=D+1,k=P+1;let U=0,L=0;const F=new Y;for(let z=0;z<k;z++){const B=z*q-H;for(let E=0;E<T;E++){const j=E*V-ne;F[g]=j*w,F[v]=B*b,F[x]=_,u.push(F.x,F.y,F.z),F[g]=0,F[v]=0,F[x]=I>0?1:-1,c.push(F.x,F.y,F.z),f.push(E/D),f.push(1-z/P),U+=1}}for(let z=0;z<P;z++)for(let B=0;B<D;B++){const E=d+B+T*z,j=d+B+T*(z+1),X=d+(B+1)+T*(z+1),N=d+(B+1)+T*z;l.push(E,j,N),l.push(j,X,N),L+=6}a.addGroup(m,L,O),m+=L,d+=U}}static fromJSON(e){return new ic(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Gh(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Bi(n){const e={};for(let t=0;t<n.length;t++){const r=Gh(n[t]);for(const i in r)e[i]=r[i]}return e}function Gse(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}const xF={clone:Gh,merge:Bi};var Hse=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,jse=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Is extends Cr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Hse,this.fragmentShader=jse,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Gh(e.uniforms),this.uniformsGroups=Gse(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class Bg extends un{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Bt,this.projectionMatrix=new Bt,this.projectionMatrixInverse=new Bt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Dn extends Bg{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=$m*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(df*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return $m*2*Math.atan(Math.tan(df*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(df*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const bd=90,wd=1;class bF extends un{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new Dn(bd,wd,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Y(1,0,0)),this.add(i);const s=new Dn(bd,wd,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new Y(-1,0,0)),this.add(s);const o=new Dn(bd,wd,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new Y(0,1,0)),this.add(o);const a=new Dn(bd,wd,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new Y(0,-1,0)),this.add(a);const l=new Dn(bd,wd,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new Y(0,0,1)),this.add(l);const u=new Dn(bd,wd,e,t);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new Y(0,0,-1)),this.add(u)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,u]=this.children,c=e.getRenderTarget(),f=e.toneMapping,d=e.xr.enabled;e.toneMapping=jo,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(t,u),e.setRenderTarget(c),e.toneMapping=f,e.xr.enabled=d,r.texture.needsPMREMUpdate=!0}}class kg extends ar{constructor(e,t,r,i,s,o,a,l,u,c){e=e!==void 0?e:[],t=t!==void 0?t:Cl,super(e,t,r,i,s,o,a,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Q6 extends os{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new kg(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Ln}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new ic(5,5,5),s=new Is({name:"CubemapFromEquirect",uniforms:Gh(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Es,blending:pl});s.uniforms.tEquirect.value=t;const o=new Er(i,s),a=t.minFilter;return t.minFilter===Ol&&(t.minFilter=Ln),new bF(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const b3=new Y,Vse=new Y,Wse=new ns;class vu{constructor(e=new Y(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=b3.subVectors(r,t).cross(Vse.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(b3),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||Wse.getNormalMatrix(e),i=this.coplanarPoint(b3).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _d=new zl,Qy=new Y;class bw{constructor(e=new vu,t=new vu,r=new vu,i=new vu,s=new vu,o=new vu){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],u=r[5],c=r[6],f=r[7],d=r[8],m=r[9],y=r[10],g=r[11],v=r[12],x=r[13],w=r[14],b=r[15];return t[0].setComponents(a-i,f-l,g-d,b-v).normalize(),t[1].setComponents(a+i,f+l,g+d,b+v).normalize(),t[2].setComponents(a+s,f+u,g+m,b+x).normalize(),t[3].setComponents(a-s,f-u,g-m,b-x).normalize(),t[4].setComponents(a-o,f-c,g-y,b-w).normalize(),t[5].setComponents(a+o,f+c,g+y,b+w).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),_d.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(_d)}intersectsSprite(e){return _d.center.set(0,0,0),_d.radius=.7071067811865476,_d.applyMatrix4(e.matrixWorld),this.intersectsSphere(_d)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(Qy.x=i.normal.x>0?e.max.x:e.min.x,Qy.y=i.normal.y>0?e.max.y:e.min.y,Qy.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Qy)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function wF(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function qse(n,e){const t=e.isWebGL2,r=new WeakMap;function i(u,c){const f=u.array,d=u.usage,m=n.createBuffer();n.bindBuffer(c,m),n.bufferData(c,f,d),u.onUploadCallback();let y;if(f instanceof Float32Array)y=5126;else if(f instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(t)y=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=5123;else if(f instanceof Int16Array)y=5122;else if(f instanceof Uint32Array)y=5125;else if(f instanceof Int32Array)y=5124;else if(f instanceof Int8Array)y=5120;else if(f instanceof Uint8Array)y=5121;else if(f instanceof Uint8ClampedArray)y=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:m,type:y,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version}}function s(u,c,f){const d=c.array,m=c.updateRange;n.bindBuffer(f,u),m.count===-1?n.bufferSubData(f,0,d):(t?n.bufferSubData(f,m.offset*d.BYTES_PER_ELEMENT,d,m.offset,m.count):n.bufferSubData(f,m.offset*d.BYTES_PER_ELEMENT,d.subarray(m.offset,m.offset+m.count)),m.count=-1)}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=r.get(u);c&&(n.deleteBuffer(c.buffer),r.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const d=r.get(u);(!d||d.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const f=r.get(u);f===void 0?r.set(u,i(u,c)):f.version<u.version&&(s(f.buffer,u,c),f.version=u.version)}return{get:o,remove:a,update:l}}class Gf extends Ut{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),u=a+1,c=l+1,f=e/a,d=t/l,m=[],y=[],g=[],v=[];for(let x=0;x<c;x++){const w=x*d-o;for(let b=0;b<u;b++){const A=b*f-s;y.push(A,-w,0),g.push(0,0,1),v.push(b/a),v.push(1-x/l)}}for(let x=0;x<l;x++)for(let w=0;w<a;w++){const b=w+u*x,A=w+u*(x+1),M=w+1+u*(x+1),I=w+1+u*x;m.push(b,A,I),m.push(A,M,I)}this.setIndex(m),this.setAttribute("position",new pt(y,3)),this.setAttribute("normal",new pt(g,3)),this.setAttribute("uv",new pt(v,2))}static fromJSON(e){return new Gf(e.width,e.height,e.widthSegments,e.heightSegments)}}var Kse=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,Jse=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,$se=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Xse=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Yse=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Qse=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Zse="vec3 transformed = vec3( position );",eoe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,toe=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,noe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,roe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,ioe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,soe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,ooe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,aoe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,loe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,uoe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,coe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,foe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,doe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,hoe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,poe=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,moe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,goe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,voe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,yoe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,xoe="gl_FragColor = linearToOutputTexel( gl_FragColor );",boe=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,woe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,_oe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Aoe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Soe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Eoe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Coe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Moe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Toe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Poe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Ioe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Roe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Boe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,koe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Noe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert
#define Material_LightProbeLOD( material )	(0)`,Loe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Doe=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,Ooe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Foe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,Uoe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,zoe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,Goe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,Hoe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,joe=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Voe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Woe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,qoe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Koe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Joe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,$oe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Xoe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Yoe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Qoe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Zoe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,eae=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,tae=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,nae=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,rae=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,iae=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,sae=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,oae=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,aae=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,lae=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,uae=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,cae=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,fae=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,dae=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,hae=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,pae=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,mae=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,gae=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,vae=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,yae=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,xae=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,bae=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,wae=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,_ae=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Aae=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Sae=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Eae=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Cae=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,Mae=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Tae=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Pae=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Iae=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Rae=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Bae=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,kae=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Nae=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Lae=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Dae=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,Oae=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,Fae=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Uae=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,zae=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,Gae=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,Hae=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,jae=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,Vae=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Wae=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,qae=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Kae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Jae=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,$ae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Xae=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Yae=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Qae=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Zae=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,ele=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,tle=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,nle=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,rle=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ile=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,sle=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,ole=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ale=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,lle=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ule=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,cle=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fle=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,dle=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,hle=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ple=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mle=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,gle=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vle=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yle=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xle=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,ble=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,wle=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_le=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Ale=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Sle=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,jt={alphamap_fragment:Kse,alphamap_pars_fragment:Jse,alphatest_fragment:$se,alphatest_pars_fragment:Xse,aomap_fragment:Yse,aomap_pars_fragment:Qse,begin_vertex:Zse,beginnormal_vertex:eoe,bsdfs:toe,iridescence_fragment:noe,bumpmap_pars_fragment:roe,clipping_planes_fragment:ioe,clipping_planes_pars_fragment:soe,clipping_planes_pars_vertex:ooe,clipping_planes_vertex:aoe,color_fragment:loe,color_pars_fragment:uoe,color_pars_vertex:coe,color_vertex:foe,common:doe,cube_uv_reflection_fragment:hoe,defaultnormal_vertex:poe,displacementmap_pars_vertex:moe,displacementmap_vertex:goe,emissivemap_fragment:voe,emissivemap_pars_fragment:yoe,encodings_fragment:xoe,encodings_pars_fragment:boe,envmap_fragment:woe,envmap_common_pars_fragment:_oe,envmap_pars_fragment:Aoe,envmap_pars_vertex:Soe,envmap_physical_pars_fragment:Doe,envmap_vertex:Eoe,fog_vertex:Coe,fog_pars_vertex:Moe,fog_fragment:Toe,fog_pars_fragment:Poe,gradientmap_pars_fragment:Ioe,lightmap_fragment:Roe,lightmap_pars_fragment:Boe,lights_lambert_fragment:koe,lights_lambert_pars_fragment:Noe,lights_pars_begin:Loe,lights_toon_fragment:Ooe,lights_toon_pars_fragment:Foe,lights_phong_fragment:Uoe,lights_phong_pars_fragment:zoe,lights_physical_fragment:Goe,lights_physical_pars_fragment:Hoe,lights_fragment_begin:joe,lights_fragment_maps:Voe,lights_fragment_end:Woe,logdepthbuf_fragment:qoe,logdepthbuf_pars_fragment:Koe,logdepthbuf_pars_vertex:Joe,logdepthbuf_vertex:$oe,map_fragment:Xoe,map_pars_fragment:Yoe,map_particle_fragment:Qoe,map_particle_pars_fragment:Zoe,metalnessmap_fragment:eae,metalnessmap_pars_fragment:tae,morphcolor_vertex:nae,morphnormal_vertex:rae,morphtarget_pars_vertex:iae,morphtarget_vertex:sae,normal_fragment_begin:oae,normal_fragment_maps:aae,normal_pars_fragment:lae,normal_pars_vertex:uae,normal_vertex:cae,normalmap_pars_fragment:fae,clearcoat_normal_fragment_begin:dae,clearcoat_normal_fragment_maps:hae,clearcoat_pars_fragment:pae,iridescence_pars_fragment:mae,output_fragment:gae,packing:vae,premultiplied_alpha_fragment:yae,project_vertex:xae,dithering_fragment:bae,dithering_pars_fragment:wae,roughnessmap_fragment:_ae,roughnessmap_pars_fragment:Aae,shadowmap_pars_fragment:Sae,shadowmap_pars_vertex:Eae,shadowmap_vertex:Cae,shadowmask_pars_fragment:Mae,skinbase_vertex:Tae,skinning_pars_vertex:Pae,skinning_vertex:Iae,skinnormal_vertex:Rae,specularmap_fragment:Bae,specularmap_pars_fragment:kae,tonemapping_fragment:Nae,tonemapping_pars_fragment:Lae,transmission_fragment:Dae,transmission_pars_fragment:Oae,uv_pars_fragment:Fae,uv_pars_vertex:Uae,uv_vertex:zae,uv2_pars_fragment:Gae,uv2_pars_vertex:Hae,uv2_vertex:jae,worldpos_vertex:Vae,background_vert:Wae,background_frag:qae,backgroundCube_vert:Kae,backgroundCube_frag:Jae,cube_vert:$ae,cube_frag:Xae,depth_vert:Yae,depth_frag:Qae,distanceRGBA_vert:Zae,distanceRGBA_frag:ele,equirect_vert:tle,equirect_frag:nle,linedashed_vert:rle,linedashed_frag:ile,meshbasic_vert:sle,meshbasic_frag:ole,meshlambert_vert:ale,meshlambert_frag:lle,meshmatcap_vert:ule,meshmatcap_frag:cle,meshnormal_vert:fle,meshnormal_frag:dle,meshphong_vert:hle,meshphong_frag:ple,meshphysical_vert:mle,meshphysical_frag:gle,meshtoon_vert:vle,meshtoon_frag:yle,points_vert:xle,points_frag:ble,shadow_vert:wle,shadow_frag:_le,sprite_vert:Ale,sprite_frag:Sle},tt={common:{diffuse:{value:new et(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new ns},uv2Transform:{value:new ns},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Fe(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new et(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new et(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ns}},sprite:{diffuse:{value:new et(16777215)},opacity:{value:1},center:{value:new Fe(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ns}}},Ro={basic:{uniforms:Bi([tt.common,tt.specularmap,tt.envmap,tt.aomap,tt.lightmap,tt.fog]),vertexShader:jt.meshbasic_vert,fragmentShader:jt.meshbasic_frag},lambert:{uniforms:Bi([tt.common,tt.specularmap,tt.envmap,tt.aomap,tt.lightmap,tt.emissivemap,tt.bumpmap,tt.normalmap,tt.displacementmap,tt.fog,tt.lights,{emissive:{value:new et(0)}}]),vertexShader:jt.meshlambert_vert,fragmentShader:jt.meshlambert_frag},phong:{uniforms:Bi([tt.common,tt.specularmap,tt.envmap,tt.aomap,tt.lightmap,tt.emissivemap,tt.bumpmap,tt.normalmap,tt.displacementmap,tt.fog,tt.lights,{emissive:{value:new et(0)},specular:{value:new et(1118481)},shininess:{value:30}}]),vertexShader:jt.meshphong_vert,fragmentShader:jt.meshphong_frag},standard:{uniforms:Bi([tt.common,tt.envmap,tt.aomap,tt.lightmap,tt.emissivemap,tt.bumpmap,tt.normalmap,tt.displacementmap,tt.roughnessmap,tt.metalnessmap,tt.fog,tt.lights,{emissive:{value:new et(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:jt.meshphysical_vert,fragmentShader:jt.meshphysical_frag},toon:{uniforms:Bi([tt.common,tt.aomap,tt.lightmap,tt.emissivemap,tt.bumpmap,tt.normalmap,tt.displacementmap,tt.gradientmap,tt.fog,tt.lights,{emissive:{value:new et(0)}}]),vertexShader:jt.meshtoon_vert,fragmentShader:jt.meshtoon_frag},matcap:{uniforms:Bi([tt.common,tt.bumpmap,tt.normalmap,tt.displacementmap,tt.fog,{matcap:{value:null}}]),vertexShader:jt.meshmatcap_vert,fragmentShader:jt.meshmatcap_frag},points:{uniforms:Bi([tt.points,tt.fog]),vertexShader:jt.points_vert,fragmentShader:jt.points_frag},dashed:{uniforms:Bi([tt.common,tt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:jt.linedashed_vert,fragmentShader:jt.linedashed_frag},depth:{uniforms:Bi([tt.common,tt.displacementmap]),vertexShader:jt.depth_vert,fragmentShader:jt.depth_frag},normal:{uniforms:Bi([tt.common,tt.bumpmap,tt.normalmap,tt.displacementmap,{opacity:{value:1}}]),vertexShader:jt.meshnormal_vert,fragmentShader:jt.meshnormal_frag},sprite:{uniforms:Bi([tt.sprite,tt.fog]),vertexShader:jt.sprite_vert,fragmentShader:jt.sprite_frag},background:{uniforms:{uvTransform:{value:new ns},t2D:{value:null}},vertexShader:jt.background_vert,fragmentShader:jt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0}},vertexShader:jt.backgroundCube_vert,fragmentShader:jt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:jt.cube_vert,fragmentShader:jt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:jt.equirect_vert,fragmentShader:jt.equirect_frag},distanceRGBA:{uniforms:Bi([tt.common,tt.displacementmap,{referencePosition:{value:new Y},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:jt.distanceRGBA_vert,fragmentShader:jt.distanceRGBA_frag},shadow:{uniforms:Bi([tt.lights,tt.fog,{color:{value:new et(0)},opacity:{value:1}}]),vertexShader:jt.shadow_vert,fragmentShader:jt.shadow_frag}};Ro.physical={uniforms:Bi([Ro.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Fe(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new et(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Fe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new et(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new et(1,1,1)},specularColorMap:{value:null}}]),vertexShader:jt.meshphysical_vert,fragmentShader:jt.meshphysical_frag};function Ele(n,e,t,r,i,s,o){const a=new et(0);let l=s===!0?0:1,u,c,f=null,d=0,m=null;function y(v,x){let w=!1,b=x.isScene===!0?x.background:null;b&&b.isTexture&&(b=(x.backgroundBlurriness>0?t:e).get(b));const A=n.xr,M=A.getSession&&A.getSession();M&&M.environmentBlendMode==="additive"&&(b=null),b===null?g(a,l):b&&b.isColor&&(g(b,1),w=!0),(n.autoClear||w)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),b&&(b.isCubeTexture||b.mapping===cp)?(c===void 0&&(c=new Er(new ic(1,1,1),new Is({name:"BackgroundCubeMaterial",uniforms:Gh(Ro.backgroundCube.uniforms),vertexShader:Ro.backgroundCube.vertexShader,fragmentShader:Ro.backgroundCube.fragmentShader,side:Es,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(I,D,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=b,c.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=x.backgroundBlurriness,(f!==b||d!==b.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,f=b,d=b.version,m=n.toneMapping),c.layers.enableAll(),v.unshift(c,c.geometry,c.material,0,0,null)):b&&b.isTexture&&(u===void 0&&(u=new Er(new Gf(2,2),new Is({name:"BackgroundMaterial",uniforms:Gh(Ro.background.uniforms),vertexShader:Ro.background.vertexShader,fragmentShader:Ro.background.fragmentShader,side:qu,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=b,b.matrixAutoUpdate===!0&&b.updateMatrix(),u.material.uniforms.uvTransform.value.copy(b.matrix),(f!==b||d!==b.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,f=b,d=b.version,m=n.toneMapping),u.layers.enableAll(),v.unshift(u,u.geometry,u.material,0,0,null))}function g(v,x){r.buffers.color.setClear(v.r,v.g,v.b,x,o)}return{getClearColor:function(){return a},setClearColor:function(v,x=1){a.set(v),l=x,g(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(v){l=v,g(a,l)},render:y}}function Cle(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=v(null);let u=l,c=!1;function f(_,T,k,U,L){let F=!1;if(o){const z=g(U,k,T);u!==z&&(u=z,m(u.object)),F=x(_,U,k,L),F&&w(_,U,k,L)}else{const z=T.wireframe===!0;(u.geometry!==U.id||u.program!==k.id||u.wireframe!==z)&&(u.geometry=U.id,u.program=k.id,u.wireframe=z,F=!0)}L!==null&&t.update(L,34963),(F||c)&&(c=!1,P(_,T,k,U),L!==null&&n.bindBuffer(34963,t.get(L).buffer))}function d(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(_){return r.isWebGL2?n.bindVertexArray(_):s.bindVertexArrayOES(_)}function y(_){return r.isWebGL2?n.deleteVertexArray(_):s.deleteVertexArrayOES(_)}function g(_,T,k){const U=k.wireframe===!0;let L=a[_.id];L===void 0&&(L={},a[_.id]=L);let F=L[T.id];F===void 0&&(F={},L[T.id]=F);let z=F[U];return z===void 0&&(z=v(d()),F[U]=z),z}function v(_){const T=[],k=[],U=[];for(let L=0;L<i;L++)T[L]=0,k[L]=0,U[L]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:T,enabledAttributes:k,attributeDivisors:U,object:_,attributes:{},index:null}}function x(_,T,k,U){const L=u.attributes,F=T.attributes;let z=0;const B=k.getAttributes();for(const E in B)if(B[E].location>=0){const X=L[E];let N=F[E];if(N===void 0&&(E==="instanceMatrix"&&_.instanceMatrix&&(N=_.instanceMatrix),E==="instanceColor"&&_.instanceColor&&(N=_.instanceColor)),X===void 0||X.attribute!==N||N&&X.data!==N.data)return!0;z++}return u.attributesNum!==z||u.index!==U}function w(_,T,k,U){const L={},F=T.attributes;let z=0;const B=k.getAttributes();for(const E in B)if(B[E].location>=0){let X=F[E];X===void 0&&(E==="instanceMatrix"&&_.instanceMatrix&&(X=_.instanceMatrix),E==="instanceColor"&&_.instanceColor&&(X=_.instanceColor));const N={};N.attribute=X,X&&X.data&&(N.data=X.data),L[E]=N,z++}u.attributes=L,u.attributesNum=z,u.index=U}function b(){const _=u.newAttributes;for(let T=0,k=_.length;T<k;T++)_[T]=0}function A(_){M(_,0)}function M(_,T){const k=u.newAttributes,U=u.enabledAttributes,L=u.attributeDivisors;k[_]=1,U[_]===0&&(n.enableVertexAttribArray(_),U[_]=1),L[_]!==T&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](_,T),L[_]=T)}function I(){const _=u.newAttributes,T=u.enabledAttributes;for(let k=0,U=T.length;k<U;k++)T[k]!==_[k]&&(n.disableVertexAttribArray(k),T[k]=0)}function D(_,T,k,U,L,F){r.isWebGL2===!0&&(k===5124||k===5125)?n.vertexAttribIPointer(_,T,k,L,F):n.vertexAttribPointer(_,T,k,U,L,F)}function P(_,T,k,U){if(r.isWebGL2===!1&&(_.isInstancedMesh||U.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const L=U.attributes,F=k.getAttributes(),z=T.defaultAttributeValues;for(const B in F){const E=F[B];if(E.location>=0){let j=L[B];if(j===void 0&&(B==="instanceMatrix"&&_.instanceMatrix&&(j=_.instanceMatrix),B==="instanceColor"&&_.instanceColor&&(j=_.instanceColor)),j!==void 0){const X=j.normalized,N=j.itemSize,K=t.get(j);if(K===void 0)continue;const oe=K.buffer,ie=K.type,fe=K.bytesPerElement;if(j.isInterleavedBufferAttribute){const ce=j.data,Ee=ce.stride,ae=j.offset;if(ce.isInstancedInterleavedBuffer){for(let me=0;me<E.locationSize;me++)M(E.location+me,ce.meshPerAttribute);_.isInstancedMesh!==!0&&U._maxInstanceCount===void 0&&(U._maxInstanceCount=ce.meshPerAttribute*ce.count)}else for(let me=0;me<E.locationSize;me++)A(E.location+me);n.bindBuffer(34962,oe);for(let me=0;me<E.locationSize;me++)D(E.location+me,N/E.locationSize,ie,X,Ee*fe,(ae+N/E.locationSize*me)*fe)}else{if(j.isInstancedBufferAttribute){for(let ce=0;ce<E.locationSize;ce++)M(E.location+ce,j.meshPerAttribute);_.isInstancedMesh!==!0&&U._maxInstanceCount===void 0&&(U._maxInstanceCount=j.meshPerAttribute*j.count)}else for(let ce=0;ce<E.locationSize;ce++)A(E.location+ce);n.bindBuffer(34962,oe);for(let ce=0;ce<E.locationSize;ce++)D(E.location+ce,N/E.locationSize,ie,X,N*fe,N/E.locationSize*ce*fe)}}else if(z!==void 0){const X=z[B];if(X!==void 0)switch(X.length){case 2:n.vertexAttrib2fv(E.location,X);break;case 3:n.vertexAttrib3fv(E.location,X);break;case 4:n.vertexAttrib4fv(E.location,X);break;default:n.vertexAttrib1fv(E.location,X)}}}}I()}function O(){ne();for(const _ in a){const T=a[_];for(const k in T){const U=T[k];for(const L in U)y(U[L].object),delete U[L];delete T[k]}delete a[_]}}function V(_){if(a[_.id]===void 0)return;const T=a[_.id];for(const k in T){const U=T[k];for(const L in U)y(U[L].object),delete U[L];delete T[k]}delete a[_.id]}function q(_){for(const T in a){const k=a[T];if(k[_.id]===void 0)continue;const U=k[_.id];for(const L in U)y(U[L].object),delete U[L];delete k[_.id]}}function ne(){H(),c=!0,u!==l&&(u=l,m(u.object))}function H(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:ne,resetDefaultState:H,dispose:O,releaseStatesOfGeometry:V,releaseStatesOfProgram:q,initAttributes:b,enableAttribute:A,disableUnusedAttributes:I}}function Mle(n,e,t,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,c){n.drawArrays(s,u,c),t.update(c,s,1)}function l(u,c,f){if(f===0)return;let d,m;if(i)d=n,m="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[m](s,u,c,f),t.update(c,s,f)}this.setMode=o,this.render=a,this.renderInstances=l}function Tle(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const D=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(D.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(D){if(D==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";D="mediump"}return D==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),c=t.logarithmicDepthBuffer===!0,f=n.getParameter(34930),d=n.getParameter(35660),m=n.getParameter(3379),y=n.getParameter(34076),g=n.getParameter(34921),v=n.getParameter(36347),x=n.getParameter(36348),w=n.getParameter(36349),b=d>0,A=o||e.has("OES_texture_float"),M=b&&A,I=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:c,maxTextures:f,maxVertexTextures:d,maxTextureSize:m,maxCubemapSize:y,maxAttributes:g,maxVertexUniforms:v,maxVaryings:x,maxFragmentUniforms:w,vertexTextures:b,floatFragmentTextures:A,floatVertexTextures:M,maxSamples:I}}function Ple(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new vu,a=new ns,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d,m){const y=f.length!==0||d||r!==0||i;return i=d,t=c(f,m,0),r=f.length,y},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1,u()},this.setState=function(f,d,m){const y=f.clippingPlanes,g=f.clipIntersection,v=f.clipShadows,x=n.get(f);if(!i||y===null||y.length===0||s&&!v)s?c(null):u();else{const w=s?0:r,b=w*4;let A=x.clippingState||null;l.value=A,A=c(y,d,b,m);for(let M=0;M!==b;++M)A[M]=t[M];x.clippingState=A,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=w}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(f,d,m,y){const g=f!==null?f.length:0;let v=null;if(g!==0){if(v=l.value,y!==!0||v===null){const x=m+g*4,w=d.matrixWorldInverse;a.getNormalMatrix(w),(v===null||v.length<x)&&(v=new Float32Array(x));for(let b=0,A=m;b!==g;++b,A+=4)o.copy(f[b]).applyMatrix4(w,a),o.normal.toArray(v,A),v[A+3]=o.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,v}}function Ile(n){let e=new WeakMap;function t(o,a){return a===Fh?o.mapping=Cl:a===Vm&&(o.mapping=Ku),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Fh||a===Vm)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new Q6(l.height/2);return u.fromEquirectangularTexture(n,o),e.set(o,u),o.addEventListener("dispose",i),t(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class ml extends Bg{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const th=4,YI=[.125,.215,.35,.446,.526,.582],Hc=20,w3=new ml,QI=new et;let _3=null;const Fc=(1+Math.sqrt(5))/2,Ad=1/Fc,ZI=[new Y(1,1,1),new Y(-1,1,1),new Y(1,1,-1),new Y(-1,1,-1),new Y(0,Fc,Ad),new Y(0,Fc,-Ad),new Y(Ad,0,Fc),new Y(-Ad,0,Fc),new Y(Fc,Ad,0),new Y(-Fc,Ad,0)];class $E{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){_3=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=nR(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=tR(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(_3),e.scissorTest=!1,Zy(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Cl||e.mapping===Ku?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),_3=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Ln,minFilter:Ln,generateMipmaps:!1,type:Uo,format:bs,encoding:Wo,depthBuffer:!1},i=eR(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=eR(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Rle(s)),this._blurMaterial=Ble(s,e,t)}return i}_compileMaterial(e){const t=new Er(this._lodPlanes[0],e);this._renderer.compile(t,w3)}_sceneToCubeUV(e,t,r,i){const a=new Dn(90,1,t,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,f=c.autoClear,d=c.toneMapping;c.getClearColor(QI),c.toneMapping=jo,c.autoClear=!1;const m=new As({name:"PMREM.Background",side:Es,depthWrite:!1,depthTest:!1}),y=new Er(new ic,m);let g=!1;const v=e.background;v?v.isColor&&(m.color.copy(v),e.background=null,g=!0):(m.color.copy(QI),g=!0);for(let x=0;x<6;x++){const w=x%3;w===0?(a.up.set(0,l[x],0),a.lookAt(u[x],0,0)):w===1?(a.up.set(0,0,l[x]),a.lookAt(0,u[x],0)):(a.up.set(0,l[x],0),a.lookAt(0,0,u[x]));const b=this._cubeSize;Zy(i,w*b,x>2?b:0,b,b),c.setRenderTarget(i),g&&c.render(y,a),c.render(e,a)}y.geometry.dispose(),y.material.dispose(),c.toneMapping=d,c.autoClear=f,e.background=v}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Cl||e.mapping===Ku;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=nR()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=tR());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Er(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Zy(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,w3)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=ZI[(i-1)%ZI.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,f=new Er(this._lodPlanes[i],u),d=u.uniforms,m=this._sizeLods[r]-1,y=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Hc-1),g=s/y,v=isFinite(s)?1+Math.floor(c*g):Hc;v>Hc&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${Hc}`);const x=[];let w=0;for(let D=0;D<Hc;++D){const P=D/g,O=Math.exp(-P*P/2);x.push(O),D===0?w+=O:D<v&&(w+=2*O)}for(let D=0;D<x.length;D++)x[D]=x[D]/w;d.envMap.value=e.texture,d.samples.value=v,d.weights.value=x,d.latitudinal.value=o==="latitudinal",a&&(d.poleAxis.value=a);const{_lodMax:b}=this;d.dTheta.value=y,d.mipInt.value=b-r;const A=this._sizeLods[i],M=3*A*(i>b-th?i-b+th:0),I=4*(this._cubeSize-A);Zy(t,M,I,3*A,2*A),l.setRenderTarget(t),l.render(f,w3)}}function Rle(n){const e=[],t=[],r=[];let i=n;const s=n-th+1+YI.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-th?l=YI[o-n+th-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),c=-u,f=1+u,d=[c,c,f,c,f,f,c,c,f,f,c,f],m=6,y=6,g=3,v=2,x=1,w=new Float32Array(g*y*m),b=new Float32Array(v*y*m),A=new Float32Array(x*y*m);for(let I=0;I<m;I++){const D=I%3*2/3-1,P=I>2?0:-1,O=[D,P,0,D+2/3,P,0,D+2/3,P+1,0,D,P,0,D+2/3,P+1,0,D,P+1,0];w.set(O,g*y*I),b.set(d,v*y*I);const V=[I,I,I,I,I,I];A.set(V,x*y*I)}const M=new Ut;M.setAttribute("position",new gn(w,g)),M.setAttribute("uv",new gn(b,v)),M.setAttribute("faceIndex",new gn(A,x)),e.push(M),i>th&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function eR(n,e,t){const r=new os(n,e,t);return r.texture.mapping=cp,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Zy(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Ble(n,e,t){const r=new Float32Array(Hc),i=new Y(0,1,0);return new Is({name:"SphericalGaussianBlur",defines:{n:Hc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Z6(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:pl,depthTest:!1,depthWrite:!1})}function tR(){return new Is({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Z6(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:pl,depthTest:!1,depthWrite:!1})}function nR(){return new Is({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Z6(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:pl,depthTest:!1,depthWrite:!1})}function Z6(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function kle(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===Fh||l===Vm,c=l===Cl||l===Ku;if(u||c)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return t===null&&(t=new $E(n)),f=u?t.fromEquirectangular(a,f):t.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(u&&f&&f.height>0||c&&f&&i(f)){t===null&&(t=new $E(n));const d=u?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,d),a.addEventListener("dispose",s),d.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let c=0;c<u;c++)a[c]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function Nle(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Lle(n,e,t,r){const i={},s=new WeakMap;function o(f){const d=f.target;d.index!==null&&e.remove(d.index);for(const y in d.attributes)e.remove(d.attributes[y]);d.removeEventListener("dispose",o),delete i[d.id];const m=s.get(d);m&&(e.remove(m),s.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,t.memory.geometries--}function a(f,d){return i[d.id]===!0||(d.addEventListener("dispose",o),i[d.id]=!0,t.memory.geometries++),d}function l(f){const d=f.attributes;for(const y in d)e.update(d[y],34962);const m=f.morphAttributes;for(const y in m){const g=m[y];for(let v=0,x=g.length;v<x;v++)e.update(g[v],34962)}}function u(f){const d=[],m=f.index,y=f.attributes.position;let g=0;if(m!==null){const w=m.array;g=m.version;for(let b=0,A=w.length;b<A;b+=3){const M=w[b+0],I=w[b+1],D=w[b+2];d.push(M,I,I,D,D,M)}}else{const w=y.array;g=y.version;for(let b=0,A=w.length/3-1;b<A;b+=3){const M=b+0,I=b+1,D=b+2;d.push(M,I,I,D,D,M)}}const v=new(vF(d)?Y6:X6)(d,1);v.version=g;const x=s.get(f);x&&e.remove(x),s.set(f,v)}function c(f){const d=s.get(f);if(d){const m=f.index;m!==null&&d.version<m.version&&u(f)}else u(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:c}}function Dle(n,e,t,r){const i=r.isWebGL2;let s;function o(d){s=d}let a,l;function u(d){a=d.type,l=d.bytesPerElement}function c(d,m){n.drawElements(s,m,a,d*l),t.update(m,s,1)}function f(d,m,y){if(y===0)return;let g,v;if(i)g=n,v="drawElementsInstanced";else if(g=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[v](s,m,a,d*l,y),t.update(m,s,y)}this.setMode=o,this.setIndex=u,this.render=c,this.renderInstances=f}function Ole(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function Fle(n,e){return n[0]-e[0]}function Ule(n,e){return Math.abs(e[1])-Math.abs(n[1])}function zle(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new yn,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,c,f,d){const m=u.morphTargetInfluences;if(e.isWebGL2===!0){const y=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,g=y!==void 0?y.length:0;let v=s.get(c);if(v===void 0||v.count!==g){let T=function(){H.dispose(),s.delete(c),c.removeEventListener("dispose",T)};v!==void 0&&v.texture.dispose();const b=c.morphAttributes.position!==void 0,A=c.morphAttributes.normal!==void 0,M=c.morphAttributes.color!==void 0,I=c.morphAttributes.position||[],D=c.morphAttributes.normal||[],P=c.morphAttributes.color||[];let O=0;b===!0&&(O=1),A===!0&&(O=2),M===!0&&(O=3);let V=c.attributes.position.count*O,q=1;V>e.maxTextureSize&&(q=Math.ceil(V/e.maxTextureSize),V=e.maxTextureSize);const ne=new Float32Array(V*q*4*g),H=new Ig(ne,V,q,g);H.type=so,H.needsUpdate=!0;const _=O*4;for(let k=0;k<g;k++){const U=I[k],L=D[k],F=P[k],z=V*q*4*k;for(let B=0;B<U.count;B++){const E=B*_;b===!0&&(o.fromBufferAttribute(U,B),ne[z+E+0]=o.x,ne[z+E+1]=o.y,ne[z+E+2]=o.z,ne[z+E+3]=0),A===!0&&(o.fromBufferAttribute(L,B),ne[z+E+4]=o.x,ne[z+E+5]=o.y,ne[z+E+6]=o.z,ne[z+E+7]=0),M===!0&&(o.fromBufferAttribute(F,B),ne[z+E+8]=o.x,ne[z+E+9]=o.y,ne[z+E+10]=o.z,ne[z+E+11]=F.itemSize===4?o.w:1)}}v={count:g,texture:H,size:new Fe(V,q)},s.set(c,v),c.addEventListener("dispose",T)}let x=0;for(let b=0;b<m.length;b++)x+=m[b];const w=c.morphTargetsRelative?1:1-x;d.getUniforms().setValue(n,"morphTargetBaseInfluence",w),d.getUniforms().setValue(n,"morphTargetInfluences",m),d.getUniforms().setValue(n,"morphTargetsTexture",v.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",v.size)}else{const y=m===void 0?0:m.length;let g=r[c.id];if(g===void 0||g.length!==y){g=[];for(let A=0;A<y;A++)g[A]=[A,0];r[c.id]=g}for(let A=0;A<y;A++){const M=g[A];M[0]=A,M[1]=m[A]}g.sort(Ule);for(let A=0;A<8;A++)A<y&&g[A][1]?(a[A][0]=g[A][0],a[A][1]=g[A][1]):(a[A][0]=Number.MAX_SAFE_INTEGER,a[A][1]=0);a.sort(Fle);const v=c.morphAttributes.position,x=c.morphAttributes.normal;let w=0;for(let A=0;A<8;A++){const M=a[A],I=M[0],D=M[1];I!==Number.MAX_SAFE_INTEGER&&D?(v&&c.getAttribute("morphTarget"+A)!==v[I]&&c.setAttribute("morphTarget"+A,v[I]),x&&c.getAttribute("morphNormal"+A)!==x[I]&&c.setAttribute("morphNormal"+A,x[I]),i[A]=D,w+=D):(v&&c.hasAttribute("morphTarget"+A)===!0&&c.deleteAttribute("morphTarget"+A),x&&c.hasAttribute("morphNormal"+A)===!0&&c.deleteAttribute("morphNormal"+A),i[A]=0)}const b=c.morphTargetsRelative?1:1-w;d.getUniforms().setValue(n,"morphTargetBaseInfluence",b),d.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function Gle(n,e,t,r){let i=new WeakMap;function s(l){const u=r.render.frame,c=l.geometry,f=e.get(l,c);return i.get(f)!==u&&(e.update(f),i.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),f}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:o}}const _F=new ar,AF=new Ig,SF=new xw,EF=new kg,rR=[],iR=[],sR=new Float32Array(16),oR=new Float32Array(9),aR=new Float32Array(4);function dp(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=rR[i];if(s===void 0&&(s=new Float32Array(i),rR[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Nr(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Lr(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function ww(n,e){let t=iR[e];t===void 0&&(t=new Int32Array(e),iR[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function Hle(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function jle(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Nr(t,e))return;n.uniform2fv(this.addr,e),Lr(t,e)}}function Vle(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Nr(t,e))return;n.uniform3fv(this.addr,e),Lr(t,e)}}function Wle(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Nr(t,e))return;n.uniform4fv(this.addr,e),Lr(t,e)}}function qle(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Nr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Lr(t,e)}else{if(Nr(t,r))return;aR.set(r),n.uniformMatrix2fv(this.addr,!1,aR),Lr(t,r)}}function Kle(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Nr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Lr(t,e)}else{if(Nr(t,r))return;oR.set(r),n.uniformMatrix3fv(this.addr,!1,oR),Lr(t,r)}}function Jle(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Nr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Lr(t,e)}else{if(Nr(t,r))return;sR.set(r),n.uniformMatrix4fv(this.addr,!1,sR),Lr(t,r)}}function $le(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Xle(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Nr(t,e))return;n.uniform2iv(this.addr,e),Lr(t,e)}}function Yle(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Nr(t,e))return;n.uniform3iv(this.addr,e),Lr(t,e)}}function Qle(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Nr(t,e))return;n.uniform4iv(this.addr,e),Lr(t,e)}}function Zle(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function eue(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Nr(t,e))return;n.uniform2uiv(this.addr,e),Lr(t,e)}}function tue(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Nr(t,e))return;n.uniform3uiv(this.addr,e),Lr(t,e)}}function nue(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Nr(t,e))return;n.uniform4uiv(this.addr,e),Lr(t,e)}}function rue(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||_F,i)}function iue(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||SF,i)}function sue(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||EF,i)}function oue(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||AF,i)}function aue(n){switch(n){case 5126:return Hle;case 35664:return jle;case 35665:return Vle;case 35666:return Wle;case 35674:return qle;case 35675:return Kle;case 35676:return Jle;case 5124:case 35670:return $le;case 35667:case 35671:return Xle;case 35668:case 35672:return Yle;case 35669:case 35673:return Qle;case 5125:return Zle;case 36294:return eue;case 36295:return tue;case 36296:return nue;case 35678:case 36198:case 36298:case 36306:case 35682:return rue;case 35679:case 36299:case 36307:return iue;case 35680:case 36300:case 36308:case 36293:return sue;case 36289:case 36303:case 36311:case 36292:return oue}}function lue(n,e){n.uniform1fv(this.addr,e)}function uue(n,e){const t=dp(e,this.size,2);n.uniform2fv(this.addr,t)}function cue(n,e){const t=dp(e,this.size,3);n.uniform3fv(this.addr,t)}function fue(n,e){const t=dp(e,this.size,4);n.uniform4fv(this.addr,t)}function due(n,e){const t=dp(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function hue(n,e){const t=dp(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function pue(n,e){const t=dp(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function mue(n,e){n.uniform1iv(this.addr,e)}function gue(n,e){n.uniform2iv(this.addr,e)}function vue(n,e){n.uniform3iv(this.addr,e)}function yue(n,e){n.uniform4iv(this.addr,e)}function xue(n,e){n.uniform1uiv(this.addr,e)}function bue(n,e){n.uniform2uiv(this.addr,e)}function wue(n,e){n.uniform3uiv(this.addr,e)}function _ue(n,e){n.uniform4uiv(this.addr,e)}function Aue(n,e,t){const r=this.cache,i=e.length,s=ww(t,i);Nr(r,s)||(n.uniform1iv(this.addr,s),Lr(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||_F,s[o])}function Sue(n,e,t){const r=this.cache,i=e.length,s=ww(t,i);Nr(r,s)||(n.uniform1iv(this.addr,s),Lr(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||SF,s[o])}function Eue(n,e,t){const r=this.cache,i=e.length,s=ww(t,i);Nr(r,s)||(n.uniform1iv(this.addr,s),Lr(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||EF,s[o])}function Cue(n,e,t){const r=this.cache,i=e.length,s=ww(t,i);Nr(r,s)||(n.uniform1iv(this.addr,s),Lr(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||AF,s[o])}function Mue(n){switch(n){case 5126:return lue;case 35664:return uue;case 35665:return cue;case 35666:return fue;case 35674:return due;case 35675:return hue;case 35676:return pue;case 5124:case 35670:return mue;case 35667:case 35671:return gue;case 35668:case 35672:return vue;case 35669:case 35673:return yue;case 5125:return xue;case 36294:return bue;case 36295:return wue;case 36296:return _ue;case 35678:case 36198:case 36298:case 36306:case 35682:return Aue;case 35679:case 36299:case 36307:return Sue;case 35680:case 36300:case 36308:case 36293:return Eue;case 36289:case 36303:case 36311:case 36292:return Cue}}class Tue{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=aue(t.type)}}class Pue{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=Mue(t.type)}}class Iue{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const A3=/(\w+)(\])?(\[|\.)?/g;function lR(n,e){n.seq.push(e),n.map[e.id]=e}function Rue(n,e,t){const r=n.name,i=r.length;for(A3.lastIndex=0;;){const s=A3.exec(r),o=A3.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){lR(t,u===void 0?new Tue(a,n,e):new Pue(a,n,e));break}else{let f=t.map[a];f===void 0&&(f=new Iue(a),lR(t,f)),t=f}}}class y1{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);Rue(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function uR(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let Bue=0;function kue(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function Nue(n){switch(n){case Wo:return["Linear","( value )"];case on:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function cR(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+kue(n.getShaderSource(e),o)}else return i}function Lue(n,e){const t=Nue(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function Due(n,e){let t;switch(e){case HO:t="Linear";break;case jO:t="Reinhard";break;case VO:t="OptimizedCineon";break;case V6:t="ACESFilmic";break;case WO:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function Oue(n){return[n.extensionDerivatives||!!n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(F0).join(`
`)}function Fue(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function Uue(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function F0(n){return n!==""}function fR(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function dR(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const zue=/^[ \t]*#include +<([\w\d./]+)>/gm;function XE(n){return n.replace(zue,Gue)}function Gue(n,e){const t=jt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return XE(t)}const Hue=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function hR(n){return n.replace(Hue,jue)}function jue(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function pR(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Vue(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===z6?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===G6?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Zd&&(e="SHADOWMAP_TYPE_VSM"),e}function Wue(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Cl:case Ku:e="ENVMAP_TYPE_CUBE";break;case cp:e="ENVMAP_TYPE_CUBE_UV";break}return e}function que(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Ku:e="ENVMAP_MODE_REFRACTION";break}return e}function Kue(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Pg:e="ENVMAP_BLENDING_MULTIPLY";break;case zO:e="ENVMAP_BLENDING_MIX";break;case GO:e="ENVMAP_BLENDING_ADD";break}return e}function Jue(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function $ue(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=Vue(t),u=Wue(t),c=que(t),f=Kue(t),d=Jue(t),m=t.isWebGL2?"":Oue(t),y=Fue(s),g=i.createProgram();let v,x,w=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(v=[y].filter(F0).join(`
`),v.length>0&&(v+=`
`),x=[m,y].filter(F0).join(`
`),x.length>0&&(x+=`
`)):(v=[pR(t),"#define SHADER_NAME "+t.shaderName,y,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(F0).join(`
`),x=[m,pR(t),"#define SHADER_NAME "+t.shaderName,y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+c:"",t.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==jo?"#define TONE_MAPPING":"",t.toneMapping!==jo?jt.tonemapping_pars_fragment:"",t.toneMapping!==jo?Due("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",jt.encodings_pars_fragment,Lue("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(F0).join(`
`)),o=XE(o),o=fR(o,t),o=dR(o,t),a=XE(a),a=fR(a,t),a=dR(a,t),o=hR(o),a=hR(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,v=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,x=["#define varying in",t.glslVersion===KE?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===KE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const b=w+v+o,A=w+x+a,M=uR(i,35633,b),I=uR(i,35632,A);if(i.attachShader(g,M),i.attachShader(g,I),t.index0AttributeName!==void 0?i.bindAttribLocation(g,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(g,0,"position"),i.linkProgram(g),n.debug.checkShaderErrors){const O=i.getProgramInfoLog(g).trim(),V=i.getShaderInfoLog(M).trim(),q=i.getShaderInfoLog(I).trim();let ne=!0,H=!0;if(i.getProgramParameter(g,35714)===!1){ne=!1;const _=cR(i,M,"vertex"),T=cR(i,I,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(g,35715)+`

Program Info Log: `+O+`
`+_+`
`+T)}else O!==""?console.warn("THREE.WebGLProgram: Program Info Log:",O):(V===""||q==="")&&(H=!1);H&&(this.diagnostics={runnable:ne,programLog:O,vertexShader:{log:V,prefix:v},fragmentShader:{log:q,prefix:x}})}i.deleteShader(M),i.deleteShader(I);let D;this.getUniforms=function(){return D===void 0&&(D=new y1(i,g)),D};let P;return this.getAttributes=function(){return P===void 0&&(P=Uue(i,g)),P},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(g),this.program=void 0},this.name=t.shaderName,this.id=Bue++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=M,this.fragmentShader=I,this}let Xue=0;class Yue{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new Que(e),t.set(e,r)),r}}class Que{constructor(e){this.id=Xue++,this.code=e,this.usedTimes=0}}function Zue(n,e,t,r,i,s,o){const a=new pf,l=new Yue,u=[],c=i.isWebGL2,f=i.logarithmicDepthBuffer,d=i.vertexTextures;let m=i.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(P,O,V,q,ne){const H=q.fog,_=ne.geometry,T=P.isMeshStandardMaterial?q.environment:null,k=(P.isMeshStandardMaterial?t:e).get(P.envMap||T),U=!!k&&k.mapping===cp?k.image.height:null,L=y[P.type];P.precision!==null&&(m=i.getMaxPrecision(P.precision),m!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",m,"instead."));const F=_.morphAttributes.position||_.morphAttributes.normal||_.morphAttributes.color,z=F!==void 0?F.length:0;let B=0;_.morphAttributes.position!==void 0&&(B=1),_.morphAttributes.normal!==void 0&&(B=2),_.morphAttributes.color!==void 0&&(B=3);let E,j,X,N;if(L){const Ee=Ro[L];E=Ee.vertexShader,j=Ee.fragmentShader}else E=P.vertexShader,j=P.fragmentShader,l.update(P),X=l.getVertexShaderID(P),N=l.getFragmentShaderID(P);const K=n.getRenderTarget(),oe=P.alphaTest>0,ie=P.clearcoat>0,fe=P.iridescence>0;return{isWebGL2:c,shaderID:L,shaderName:P.type,vertexShader:E,fragmentShader:j,defines:P.defines,customVertexShaderID:X,customFragmentShaderID:N,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:m,instancing:ne.isInstancedMesh===!0,instancingColor:ne.isInstancedMesh===!0&&ne.instanceColor!==null,supportsVertexTextures:d,outputEncoding:K===null?n.outputEncoding:K.isXRRenderTarget===!0?K.texture.encoding:Wo,map:!!P.map,matcap:!!P.matcap,envMap:!!k,envMapMode:k&&k.mapping,envMapCubeUVHeight:U,lightMap:!!P.lightMap,aoMap:!!P.aoMap,emissiveMap:!!P.emissiveMap,bumpMap:!!P.bumpMap,normalMap:!!P.normalMap,objectSpaceNormalMap:P.normalMapType===hF,tangentSpaceNormalMap:P.normalMapType===Fl,decodeVideoTexture:!!P.map&&P.map.isVideoTexture===!0&&P.map.encoding===on,clearcoat:ie,clearcoatMap:ie&&!!P.clearcoatMap,clearcoatRoughnessMap:ie&&!!P.clearcoatRoughnessMap,clearcoatNormalMap:ie&&!!P.clearcoatNormalMap,iridescence:fe,iridescenceMap:fe&&!!P.iridescenceMap,iridescenceThicknessMap:fe&&!!P.iridescenceThicknessMap,displacementMap:!!P.displacementMap,roughnessMap:!!P.roughnessMap,metalnessMap:!!P.metalnessMap,specularMap:!!P.specularMap,specularIntensityMap:!!P.specularIntensityMap,specularColorMap:!!P.specularColorMap,opaque:P.transparent===!1&&P.blending===cf,alphaMap:!!P.alphaMap,alphaTest:oe,gradientMap:!!P.gradientMap,sheen:P.sheen>0,sheenColorMap:!!P.sheenColorMap,sheenRoughnessMap:!!P.sheenRoughnessMap,transmission:P.transmission>0,transmissionMap:!!P.transmissionMap,thicknessMap:!!P.thicknessMap,combine:P.combine,vertexTangents:!!P.normalMap&&!!_.attributes.tangent,vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!_.attributes.color&&_.attributes.color.itemSize===4,vertexUvs:!!P.map||!!P.bumpMap||!!P.normalMap||!!P.specularMap||!!P.alphaMap||!!P.emissiveMap||!!P.roughnessMap||!!P.metalnessMap||!!P.clearcoatMap||!!P.clearcoatRoughnessMap||!!P.clearcoatNormalMap||!!P.iridescenceMap||!!P.iridescenceThicknessMap||!!P.displacementMap||!!P.transmissionMap||!!P.thicknessMap||!!P.specularIntensityMap||!!P.specularColorMap||!!P.sheenColorMap||!!P.sheenRoughnessMap,uvsVertexOnly:!(!!P.map||!!P.bumpMap||!!P.normalMap||!!P.specularMap||!!P.alphaMap||!!P.emissiveMap||!!P.roughnessMap||!!P.metalnessMap||!!P.clearcoatNormalMap||!!P.iridescenceMap||!!P.iridescenceThicknessMap||P.transmission>0||!!P.transmissionMap||!!P.thicknessMap||!!P.specularIntensityMap||!!P.specularColorMap||P.sheen>0||!!P.sheenColorMap||!!P.sheenRoughnessMap)&&!!P.displacementMap,fog:!!H,useFog:P.fog===!0,fogExp2:H&&H.isFogExp2,flatShading:!!P.flatShading,sizeAttenuation:P.sizeAttenuation,logarithmicDepthBuffer:f,skinning:ne.isSkinnedMesh===!0,morphTargets:_.morphAttributes.position!==void 0,morphNormals:_.morphAttributes.normal!==void 0,morphColors:_.morphAttributes.color!==void 0,morphTargetsCount:z,morphTextureStride:B,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numSpotLightMaps:O.spotLightMap.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numSpotLightShadowsWithMaps:O.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:P.dithering,shadowMapEnabled:n.shadowMap.enabled&&V.length>0,shadowMapType:n.shadowMap.type,toneMapping:P.toneMapped?n.toneMapping:jo,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===Fo,flipSided:P.side===Es,useDepthPacking:!!P.depthPacking,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionDerivatives:P.extensions&&P.extensions.derivatives,extensionFragDepth:P.extensions&&P.extensions.fragDepth,extensionDrawBuffers:P.extensions&&P.extensions.drawBuffers,extensionShaderTextureLOD:P.extensions&&P.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:P.customProgramCacheKey()}}function v(P){const O=[];if(P.shaderID?O.push(P.shaderID):(O.push(P.customVertexShaderID),O.push(P.customFragmentShaderID)),P.defines!==void 0)for(const V in P.defines)O.push(V),O.push(P.defines[V]);return P.isRawShaderMaterial===!1&&(x(O,P),w(O,P),O.push(n.outputEncoding)),O.push(P.customProgramCacheKey),O.join()}function x(P,O){P.push(O.precision),P.push(O.outputEncoding),P.push(O.envMapMode),P.push(O.envMapCubeUVHeight),P.push(O.combine),P.push(O.vertexUvs),P.push(O.fogExp2),P.push(O.sizeAttenuation),P.push(O.morphTargetsCount),P.push(O.morphAttributeCount),P.push(O.numDirLights),P.push(O.numPointLights),P.push(O.numSpotLights),P.push(O.numSpotLightMaps),P.push(O.numHemiLights),P.push(O.numRectAreaLights),P.push(O.numDirLightShadows),P.push(O.numPointLightShadows),P.push(O.numSpotLightShadows),P.push(O.numSpotLightShadowsWithMaps),P.push(O.shadowMapType),P.push(O.toneMapping),P.push(O.numClippingPlanes),P.push(O.numClipIntersection),P.push(O.depthPacking)}function w(P,O){a.disableAll(),O.isWebGL2&&a.enable(0),O.supportsVertexTextures&&a.enable(1),O.instancing&&a.enable(2),O.instancingColor&&a.enable(3),O.map&&a.enable(4),O.matcap&&a.enable(5),O.envMap&&a.enable(6),O.lightMap&&a.enable(7),O.aoMap&&a.enable(8),O.emissiveMap&&a.enable(9),O.bumpMap&&a.enable(10),O.normalMap&&a.enable(11),O.objectSpaceNormalMap&&a.enable(12),O.tangentSpaceNormalMap&&a.enable(13),O.clearcoat&&a.enable(14),O.clearcoatMap&&a.enable(15),O.clearcoatRoughnessMap&&a.enable(16),O.clearcoatNormalMap&&a.enable(17),O.iridescence&&a.enable(18),O.iridescenceMap&&a.enable(19),O.iridescenceThicknessMap&&a.enable(20),O.displacementMap&&a.enable(21),O.specularMap&&a.enable(22),O.roughnessMap&&a.enable(23),O.metalnessMap&&a.enable(24),O.gradientMap&&a.enable(25),O.alphaMap&&a.enable(26),O.alphaTest&&a.enable(27),O.vertexColors&&a.enable(28),O.vertexAlphas&&a.enable(29),O.vertexUvs&&a.enable(30),O.vertexTangents&&a.enable(31),O.uvsVertexOnly&&a.enable(32),P.push(a.mask),a.disableAll(),O.fog&&a.enable(0),O.useFog&&a.enable(1),O.flatShading&&a.enable(2),O.logarithmicDepthBuffer&&a.enable(3),O.skinning&&a.enable(4),O.morphTargets&&a.enable(5),O.morphNormals&&a.enable(6),O.morphColors&&a.enable(7),O.premultipliedAlpha&&a.enable(8),O.shadowMapEnabled&&a.enable(9),O.physicallyCorrectLights&&a.enable(10),O.doubleSided&&a.enable(11),O.flipSided&&a.enable(12),O.useDepthPacking&&a.enable(13),O.dithering&&a.enable(14),O.specularIntensityMap&&a.enable(15),O.specularColorMap&&a.enable(16),O.transmission&&a.enable(17),O.transmissionMap&&a.enable(18),O.thicknessMap&&a.enable(19),O.sheen&&a.enable(20),O.sheenColorMap&&a.enable(21),O.sheenRoughnessMap&&a.enable(22),O.decodeVideoTexture&&a.enable(23),O.opaque&&a.enable(24),P.push(a.mask)}function b(P){const O=y[P.type];let V;if(O){const q=Ro[O];V=xF.clone(q.uniforms)}else V=P.uniforms;return V}function A(P,O){let V;for(let q=0,ne=u.length;q<ne;q++){const H=u[q];if(H.cacheKey===O){V=H,++V.usedTimes;break}}return V===void 0&&(V=new $ue(n,O,P,s),u.push(V)),V}function M(P){if(--P.usedTimes===0){const O=u.indexOf(P);u[O]=u[u.length-1],u.pop(),P.destroy()}}function I(P){l.remove(P)}function D(){l.dispose()}return{getParameters:g,getProgramCacheKey:v,getUniforms:b,acquireProgram:A,releaseProgram:M,releaseShaderCache:I,programs:u,dispose:D}}function ece(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function tce(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function mR(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function gR(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(f,d,m,y,g,v){let x=n[e];return x===void 0?(x={id:f.id,object:f,geometry:d,material:m,groupOrder:y,renderOrder:f.renderOrder,z:g,group:v},n[e]=x):(x.id=f.id,x.object=f,x.geometry=d,x.material=m,x.groupOrder=y,x.renderOrder=f.renderOrder,x.z=g,x.group=v),e++,x}function a(f,d,m,y,g,v){const x=o(f,d,m,y,g,v);m.transmission>0?r.push(x):m.transparent===!0?i.push(x):t.push(x)}function l(f,d,m,y,g,v){const x=o(f,d,m,y,g,v);m.transmission>0?r.unshift(x):m.transparent===!0?i.unshift(x):t.unshift(x)}function u(f,d){t.length>1&&t.sort(f||tce),r.length>1&&r.sort(d||mR),i.length>1&&i.sort(d||mR)}function c(){for(let f=e,d=n.length;f<d;f++){const m=n[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:c,sort:u}}function nce(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new gR,n.set(r,[o])):i>=s.length?(o=new gR,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function rce(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Y,color:new et};break;case"SpotLight":t={position:new Y,direction:new Y,color:new et,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Y,color:new et,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Y,skyColor:new et,groundColor:new et};break;case"RectAreaLight":t={color:new et,position:new Y,halfWidth:new Y,halfHeight:new Y};break}return n[e.id]=t,t}}}function ice(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fe};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fe};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fe,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let sce=0;function oce(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function ace(n,e){const t=new rce,r=ice(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let c=0;c<9;c++)i.probe.push(new Y);const s=new Y,o=new Bt,a=new Bt;function l(c,f){let d=0,m=0,y=0;for(let q=0;q<9;q++)i.probe[q].set(0,0,0);let g=0,v=0,x=0,w=0,b=0,A=0,M=0,I=0,D=0,P=0;c.sort(oce);const O=f!==!0?Math.PI:1;for(let q=0,ne=c.length;q<ne;q++){const H=c[q],_=H.color,T=H.intensity,k=H.distance,U=H.shadow&&H.shadow.map?H.shadow.map.texture:null;if(H.isAmbientLight)d+=_.r*T*O,m+=_.g*T*O,y+=_.b*T*O;else if(H.isLightProbe)for(let L=0;L<9;L++)i.probe[L].addScaledVector(H.sh.coefficients[L],T);else if(H.isDirectionalLight){const L=t.get(H);if(L.color.copy(H.color).multiplyScalar(H.intensity*O),H.castShadow){const F=H.shadow,z=r.get(H);z.shadowBias=F.bias,z.shadowNormalBias=F.normalBias,z.shadowRadius=F.radius,z.shadowMapSize=F.mapSize,i.directionalShadow[g]=z,i.directionalShadowMap[g]=U,i.directionalShadowMatrix[g]=H.shadow.matrix,A++}i.directional[g]=L,g++}else if(H.isSpotLight){const L=t.get(H);L.position.setFromMatrixPosition(H.matrixWorld),L.color.copy(_).multiplyScalar(T*O),L.distance=k,L.coneCos=Math.cos(H.angle),L.penumbraCos=Math.cos(H.angle*(1-H.penumbra)),L.decay=H.decay,i.spot[x]=L;const F=H.shadow;if(H.map&&(i.spotLightMap[D]=H.map,D++,F.updateMatrices(H),H.castShadow&&P++),i.spotLightMatrix[x]=F.matrix,H.castShadow){const z=r.get(H);z.shadowBias=F.bias,z.shadowNormalBias=F.normalBias,z.shadowRadius=F.radius,z.shadowMapSize=F.mapSize,i.spotShadow[x]=z,i.spotShadowMap[x]=U,I++}x++}else if(H.isRectAreaLight){const L=t.get(H);L.color.copy(_).multiplyScalar(T),L.halfWidth.set(H.width*.5,0,0),L.halfHeight.set(0,H.height*.5,0),i.rectArea[w]=L,w++}else if(H.isPointLight){const L=t.get(H);if(L.color.copy(H.color).multiplyScalar(H.intensity*O),L.distance=H.distance,L.decay=H.decay,H.castShadow){const F=H.shadow,z=r.get(H);z.shadowBias=F.bias,z.shadowNormalBias=F.normalBias,z.shadowRadius=F.radius,z.shadowMapSize=F.mapSize,z.shadowCameraNear=F.camera.near,z.shadowCameraFar=F.camera.far,i.pointShadow[v]=z,i.pointShadowMap[v]=U,i.pointShadowMatrix[v]=H.shadow.matrix,M++}i.point[v]=L,v++}else if(H.isHemisphereLight){const L=t.get(H);L.skyColor.copy(H.color).multiplyScalar(T*O),L.groundColor.copy(H.groundColor).multiplyScalar(T*O),i.hemi[b]=L,b++}}w>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=tt.LTC_FLOAT_1,i.rectAreaLTC2=tt.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=tt.LTC_HALF_1,i.rectAreaLTC2=tt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=d,i.ambient[1]=m,i.ambient[2]=y;const V=i.hash;(V.directionalLength!==g||V.pointLength!==v||V.spotLength!==x||V.rectAreaLength!==w||V.hemiLength!==b||V.numDirectionalShadows!==A||V.numPointShadows!==M||V.numSpotShadows!==I||V.numSpotMaps!==D)&&(i.directional.length=g,i.spot.length=x,i.rectArea.length=w,i.point.length=v,i.hemi.length=b,i.directionalShadow.length=A,i.directionalShadowMap.length=A,i.pointShadow.length=M,i.pointShadowMap.length=M,i.spotShadow.length=I,i.spotShadowMap.length=I,i.directionalShadowMatrix.length=A,i.pointShadowMatrix.length=M,i.spotLightMatrix.length=I+D-P,i.spotLightMap.length=D,i.numSpotLightShadowsWithMaps=P,V.directionalLength=g,V.pointLength=v,V.spotLength=x,V.rectAreaLength=w,V.hemiLength=b,V.numDirectionalShadows=A,V.numPointShadows=M,V.numSpotShadows=I,V.numSpotMaps=D,i.version=sce++)}function u(c,f){let d=0,m=0,y=0,g=0,v=0;const x=f.matrixWorldInverse;for(let w=0,b=c.length;w<b;w++){const A=c[w];if(A.isDirectionalLight){const M=i.directional[d];M.direction.setFromMatrixPosition(A.matrixWorld),s.setFromMatrixPosition(A.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(x),d++}else if(A.isSpotLight){const M=i.spot[y];M.position.setFromMatrixPosition(A.matrixWorld),M.position.applyMatrix4(x),M.direction.setFromMatrixPosition(A.matrixWorld),s.setFromMatrixPosition(A.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(x),y++}else if(A.isRectAreaLight){const M=i.rectArea[g];M.position.setFromMatrixPosition(A.matrixWorld),M.position.applyMatrix4(x),a.identity(),o.copy(A.matrixWorld),o.premultiply(x),a.extractRotation(o),M.halfWidth.set(A.width*.5,0,0),M.halfHeight.set(0,A.height*.5,0),M.halfWidth.applyMatrix4(a),M.halfHeight.applyMatrix4(a),g++}else if(A.isPointLight){const M=i.point[m];M.position.setFromMatrixPosition(A.matrixWorld),M.position.applyMatrix4(x),m++}else if(A.isHemisphereLight){const M=i.hemi[v];M.direction.setFromMatrixPosition(A.matrixWorld),M.direction.transformDirection(x),v++}}}return{setup:l,setupView:u,state:i}}function vR(n,e){const t=new ace(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function a(f){i.push(f)}function l(f){t.setup(r,f)}function u(f){t.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function lce(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new vR(n,e),t.set(s,[l])):o>=a.length?(l=new vR(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class _w extends Cr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=fF,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class eT extends Cr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Y,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const uce=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,cce=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function fce(n,e,t){let r=new bw;const i=new Fe,s=new Fe,o=new yn,a=new _w({depthPacking:dF}),l=new eT,u={},c=t.maxTextureSize,f={0:Es,1:qu,2:Fo},d=new Is({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Fe},radius:{value:4}},vertexShader:uce,fragmentShader:cce}),m=d.clone();m.defines.HORIZONTAL_PASS=1;const y=new Ut;y.setAttribute("position",new gn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new Er(y,d),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=z6,this.render=function(A,M,I){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||A.length===0)return;const D=n.getRenderTarget(),P=n.getActiveCubeFace(),O=n.getActiveMipmapLevel(),V=n.state;V.setBlending(pl),V.buffers.color.setClear(1,1,1,1),V.buffers.depth.setTest(!0),V.setScissorTest(!1);for(let q=0,ne=A.length;q<ne;q++){const H=A[q],_=H.shadow;if(_===void 0){console.warn("THREE.WebGLShadowMap:",H,"has no shadow.");continue}if(_.autoUpdate===!1&&_.needsUpdate===!1)continue;i.copy(_.mapSize);const T=_.getFrameExtents();if(i.multiply(T),s.copy(_.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(s.x=Math.floor(c/T.x),i.x=s.x*T.x,_.mapSize.x=s.x),i.y>c&&(s.y=Math.floor(c/T.y),i.y=s.y*T.y,_.mapSize.y=s.y)),_.map===null){const U=this.type!==Zd?{minFilter:hr,magFilter:hr}:{};_.map=new os(i.x,i.y,U),_.map.texture.name=H.name+".shadowMap",_.camera.updateProjectionMatrix()}n.setRenderTarget(_.map),n.clear();const k=_.getViewportCount();for(let U=0;U<k;U++){const L=_.getViewport(U);o.set(s.x*L.x,s.y*L.y,s.x*L.z,s.y*L.w),V.viewport(o),_.updateMatrices(H,U),r=_.getFrustum(),b(M,I,_.camera,H,this.type)}_.isPointLightShadow!==!0&&this.type===Zd&&x(_,I),_.needsUpdate=!1}v.needsUpdate=!1,n.setRenderTarget(D,P,O)};function x(A,M){const I=e.update(g);d.defines.VSM_SAMPLES!==A.blurSamples&&(d.defines.VSM_SAMPLES=A.blurSamples,m.defines.VSM_SAMPLES=A.blurSamples,d.needsUpdate=!0,m.needsUpdate=!0),A.mapPass===null&&(A.mapPass=new os(i.x,i.y)),d.uniforms.shadow_pass.value=A.map.texture,d.uniforms.resolution.value=A.mapSize,d.uniforms.radius.value=A.radius,n.setRenderTarget(A.mapPass),n.clear(),n.renderBufferDirect(M,null,I,d,g,null),m.uniforms.shadow_pass.value=A.mapPass.texture,m.uniforms.resolution.value=A.mapSize,m.uniforms.radius.value=A.radius,n.setRenderTarget(A.map),n.clear(),n.renderBufferDirect(M,null,I,m,g,null)}function w(A,M,I,D,P,O){let V=null;const q=I.isPointLight===!0?A.customDistanceMaterial:A.customDepthMaterial;if(q!==void 0?V=q:V=I.isPointLight===!0?l:a,n.localClippingEnabled&&M.clipShadows===!0&&Array.isArray(M.clippingPlanes)&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0){const ne=V.uuid,H=M.uuid;let _=u[ne];_===void 0&&(_={},u[ne]=_);let T=_[H];T===void 0&&(T=V.clone(),_[H]=T),V=T}return V.visible=M.visible,V.wireframe=M.wireframe,O===Zd?V.side=M.shadowSide!==null?M.shadowSide:M.side:V.side=M.shadowSide!==null?M.shadowSide:f[M.side],V.alphaMap=M.alphaMap,V.alphaTest=M.alphaTest,V.clipShadows=M.clipShadows,V.clippingPlanes=M.clippingPlanes,V.clipIntersection=M.clipIntersection,V.displacementMap=M.displacementMap,V.displacementScale=M.displacementScale,V.displacementBias=M.displacementBias,V.wireframeLinewidth=M.wireframeLinewidth,V.linewidth=M.linewidth,I.isPointLight===!0&&V.isMeshDistanceMaterial===!0&&(V.referencePosition.setFromMatrixPosition(I.matrixWorld),V.nearDistance=D,V.farDistance=P),V}function b(A,M,I,D,P){if(A.visible===!1)return;if(A.layers.test(M.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&P===Zd)&&(!A.frustumCulled||r.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,A.matrixWorld);const q=e.update(A),ne=A.material;if(Array.isArray(ne)){const H=q.groups;for(let _=0,T=H.length;_<T;_++){const k=H[_],U=ne[k.materialIndex];if(U&&U.visible){const L=w(A,U,D,I.near,I.far,P);n.renderBufferDirect(I,null,q,L,A,k)}}}else if(ne.visible){const H=w(A,ne,D,I.near,I.far,P);n.renderBufferDirect(I,null,q,H,A,null)}}const V=A.children;for(let q=0,ne=V.length;q<ne;q++)b(V[q],M,I,D,P)}}function dce(n,e,t){const r=t.isWebGL2;function i(){let re=!1;const Ae=new yn;let Be=null;const Ve=new yn(0,0,0,0);return{setMask:function(st){Be!==st&&!re&&(n.colorMask(st,st,st,st),Be=st)},setLocked:function(st){re=st},setClear:function(st,rt,vt,mn,zt){zt===!0&&(st*=mn,rt*=mn,vt*=mn),Ae.set(st,rt,vt,mn),Ve.equals(Ae)===!1&&(n.clearColor(st,rt,vt,mn),Ve.copy(Ae))},reset:function(){re=!1,Be=null,Ve.set(-1,0,0,0)}}}function s(){let re=!1,Ae=null,Be=null,Ve=null;return{setTest:function(st){st?oe(2929):ie(2929)},setMask:function(st){Ae!==st&&!re&&(n.depthMask(st),Ae=st)},setFunc:function(st){if(Be!==st){switch(st){case kO:n.depthFunc(512);break;case NO:n.depthFunc(519);break;case LO:n.depthFunc(513);break;case hb:n.depthFunc(515);break;case DO:n.depthFunc(514);break;case OO:n.depthFunc(518);break;case FO:n.depthFunc(516);break;case UO:n.depthFunc(517);break;default:n.depthFunc(515)}Be=st}},setLocked:function(st){re=st},setClear:function(st){Ve!==st&&(n.clearDepth(st),Ve=st)},reset:function(){re=!1,Ae=null,Be=null,Ve=null}}}function o(){let re=!1,Ae=null,Be=null,Ve=null,st=null,rt=null,vt=null,mn=null,zt=null;return{setTest:function(_t){re||(_t?oe(2960):ie(2960))},setMask:function(_t){Ae!==_t&&!re&&(n.stencilMask(_t),Ae=_t)},setFunc:function(_t,Qn,kt){(Be!==_t||Ve!==Qn||st!==kt)&&(n.stencilFunc(_t,Qn,kt),Be=_t,Ve=Qn,st=kt)},setOp:function(_t,Qn,kt){(rt!==_t||vt!==Qn||mn!==kt)&&(n.stencilOp(_t,Qn,kt),rt=_t,vt=Qn,mn=kt)},setLocked:function(_t){re=_t},setClear:function(_t){zt!==_t&&(n.clearStencil(_t),zt=_t)},reset:function(){re=!1,Ae=null,Be=null,Ve=null,st=null,rt=null,vt=null,mn=null,zt=null}}}const a=new i,l=new s,u=new o,c=new WeakMap,f=new WeakMap;let d={},m={},y=new WeakMap,g=[],v=null,x=!1,w=null,b=null,A=null,M=null,I=null,D=null,P=null,O=!1,V=null,q=null,ne=null,H=null,_=null;const T=n.getParameter(35661);let k=!1,U=0;const L=n.getParameter(7938);L.indexOf("WebGL")!==-1?(U=parseFloat(/^WebGL (\d)/.exec(L)[1]),k=U>=1):L.indexOf("OpenGL ES")!==-1&&(U=parseFloat(/^OpenGL ES (\d)/.exec(L)[1]),k=U>=2);let F=null,z={};const B=n.getParameter(3088),E=n.getParameter(2978),j=new yn().fromArray(B),X=new yn().fromArray(E);function N(re,Ae,Be){const Ve=new Uint8Array(4),st=n.createTexture();n.bindTexture(re,st),n.texParameteri(re,10241,9728),n.texParameteri(re,10240,9728);for(let rt=0;rt<Be;rt++)n.texImage2D(Ae+rt,0,6408,1,1,0,6408,5121,Ve);return st}const K={};K[3553]=N(3553,3553,1),K[34067]=N(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),oe(2929),l.setFunc(hb),He(!1),$e(bE),oe(2884),xe(pl);function oe(re){d[re]!==!0&&(n.enable(re),d[re]=!0)}function ie(re){d[re]!==!1&&(n.disable(re),d[re]=!1)}function fe(re,Ae){return m[re]!==Ae?(n.bindFramebuffer(re,Ae),m[re]=Ae,r&&(re===36009&&(m[36160]=Ae),re===36160&&(m[36009]=Ae)),!0):!1}function ce(re,Ae){let Be=g,Ve=!1;if(re)if(Be=y.get(Ae),Be===void 0&&(Be=[],y.set(Ae,Be)),re.isWebGLMultipleRenderTargets){const st=re.texture;if(Be.length!==st.length||Be[0]!==36064){for(let rt=0,vt=st.length;rt<vt;rt++)Be[rt]=36064+rt;Be.length=st.length,Ve=!0}}else Be[0]!==36064&&(Be[0]=36064,Ve=!0);else Be[0]!==1029&&(Be[0]=1029,Ve=!0);Ve&&(t.isWebGL2?n.drawBuffers(Be):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Be))}function Ee(re){return v!==re?(n.useProgram(re),v=re,!0):!1}const ae={[Gc]:32774,[_O]:32778,[AO]:32779};if(r)ae[SE]=32775,ae[EE]=32776;else{const re=e.get("EXT_blend_minmax");re!==null&&(ae[SE]=re.MIN_EXT,ae[EE]=re.MAX_EXT)}const me={[SO]:0,[EO]:1,[CO]:768,[H6]:770,[BO]:776,[IO]:774,[TO]:772,[MO]:769,[j6]:771,[RO]:775,[PO]:773};function xe(re,Ae,Be,Ve,st,rt,vt,mn){if(re===pl){x===!0&&(ie(3042),x=!1);return}if(x===!1&&(oe(3042),x=!0),re!==wO){if(re!==w||mn!==O){if((b!==Gc||I!==Gc)&&(n.blendEquation(32774),b=Gc,I=Gc),mn)switch(re){case cf:n.blendFuncSeparate(1,771,1,771);break;case wE:n.blendFunc(1,1);break;case _E:n.blendFuncSeparate(0,769,0,1);break;case AE:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",re);break}else switch(re){case cf:n.blendFuncSeparate(770,771,1,771);break;case wE:n.blendFunc(770,1);break;case _E:n.blendFuncSeparate(0,769,0,1);break;case AE:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",re);break}A=null,M=null,D=null,P=null,w=re,O=mn}return}st=st||Ae,rt=rt||Be,vt=vt||Ve,(Ae!==b||st!==I)&&(n.blendEquationSeparate(ae[Ae],ae[st]),b=Ae,I=st),(Be!==A||Ve!==M||rt!==D||vt!==P)&&(n.blendFuncSeparate(me[Be],me[Ve],me[rt],me[vt]),A=Be,M=Ve,D=rt,P=vt),w=re,O=null}function Ne(re,Ae){re.side===Fo?ie(2884):oe(2884);let Be=re.side===Es;Ae&&(Be=!Be),He(Be),re.blending===cf&&re.transparent===!1?xe(pl):xe(re.blending,re.blendEquation,re.blendSrc,re.blendDst,re.blendEquationAlpha,re.blendSrcAlpha,re.blendDstAlpha,re.premultipliedAlpha),l.setFunc(re.depthFunc),l.setTest(re.depthTest),l.setMask(re.depthWrite),a.setMask(re.colorWrite);const Ve=re.stencilWrite;u.setTest(Ve),Ve&&(u.setMask(re.stencilWriteMask),u.setFunc(re.stencilFunc,re.stencilRef,re.stencilFuncMask),u.setOp(re.stencilFail,re.stencilZFail,re.stencilZPass)),we(re.polygonOffset,re.polygonOffsetFactor,re.polygonOffsetUnits),re.alphaToCoverage===!0?oe(32926):ie(32926)}function He(re){V!==re&&(re?n.frontFace(2304):n.frontFace(2305),V=re)}function $e(re){re!==xO?(oe(2884),re!==q&&(re===bE?n.cullFace(1029):re===bO?n.cullFace(1028):n.cullFace(1032))):ie(2884),q=re}function ue(re){re!==ne&&(k&&n.lineWidth(re),ne=re)}function we(re,Ae,Be){re?(oe(32823),(H!==Ae||_!==Be)&&(n.polygonOffset(Ae,Be),H=Ae,_=Be)):ie(32823)}function Ce(re){re?oe(3089):ie(3089)}function ze(re){re===void 0&&(re=33984+T-1),F!==re&&(n.activeTexture(re),F=re)}function $(re,Ae,Be){Be===void 0&&(F===null?Be=33984+T-1:Be=F);let Ve=z[Be];Ve===void 0&&(Ve={type:void 0,texture:void 0},z[Be]=Ve),(Ve.type!==re||Ve.texture!==Ae)&&(F!==Be&&(n.activeTexture(Be),F=Be),n.bindTexture(re,Ae||K[re]),Ve.type=re,Ve.texture=Ae)}function W(){const re=z[F];re!==void 0&&re.type!==void 0&&(n.bindTexture(re.type,null),re.type=void 0,re.texture=void 0)}function le(){try{n.compressedTexImage2D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Re(){try{n.compressedTexImage3D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Te(){try{n.texSubImage2D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function ke(){try{n.texSubImage3D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Qe(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Oe(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function be(){try{n.texStorage2D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Ye(){try{n.texStorage3D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function ee(){try{n.texImage2D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function ge(){try{n.texImage3D.apply(n,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Ue(re){j.equals(re)===!1&&(n.scissor(re.x,re.y,re.z,re.w),j.copy(re))}function De(re){X.equals(re)===!1&&(n.viewport(re.x,re.y,re.z,re.w),X.copy(re))}function je(re,Ae){let Be=f.get(Ae);Be===void 0&&(Be=new WeakMap,f.set(Ae,Be));let Ve=Be.get(re);Ve===void 0&&(Ve=n.getUniformBlockIndex(Ae,re.name),Be.set(re,Ve))}function lt(re,Ae){const Ve=f.get(Ae).get(re);c.get(re)!==Ve&&(n.uniformBlockBinding(Ae,Ve,re.__bindingPointIndex),c.set(re,Ve))}function ht(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),d={},F=null,z={},m={},y=new WeakMap,g=[],v=null,x=!1,w=null,b=null,A=null,M=null,I=null,D=null,P=null,O=!1,V=null,q=null,ne=null,H=null,_=null,j.set(0,0,n.canvas.width,n.canvas.height),X.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:oe,disable:ie,bindFramebuffer:fe,drawBuffers:ce,useProgram:Ee,setBlending:xe,setMaterial:Ne,setFlipSided:He,setCullFace:$e,setLineWidth:ue,setPolygonOffset:we,setScissorTest:Ce,activeTexture:ze,bindTexture:$,unbindTexture:W,compressedTexImage2D:le,compressedTexImage3D:Re,texImage2D:ee,texImage3D:ge,updateUBOMapping:je,uniformBlockBinding:lt,texStorage2D:be,texStorage3D:Ye,texSubImage2D:Te,texSubImage3D:ke,compressedTexSubImage2D:Qe,compressedTexSubImage3D:Oe,scissor:Ue,viewport:De,reset:ht}}function hce(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,c=i.maxTextureSize,f=i.maxSamples,d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=/OculusBrowser/g.test(typeof navigator>"u"?"":navigator.userAgent),y=new WeakMap;let g;const v=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function w($,W){return x?new OffscreenCanvas($,W):Xm("canvas")}function b($,W,le,Re){let Te=1;if(($.width>Re||$.height>Re)&&(Te=Re/Math.max($.width,$.height)),Te<1||W===!0)if(typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap){const ke=W?mb:Math.floor,Qe=ke(Te*$.width),Oe=ke(Te*$.height);g===void 0&&(g=w(Qe,Oe));const be=le?w(Qe,Oe):g;return be.width=Qe,be.height=Oe,be.getContext("2d").drawImage($,0,0,Qe,Oe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+$.width+"x"+$.height+") to ("+Qe+"x"+Oe+")."),be}else return"data"in $&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+$.width+"x"+$.height+")."),$;return $}function A($){return JE($.width)&&JE($.height)}function M($){return a?!1:$.wrapS!==ti||$.wrapT!==ti||$.minFilter!==hr&&$.minFilter!==Ln}function I($,W){return $.generateMipmaps&&W&&$.minFilter!==hr&&$.minFilter!==Ln}function D($){n.generateMipmap($)}function P($,W,le,Re,Te=!1){if(a===!1)return W;if($!==null){if(n[$]!==void 0)return n[$];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+$+"'")}let ke=W;return W===6403&&(le===5126&&(ke=33326),le===5131&&(ke=33325),le===5121&&(ke=33321)),W===33319&&(le===5126&&(ke=33328),le===5131&&(ke=33327),le===5121&&(ke=33323)),W===6408&&(le===5126&&(ke=34836),le===5131&&(ke=34842),le===5121&&(ke=Re===on&&Te===!1?35907:32856),le===32819&&(ke=32854),le===32820&&(ke=32855)),(ke===33325||ke===33326||ke===33327||ke===33328||ke===34842||ke===34836)&&e.get("EXT_color_buffer_float"),ke}function O($,W,le){return I($,le)===!0||$.isFramebufferTexture&&$.minFilter!==hr&&$.minFilter!==Ln?Math.log2(Math.max(W.width,W.height))+1:$.mipmaps!==void 0&&$.mipmaps.length>0?$.mipmaps.length:$.isCompressedTexture&&Array.isArray($.image)?W.mipmaps.length:1}function V($){return $===hr||$===Wm||$===qm?9728:9729}function q($){const W=$.target;W.removeEventListener("dispose",q),H(W),W.isVideoTexture&&y.delete(W)}function ne($){const W=$.target;W.removeEventListener("dispose",ne),T(W)}function H($){const W=r.get($);if(W.__webglInit===void 0)return;const le=$.source,Re=v.get(le);if(Re){const Te=Re[W.__cacheKey];Te.usedTimes--,Te.usedTimes===0&&_($),Object.keys(Re).length===0&&v.delete(le)}r.remove($)}function _($){const W=r.get($);n.deleteTexture(W.__webglTexture);const le=$.source,Re=v.get(le);delete Re[W.__cacheKey],o.memory.textures--}function T($){const W=$.texture,le=r.get($),Re=r.get(W);if(Re.__webglTexture!==void 0&&(n.deleteTexture(Re.__webglTexture),o.memory.textures--),$.depthTexture&&$.depthTexture.dispose(),$.isWebGLCubeRenderTarget)for(let Te=0;Te<6;Te++)n.deleteFramebuffer(le.__webglFramebuffer[Te]),le.__webglDepthbuffer&&n.deleteRenderbuffer(le.__webglDepthbuffer[Te]);else{if(n.deleteFramebuffer(le.__webglFramebuffer),le.__webglDepthbuffer&&n.deleteRenderbuffer(le.__webglDepthbuffer),le.__webglMultisampledFramebuffer&&n.deleteFramebuffer(le.__webglMultisampledFramebuffer),le.__webglColorRenderbuffer)for(let Te=0;Te<le.__webglColorRenderbuffer.length;Te++)le.__webglColorRenderbuffer[Te]&&n.deleteRenderbuffer(le.__webglColorRenderbuffer[Te]);le.__webglDepthRenderbuffer&&n.deleteRenderbuffer(le.__webglDepthRenderbuffer)}if($.isWebGLMultipleRenderTargets)for(let Te=0,ke=W.length;Te<ke;Te++){const Qe=r.get(W[Te]);Qe.__webglTexture&&(n.deleteTexture(Qe.__webglTexture),o.memory.textures--),r.remove(W[Te])}r.remove(W),r.remove($)}let k=0;function U(){k=0}function L(){const $=k;return $>=l&&console.warn("THREE.WebGLTextures: Trying to use "+$+" texture units while this GPU supports only "+l),k+=1,$}function F($){const W=[];return W.push($.wrapS),W.push($.wrapT),W.push($.wrapR||0),W.push($.magFilter),W.push($.minFilter),W.push($.anisotropy),W.push($.internalFormat),W.push($.format),W.push($.type),W.push($.generateMipmaps),W.push($.premultiplyAlpha),W.push($.flipY),W.push($.unpackAlignment),W.push($.encoding),W.join()}function z($,W){const le=r.get($);if($.isVideoTexture&&Ce($),$.isRenderTargetTexture===!1&&$.version>0&&le.__version!==$.version){const Re=$.image;if(Re===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Re.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ie(le,$,W);return}}t.bindTexture(3553,le.__webglTexture,33984+W)}function B($,W){const le=r.get($);if($.version>0&&le.__version!==$.version){ie(le,$,W);return}t.bindTexture(35866,le.__webglTexture,33984+W)}function E($,W){const le=r.get($);if($.version>0&&le.__version!==$.version){ie(le,$,W);return}t.bindTexture(32879,le.__webglTexture,33984+W)}function j($,W){const le=r.get($);if($.version>0&&le.__version!==$.version){fe(le,$,W);return}t.bindTexture(34067,le.__webglTexture,33984+W)}const X={[Ju]:10497,[ti]:33071,[Uh]:33648},N={[hr]:9728,[Wm]:9984,[qm]:9986,[Ln]:9729,[vw]:9985,[Ol]:9987};function K($,W,le){if(le?(n.texParameteri($,10242,X[W.wrapS]),n.texParameteri($,10243,X[W.wrapT]),($===32879||$===35866)&&n.texParameteri($,32882,X[W.wrapR]),n.texParameteri($,10240,N[W.magFilter]),n.texParameteri($,10241,N[W.minFilter])):(n.texParameteri($,10242,33071),n.texParameteri($,10243,33071),($===32879||$===35866)&&n.texParameteri($,32882,33071),(W.wrapS!==ti||W.wrapT!==ti)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri($,10240,V(W.magFilter)),n.texParameteri($,10241,V(W.minFilter)),W.minFilter!==hr&&W.minFilter!==Ln&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Re=e.get("EXT_texture_filter_anisotropic");if(W.type===so&&e.has("OES_texture_float_linear")===!1||a===!1&&W.type===Uo&&e.has("OES_texture_half_float_linear")===!1)return;(W.anisotropy>1||r.get(W).__currentAnisotropy)&&(n.texParameterf($,Re.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(W.anisotropy,i.getMaxAnisotropy())),r.get(W).__currentAnisotropy=W.anisotropy)}}function oe($,W){let le=!1;$.__webglInit===void 0&&($.__webglInit=!0,W.addEventListener("dispose",q));const Re=W.source;let Te=v.get(Re);Te===void 0&&(Te={},v.set(Re,Te));const ke=F(W);if(ke!==$.__cacheKey){Te[ke]===void 0&&(Te[ke]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,le=!0),Te[ke].usedTimes++;const Qe=Te[$.__cacheKey];Qe!==void 0&&(Te[$.__cacheKey].usedTimes--,Qe.usedTimes===0&&_(W)),$.__cacheKey=ke,$.__webglTexture=Te[ke].texture}return le}function ie($,W,le){let Re=3553;(W.isDataArrayTexture||W.isCompressedArrayTexture)&&(Re=35866),W.isData3DTexture&&(Re=32879);const Te=oe($,W),ke=W.source;t.bindTexture(Re,$.__webglTexture,33984+le);const Qe=r.get(ke);if(ke.version!==Qe.__version||Te===!0){t.activeTexture(33984+le),n.pixelStorei(37440,W.flipY),n.pixelStorei(37441,W.premultiplyAlpha),n.pixelStorei(3317,W.unpackAlignment),n.pixelStorei(37443,0);const Oe=M(W)&&A(W.image)===!1;let be=b(W.image,Oe,!1,c);be=ze(W,be);const Ye=A(be)||a,ee=s.convert(W.format,W.encoding);let ge=s.convert(W.type),Ue=P(W.internalFormat,ee,ge,W.encoding,W.isVideoTexture);K(Re,W,Ye);let De;const je=W.mipmaps,lt=a&&W.isVideoTexture!==!0,ht=Qe.__version===void 0||Te===!0,re=O(W,be,Ye);if(W.isDepthTexture)Ue=6402,a?W.type===so?Ue=36012:W.type===Cu?Ue=33190:W.type===ff?Ue=35056:Ue=33189:W.type===so&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),W.format===Uu&&Ue===6402&&W.type!==W6&&W.type!==Cu&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),W.type=Cu,ge=s.convert(W.type)),W.format===If&&Ue===6402&&(Ue=34041,W.type!==ff&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),W.type=ff,ge=s.convert(W.type))),ht&&(lt?t.texStorage2D(3553,1,Ue,be.width,be.height):t.texImage2D(3553,0,Ue,be.width,be.height,0,ee,ge,null));else if(W.isDataTexture)if(je.length>0&&Ye){lt&&ht&&t.texStorage2D(3553,re,Ue,je[0].width,je[0].height);for(let Ae=0,Be=je.length;Ae<Be;Ae++)De=je[Ae],lt?t.texSubImage2D(3553,Ae,0,0,De.width,De.height,ee,ge,De.data):t.texImage2D(3553,Ae,Ue,De.width,De.height,0,ee,ge,De.data);W.generateMipmaps=!1}else lt?(ht&&t.texStorage2D(3553,re,Ue,be.width,be.height),t.texSubImage2D(3553,0,0,0,be.width,be.height,ee,ge,be.data)):t.texImage2D(3553,0,Ue,be.width,be.height,0,ee,ge,be.data);else if(W.isCompressedTexture)if(W.isCompressedArrayTexture){lt&&ht&&t.texStorage3D(35866,re,Ue,je[0].width,je[0].height,be.depth);for(let Ae=0,Be=je.length;Ae<Be;Ae++)De=je[Ae],W.format!==bs?ee!==null?lt?t.compressedTexSubImage3D(35866,Ae,0,0,0,De.width,De.height,be.depth,ee,De.data,0,0):t.compressedTexImage3D(35866,Ae,Ue,De.width,De.height,be.depth,0,De.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):lt?t.texSubImage3D(35866,Ae,0,0,0,De.width,De.height,be.depth,ee,ge,De.data):t.texImage3D(35866,Ae,Ue,De.width,De.height,be.depth,0,ee,ge,De.data)}else{lt&&ht&&t.texStorage2D(3553,re,Ue,je[0].width,je[0].height);for(let Ae=0,Be=je.length;Ae<Be;Ae++)De=je[Ae],W.format!==bs?ee!==null?lt?t.compressedTexSubImage2D(3553,Ae,0,0,De.width,De.height,ee,De.data):t.compressedTexImage2D(3553,Ae,Ue,De.width,De.height,0,De.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):lt?t.texSubImage2D(3553,Ae,0,0,De.width,De.height,ee,ge,De.data):t.texImage2D(3553,Ae,Ue,De.width,De.height,0,ee,ge,De.data)}else if(W.isDataArrayTexture)lt?(ht&&t.texStorage3D(35866,re,Ue,be.width,be.height,be.depth),t.texSubImage3D(35866,0,0,0,0,be.width,be.height,be.depth,ee,ge,be.data)):t.texImage3D(35866,0,Ue,be.width,be.height,be.depth,0,ee,ge,be.data);else if(W.isData3DTexture)lt?(ht&&t.texStorage3D(32879,re,Ue,be.width,be.height,be.depth),t.texSubImage3D(32879,0,0,0,0,be.width,be.height,be.depth,ee,ge,be.data)):t.texImage3D(32879,0,Ue,be.width,be.height,be.depth,0,ee,ge,be.data);else if(W.isFramebufferTexture){if(ht)if(lt)t.texStorage2D(3553,re,Ue,be.width,be.height);else{let Ae=be.width,Be=be.height;for(let Ve=0;Ve<re;Ve++)t.texImage2D(3553,Ve,Ue,Ae,Be,0,ee,ge,null),Ae>>=1,Be>>=1}}else if(je.length>0&&Ye){lt&&ht&&t.texStorage2D(3553,re,Ue,je[0].width,je[0].height);for(let Ae=0,Be=je.length;Ae<Be;Ae++)De=je[Ae],lt?t.texSubImage2D(3553,Ae,0,0,ee,ge,De):t.texImage2D(3553,Ae,Ue,ee,ge,De);W.generateMipmaps=!1}else lt?(ht&&t.texStorage2D(3553,re,Ue,be.width,be.height),t.texSubImage2D(3553,0,0,0,ee,ge,be)):t.texImage2D(3553,0,Ue,ee,ge,be);I(W,Ye)&&D(Re),Qe.__version=ke.version,W.onUpdate&&W.onUpdate(W)}$.__version=W.version}function fe($,W,le){if(W.image.length!==6)return;const Re=oe($,W),Te=W.source;t.bindTexture(34067,$.__webglTexture,33984+le);const ke=r.get(Te);if(Te.version!==ke.__version||Re===!0){t.activeTexture(33984+le),n.pixelStorei(37440,W.flipY),n.pixelStorei(37441,W.premultiplyAlpha),n.pixelStorei(3317,W.unpackAlignment),n.pixelStorei(37443,0);const Qe=W.isCompressedTexture||W.image[0].isCompressedTexture,Oe=W.image[0]&&W.image[0].isDataTexture,be=[];for(let Ae=0;Ae<6;Ae++)!Qe&&!Oe?be[Ae]=b(W.image[Ae],!1,!0,u):be[Ae]=Oe?W.image[Ae].image:W.image[Ae],be[Ae]=ze(W,be[Ae]);const Ye=be[0],ee=A(Ye)||a,ge=s.convert(W.format,W.encoding),Ue=s.convert(W.type),De=P(W.internalFormat,ge,Ue,W.encoding),je=a&&W.isVideoTexture!==!0,lt=ke.__version===void 0||Re===!0;let ht=O(W,Ye,ee);K(34067,W,ee);let re;if(Qe){je&&lt&&t.texStorage2D(34067,ht,De,Ye.width,Ye.height);for(let Ae=0;Ae<6;Ae++){re=be[Ae].mipmaps;for(let Be=0;Be<re.length;Be++){const Ve=re[Be];W.format!==bs?ge!==null?je?t.compressedTexSubImage2D(34069+Ae,Be,0,0,Ve.width,Ve.height,ge,Ve.data):t.compressedTexImage2D(34069+Ae,Be,De,Ve.width,Ve.height,0,Ve.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):je?t.texSubImage2D(34069+Ae,Be,0,0,Ve.width,Ve.height,ge,Ue,Ve.data):t.texImage2D(34069+Ae,Be,De,Ve.width,Ve.height,0,ge,Ue,Ve.data)}}}else{re=W.mipmaps,je&&lt&&(re.length>0&&ht++,t.texStorage2D(34067,ht,De,be[0].width,be[0].height));for(let Ae=0;Ae<6;Ae++)if(Oe){je?t.texSubImage2D(34069+Ae,0,0,0,be[Ae].width,be[Ae].height,ge,Ue,be[Ae].data):t.texImage2D(34069+Ae,0,De,be[Ae].width,be[Ae].height,0,ge,Ue,be[Ae].data);for(let Be=0;Be<re.length;Be++){const st=re[Be].image[Ae].image;je?t.texSubImage2D(34069+Ae,Be+1,0,0,st.width,st.height,ge,Ue,st.data):t.texImage2D(34069+Ae,Be+1,De,st.width,st.height,0,ge,Ue,st.data)}}else{je?t.texSubImage2D(34069+Ae,0,0,0,ge,Ue,be[Ae]):t.texImage2D(34069+Ae,0,De,ge,Ue,be[Ae]);for(let Be=0;Be<re.length;Be++){const Ve=re[Be];je?t.texSubImage2D(34069+Ae,Be+1,0,0,ge,Ue,Ve.image[Ae]):t.texImage2D(34069+Ae,Be+1,De,ge,Ue,Ve.image[Ae])}}}I(W,ee)&&D(34067),ke.__version=Te.version,W.onUpdate&&W.onUpdate(W)}$.__version=W.version}function ce($,W,le,Re,Te){const ke=s.convert(le.format,le.encoding),Qe=s.convert(le.type),Oe=P(le.internalFormat,ke,Qe,le.encoding);r.get(W).__hasExternalTextures||(Te===32879||Te===35866?t.texImage3D(Te,0,Oe,W.width,W.height,W.depth,0,ke,Qe,null):t.texImage2D(Te,0,Oe,W.width,W.height,0,ke,Qe,null)),t.bindFramebuffer(36160,$),we(W)?d.framebufferTexture2DMultisampleEXT(36160,Re,Te,r.get(le).__webglTexture,0,ue(W)):(Te===3553||Te>=34069&&Te<=34074)&&n.framebufferTexture2D(36160,Re,Te,r.get(le).__webglTexture,0),t.bindFramebuffer(36160,null)}function Ee($,W,le){if(n.bindRenderbuffer(36161,$),W.depthBuffer&&!W.stencilBuffer){let Re=33189;if(le||we(W)){const Te=W.depthTexture;Te&&Te.isDepthTexture&&(Te.type===so?Re=36012:Te.type===Cu&&(Re=33190));const ke=ue(W);we(W)?d.renderbufferStorageMultisampleEXT(36161,ke,Re,W.width,W.height):n.renderbufferStorageMultisample(36161,ke,Re,W.width,W.height)}else n.renderbufferStorage(36161,Re,W.width,W.height);n.framebufferRenderbuffer(36160,36096,36161,$)}else if(W.depthBuffer&&W.stencilBuffer){const Re=ue(W);le&&we(W)===!1?n.renderbufferStorageMultisample(36161,Re,35056,W.width,W.height):we(W)?d.renderbufferStorageMultisampleEXT(36161,Re,35056,W.width,W.height):n.renderbufferStorage(36161,34041,W.width,W.height),n.framebufferRenderbuffer(36160,33306,36161,$)}else{const Re=W.isWebGLMultipleRenderTargets===!0?W.texture:[W.texture];for(let Te=0;Te<Re.length;Te++){const ke=Re[Te],Qe=s.convert(ke.format,ke.encoding),Oe=s.convert(ke.type),be=P(ke.internalFormat,Qe,Oe,ke.encoding),Ye=ue(W);le&&we(W)===!1?n.renderbufferStorageMultisample(36161,Ye,be,W.width,W.height):we(W)?d.renderbufferStorageMultisampleEXT(36161,Ye,be,W.width,W.height):n.renderbufferStorage(36161,be,W.width,W.height)}}n.bindRenderbuffer(36161,null)}function ae($,W){if(W&&W.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,$),!(W.depthTexture&&W.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(W.depthTexture).__webglTexture||W.depthTexture.image.width!==W.width||W.depthTexture.image.height!==W.height)&&(W.depthTexture.image.width=W.width,W.depthTexture.image.height=W.height,W.depthTexture.needsUpdate=!0),z(W.depthTexture,0);const Re=r.get(W.depthTexture).__webglTexture,Te=ue(W);if(W.depthTexture.format===Uu)we(W)?d.framebufferTexture2DMultisampleEXT(36160,36096,3553,Re,0,Te):n.framebufferTexture2D(36160,36096,3553,Re,0);else if(W.depthTexture.format===If)we(W)?d.framebufferTexture2DMultisampleEXT(36160,33306,3553,Re,0,Te):n.framebufferTexture2D(36160,33306,3553,Re,0);else throw new Error("Unknown depthTexture format")}function me($){const W=r.get($),le=$.isWebGLCubeRenderTarget===!0;if($.depthTexture&&!W.__autoAllocateDepthBuffer){if(le)throw new Error("target.depthTexture not supported in Cube render targets");ae(W.__webglFramebuffer,$)}else if(le){W.__webglDepthbuffer=[];for(let Re=0;Re<6;Re++)t.bindFramebuffer(36160,W.__webglFramebuffer[Re]),W.__webglDepthbuffer[Re]=n.createRenderbuffer(),Ee(W.__webglDepthbuffer[Re],$,!1)}else t.bindFramebuffer(36160,W.__webglFramebuffer),W.__webglDepthbuffer=n.createRenderbuffer(),Ee(W.__webglDepthbuffer,$,!1);t.bindFramebuffer(36160,null)}function xe($,W,le){const Re=r.get($);W!==void 0&&ce(Re.__webglFramebuffer,$,$.texture,36064,3553),le!==void 0&&me($)}function Ne($){const W=$.texture,le=r.get($),Re=r.get(W);$.addEventListener("dispose",ne),$.isWebGLMultipleRenderTargets!==!0&&(Re.__webglTexture===void 0&&(Re.__webglTexture=n.createTexture()),Re.__version=W.version,o.memory.textures++);const Te=$.isWebGLCubeRenderTarget===!0,ke=$.isWebGLMultipleRenderTargets===!0,Qe=A($)||a;if(Te){le.__webglFramebuffer=[];for(let Oe=0;Oe<6;Oe++)le.__webglFramebuffer[Oe]=n.createFramebuffer()}else{if(le.__webglFramebuffer=n.createFramebuffer(),ke)if(i.drawBuffers){const Oe=$.texture;for(let be=0,Ye=Oe.length;be<Ye;be++){const ee=r.get(Oe[be]);ee.__webglTexture===void 0&&(ee.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&$.samples>0&&we($)===!1){const Oe=ke?W:[W];le.__webglMultisampledFramebuffer=n.createFramebuffer(),le.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,le.__webglMultisampledFramebuffer);for(let be=0;be<Oe.length;be++){const Ye=Oe[be];le.__webglColorRenderbuffer[be]=n.createRenderbuffer(),n.bindRenderbuffer(36161,le.__webglColorRenderbuffer[be]);const ee=s.convert(Ye.format,Ye.encoding),ge=s.convert(Ye.type),Ue=P(Ye.internalFormat,ee,ge,Ye.encoding,$.isXRRenderTarget===!0),De=ue($);n.renderbufferStorageMultisample(36161,De,Ue,$.width,$.height),n.framebufferRenderbuffer(36160,36064+be,36161,le.__webglColorRenderbuffer[be])}n.bindRenderbuffer(36161,null),$.depthBuffer&&(le.__webglDepthRenderbuffer=n.createRenderbuffer(),Ee(le.__webglDepthRenderbuffer,$,!0)),t.bindFramebuffer(36160,null)}}if(Te){t.bindTexture(34067,Re.__webglTexture),K(34067,W,Qe);for(let Oe=0;Oe<6;Oe++)ce(le.__webglFramebuffer[Oe],$,W,36064,34069+Oe);I(W,Qe)&&D(34067),t.unbindTexture()}else if(ke){const Oe=$.texture;for(let be=0,Ye=Oe.length;be<Ye;be++){const ee=Oe[be],ge=r.get(ee);t.bindTexture(3553,ge.__webglTexture),K(3553,ee,Qe),ce(le.__webglFramebuffer,$,ee,36064+be,3553),I(ee,Qe)&&D(3553)}t.unbindTexture()}else{let Oe=3553;($.isWebGL3DRenderTarget||$.isWebGLArrayRenderTarget)&&(a?Oe=$.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Oe,Re.__webglTexture),K(Oe,W,Qe),ce(le.__webglFramebuffer,$,W,36064,Oe),I(W,Qe)&&D(Oe),t.unbindTexture()}$.depthBuffer&&me($)}function He($){const W=A($)||a,le=$.isWebGLMultipleRenderTargets===!0?$.texture:[$.texture];for(let Re=0,Te=le.length;Re<Te;Re++){const ke=le[Re];if(I(ke,W)){const Qe=$.isWebGLCubeRenderTarget?34067:3553,Oe=r.get(ke).__webglTexture;t.bindTexture(Qe,Oe),D(Qe),t.unbindTexture()}}}function $e($){if(a&&$.samples>0&&we($)===!1){const W=$.isWebGLMultipleRenderTargets?$.texture:[$.texture],le=$.width,Re=$.height;let Te=16384;const ke=[],Qe=$.stencilBuffer?33306:36096,Oe=r.get($),be=$.isWebGLMultipleRenderTargets===!0;if(be)for(let Ye=0;Ye<W.length;Ye++)t.bindFramebuffer(36160,Oe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Ye,36161,null),t.bindFramebuffer(36160,Oe.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Ye,3553,null,0);t.bindFramebuffer(36008,Oe.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Oe.__webglFramebuffer);for(let Ye=0;Ye<W.length;Ye++){ke.push(36064+Ye),$.depthBuffer&&ke.push(Qe);const ee=Oe.__ignoreDepthValues!==void 0?Oe.__ignoreDepthValues:!1;if(ee===!1&&($.depthBuffer&&(Te|=256),$.stencilBuffer&&(Te|=1024)),be&&n.framebufferRenderbuffer(36008,36064,36161,Oe.__webglColorRenderbuffer[Ye]),ee===!0&&(n.invalidateFramebuffer(36008,[Qe]),n.invalidateFramebuffer(36009,[Qe])),be){const ge=r.get(W[Ye]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,ge,0)}n.blitFramebuffer(0,0,le,Re,0,0,le,Re,Te,9728),m&&n.invalidateFramebuffer(36008,ke)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),be)for(let Ye=0;Ye<W.length;Ye++){t.bindFramebuffer(36160,Oe.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Ye,36161,Oe.__webglColorRenderbuffer[Ye]);const ee=r.get(W[Ye]).__webglTexture;t.bindFramebuffer(36160,Oe.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Ye,3553,ee,0)}t.bindFramebuffer(36009,Oe.__webglMultisampledFramebuffer)}}function ue($){return Math.min(f,$.samples)}function we($){const W=r.get($);return a&&$.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&W.__useRenderToTexture!==!1}function Ce($){const W=o.render.frame;y.get($)!==W&&(y.set($,W),$.update())}function ze($,W){const le=$.encoding,Re=$.format,Te=$.type;return $.isCompressedTexture===!0||$.isVideoTexture===!0||$.format===pb||le!==Wo&&(le===on?a===!1?e.has("EXT_sRGB")===!0&&Re===bs?($.format=pb,$.minFilter=Ln,$.generateMipmaps=!1):W=$6.sRGBToLinear(W):(Re!==bs||Te!==$u)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",le)),W}this.allocateTextureUnit=L,this.resetTextureUnits=U,this.setTexture2D=z,this.setTexture2DArray=B,this.setTexture3D=E,this.setTextureCube=j,this.rebindTextures=xe,this.setupRenderTarget=Ne,this.updateRenderTargetMipmap=He,this.updateMultisampleRenderTarget=$e,this.setupDepthRenderbuffer=me,this.setupFrameBufferTexture=ce,this.useMultisampledRTT=we}function CF(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===$u)return 5121;if(s===$O)return 32819;if(s===XO)return 32820;if(s===qO)return 5120;if(s===KO)return 5122;if(s===W6)return 5123;if(s===JO)return 5124;if(s===Cu)return 5125;if(s===so)return 5126;if(s===Uo)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===YO)return 6406;if(s===bs)return 6408;if(s===ZO)return 6409;if(s===eF)return 6410;if(s===Uu)return 6402;if(s===If)return 34041;if(s===tF)return 6403;if(s===QO)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===pb)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===nF)return 36244;if(s===rF)return 33319;if(s===iF)return 33320;if(s===sF)return 36249;if(s===f1||s===d1||s===h1||s===p1)if(o===on)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===f1)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===d1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===h1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===p1)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===f1)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===d1)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===h1)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===p1)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===CE||s===ME||s===TE||s===PE)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===CE)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===ME)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===TE)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===PE)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===oF)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===IE||s===RE)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===IE)return o===on?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===RE)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===BE||s===kE||s===NE||s===LE||s===DE||s===OE||s===FE||s===UE||s===zE||s===GE||s===HE||s===jE||s===VE||s===WE)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===BE)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===kE)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===NE)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===LE)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===DE)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===OE)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===FE)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===UE)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===zE)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===GE)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===HE)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===jE)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===VE)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===WE)return o===on?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===qE)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===qE)return o===on?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===ff?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class MF extends Dn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class dl extends un{constructor(){super(),this.isGroup=!0,this.type="Group"}}const pce={type:"move"};class S3{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new dl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new dl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Y,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Y),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new dl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Y,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Y),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const g of e.hand.values()){const v=t.getJointPose(g,r);if(u.joints[g.jointName]===void 0){const w=new dl;w.matrixAutoUpdate=!1,w.visible=!1,u.joints[g.jointName]=w,u.add(w)}const x=u.joints[g.jointName];v!==null&&(x.matrix.fromArray(v.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.jointRadius=v.radius),x.visible=v!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],d=c.position.distanceTo(f.position),m=.02,y=.005;u.inputState.pinching&&d>m+y?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&d<=m-y&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(pce)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}}class TF extends ar{constructor(e,t,r,i,s,o,a,l,u,c){if(c=c!==void 0?c:Uu,c!==Uu&&c!==If)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===Uu&&(r=Cu),r===void 0&&c===If&&(r=ff),super(null,i,s,o,a,l,c,r,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:hr,this.minFilter=l!==void 0?l:hr,this.flipY=!1,this.generateMipmaps=!1}}class mce extends La{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=null,u=null,c=null,f=null,d=null,m=null;const y=t.getContextAttributes();let g=null,v=null;const x=[],w=[],b=new Dn;b.layers.enable(1),b.viewport=new yn;const A=new Dn;A.layers.enable(2),A.viewport=new yn;const M=[b,A],I=new MF;I.layers.enable(1),I.layers.enable(2);let D=null,P=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(F){let z=x[F];return z===void 0&&(z=new S3,x[F]=z),z.getTargetRaySpace()},this.getControllerGrip=function(F){let z=x[F];return z===void 0&&(z=new S3,x[F]=z),z.getGripSpace()},this.getHand=function(F){let z=x[F];return z===void 0&&(z=new S3,x[F]=z),z.getHandSpace()};function O(F){const z=w.indexOf(F.inputSource);if(z===-1)return;const B=x[z];B!==void 0&&B.dispatchEvent({type:F.type,data:F.inputSource})}function V(){i.removeEventListener("select",O),i.removeEventListener("selectstart",O),i.removeEventListener("selectend",O),i.removeEventListener("squeeze",O),i.removeEventListener("squeezestart",O),i.removeEventListener("squeezeend",O),i.removeEventListener("end",V),i.removeEventListener("inputsourceschange",q);for(let F=0;F<x.length;F++){const z=w[F];z!==null&&(w[F]=null,x[F].disconnect(z))}D=null,P=null,e.setRenderTarget(g),d=null,f=null,c=null,i=null,v=null,L.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(F){s=F,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(F){a=F,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(F){l=F},this.getBaseLayer=function(){return f!==null?f:d},this.getBinding=function(){return c},this.getFrame=function(){return m},this.getSession=function(){return i},this.setSession=async function(F){if(i=F,i!==null){if(g=e.getRenderTarget(),i.addEventListener("select",O),i.addEventListener("selectstart",O),i.addEventListener("selectend",O),i.addEventListener("squeeze",O),i.addEventListener("squeezestart",O),i.addEventListener("squeezeend",O),i.addEventListener("end",V),i.addEventListener("inputsourceschange",q),y.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const z={antialias:i.renderState.layers===void 0?y.antialias:!0,alpha:y.alpha,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};d=new XRWebGLLayer(i,t,z),i.updateRenderState({baseLayer:d}),v=new os(d.framebufferWidth,d.framebufferHeight,{format:bs,type:$u,encoding:e.outputEncoding,stencilBuffer:y.stencil})}else{let z=null,B=null,E=null;y.depth&&(E=y.stencil?35056:33190,z=y.stencil?If:Uu,B=y.stencil?ff:Cu);const j={colorFormat:32856,depthFormat:E,scaleFactor:s};c=new XRWebGLBinding(i,t),f=c.createProjectionLayer(j),i.updateRenderState({layers:[f]}),v=new os(f.textureWidth,f.textureHeight,{format:bs,type:$u,depthTexture:new TF(f.textureWidth,f.textureHeight,B,void 0,void 0,void 0,void 0,void 0,void 0,z),stencilBuffer:y.stencil,encoding:e.outputEncoding,samples:y.antialias?4:0});const X=e.properties.get(v);X.__ignoreDepthValues=f.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await i.requestReferenceSpace(a),L.setContext(i),L.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function q(F){for(let z=0;z<F.removed.length;z++){const B=F.removed[z],E=w.indexOf(B);E>=0&&(w[E]=null,x[E].dispatchEvent({type:"disconnected",data:B}))}for(let z=0;z<F.added.length;z++){const B=F.added[z];let E=w.indexOf(B);if(E===-1){for(let X=0;X<x.length;X++)if(X>=w.length){w.push(B),E=X;break}else if(w[X]===null){w[X]=B,E=X;break}if(E===-1)break}const j=x[E];j&&j.dispatchEvent({type:"connected",data:B})}}const ne=new Y,H=new Y;function _(F,z,B){ne.setFromMatrixPosition(z.matrixWorld),H.setFromMatrixPosition(B.matrixWorld);const E=ne.distanceTo(H),j=z.projectionMatrix.elements,X=B.projectionMatrix.elements,N=j[14]/(j[10]-1),K=j[14]/(j[10]+1),oe=(j[9]+1)/j[5],ie=(j[9]-1)/j[5],fe=(j[8]-1)/j[0],ce=(X[8]+1)/X[0],Ee=N*fe,ae=N*ce,me=E/(-fe+ce),xe=me*-fe;z.matrixWorld.decompose(F.position,F.quaternion,F.scale),F.translateX(xe),F.translateZ(me),F.matrixWorld.compose(F.position,F.quaternion,F.scale),F.matrixWorldInverse.copy(F.matrixWorld).invert();const Ne=N+me,He=K+me,$e=Ee-xe,ue=ae+(E-xe),we=oe*K/He*Ne,Ce=ie*K/He*Ne;F.projectionMatrix.makePerspective($e,ue,we,Ce,Ne,He)}function T(F,z){z===null?F.matrixWorld.copy(F.matrix):F.matrixWorld.multiplyMatrices(z.matrixWorld,F.matrix),F.matrixWorldInverse.copy(F.matrixWorld).invert()}this.updateCamera=function(F){if(i===null)return;I.near=A.near=b.near=F.near,I.far=A.far=b.far=F.far,(D!==I.near||P!==I.far)&&(i.updateRenderState({depthNear:I.near,depthFar:I.far}),D=I.near,P=I.far);const z=F.parent,B=I.cameras;T(I,z);for(let j=0;j<B.length;j++)T(B[j],z);I.matrixWorld.decompose(I.position,I.quaternion,I.scale),F.matrix.copy(I.matrix),F.matrix.decompose(F.position,F.quaternion,F.scale);const E=F.children;for(let j=0,X=E.length;j<X;j++)E[j].updateMatrixWorld(!0);B.length===2?_(I,b,A):I.projectionMatrix.copy(b.projectionMatrix)},this.getCamera=function(){return I},this.getFoveation=function(){if(f!==null)return f.fixedFoveation;if(d!==null)return d.fixedFoveation},this.setFoveation=function(F){f!==null&&(f.fixedFoveation=F),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=F)};let k=null;function U(F,z){if(u=z.getViewerPose(l||o),m=z,u!==null){const B=u.views;d!==null&&(e.setRenderTargetFramebuffer(v,d.framebuffer),e.setRenderTarget(v));let E=!1;B.length!==I.cameras.length&&(I.cameras.length=0,E=!0);for(let j=0;j<B.length;j++){const X=B[j];let N=null;if(d!==null)N=d.getViewport(X);else{const oe=c.getViewSubImage(f,X);N=oe.viewport,j===0&&(e.setRenderTargetTextures(v,oe.colorTexture,f.ignoreDepthValues?void 0:oe.depthStencilTexture),e.setRenderTarget(v))}let K=M[j];K===void 0&&(K=new Dn,K.layers.enable(j),K.viewport=new yn,M[j]=K),K.matrix.fromArray(X.transform.matrix),K.projectionMatrix.fromArray(X.projectionMatrix),K.viewport.set(N.x,N.y,N.width,N.height),j===0&&I.matrix.copy(K.matrix),E===!0&&I.cameras.push(K)}}for(let B=0;B<x.length;B++){const E=w[B],j=x[B];E!==null&&j!==void 0&&j.update(E,z,l||o)}k&&k(F,z),m=null}const L=new wF;L.setAnimationLoop(U),this.setAnimationLoop=function(F){k=F},this.dispose=function(){}}}function gce(n,e){function t(g,v){g.fogColor.value.copy(v.color),v.isFog?(g.fogNear.value=v.near,g.fogFar.value=v.far):v.isFogExp2&&(g.fogDensity.value=v.density)}function r(g,v,x,w,b){v.isMeshBasicMaterial||v.isMeshLambertMaterial?i(g,v):v.isMeshToonMaterial?(i(g,v),c(g,v)):v.isMeshPhongMaterial?(i(g,v),u(g,v)):v.isMeshStandardMaterial?(i(g,v),f(g,v),v.isMeshPhysicalMaterial&&d(g,v,b)):v.isMeshMatcapMaterial?(i(g,v),m(g,v)):v.isMeshDepthMaterial?i(g,v):v.isMeshDistanceMaterial?(i(g,v),y(g,v)):v.isMeshNormalMaterial?i(g,v):v.isLineBasicMaterial?(s(g,v),v.isLineDashedMaterial&&o(g,v)):v.isPointsMaterial?a(g,v,x,w):v.isSpriteMaterial?l(g,v):v.isShadowMaterial?(g.color.value.copy(v.color),g.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function i(g,v){g.opacity.value=v.opacity,v.color&&g.diffuse.value.copy(v.color),v.emissive&&g.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(g.map.value=v.map),v.alphaMap&&(g.alphaMap.value=v.alphaMap),v.bumpMap&&(g.bumpMap.value=v.bumpMap,g.bumpScale.value=v.bumpScale,v.side===Es&&(g.bumpScale.value*=-1)),v.displacementMap&&(g.displacementMap.value=v.displacementMap,g.displacementScale.value=v.displacementScale,g.displacementBias.value=v.displacementBias),v.emissiveMap&&(g.emissiveMap.value=v.emissiveMap),v.normalMap&&(g.normalMap.value=v.normalMap,g.normalScale.value.copy(v.normalScale),v.side===Es&&g.normalScale.value.negate()),v.specularMap&&(g.specularMap.value=v.specularMap),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest);const x=e.get(v).envMap;if(x&&(g.envMap.value=x,g.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=v.reflectivity,g.ior.value=v.ior,g.refractionRatio.value=v.refractionRatio),v.lightMap){g.lightMap.value=v.lightMap;const A=n.physicallyCorrectLights!==!0?Math.PI:1;g.lightMapIntensity.value=v.lightMapIntensity*A}v.aoMap&&(g.aoMap.value=v.aoMap,g.aoMapIntensity.value=v.aoMapIntensity);let w;v.map?w=v.map:v.specularMap?w=v.specularMap:v.displacementMap?w=v.displacementMap:v.normalMap?w=v.normalMap:v.bumpMap?w=v.bumpMap:v.roughnessMap?w=v.roughnessMap:v.metalnessMap?w=v.metalnessMap:v.alphaMap?w=v.alphaMap:v.emissiveMap?w=v.emissiveMap:v.clearcoatMap?w=v.clearcoatMap:v.clearcoatNormalMap?w=v.clearcoatNormalMap:v.clearcoatRoughnessMap?w=v.clearcoatRoughnessMap:v.iridescenceMap?w=v.iridescenceMap:v.iridescenceThicknessMap?w=v.iridescenceThicknessMap:v.specularIntensityMap?w=v.specularIntensityMap:v.specularColorMap?w=v.specularColorMap:v.transmissionMap?w=v.transmissionMap:v.thicknessMap?w=v.thicknessMap:v.sheenColorMap?w=v.sheenColorMap:v.sheenRoughnessMap&&(w=v.sheenRoughnessMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),g.uvTransform.value.copy(w.matrix));let b;v.aoMap?b=v.aoMap:v.lightMap&&(b=v.lightMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),g.uv2Transform.value.copy(b.matrix))}function s(g,v){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity}function o(g,v){g.dashSize.value=v.dashSize,g.totalSize.value=v.dashSize+v.gapSize,g.scale.value=v.scale}function a(g,v,x,w){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity,g.size.value=v.size*x,g.scale.value=w*.5,v.map&&(g.map.value=v.map),v.alphaMap&&(g.alphaMap.value=v.alphaMap),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest);let b;v.map?b=v.map:v.alphaMap&&(b=v.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),g.uvTransform.value.copy(b.matrix))}function l(g,v){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity,g.rotation.value=v.rotation,v.map&&(g.map.value=v.map),v.alphaMap&&(g.alphaMap.value=v.alphaMap),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest);let x;v.map?x=v.map:v.alphaMap&&(x=v.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),g.uvTransform.value.copy(x.matrix))}function u(g,v){g.specular.value.copy(v.specular),g.shininess.value=Math.max(v.shininess,1e-4)}function c(g,v){v.gradientMap&&(g.gradientMap.value=v.gradientMap)}function f(g,v){g.roughness.value=v.roughness,g.metalness.value=v.metalness,v.roughnessMap&&(g.roughnessMap.value=v.roughnessMap),v.metalnessMap&&(g.metalnessMap.value=v.metalnessMap),e.get(v).envMap&&(g.envMapIntensity.value=v.envMapIntensity)}function d(g,v,x){g.ior.value=v.ior,v.sheen>0&&(g.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),g.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(g.sheenColorMap.value=v.sheenColorMap),v.sheenRoughnessMap&&(g.sheenRoughnessMap.value=v.sheenRoughnessMap)),v.clearcoat>0&&(g.clearcoat.value=v.clearcoat,g.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(g.clearcoatMap.value=v.clearcoatMap),v.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap),v.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),g.clearcoatNormalMap.value=v.clearcoatNormalMap,v.side===Es&&g.clearcoatNormalScale.value.negate())),v.iridescence>0&&(g.iridescence.value=v.iridescence,g.iridescenceIOR.value=v.iridescenceIOR,g.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(g.iridescenceMap.value=v.iridescenceMap),v.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=v.iridescenceThicknessMap)),v.transmission>0&&(g.transmission.value=v.transmission,g.transmissionSamplerMap.value=x.texture,g.transmissionSamplerSize.value.set(x.width,x.height),v.transmissionMap&&(g.transmissionMap.value=v.transmissionMap),g.thickness.value=v.thickness,v.thicknessMap&&(g.thicknessMap.value=v.thicknessMap),g.attenuationDistance.value=v.attenuationDistance,g.attenuationColor.value.copy(v.attenuationColor)),g.specularIntensity.value=v.specularIntensity,g.specularColor.value.copy(v.specularColor),v.specularIntensityMap&&(g.specularIntensityMap.value=v.specularIntensityMap),v.specularColorMap&&(g.specularColorMap.value=v.specularColorMap)}function m(g,v){v.matcap&&(g.matcap.value=v.matcap)}function y(g,v){g.referencePosition.value.copy(v.referencePosition),g.nearDistance.value=v.nearDistance,g.farDistance.value=v.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function vce(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(w,b){const A=b.program;r.uniformBlockBinding(w,A)}function u(w,b){let A=i[w.id];A===void 0&&(y(w),A=c(w),i[w.id]=A,w.addEventListener("dispose",v));const M=b.program;r.updateUBOMapping(w,M);const I=e.render.frame;s[w.id]!==I&&(d(w),s[w.id]=I)}function c(w){const b=f();w.__bindingPointIndex=b;const A=n.createBuffer(),M=w.__size,I=w.usage;return n.bindBuffer(35345,A),n.bufferData(35345,M,I),n.bindBuffer(35345,null),n.bindBufferBase(35345,b,A),A}function f(){for(let w=0;w<a;w++)if(o.indexOf(w)===-1)return o.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(w){const b=i[w.id],A=w.uniforms,M=w.__cache;n.bindBuffer(35345,b);for(let I=0,D=A.length;I<D;I++){const P=A[I];if(m(P,I,M)===!0){const O=P.value,V=P.__offset;typeof O=="number"?(P.__data[0]=O,n.bufferSubData(35345,V,P.__data)):(P.value.isMatrix3?(P.__data[0]=P.value.elements[0],P.__data[1]=P.value.elements[1],P.__data[2]=P.value.elements[2],P.__data[3]=P.value.elements[0],P.__data[4]=P.value.elements[3],P.__data[5]=P.value.elements[4],P.__data[6]=P.value.elements[5],P.__data[7]=P.value.elements[0],P.__data[8]=P.value.elements[6],P.__data[9]=P.value.elements[7],P.__data[10]=P.value.elements[8],P.__data[11]=P.value.elements[0]):O.toArray(P.__data),n.bufferSubData(35345,V,P.__data))}}n.bindBuffer(35345,null)}function m(w,b,A){const M=w.value;if(A[b]===void 0)return typeof M=="number"?A[b]=M:A[b]=M.clone(),!0;if(typeof M=="number"){if(A[b]!==M)return A[b]=M,!0}else{const I=A[b];if(I.equals(M)===!1)return I.copy(M),!0}return!1}function y(w){const b=w.uniforms;let A=0;const M=16;let I=0;for(let D=0,P=b.length;D<P;D++){const O=b[D],V=g(O);if(O.__data=new Float32Array(V.storage/Float32Array.BYTES_PER_ELEMENT),O.__offset=A,D>0){I=A%M;const q=M-I;I!==0&&q-V.boundary<0&&(A+=M-I,O.__offset=A)}A+=V.storage}return I=A%M,I>0&&(A+=M-I),w.__size=A,w.__cache={},this}function g(w){const b=w.value,A={boundary:0,storage:0};return typeof b=="number"?(A.boundary=4,A.storage=4):b.isVector2?(A.boundary=8,A.storage=8):b.isVector3||b.isColor?(A.boundary=16,A.storage=12):b.isVector4?(A.boundary=16,A.storage=16):b.isMatrix3?(A.boundary=48,A.storage=48):b.isMatrix4?(A.boundary=64,A.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),A}function v(w){const b=w.target;b.removeEventListener("dispose",v);const A=o.indexOf(b.__bindingPointIndex);o.splice(A,1),n.deleteBuffer(i[b.id]),delete i[b.id],delete s[b.id]}function x(){for(const w in i)n.deleteBuffer(i[w]);o=[],i={},s={}}return{bind:l,update:u,dispose:x}}function yce(){const n=Xm("canvas");return n.style.display="block",n}function tT(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:yce(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",u=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let c;t!==null?c=t.getContextAttributes().alpha:c=n.alpha!==void 0?n.alpha:!1;let f=null,d=null;const m=[],y=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Wo,this.physicallyCorrectLights=!1,this.toneMapping=jo,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const g=this;let v=!1,x=0,w=0,b=null,A=-1,M=null;const I=new yn,D=new yn;let P=null,O=e.width,V=e.height,q=1,ne=null,H=null;const _=new yn(0,0,O,V),T=new yn(0,0,O,V);let k=!1;const U=new bw;let L=!1,F=!1,z=null;const B=new Bt,E=new Fe,j=new Y,X={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function N(){return b===null?q:1}let K=t;function oe(Q,he){for(let Se=0;Se<Q.length;Se++){const ve=Q[Se],Me=e.getContext(ve,he);if(Me!==null)return Me}return null}try{const Q={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${mw}`),e.addEventListener("webglcontextlost",Ue,!1),e.addEventListener("webglcontextrestored",De,!1),e.addEventListener("webglcontextcreationerror",je,!1),K===null){const he=["webgl2","webgl","experimental-webgl"];if(g.isWebGL1Renderer===!0&&he.shift(),K=oe(he,Q),K===null)throw oe(he)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}K.getShaderPrecisionFormat===void 0&&(K.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Q){throw console.error("THREE.WebGLRenderer: "+Q.message),Q}let ie,fe,ce,Ee,ae,me,xe,Ne,He,$e,ue,we,Ce,ze,$,W,le,Re,Te,ke,Qe,Oe,be,Ye;function ee(){ie=new Nle(K),fe=new Tle(K,ie,n),ie.init(fe),Oe=new CF(K,ie,fe),ce=new dce(K,ie,fe),Ee=new Ole,ae=new ece,me=new hce(K,ie,ce,ae,fe,Oe,Ee),xe=new Ile(g),Ne=new kle(g),He=new qse(K,fe),be=new Cle(K,ie,He,fe),$e=new Lle(K,He,Ee,be),ue=new Gle(K,$e,He,Ee),Te=new zle(K,fe,me),W=new Ple(ae),we=new Zue(g,xe,Ne,ie,fe,be,W),Ce=new gce(g,ae),ze=new nce,$=new lce(ie,fe),Re=new Ele(g,xe,Ne,ce,ue,c,o),le=new fce(g,ue,fe),Ye=new vce(K,Ee,fe,ce),ke=new Mle(K,ie,Ee,fe),Qe=new Dle(K,ie,Ee,fe),Ee.programs=we.programs,g.capabilities=fe,g.extensions=ie,g.properties=ae,g.renderLists=ze,g.shadowMap=le,g.state=ce,g.info=Ee}ee();const ge=new mce(g,K);this.xr=ge,this.getContext=function(){return K},this.getContextAttributes=function(){return K.getContextAttributes()},this.forceContextLoss=function(){const Q=ie.get("WEBGL_lose_context");Q&&Q.loseContext()},this.forceContextRestore=function(){const Q=ie.get("WEBGL_lose_context");Q&&Q.restoreContext()},this.getPixelRatio=function(){return q},this.setPixelRatio=function(Q){Q!==void 0&&(q=Q,this.setSize(O,V,!1))},this.getSize=function(Q){return Q.set(O,V)},this.setSize=function(Q,he,Se){if(ge.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}O=Q,V=he,e.width=Math.floor(Q*q),e.height=Math.floor(he*q),Se!==!1&&(e.style.width=Q+"px",e.style.height=he+"px"),this.setViewport(0,0,Q,he)},this.getDrawingBufferSize=function(Q){return Q.set(O*q,V*q).floor()},this.setDrawingBufferSize=function(Q,he,Se){O=Q,V=he,q=Se,e.width=Math.floor(Q*Se),e.height=Math.floor(he*Se),this.setViewport(0,0,Q,he)},this.getCurrentViewport=function(Q){return Q.copy(I)},this.getViewport=function(Q){return Q.copy(_)},this.setViewport=function(Q,he,Se,ve){Q.isVector4?_.set(Q.x,Q.y,Q.z,Q.w):_.set(Q,he,Se,ve),ce.viewport(I.copy(_).multiplyScalar(q).floor())},this.getScissor=function(Q){return Q.copy(T)},this.setScissor=function(Q,he,Se,ve){Q.isVector4?T.set(Q.x,Q.y,Q.z,Q.w):T.set(Q,he,Se,ve),ce.scissor(D.copy(T).multiplyScalar(q).floor())},this.getScissorTest=function(){return k},this.setScissorTest=function(Q){ce.setScissorTest(k=Q)},this.setOpaqueSort=function(Q){ne=Q},this.setTransparentSort=function(Q){H=Q},this.getClearColor=function(Q){return Q.copy(Re.getClearColor())},this.setClearColor=function(){Re.setClearColor.apply(Re,arguments)},this.getClearAlpha=function(){return Re.getClearAlpha()},this.setClearAlpha=function(){Re.setClearAlpha.apply(Re,arguments)},this.clear=function(Q=!0,he=!0,Se=!0){let ve=0;Q&&(ve|=16384),he&&(ve|=256),Se&&(ve|=1024),K.clear(ve)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Ue,!1),e.removeEventListener("webglcontextrestored",De,!1),e.removeEventListener("webglcontextcreationerror",je,!1),ze.dispose(),$.dispose(),ae.dispose(),xe.dispose(),Ne.dispose(),ue.dispose(),be.dispose(),Ye.dispose(),we.dispose(),ge.dispose(),ge.removeEventListener("sessionstart",Ve),ge.removeEventListener("sessionend",st),z&&(z.dispose(),z=null),rt.stop()};function Ue(Q){Q.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function De(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;const Q=Ee.autoReset,he=le.enabled,Se=le.autoUpdate,ve=le.needsUpdate,Me=le.type;ee(),Ee.autoReset=Q,le.enabled=he,le.autoUpdate=Se,le.needsUpdate=ve,le.type=Me}function je(Q){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Q.statusMessage)}function lt(Q){const he=Q.target;he.removeEventListener("dispose",lt),ht(he)}function ht(Q){re(Q),ae.remove(Q)}function re(Q){const he=ae.get(Q).programs;he!==void 0&&(he.forEach(function(Se){we.releaseProgram(Se)}),Q.isShaderMaterial&&we.releaseShaderCache(Q))}this.renderBufferDirect=function(Q,he,Se,ve,Me,Ze){he===null&&(he=X);const At=Me.isMesh&&Me.matrixWorld.determinant()<0,at=cs(Q,he,Se,ve,Me);ce.setMaterial(ve,At);let ot=Se.index;const Pt=Se.attributes.position;if(ot===null){if(Pt===void 0||Pt.count===0)return}else if(ot.count===0)return;let Et=1;ve.wireframe===!0&&(ot=$e.getWireframeAttribute(Se),Et=2),be.setup(Me,ve,at,Se,ot);let It,sn=ke;ot!==null&&(It=He.get(ot),sn=Qe,sn.setIndex(It));const Dr=ot!==null?ot.count:Pt.count,Fs=Se.drawRange.start*Et,Us=Se.drawRange.count*Et,Or=Ze!==null?Ze.start*Et:0,Gt=Ze!==null?Ze.count*Et:1/0,Vi=Math.max(Fs,Or),wn=Math.min(Dr,Fs+Us,Or+Gt)-1,Fr=Math.max(0,wn-Vi+1);if(Fr!==0){if(Me.isMesh)ve.wireframe===!0?(ce.setLineWidth(ve.wireframeLinewidth*N()),sn.setMode(1)):sn.setMode(4);else if(Me.isLine){let ci=ve.linewidth;ci===void 0&&(ci=1),ce.setLineWidth(ci*N()),Me.isLineSegments?sn.setMode(1):Me.isLineLoop?sn.setMode(2):sn.setMode(3)}else Me.isPoints?sn.setMode(0):Me.isSprite&&sn.setMode(4);if(Me.isInstancedMesh)sn.renderInstances(Vi,Fr,Me.count);else if(Se.isInstancedBufferGeometry){const ci=Math.min(Se.instanceCount,Se._maxInstanceCount);sn.renderInstances(Vi,Fr,ci)}else sn.render(Vi,Fr)}},this.compile=function(Q,he){function Se(ve,Me,Ze){ve.transparent===!0&&ve.side===Fo?(ve.side=Es,ve.needsUpdate=!0,kt(ve,Me,Ze),ve.side=qu,ve.needsUpdate=!0,kt(ve,Me,Ze),ve.side=Fo):kt(ve,Me,Ze)}d=$.get(Q),d.init(),y.push(d),Q.traverseVisible(function(ve){ve.isLight&&ve.layers.test(he.layers)&&(d.pushLight(ve),ve.castShadow&&d.pushShadow(ve))}),d.setupLights(g.physicallyCorrectLights),Q.traverse(function(ve){const Me=ve.material;if(Me)if(Array.isArray(Me))for(let Ze=0;Ze<Me.length;Ze++){const At=Me[Ze];Se(At,Q,ve)}else Se(Me,Q,ve)}),y.pop(),d=null};let Ae=null;function Be(Q){Ae&&Ae(Q)}function Ve(){rt.stop()}function st(){rt.start()}const rt=new wF;rt.setAnimationLoop(Be),typeof self<"u"&&rt.setContext(self),this.setAnimationLoop=function(Q){Ae=Q,ge.setAnimationLoop(Q),Q===null?rt.stop():rt.start()},ge.addEventListener("sessionstart",Ve),ge.addEventListener("sessionend",st),this.render=function(Q,he){if(he!==void 0&&he.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(v===!0)return;Q.matrixWorldAutoUpdate===!0&&Q.updateMatrixWorld(),he.parent===null&&he.matrixWorldAutoUpdate===!0&&he.updateMatrixWorld(),ge.enabled===!0&&ge.isPresenting===!0&&(ge.cameraAutoUpdate===!0&&ge.updateCamera(he),he=ge.getCamera()),Q.isScene===!0&&Q.onBeforeRender(g,Q,he,b),d=$.get(Q,y.length),d.init(),y.push(d),B.multiplyMatrices(he.projectionMatrix,he.matrixWorldInverse),U.setFromProjectionMatrix(B),F=this.localClippingEnabled,L=W.init(this.clippingPlanes,F,he),f=ze.get(Q,m.length),f.init(),m.push(f),vt(Q,he,0,g.sortObjects),f.finish(),g.sortObjects===!0&&f.sort(ne,H),L===!0&&W.beginShadows();const Se=d.state.shadowsArray;if(le.render(Se,Q,he),L===!0&&W.endShadows(),this.info.autoReset===!0&&this.info.reset(),Re.render(f,Q),d.setupLights(g.physicallyCorrectLights),he.isArrayCamera){const ve=he.cameras;for(let Me=0,Ze=ve.length;Me<Ze;Me++){const At=ve[Me];mn(f,Q,At,At.viewport)}}else mn(f,Q,he);b!==null&&(me.updateMultisampleRenderTarget(b),me.updateRenderTargetMipmap(b)),Q.isScene===!0&&Q.onAfterRender(g,Q,he),be.resetDefaultState(),A=-1,M=null,y.pop(),y.length>0?d=y[y.length-1]:d=null,m.pop(),m.length>0?f=m[m.length-1]:f=null};function vt(Q,he,Se,ve){if(Q.visible===!1)return;if(Q.layers.test(he.layers)){if(Q.isGroup)Se=Q.renderOrder;else if(Q.isLOD)Q.autoUpdate===!0&&Q.update(he);else if(Q.isLight)d.pushLight(Q),Q.castShadow&&d.pushShadow(Q);else if(Q.isSprite){if(!Q.frustumCulled||U.intersectsSprite(Q)){ve&&j.setFromMatrixPosition(Q.matrixWorld).applyMatrix4(B);const At=ue.update(Q),at=Q.material;at.visible&&f.push(Q,At,at,Se,j.z,null)}}else if((Q.isMesh||Q.isLine||Q.isPoints)&&(Q.isSkinnedMesh&&Q.skeleton.frame!==Ee.render.frame&&(Q.skeleton.update(),Q.skeleton.frame=Ee.render.frame),!Q.frustumCulled||U.intersectsObject(Q))){ve&&j.setFromMatrixPosition(Q.matrixWorld).applyMatrix4(B);const At=ue.update(Q),at=Q.material;if(Array.isArray(at)){const ot=At.groups;for(let Pt=0,Et=ot.length;Pt<Et;Pt++){const It=ot[Pt],sn=at[It.materialIndex];sn&&sn.visible&&f.push(Q,At,sn,Se,j.z,It)}}else at.visible&&f.push(Q,At,at,Se,j.z,null)}}const Ze=Q.children;for(let At=0,at=Ze.length;At<at;At++)vt(Ze[At],he,Se,ve)}function mn(Q,he,Se,ve){const Me=Q.opaque,Ze=Q.transmissive,At=Q.transparent;d.setupLightsView(Se),Ze.length>0&&zt(Me,he,Se),ve&&ce.viewport(I.copy(ve)),Me.length>0&&_t(Me,he,Se),Ze.length>0&&_t(Ze,he,Se),At.length>0&&_t(At,he,Se),ce.buffers.depth.setTest(!0),ce.buffers.depth.setMask(!0),ce.buffers.color.setMask(!0),ce.setPolygonOffset(!1)}function zt(Q,he,Se){const ve=fe.isWebGL2;z===null&&(z=new os(1,1,{generateMipmaps:!0,type:ie.has("EXT_color_buffer_half_float")?Uo:$u,minFilter:Ol,samples:ve&&s===!0?4:0})),g.getDrawingBufferSize(E),ve?z.setSize(E.x,E.y):z.setSize(mb(E.x),mb(E.y));const Me=g.getRenderTarget();g.setRenderTarget(z),g.clear();const Ze=g.toneMapping;g.toneMapping=jo,_t(Q,he,Se),g.toneMapping=Ze,me.updateMultisampleRenderTarget(z),me.updateRenderTargetMipmap(z),g.setRenderTarget(Me)}function _t(Q,he,Se){const ve=he.isScene===!0?he.overrideMaterial:null;for(let Me=0,Ze=Q.length;Me<Ze;Me++){const At=Q[Me],at=At.object,ot=At.geometry,Pt=ve===null?At.material:ve,Et=At.group;at.layers.test(Se.layers)&&Qn(at,he,Se,ot,Pt,Et)}}function Qn(Q,he,Se,ve,Me,Ze){Q.onBeforeRender(g,he,Se,ve,Me,Ze),Q.modelViewMatrix.multiplyMatrices(Se.matrixWorldInverse,Q.matrixWorld),Q.normalMatrix.getNormalMatrix(Q.modelViewMatrix),Me.onBeforeRender(g,he,Se,ve,Q,Ze),Me.transparent===!0&&Me.side===Fo?(Me.side=Es,Me.needsUpdate=!0,g.renderBufferDirect(Se,he,ve,Me,Q,Ze),Me.side=qu,Me.needsUpdate=!0,g.renderBufferDirect(Se,he,ve,Me,Q,Ze),Me.side=Fo):g.renderBufferDirect(Se,he,ve,Me,Q,Ze),Q.onAfterRender(g,he,Se,ve,Me,Ze)}function kt(Q,he,Se){he.isScene!==!0&&(he=X);const ve=ae.get(Q),Me=d.state.lights,Ze=d.state.shadowsArray,At=Me.state.version,at=we.getParameters(Q,Me.state,Ze,he,Se),ot=we.getProgramCacheKey(at);let Pt=ve.programs;ve.environment=Q.isMeshStandardMaterial?he.environment:null,ve.fog=he.fog,ve.envMap=(Q.isMeshStandardMaterial?Ne:xe).get(Q.envMap||ve.environment),Pt===void 0&&(Q.addEventListener("dispose",lt),Pt=new Map,ve.programs=Pt);let Et=Pt.get(ot);if(Et!==void 0){if(ve.currentProgram===Et&&ve.lightsStateVersion===At)return cn(Q,at),Et}else at.uniforms=we.getUniforms(Q),Q.onBuild(Se,at,g),Q.onBeforeCompile(at,g),Et=we.acquireProgram(at,ot),Pt.set(ot,Et),ve.uniforms=at.uniforms;const It=ve.uniforms;(!Q.isShaderMaterial&&!Q.isRawShaderMaterial||Q.clipping===!0)&&(It.clippingPlanes=W.uniform),cn(Q,at),ve.needsLights=rn(Q),ve.lightsStateVersion=At,ve.needsLights&&(It.ambientLightColor.value=Me.state.ambient,It.lightProbe.value=Me.state.probe,It.directionalLights.value=Me.state.directional,It.directionalLightShadows.value=Me.state.directionalShadow,It.spotLights.value=Me.state.spot,It.spotLightShadows.value=Me.state.spotShadow,It.rectAreaLights.value=Me.state.rectArea,It.ltc_1.value=Me.state.rectAreaLTC1,It.ltc_2.value=Me.state.rectAreaLTC2,It.pointLights.value=Me.state.point,It.pointLightShadows.value=Me.state.pointShadow,It.hemisphereLights.value=Me.state.hemi,It.directionalShadowMap.value=Me.state.directionalShadowMap,It.directionalShadowMatrix.value=Me.state.directionalShadowMatrix,It.spotShadowMap.value=Me.state.spotShadowMap,It.spotLightMatrix.value=Me.state.spotLightMatrix,It.spotLightMap.value=Me.state.spotLightMap,It.pointShadowMap.value=Me.state.pointShadowMap,It.pointShadowMatrix.value=Me.state.pointShadowMatrix);const sn=Et.getUniforms(),Dr=y1.seqWithValue(sn.seq,It);return ve.currentProgram=Et,ve.uniformsList=Dr,Et}function cn(Q,he){const Se=ae.get(Q);Se.outputEncoding=he.outputEncoding,Se.instancing=he.instancing,Se.skinning=he.skinning,Se.morphTargets=he.morphTargets,Se.morphNormals=he.morphNormals,Se.morphColors=he.morphColors,Se.morphTargetsCount=he.morphTargetsCount,Se.numClippingPlanes=he.numClippingPlanes,Se.numIntersection=he.numClipIntersection,Se.vertexAlphas=he.vertexAlphas,Se.vertexTangents=he.vertexTangents,Se.toneMapping=he.toneMapping}function cs(Q,he,Se,ve,Me){he.isScene!==!0&&(he=X),me.resetTextureUnits();const Ze=he.fog,At=ve.isMeshStandardMaterial?he.environment:null,at=b===null?g.outputEncoding:b.isXRRenderTarget===!0?b.texture.encoding:Wo,ot=(ve.isMeshStandardMaterial?Ne:xe).get(ve.envMap||At),Pt=ve.vertexColors===!0&&!!Se.attributes.color&&Se.attributes.color.itemSize===4,Et=!!ve.normalMap&&!!Se.attributes.tangent,It=!!Se.morphAttributes.position,sn=!!Se.morphAttributes.normal,Dr=!!Se.morphAttributes.color,Fs=ve.toneMapped?g.toneMapping:jo,Us=Se.morphAttributes.position||Se.morphAttributes.normal||Se.morphAttributes.color,Or=Us!==void 0?Us.length:0,Gt=ae.get(ve),Vi=d.state.lights;if(L===!0&&(F===!0||Q!==M)){const tn=Q===M&&ve.id===A;W.setState(ve,Q,tn)}let wn=!1;ve.version===Gt.__version?(Gt.needsLights&&Gt.lightsStateVersion!==Vi.state.version||Gt.outputEncoding!==at||Me.isInstancedMesh&&Gt.instancing===!1||!Me.isInstancedMesh&&Gt.instancing===!0||Me.isSkinnedMesh&&Gt.skinning===!1||!Me.isSkinnedMesh&&Gt.skinning===!0||Gt.envMap!==ot||ve.fog===!0&&Gt.fog!==Ze||Gt.numClippingPlanes!==void 0&&(Gt.numClippingPlanes!==W.numPlanes||Gt.numIntersection!==W.numIntersection)||Gt.vertexAlphas!==Pt||Gt.vertexTangents!==Et||Gt.morphTargets!==It||Gt.morphNormals!==sn||Gt.morphColors!==Dr||Gt.toneMapping!==Fs||fe.isWebGL2===!0&&Gt.morphTargetsCount!==Or)&&(wn=!0):(wn=!0,Gt.__version=ve.version);let Fr=Gt.currentProgram;wn===!0&&(Fr=kt(ve,he,Me));let ci=!1,fi=!1,di=!1;const Mt=Fr.getUniforms(),Wt=Gt.uniforms;if(ce.useProgram(Fr.program)&&(ci=!0,fi=!0,di=!0),ve.id!==A&&(A=ve.id,fi=!0),ci||M!==Q){if(Mt.setValue(K,"projectionMatrix",Q.projectionMatrix),fe.logarithmicDepthBuffer&&Mt.setValue(K,"logDepthBufFC",2/(Math.log(Q.far+1)/Math.LN2)),M!==Q&&(M=Q,fi=!0,di=!0),ve.isShaderMaterial||ve.isMeshPhongMaterial||ve.isMeshToonMaterial||ve.isMeshStandardMaterial||ve.envMap){const tn=Mt.map.cameraPosition;tn!==void 0&&tn.setValue(K,j.setFromMatrixPosition(Q.matrixWorld))}(ve.isMeshPhongMaterial||ve.isMeshToonMaterial||ve.isMeshLambertMaterial||ve.isMeshBasicMaterial||ve.isMeshStandardMaterial||ve.isShaderMaterial)&&Mt.setValue(K,"isOrthographic",Q.isOrthographicCamera===!0),(ve.isMeshPhongMaterial||ve.isMeshToonMaterial||ve.isMeshLambertMaterial||ve.isMeshBasicMaterial||ve.isMeshStandardMaterial||ve.isShaderMaterial||ve.isShadowMaterial||Me.isSkinnedMesh)&&Mt.setValue(K,"viewMatrix",Q.matrixWorldInverse)}if(Me.isSkinnedMesh){Mt.setOptional(K,Me,"bindMatrix"),Mt.setOptional(K,Me,"bindMatrixInverse");const tn=Me.skeleton;tn&&(fe.floatVertexTextures?(tn.boneTexture===null&&tn.computeBoneTexture(),Mt.setValue(K,"boneTexture",tn.boneTexture,me),Mt.setValue(K,"boneTextureSize",tn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const hi=Se.morphAttributes;if((hi.position!==void 0||hi.normal!==void 0||hi.color!==void 0&&fe.isWebGL2===!0)&&Te.update(Me,Se,ve,Fr),(fi||Gt.receiveShadow!==Me.receiveShadow)&&(Gt.receiveShadow=Me.receiveShadow,Mt.setValue(K,"receiveShadow",Me.receiveShadow)),ve.isMeshGouraudMaterial&&ve.envMap!==null&&(Wt.envMap.value=ot,Wt.flipEnvMap.value=ot.isCubeTexture&&ot.isRenderTargetTexture===!1?-1:1),fi&&(Mt.setValue(K,"toneMappingExposure",g.toneMappingExposure),Gt.needsLights&&fn(Wt,di),Ze&&ve.fog===!0&&Ce.refreshFogUniforms(Wt,Ze),Ce.refreshMaterialUniforms(Wt,ve,q,V,z),y1.upload(K,Gt.uniformsList,Wt,me)),ve.isShaderMaterial&&ve.uniformsNeedUpdate===!0&&(y1.upload(K,Gt.uniformsList,Wt,me),ve.uniformsNeedUpdate=!1),ve.isSpriteMaterial&&Mt.setValue(K,"center",Me.center),Mt.setValue(K,"modelViewMatrix",Me.modelViewMatrix),Mt.setValue(K,"normalMatrix",Me.normalMatrix),Mt.setValue(K,"modelMatrix",Me.matrixWorld),ve.isShaderMaterial||ve.isRawShaderMaterial){const tn=ve.uniformsGroups;for(let Ur=0,Fa=tn.length;Ur<Fa;Ur++)if(fe.isWebGL2){const Ua=tn[Ur];Ye.update(Ua,Fr),Ye.bind(Ua,Fr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Fr}function fn(Q,he){Q.ambientLightColor.needsUpdate=he,Q.lightProbe.needsUpdate=he,Q.directionalLights.needsUpdate=he,Q.directionalLightShadows.needsUpdate=he,Q.pointLights.needsUpdate=he,Q.pointLightShadows.needsUpdate=he,Q.spotLights.needsUpdate=he,Q.spotLightShadows.needsUpdate=he,Q.rectAreaLights.needsUpdate=he,Q.hemisphereLights.needsUpdate=he}function rn(Q){return Q.isMeshLambertMaterial||Q.isMeshToonMaterial||Q.isMeshPhongMaterial||Q.isMeshStandardMaterial||Q.isShadowMaterial||Q.isShaderMaterial&&Q.lights===!0}this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function(Q,he,Se){ae.get(Q.texture).__webglTexture=he,ae.get(Q.depthTexture).__webglTexture=Se;const ve=ae.get(Q);ve.__hasExternalTextures=!0,ve.__hasExternalTextures&&(ve.__autoAllocateDepthBuffer=Se===void 0,ve.__autoAllocateDepthBuffer||ie.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ve.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Q,he){const Se=ae.get(Q);Se.__webglFramebuffer=he,Se.__useDefaultFramebuffer=he===void 0},this.setRenderTarget=function(Q,he=0,Se=0){b=Q,x=he,w=Se;let ve=!0,Me=null,Ze=!1,At=!1;if(Q){const ot=ae.get(Q);ot.__useDefaultFramebuffer!==void 0?(ce.bindFramebuffer(36160,null),ve=!1):ot.__webglFramebuffer===void 0?me.setupRenderTarget(Q):ot.__hasExternalTextures&&me.rebindTextures(Q,ae.get(Q.texture).__webglTexture,ae.get(Q.depthTexture).__webglTexture);const Pt=Q.texture;(Pt.isData3DTexture||Pt.isDataArrayTexture||Pt.isCompressedArrayTexture)&&(At=!0);const Et=ae.get(Q).__webglFramebuffer;Q.isWebGLCubeRenderTarget?(Me=Et[he],Ze=!0):fe.isWebGL2&&Q.samples>0&&me.useMultisampledRTT(Q)===!1?Me=ae.get(Q).__webglMultisampledFramebuffer:Me=Et,I.copy(Q.viewport),D.copy(Q.scissor),P=Q.scissorTest}else I.copy(_).multiplyScalar(q).floor(),D.copy(T).multiplyScalar(q).floor(),P=k;if(ce.bindFramebuffer(36160,Me)&&fe.drawBuffers&&ve&&ce.drawBuffers(Q,Me),ce.viewport(I),ce.scissor(D),ce.setScissorTest(P),Ze){const ot=ae.get(Q.texture);K.framebufferTexture2D(36160,36064,34069+he,ot.__webglTexture,Se)}else if(At){const ot=ae.get(Q.texture),Pt=he||0;K.framebufferTextureLayer(36160,36064,ot.__webglTexture,Se||0,Pt)}A=-1},this.readRenderTargetPixels=function(Q,he,Se,ve,Me,Ze,At){if(!(Q&&Q.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let at=ae.get(Q).__webglFramebuffer;if(Q.isWebGLCubeRenderTarget&&At!==void 0&&(at=at[At]),at){ce.bindFramebuffer(36160,at);try{const ot=Q.texture,Pt=ot.format,Et=ot.type;if(Pt!==bs&&Oe.convert(Pt)!==K.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const It=Et===Uo&&(ie.has("EXT_color_buffer_half_float")||fe.isWebGL2&&ie.has("EXT_color_buffer_float"));if(Et!==$u&&Oe.convert(Et)!==K.getParameter(35738)&&!(Et===so&&(fe.isWebGL2||ie.has("OES_texture_float")||ie.has("WEBGL_color_buffer_float")))&&!It){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}he>=0&&he<=Q.width-ve&&Se>=0&&Se<=Q.height-Me&&K.readPixels(he,Se,ve,Me,Oe.convert(Pt),Oe.convert(Et),Ze)}finally{const ot=b!==null?ae.get(b).__webglFramebuffer:null;ce.bindFramebuffer(36160,ot)}}},this.copyFramebufferToTexture=function(Q,he,Se=0){const ve=Math.pow(2,-Se),Me=Math.floor(he.image.width*ve),Ze=Math.floor(he.image.height*ve);me.setTexture2D(he,0),K.copyTexSubImage2D(3553,Se,0,0,Q.x,Q.y,Me,Ze),ce.unbindTexture()},this.copyTextureToTexture=function(Q,he,Se,ve=0){const Me=he.image.width,Ze=he.image.height,At=Oe.convert(Se.format),at=Oe.convert(Se.type);me.setTexture2D(Se,0),K.pixelStorei(37440,Se.flipY),K.pixelStorei(37441,Se.premultiplyAlpha),K.pixelStorei(3317,Se.unpackAlignment),he.isDataTexture?K.texSubImage2D(3553,ve,Q.x,Q.y,Me,Ze,At,at,he.image.data):he.isCompressedTexture?K.compressedTexSubImage2D(3553,ve,Q.x,Q.y,he.mipmaps[0].width,he.mipmaps[0].height,At,he.mipmaps[0].data):K.texSubImage2D(3553,ve,Q.x,Q.y,At,at,he.image),ve===0&&Se.generateMipmaps&&K.generateMipmap(3553),ce.unbindTexture()},this.copyTextureToTexture3D=function(Q,he,Se,ve,Me=0){if(g.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Ze=Q.max.x-Q.min.x+1,At=Q.max.y-Q.min.y+1,at=Q.max.z-Q.min.z+1,ot=Oe.convert(ve.format),Pt=Oe.convert(ve.type);let Et;if(ve.isData3DTexture)me.setTexture3D(ve,0),Et=32879;else if(ve.isDataArrayTexture)me.setTexture2DArray(ve,0),Et=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}K.pixelStorei(37440,ve.flipY),K.pixelStorei(37441,ve.premultiplyAlpha),K.pixelStorei(3317,ve.unpackAlignment);const It=K.getParameter(3314),sn=K.getParameter(32878),Dr=K.getParameter(3316),Fs=K.getParameter(3315),Us=K.getParameter(32877),Or=Se.isCompressedTexture?Se.mipmaps[0]:Se.image;K.pixelStorei(3314,Or.width),K.pixelStorei(32878,Or.height),K.pixelStorei(3316,Q.min.x),K.pixelStorei(3315,Q.min.y),K.pixelStorei(32877,Q.min.z),Se.isDataTexture||Se.isData3DTexture?K.texSubImage3D(Et,Me,he.x,he.y,he.z,Ze,At,at,ot,Pt,Or.data):Se.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),K.compressedTexSubImage3D(Et,Me,he.x,he.y,he.z,Ze,At,at,ot,Or.data)):K.texSubImage3D(Et,Me,he.x,he.y,he.z,Ze,At,at,ot,Pt,Or),K.pixelStorei(3314,It),K.pixelStorei(32878,sn),K.pixelStorei(3316,Dr),K.pixelStorei(3315,Fs),K.pixelStorei(32877,Us),Me===0&&ve.generateMipmaps&&K.generateMipmap(Et),ce.unbindTexture()},this.initTexture=function(Q){Q.isCubeTexture?me.setTextureCube(Q,0):Q.isData3DTexture?me.setTexture3D(Q,0):Q.isDataArrayTexture||Q.isCompressedArrayTexture?me.setTexture2DArray(Q,0):me.setTexture2D(Q,0),ce.unbindTexture()},this.resetState=function(){x=0,w=0,b=null,ce.reset(),be.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class PF extends tT{}PF.prototype.isWebGL1Renderer=!0;class Aw{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new et(e),this.density=t}clone(){return new Aw(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Sw{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new et(e),this.near=t,this.far=r}clone(){return new Sw(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Ew extends un{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.backgroundBlurriness=this.backgroundBlurriness),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Ng{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Jm,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Cs()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Cs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Cs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ri=new Y;class Xu{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Ri.fromBufferAttribute(this,t),Ri.applyMatrix4(e),this.setXYZ(t,Ri.x,Ri.y,Ri.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ri.fromBufferAttribute(this,t),Ri.applyNormalMatrix(e),this.setXYZ(t,Ri.x,Ri.y,Ri.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ri.fromBufferAttribute(this,t),Ri.transformDirection(e),this.setXYZ(t,Ri.x,Ri.y,Ri.z);return this}setX(e,t){return this.normalized&&(t=Tn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Tn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Tn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Tn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=fl(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=fl(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=fl(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=fl(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Tn(t,this.array),r=Tn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Tn(t,this.array),r=Tn(r,this.array),i=Tn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Tn(t,this.array),r=Tn(r,this.array),i=Tn(i,this.array),s=Tn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new gn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Xu(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class nT extends Cr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new et(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Sd;const u0=new Y,Ed=new Y,Cd=new Y,Md=new Fe,c0=new Fe,IF=new Bt,ex=new Y,f0=new Y,tx=new Y,yR=new Fe,E3=new Fe,xR=new Fe;class RF extends un{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Sd===void 0){Sd=new Ut;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Ng(t,5);Sd.setIndex([0,1,2,0,2,3]),Sd.setAttribute("position",new Xu(r,3,0,!1)),Sd.setAttribute("uv",new Xu(r,2,3,!1))}this.geometry=Sd,this.material=e!==void 0?e:new nT,this.center=new Fe(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ed.setFromMatrixScale(this.matrixWorld),IF.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Cd.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Ed.multiplyScalar(-Cd.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;nx(ex.set(-.5,-.5,0),Cd,o,Ed,i,s),nx(f0.set(.5,-.5,0),Cd,o,Ed,i,s),nx(tx.set(.5,.5,0),Cd,o,Ed,i,s),yR.set(0,0),E3.set(1,0),xR.set(1,1);let a=e.ray.intersectTriangle(ex,f0,tx,!1,u0);if(a===null&&(nx(f0.set(-.5,.5,0),Cd,o,Ed,i,s),E3.set(0,1),a=e.ray.intersectTriangle(ex,tx,f0,!1,u0),a===null))return;const l=e.ray.origin.distanceTo(u0);l<e.near||l>e.far||t.push({distance:l,point:u0.clone(),uv:ro.getUV(u0,ex,f0,tx,yR,E3,xR,new Fe),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function nx(n,e,t,r,i,s){Md.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(c0.x=s*Md.x-i*Md.y,c0.y=i*Md.x+s*Md.y):c0.copy(Md),n.copy(e),n.x+=c0.x,n.y+=c0.y,n.applyMatrix4(IF)}const rx=new Y,bR=new Y;class BF extends un{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i&&!(e<t[r].distance);r++);return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){rx.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(rx);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){rx.setFromMatrixPosition(e.matrixWorld),bR.setFromMatrixPosition(this.matrixWorld);const r=rx.distanceTo(bR)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s&&r>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}const wR=new Y,_R=new yn,AR=new yn,xce=new Y,SR=new Bt;class rT extends Er{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Bt,this.bindMatrixInverse=new Bt}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new yn,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;_R.fromBufferAttribute(i.attributes.skinIndex,e),AR.fromBufferAttribute(i.attributes.skinWeight,e),wR.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=AR.getComponent(s);if(o!==0){const a=_R.getComponent(s);SR.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(xce.copy(wR).applyMatrix4(SR),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Cw extends un{constructor(){super(),this.isBone=!0,this.type="Bone"}}class xh extends ar{constructor(e=null,t=1,r=1,i,s,o,a,l,u=hr,c=hr,f,d){super(null,o,a,l,u,c,i,s,f,d),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const ER=new Bt,bce=new Bt;class Lg{constructor(e=[],t=[]){this.uuid=Cs(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Bt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Bt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:bce;ER.multiplyMatrices(a,t[s]),ER.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Lg(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=mF(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new xh(t,e,e,bs,so);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new Cw),this.bones.push(o),this.boneInverses.push(new Bt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Hh extends gn{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const CR=new Bt,MR=new Bt,ix=[],wce=new Bt,d0=new Er;class kF extends Er{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Hh(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1;for(let i=0;i<r;i++)this.setMatrixAt(i,wce)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(d0.geometry=this.geometry,d0.material=this.material,d0.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,CR),MR.multiplyMatrices(r,CR),d0.matrixWorld=MR,d0.raycast(e,ix);for(let o=0,a=ix.length;o<a;o++){const l=ix[o];l.instanceId=s,l.object=this,t.push(l)}ix.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Hh(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Mi extends Cr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new et(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const TR=new Y,PR=new Y,IR=new Bt,C3=new Rg,sx=new zl;class Ml extends un{constructor(e=new Ut,t=new Mi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)TR.fromBufferAttribute(t,i-1),PR.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=TR.distanceTo(PR);e.setAttribute("lineDistance",new pt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),sx.copy(r.boundingSphere),sx.applyMatrix4(i),sx.radius+=s,e.ray.intersectsSphere(sx)===!1)return;IR.copy(i).invert(),C3.copy(e.ray).applyMatrix4(IR);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new Y,c=new Y,f=new Y,d=new Y,m=this.isLineSegments?2:1,y=r.index,v=r.attributes.position;if(y!==null){const x=Math.max(0,o.start),w=Math.min(y.count,o.start+o.count);for(let b=x,A=w-1;b<A;b+=m){const M=y.getX(b),I=y.getX(b+1);if(u.fromBufferAttribute(v,M),c.fromBufferAttribute(v,I),C3.distanceSqToSegment(u,c,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(d);P<e.near||P>e.far||t.push({distance:P,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const x=Math.max(0,o.start),w=Math.min(v.count,o.start+o.count);for(let b=x,A=w-1;b<A;b+=m){if(u.fromBufferAttribute(v,b),c.fromBufferAttribute(v,b+1),C3.distanceSqToSegment(u,c,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const I=e.ray.origin.distanceTo(d);I<e.near||I>e.far||t.push({distance:I,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const RR=new Y,BR=new Y;class $o extends Ml{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)RR.fromBufferAttribute(t,i),BR.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+RR.distanceTo(BR);e.setAttribute("lineDistance",new pt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class iT extends Ml{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Mw extends Cr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new et(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const kR=new Bt,YE=new Rg,ox=new zl,ax=new Y;class sT extends un{constructor(e=new Ut,t=new Mw){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),ox.copy(r.boundingSphere),ox.applyMatrix4(i),ox.radius+=s,e.ray.intersectsSphere(ox)===!1)return;kR.copy(i).invert(),YE.copy(e.ray).applyMatrix4(kR);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,f=r.attributes.position;if(u!==null){const d=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let y=d,g=m;y<g;y++){const v=u.getX(y);ax.fromBufferAttribute(f,v),NR(ax,v,l,i,e,t,this)}}else{const d=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);for(let y=d,g=m;y<g;y++)ax.fromBufferAttribute(f,y),NR(ax,y,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function NR(n,e,t,r,i,s,o){const a=YE.distanceSqToPoint(n);if(a<t){const l=new Y;YE.closestPointToPoint(n,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class _ce extends ar{constructor(e,t,r,i,s,o,a,l,u){super(e,t,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Ln,this.magFilter=s!==void 0?s:Ln,this.generateMipmaps=!1;const c=this;function f(){c.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Ace extends ar{constructor(e,t,r){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=hr,this.minFilter=hr,this.generateMipmaps=!1,this.needsUpdate=!0}}class oT extends ar{constructor(e,t,r,i,s,o,a,l,u,c,f,d){super(null,o,a,l,u,c,i,s,f,d),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Sce extends oT{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=ti}}class Ece extends ar{constructor(e,t,r,i,s,o,a,l,u){super(e,t,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Xo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const c=r[i],d=r[i+1]-c,m=(o-c)/d;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new Fe:new Y);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new Y,i=[],s=[],o=[],a=new Y,l=new Bt;for(let m=0;m<=e;m++){const y=m/e;i[m]=this.getTangentAt(y,new Y)}s[0]=new Y,o[0]=new Y;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),f=Math.abs(i[0].y),d=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),d<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(pr(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,y))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(pr(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(i[y],m*y)),o[y].crossVectors(i[y],s[y])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Tw extends Xo{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new Fe,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),d=l-this.aX,m=u-this.aY;l=d*c-m*f+this.aX,u=d*f+m*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class NF extends Tw{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function aT(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,c,f){let d=(o-s)/u-(a-s)/(u+c)+(a-o)/c,m=(a-o)/c-(l-o)/(c+f)+(l-a)/f;d*=c,m*=c,i(o,a,d,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const lx=new Y,M3=new aT,T3=new aT,P3=new aT;class LF extends Xo{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new Y){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,c;this.closed||a>0?u=i[(a-1)%s]:(lx.subVectors(i[0],i[1]).add(i[0]),u=lx);const f=i[a%s],d=i[(a+1)%s];if(this.closed||a+2<s?c=i[(a+2)%s]:(lx.subVectors(i[s-1],i[s-2]).add(i[s-1]),c=lx),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let y=Math.pow(u.distanceToSquared(f),m),g=Math.pow(f.distanceToSquared(d),m),v=Math.pow(d.distanceToSquared(c),m);g<1e-4&&(g=1),y<1e-4&&(y=g),v<1e-4&&(v=g),M3.initNonuniformCatmullRom(u.x,f.x,d.x,c.x,y,g,v),T3.initNonuniformCatmullRom(u.y,f.y,d.y,c.y,y,g,v),P3.initNonuniformCatmullRom(u.z,f.z,d.z,c.z,y,g,v)}else this.curveType==="catmullrom"&&(M3.initCatmullRom(u.x,f.x,d.x,c.x,this.tension),T3.initCatmullRom(u.y,f.y,d.y,c.y,this.tension),P3.initCatmullRom(u.z,f.z,d.z,c.z,this.tension));return r.set(M3.calc(l),T3.calc(l),P3.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Y().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function LR(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function Cce(n,e){const t=1-n;return t*t*e}function Mce(n,e){return 2*(1-n)*n*e}function Tce(n,e){return n*n*e}function nm(n,e,t,r){return Cce(n,e)+Mce(n,t)+Tce(n,r)}function Pce(n,e){const t=1-n;return t*t*t*e}function Ice(n,e){const t=1-n;return 3*t*t*n*e}function Rce(n,e){return 3*(1-n)*n*n*e}function Bce(n,e){return n*n*n*e}function rm(n,e,t,r,i){return Pce(n,e)+Ice(n,t)+Rce(n,r)+Bce(n,i)}class lT extends Xo{constructor(e=new Fe,t=new Fe,r=new Fe,i=new Fe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Fe){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(rm(e,i.x,s.x,o.x,a.x),rm(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class DF extends Xo{constructor(e=new Y,t=new Y,r=new Y,i=new Y){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Y){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(rm(e,i.x,s.x,o.x,a.x),rm(e,i.y,s.y,o.y,a.y),rm(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Pw extends Xo{constructor(e=new Fe,t=new Fe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Fe){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new Fe;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class OF extends Xo{constructor(e=new Y,t=new Y){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Y){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class uT extends Xo{constructor(e=new Fe,t=new Fe,r=new Fe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Fe){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(nm(e,i.x,s.x,o.x),nm(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class cT extends Xo{constructor(e=new Y,t=new Y,r=new Y){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Y){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(nm(e,i.x,s.x,o.x),nm(e,i.y,s.y,o.y),nm(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class fT extends Xo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Fe){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],c=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(LR(a,l.x,u.x,c.x,f.x),LR(a,l.y,u.y,c.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Fe().fromArray(i))}return this}}var dT=Object.freeze({__proto__:null,ArcCurve:NF,CatmullRomCurve3:LF,CubicBezierCurve:lT,CubicBezierCurve3:DF,EllipseCurve:Tw,LineCurve:Pw,LineCurve3:OF,QuadraticBezierCurve:uT,QuadraticBezierCurve3:cT,SplineCurve:fT});class FF extends Xo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Pw(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(t.push(c),r=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new dT[i.type]().fromJSON(i))}return this}}class Ym extends FF{constructor(e){super(),this.type="Path",this.currentPoint=new Fe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new Pw(this.currentPoint.clone(),new Fe(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new uT(this.currentPoint.clone(),new Fe(e,t),new Fe(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new lT(this.currentPoint.clone(),new Fe(e,t),new Fe(r,i),new Fe(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new fT(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,t+c,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const u=new Tw(e,t,r,i,s,o,a,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class hp extends Ut{constructor(e=[new Fe(0,-.5),new Fe(.5,0),new Fe(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=pr(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],c=1/t,f=new Y,d=new Fe,m=new Y,y=new Y,g=new Y;let v=0,x=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:v=e[w+1].x-e[w].x,x=e[w+1].y-e[w].y,m.x=x*1,m.y=-v,m.z=x*0,g.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(g.x,g.y,g.z);break;default:v=e[w+1].x-e[w].x,x=e[w+1].y-e[w].y,m.x=x*1,m.y=-v,m.z=x*0,y.copy(m),m.x+=g.x,m.y+=g.y,m.z+=g.z,m.normalize(),l.push(m.x,m.y,m.z),g.copy(y)}for(let w=0;w<=t;w++){const b=r+w*c*i,A=Math.sin(b),M=Math.cos(b);for(let I=0;I<=e.length-1;I++){f.x=e[I].x*A,f.y=e[I].y,f.z=e[I].x*M,o.push(f.x,f.y,f.z),d.x=w/t,d.y=I/(e.length-1),a.push(d.x,d.y);const D=l[3*I+0]*A,P=l[3*I+1],O=l[3*I+0]*M;u.push(D,P,O)}}for(let w=0;w<t;w++)for(let b=0;b<e.length-1;b++){const A=b+w*e.length,M=A,I=A+e.length,D=A+e.length+1,P=A+1;s.push(M,I,P),s.push(D,P,I)}this.setIndex(s),this.setAttribute("position",new pt(o,3)),this.setAttribute("uv",new pt(a,2)),this.setAttribute("normal",new pt(u,3))}static fromJSON(e){return new hp(e.points,e.segments,e.phiStart,e.phiLength)}}class Dg extends hp{constructor(e=1,t=1,r=4,i=8){const s=new Ym;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new Dg(e.radius,e.length,e.capSegments,e.radialSegments)}}class Og extends Ut{constructor(e=1,t=8,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],u=new Y,c=new Fe;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,d=3;f<=t;f++,d+=3){const m=r+f/t*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),c.x=(o[d]/e+1)/2,c.y=(o[d+1]/e+1)/2,l.push(c.x,c.y)}for(let f=1;f<=t;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new pt(o,3)),this.setAttribute("normal",new pt(a,3)),this.setAttribute("uv",new pt(l,2))}static fromJSON(e){return new Og(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Hf extends Ut{constructor(e=1,t=1,r=1,i=8,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const c=[],f=[],d=[],m=[];let y=0;const g=[],v=r/2;let x=0;w(),o===!1&&(e>0&&b(!0),t>0&&b(!1)),this.setIndex(c),this.setAttribute("position",new pt(f,3)),this.setAttribute("normal",new pt(d,3)),this.setAttribute("uv",new pt(m,2));function w(){const A=new Y,M=new Y;let I=0;const D=(t-e)/r;for(let P=0;P<=s;P++){const O=[],V=P/s,q=V*(t-e)+e;for(let ne=0;ne<=i;ne++){const H=ne/i,_=H*l+a,T=Math.sin(_),k=Math.cos(_);M.x=q*T,M.y=-V*r+v,M.z=q*k,f.push(M.x,M.y,M.z),A.set(T,D,k).normalize(),d.push(A.x,A.y,A.z),m.push(H,1-V),O.push(y++)}g.push(O)}for(let P=0;P<i;P++)for(let O=0;O<s;O++){const V=g[O][P],q=g[O+1][P],ne=g[O+1][P+1],H=g[O][P+1];c.push(V,q,H),c.push(q,ne,H),I+=6}u.addGroup(x,I,0),x+=I}function b(A){const M=y,I=new Fe,D=new Y;let P=0;const O=A===!0?e:t,V=A===!0?1:-1;for(let ne=1;ne<=i;ne++)f.push(0,v*V,0),d.push(0,V,0),m.push(.5,.5),y++;const q=y;for(let ne=0;ne<=i;ne++){const _=ne/i*l+a,T=Math.cos(_),k=Math.sin(_);D.x=O*k,D.y=v*V,D.z=O*T,f.push(D.x,D.y,D.z),d.push(0,V,0),I.x=T*.5+.5,I.y=k*.5*V+.5,m.push(I.x,I.y),y++}for(let ne=0;ne<i;ne++){const H=M+ne,_=q+ne;A===!0?c.push(_,_+1,H):c.push(_+1,_,H),P+=3}u.addGroup(x,P,A===!0?1:2),x+=P}}static fromJSON(e){return new Hf(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Fg extends Hf{constructor(e=1,t=1,r=8,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Fg(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Gl extends Ut{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),u(r),c(),this.setAttribute("position",new pt(s,3)),this.setAttribute("normal",new pt(s.slice(),3)),this.setAttribute("uv",new pt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(w){const b=new Y,A=new Y,M=new Y;for(let I=0;I<t.length;I+=3)m(t[I+0],b),m(t[I+1],A),m(t[I+2],M),l(b,A,M,w)}function l(w,b,A,M){const I=M+1,D=[];for(let P=0;P<=I;P++){D[P]=[];const O=w.clone().lerp(A,P/I),V=b.clone().lerp(A,P/I),q=I-P;for(let ne=0;ne<=q;ne++)ne===0&&P===I?D[P][ne]=O:D[P][ne]=O.clone().lerp(V,ne/q)}for(let P=0;P<I;P++)for(let O=0;O<2*(I-P)-1;O++){const V=Math.floor(O/2);O%2===0?(d(D[P][V+1]),d(D[P+1][V]),d(D[P][V])):(d(D[P][V+1]),d(D[P+1][V+1]),d(D[P+1][V]))}}function u(w){const b=new Y;for(let A=0;A<s.length;A+=3)b.x=s[A+0],b.y=s[A+1],b.z=s[A+2],b.normalize().multiplyScalar(w),s[A+0]=b.x,s[A+1]=b.y,s[A+2]=b.z}function c(){const w=new Y;for(let b=0;b<s.length;b+=3){w.x=s[b+0],w.y=s[b+1],w.z=s[b+2];const A=v(w)/2/Math.PI+.5,M=x(w)/Math.PI+.5;o.push(A,1-M)}y(),f()}function f(){for(let w=0;w<o.length;w+=6){const b=o[w+0],A=o[w+2],M=o[w+4],I=Math.max(b,A,M),D=Math.min(b,A,M);I>.9&&D<.1&&(b<.2&&(o[w+0]+=1),A<.2&&(o[w+2]+=1),M<.2&&(o[w+4]+=1))}}function d(w){s.push(w.x,w.y,w.z)}function m(w,b){const A=w*3;b.x=e[A+0],b.y=e[A+1],b.z=e[A+2]}function y(){const w=new Y,b=new Y,A=new Y,M=new Y,I=new Fe,D=new Fe,P=new Fe;for(let O=0,V=0;O<s.length;O+=9,V+=6){w.set(s[O+0],s[O+1],s[O+2]),b.set(s[O+3],s[O+4],s[O+5]),A.set(s[O+6],s[O+7],s[O+8]),I.set(o[V+0],o[V+1]),D.set(o[V+2],o[V+3]),P.set(o[V+4],o[V+5]),M.copy(w).add(b).add(A).divideScalar(3);const q=v(M);g(I,V+0,w,q),g(D,V+2,b,q),g(P,V+4,A,q)}}function g(w,b,A,M){M<0&&w.x===1&&(o[b]=w.x-1),A.x===0&&A.z===0&&(o[b]=M/2/Math.PI+.5)}function v(w){return Math.atan2(w.z,-w.x)}function x(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}static fromJSON(e){return new Gl(e.vertices,e.indices,e.radius,e.details)}}class Ug extends Gl{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ug(e.radius,e.detail)}}const ux=new Y,cx=new Y,I3=new Y,fx=new ro;class UF extends Ut{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(df*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),d={},m=[];for(let y=0;y<l;y+=3){o?(u[0]=o.getX(y),u[1]=o.getX(y+1),u[2]=o.getX(y+2)):(u[0]=y,u[1]=y+1,u[2]=y+2);const{a:g,b:v,c:x}=fx;if(g.fromBufferAttribute(a,u[0]),v.fromBufferAttribute(a,u[1]),x.fromBufferAttribute(a,u[2]),fx.getNormal(I3),f[0]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,f[1]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,f[2]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let w=0;w<3;w++){const b=(w+1)%3,A=f[w],M=f[b],I=fx[c[w]],D=fx[c[b]],P=`${A}_${M}`,O=`${M}_${A}`;O in d&&d[O]?(I3.dot(d[O].normal)<=s&&(m.push(I.x,I.y,I.z),m.push(D.x,D.y,D.z)),d[O]=null):P in d||(d[P]={index0:u[w],index1:u[b],normal:I3.clone()})}}for(const y in d)if(d[y]){const{index0:g,index1:v}=d[y];ux.fromBufferAttribute(a,g),cx.fromBufferAttribute(a,v),m.push(ux.x,ux.y,ux.z),m.push(cx.x,cx.y,cx.z)}this.setAttribute("position",new pt(m,3))}}}class mf extends Ym{constructor(e){super(e),this.uuid=Cs(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new Ym().fromJSON(i))}return this}}const kce={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=zF(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,c,f,d,m;if(r&&(s=Fce(n,e,s,t)),n.length>80*t){a=u=n[0],l=c=n[1];for(let y=t;y<i;y+=t)f=n[y],d=n[y+1],f<a&&(a=f),d<l&&(l=d),f>u&&(u=f),d>c&&(c=d);m=Math.max(u-a,c-l),m=m!==0?32767/m:0}return Qm(s,o,t,a,l,m,0),o}};function zF(n,e,t,r,i){let s,o;if(i===$ce(n,e,t,r)>0)for(s=e;s<t;s+=r)o=DR(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=DR(s,n[s],n[s+1],o);return o&&Iw(o,o.next)&&(eg(o),o=o.next),o}function Bf(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(Iw(t,t.next)||$n(t.prev,t,t.next)===0)){if(eg(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function Qm(n,e,t,r,i,s,o){if(!n)return;!o&&s&&jce(n,r,i,s);let a=n,l,u;for(;n.prev!==n.next;){if(l=n.prev,u=n.next,s?Lce(n,r,i,s):Nce(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(u.i/t|0),eg(n),n=u.next,a=u.next;continue}if(n=u,n===a){o?o===1?(n=Dce(Bf(n),e,t),Qm(n,e,t,r,i,s,2)):o===2&&Oce(n,e,t,r,i,s):Qm(Bf(n),e,t,r,i,s,1);break}}}function Nce(n){const e=n.prev,t=n,r=n.next;if($n(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,u=r.y,c=i<s?i<o?i:o:s<o?s:o,f=a<l?a<u?a:u:l<u?l:u,d=i>s?i>o?i:o:s>o?s:o,m=a>l?a>u?a:u:l>u?l:u;let y=r.next;for(;y!==e;){if(y.x>=c&&y.x<=d&&y.y>=f&&y.y<=m&&nh(i,a,s,l,o,u,y.x,y.y)&&$n(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function Lce(n,e,t,r){const i=n.prev,s=n,o=n.next;if($n(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,c=i.y,f=s.y,d=o.y,m=a<l?a<u?a:u:l<u?l:u,y=c<f?c<d?c:d:f<d?f:d,g=a>l?a>u?a:u:l>u?l:u,v=c>f?c>d?c:d:f>d?f:d,x=QE(m,y,e,t,r),w=QE(g,v,e,t,r);let b=n.prevZ,A=n.nextZ;for(;b&&b.z>=x&&A&&A.z<=w;){if(b.x>=m&&b.x<=g&&b.y>=y&&b.y<=v&&b!==i&&b!==o&&nh(a,c,l,f,u,d,b.x,b.y)&&$n(b.prev,b,b.next)>=0||(b=b.prevZ,A.x>=m&&A.x<=g&&A.y>=y&&A.y<=v&&A!==i&&A!==o&&nh(a,c,l,f,u,d,A.x,A.y)&&$n(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;b&&b.z>=x;){if(b.x>=m&&b.x<=g&&b.y>=y&&b.y<=v&&b!==i&&b!==o&&nh(a,c,l,f,u,d,b.x,b.y)&&$n(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;A&&A.z<=w;){if(A.x>=m&&A.x<=g&&A.y>=y&&A.y<=v&&A!==i&&A!==o&&nh(a,c,l,f,u,d,A.x,A.y)&&$n(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function Dce(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!Iw(i,s)&&GF(i,r,r.next,s)&&Zm(i,s)&&Zm(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),eg(r),eg(r.next),r=n=s),r=r.next}while(r!==n);return Bf(r)}function Oce(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&qce(o,a)){let l=HF(o,a);o=Bf(o,o.next),l=Bf(l,l.next),Qm(o,e,t,r,i,s,0),Qm(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function Fce(n,e,t,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,u=zF(n,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(Wce(u));for(i.sort(Uce),s=0;s<i.length;s++)t=zce(i[s],t);return t}function Uce(n,e){return n.x-e.x}function zce(n,e){const t=Gce(n,e);if(!t)return e;const r=HF(t,n);return Bf(r,r.next),Bf(t,t.next)}function Gce(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const d=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(d<=s&&d>r&&(r=d,i=t.x<t.next.x?t:t.next,d===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,u=i.y;let c=1/0,f;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&nh(o<u?s:r,o,l,u,o<u?r:s,o,t.x,t.y)&&(f=Math.abs(o-t.y)/(s-t.x),Zm(t,n)&&(f<c||f===c&&(t.x>i.x||t.x===i.x&&Hce(i,t)))&&(i=t,c=f)),t=t.next;while(t!==a);return i}function Hce(n,e){return $n(n.prev,n,e.prev)<0&&$n(e.next,n,n.next)<0}function jce(n,e,t,r){let i=n;do i.z===0&&(i.z=QE(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,Vce(i)}function Vce(n){let e,t,r,i,s,o,a,l,u=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,u*=2}while(o>1);return n}function QE(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function Wce(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function nh(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function qce(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!Kce(n,e)&&(Zm(n,e)&&Zm(e,n)&&Jce(n,e)&&($n(n.prev,n,e.prev)||$n(n,e.prev,e))||Iw(n,e)&&$n(n.prev,n,n.next)>0&&$n(e.prev,e,e.next)>0)}function $n(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Iw(n,e){return n.x===e.x&&n.y===e.y}function GF(n,e,t,r){const i=hx($n(n,e,t)),s=hx($n(n,e,r)),o=hx($n(t,r,n)),a=hx($n(t,r,e));return!!(i!==s&&o!==a||i===0&&dx(n,t,e)||s===0&&dx(n,r,e)||o===0&&dx(t,n,r)||a===0&&dx(t,e,r))}function dx(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function hx(n){return n>0?1:n<0?-1:0}function Kce(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&GF(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Zm(n,e){return $n(n.prev,n,n.next)<0?$n(n,e,n.next)>=0&&$n(n,n.prev,e)>=0:$n(n,e,n.prev)<0||$n(n,n.next,e)<0}function Jce(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function HF(n,e){const t=new ZE(n.i,n.x,n.y),r=new ZE(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function DR(n,e,t,r){const i=new ZE(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function eg(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function ZE(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function $ce(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class _a{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return _a.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];OR(e),FR(r,e);let o=e.length;t.forEach(OR);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,FR(r,t[l]);const a=kce.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function OR(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function FR(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class zg extends Ut{constructor(e=new mf([new Fe(.5,.5),new Fe(-.5,.5),new Fe(-.5,-.5),new Fe(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new pt(i,3)),this.setAttribute("uv",new pt(s,2)),this.computeVertexNormals();function o(a){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,c=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let d=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:m-.1,g=t.bevelOffset!==void 0?t.bevelOffset:0,v=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,w=t.UVGenerator!==void 0?t.UVGenerator:Xce;let b,A=!1,M,I,D,P;x&&(b=x.getSpacedPoints(c),A=!0,d=!1,M=x.computeFrenetFrames(c,!1),I=new Y,D=new Y,P=new Y),d||(v=0,m=0,y=0,g=0);const O=a.extractPoints(u);let V=O.shape;const q=O.holes;if(!_a.isClockWise(V)){V=V.reverse();for(let ae=0,me=q.length;ae<me;ae++){const xe=q[ae];_a.isClockWise(xe)&&(q[ae]=xe.reverse())}}const H=_a.triangulateShape(V,q),_=V;for(let ae=0,me=q.length;ae<me;ae++){const xe=q[ae];V=V.concat(xe)}function T(ae,me,xe){return me||console.error("THREE.ExtrudeGeometry: vec does not exist"),me.clone().multiplyScalar(xe).add(ae)}const k=V.length,U=H.length;function L(ae,me,xe){let Ne,He,$e;const ue=ae.x-me.x,we=ae.y-me.y,Ce=xe.x-ae.x,ze=xe.y-ae.y,$=ue*ue+we*we,W=ue*ze-we*Ce;if(Math.abs(W)>Number.EPSILON){const le=Math.sqrt($),Re=Math.sqrt(Ce*Ce+ze*ze),Te=me.x-we/le,ke=me.y+ue/le,Qe=xe.x-ze/Re,Oe=xe.y+Ce/Re,be=((Qe-Te)*ze-(Oe-ke)*Ce)/(ue*ze-we*Ce);Ne=Te+ue*be-ae.x,He=ke+we*be-ae.y;const Ye=Ne*Ne+He*He;if(Ye<=2)return new Fe(Ne,He);$e=Math.sqrt(Ye/2)}else{let le=!1;ue>Number.EPSILON?Ce>Number.EPSILON&&(le=!0):ue<-Number.EPSILON?Ce<-Number.EPSILON&&(le=!0):Math.sign(we)===Math.sign(ze)&&(le=!0),le?(Ne=-we,He=ue,$e=Math.sqrt($)):(Ne=ue,He=we,$e=Math.sqrt($/2))}return new Fe(Ne/$e,He/$e)}const F=[];for(let ae=0,me=_.length,xe=me-1,Ne=ae+1;ae<me;ae++,xe++,Ne++)xe===me&&(xe=0),Ne===me&&(Ne=0),F[ae]=L(_[ae],_[xe],_[Ne]);const z=[];let B,E=F.concat();for(let ae=0,me=q.length;ae<me;ae++){const xe=q[ae];B=[];for(let Ne=0,He=xe.length,$e=He-1,ue=Ne+1;Ne<He;Ne++,$e++,ue++)$e===He&&($e=0),ue===He&&(ue=0),B[Ne]=L(xe[Ne],xe[$e],xe[ue]);z.push(B),E=E.concat(B)}for(let ae=0;ae<v;ae++){const me=ae/v,xe=m*Math.cos(me*Math.PI/2),Ne=y*Math.sin(me*Math.PI/2)+g;for(let He=0,$e=_.length;He<$e;He++){const ue=T(_[He],F[He],Ne);oe(ue.x,ue.y,-xe)}for(let He=0,$e=q.length;He<$e;He++){const ue=q[He];B=z[He];for(let we=0,Ce=ue.length;we<Ce;we++){const ze=T(ue[we],B[we],Ne);oe(ze.x,ze.y,-xe)}}}const j=y+g;for(let ae=0;ae<k;ae++){const me=d?T(V[ae],E[ae],j):V[ae];A?(D.copy(M.normals[0]).multiplyScalar(me.x),I.copy(M.binormals[0]).multiplyScalar(me.y),P.copy(b[0]).add(D).add(I),oe(P.x,P.y,P.z)):oe(me.x,me.y,0)}for(let ae=1;ae<=c;ae++)for(let me=0;me<k;me++){const xe=d?T(V[me],E[me],j):V[me];A?(D.copy(M.normals[ae]).multiplyScalar(xe.x),I.copy(M.binormals[ae]).multiplyScalar(xe.y),P.copy(b[ae]).add(D).add(I),oe(P.x,P.y,P.z)):oe(xe.x,xe.y,f/c*ae)}for(let ae=v-1;ae>=0;ae--){const me=ae/v,xe=m*Math.cos(me*Math.PI/2),Ne=y*Math.sin(me*Math.PI/2)+g;for(let He=0,$e=_.length;He<$e;He++){const ue=T(_[He],F[He],Ne);oe(ue.x,ue.y,f+xe)}for(let He=0,$e=q.length;He<$e;He++){const ue=q[He];B=z[He];for(let we=0,Ce=ue.length;we<Ce;we++){const ze=T(ue[we],B[we],Ne);A?oe(ze.x,ze.y+b[c-1].y,b[c-1].x+xe):oe(ze.x,ze.y,f+xe)}}}X(),N();function X(){const ae=i.length/3;if(d){let me=0,xe=k*me;for(let Ne=0;Ne<U;Ne++){const He=H[Ne];ie(He[2]+xe,He[1]+xe,He[0]+xe)}me=c+v*2,xe=k*me;for(let Ne=0;Ne<U;Ne++){const He=H[Ne];ie(He[0]+xe,He[1]+xe,He[2]+xe)}}else{for(let me=0;me<U;me++){const xe=H[me];ie(xe[2],xe[1],xe[0])}for(let me=0;me<U;me++){const xe=H[me];ie(xe[0]+k*c,xe[1]+k*c,xe[2]+k*c)}}r.addGroup(ae,i.length/3-ae,0)}function N(){const ae=i.length/3;let me=0;K(_,me),me+=_.length;for(let xe=0,Ne=q.length;xe<Ne;xe++){const He=q[xe];K(He,me),me+=He.length}r.addGroup(ae,i.length/3-ae,1)}function K(ae,me){let xe=ae.length;for(;--xe>=0;){const Ne=xe;let He=xe-1;He<0&&(He=ae.length-1);for(let $e=0,ue=c+v*2;$e<ue;$e++){const we=k*$e,Ce=k*($e+1),ze=me+Ne+we,$=me+He+we,W=me+He+Ce,le=me+Ne+Ce;fe(ze,$,W,le)}}}function oe(ae,me,xe){l.push(ae),l.push(me),l.push(xe)}function ie(ae,me,xe){ce(ae),ce(me),ce(xe);const Ne=i.length/3,He=w.generateTopUV(r,i,Ne-3,Ne-2,Ne-1);Ee(He[0]),Ee(He[1]),Ee(He[2])}function fe(ae,me,xe,Ne){ce(ae),ce(me),ce(Ne),ce(me),ce(xe),ce(Ne);const He=i.length/3,$e=w.generateSideWallUV(r,i,He-6,He-3,He-2,He-1);Ee($e[0]),Ee($e[1]),Ee($e[3]),Ee($e[1]),Ee($e[2]),Ee($e[3])}function ce(ae){i.push(l[ae*3+0]),i.push(l[ae*3+1]),i.push(l[ae*3+2])}function Ee(ae){s.push(ae.x),s.push(ae.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return Yce(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new dT[i.type]().fromJSON(i)),new zg(r,e.options)}}const Xce={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new Fe(s,o),new Fe(a,l),new Fe(u,c)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],u=e[r*3],c=e[r*3+1],f=e[r*3+2],d=e[i*3],m=e[i*3+1],y=e[i*3+2],g=e[s*3],v=e[s*3+1],x=e[s*3+2];return Math.abs(a-c)<Math.abs(o-u)?[new Fe(o,1-l),new Fe(u,1-f),new Fe(d,1-y),new Fe(g,1-x)]:[new Fe(a,1-l),new Fe(c,1-f),new Fe(m,1-y),new Fe(v,1-x)]}};function Yce(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class pp extends Gl{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new pp(e.radius,e.detail)}}class mp extends Gl{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new mp(e.radius,e.detail)}}class Gg extends Ut{constructor(e=.5,t=1,r=8,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],c=[];let f=e;const d=(t-e)/i,m=new Y,y=new Fe;for(let g=0;g<=i;g++){for(let v=0;v<=r;v++){const x=s+v/r*o;m.x=f*Math.cos(x),m.y=f*Math.sin(x),l.push(m.x,m.y,m.z),u.push(0,0,1),y.x=(m.x/t+1)/2,y.y=(m.y/t+1)/2,c.push(y.x,y.y)}f+=d}for(let g=0;g<i;g++){const v=g*(r+1);for(let x=0;x<r;x++){const w=x+v,b=w,A=w+r+1,M=w+r+2,I=w+1;a.push(b,A,I),a.push(A,M,I)}}this.setIndex(a),this.setAttribute("position",new pt(l,3)),this.setAttribute("normal",new pt(u,3)),this.setAttribute("uv",new pt(c,2))}static fromJSON(e){return new Gg(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Hg extends Ut{constructor(e=new mf([new Fe(0,.5),new Fe(-.5,-.5),new Fe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(a,l,c),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new pt(i,3)),this.setAttribute("normal",new pt(s,3)),this.setAttribute("uv",new pt(o,2));function u(c){const f=i.length/3,d=c.extractPoints(t);let m=d.shape;const y=d.holes;_a.isClockWise(m)===!1&&(m=m.reverse());for(let v=0,x=y.length;v<x;v++){const w=y[v];_a.isClockWise(w)===!0&&(y[v]=w.reverse())}const g=_a.triangulateShape(m,y);for(let v=0,x=y.length;v<x;v++){const w=y[v];m=m.concat(w)}for(let v=0,x=m.length;v<x;v++){const w=m[v];i.push(w.x,w.y,0),s.push(0,0,1),o.push(w.x,w.y)}for(let v=0,x=g.length;v<x;v++){const w=g[v],b=w[0]+f,A=w[1]+f,M=w[2]+f;r.push(b,A,M),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Qce(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new Hg(r,e.curveSegments)}}function Qce(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class gp extends Ut{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const c=[],f=new Y,d=new Y,m=[],y=[],g=[],v=[];for(let x=0;x<=r;x++){const w=[],b=x/r;let A=0;x==0&&o==0?A=.5/t:x==r&&l==Math.PI&&(A=-.5/t);for(let M=0;M<=t;M++){const I=M/t;f.x=-e*Math.cos(i+I*s)*Math.sin(o+b*a),f.y=e*Math.cos(o+b*a),f.z=e*Math.sin(i+I*s)*Math.sin(o+b*a),y.push(f.x,f.y,f.z),d.copy(f).normalize(),g.push(d.x,d.y,d.z),v.push(I+A,1-b),w.push(u++)}c.push(w)}for(let x=0;x<r;x++)for(let w=0;w<t;w++){const b=c[x][w+1],A=c[x][w],M=c[x+1][w],I=c[x+1][w+1];(x!==0||o>0)&&m.push(b,A,I),(x!==r-1||l<Math.PI)&&m.push(A,M,I)}this.setIndex(m),this.setAttribute("position",new pt(y,3)),this.setAttribute("normal",new pt(g,3)),this.setAttribute("uv",new pt(v,2))}static fromJSON(e){return new gp(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class jg extends Gl{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new jg(e.radius,e.detail)}}class Vg extends Ut{constructor(e=1,t=.4,r=8,i=6,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],c=new Y,f=new Y,d=new Y;for(let m=0;m<=r;m++)for(let y=0;y<=i;y++){const g=y/i*s,v=m/r*Math.PI*2;f.x=(e+t*Math.cos(v))*Math.cos(g),f.y=(e+t*Math.cos(v))*Math.sin(g),f.z=t*Math.sin(v),a.push(f.x,f.y,f.z),c.x=e*Math.cos(g),c.y=e*Math.sin(g),d.subVectors(f,c).normalize(),l.push(d.x,d.y,d.z),u.push(y/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let y=1;y<=i;y++){const g=(i+1)*m+y-1,v=(i+1)*(m-1)+y-1,x=(i+1)*(m-1)+y,w=(i+1)*m+y;o.push(g,v,w),o.push(v,x,w)}this.setIndex(o),this.setAttribute("position",new pt(a,3)),this.setAttribute("normal",new pt(l,3)),this.setAttribute("uv",new pt(u,2))}static fromJSON(e){return new Vg(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Wg extends Ut{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],c=[],f=new Y,d=new Y,m=new Y,y=new Y,g=new Y,v=new Y,x=new Y;for(let b=0;b<=r;++b){const A=b/r*s*Math.PI*2;w(A,s,o,e,m),w(A+.01,s,o,e,y),v.subVectors(y,m),x.addVectors(y,m),g.crossVectors(v,x),x.crossVectors(g,v),g.normalize(),x.normalize();for(let M=0;M<=i;++M){const I=M/i*Math.PI*2,D=-t*Math.cos(I),P=t*Math.sin(I);f.x=m.x+(D*x.x+P*g.x),f.y=m.y+(D*x.y+P*g.y),f.z=m.z+(D*x.z+P*g.z),l.push(f.x,f.y,f.z),d.subVectors(f,m).normalize(),u.push(d.x,d.y,d.z),c.push(b/r),c.push(M/i)}}for(let b=1;b<=r;b++)for(let A=1;A<=i;A++){const M=(i+1)*(b-1)+(A-1),I=(i+1)*b+(A-1),D=(i+1)*b+A,P=(i+1)*(b-1)+A;a.push(M,I,P),a.push(I,D,P)}this.setIndex(a),this.setAttribute("position",new pt(l,3)),this.setAttribute("normal",new pt(u,3)),this.setAttribute("uv",new pt(c,2));function w(b,A,M,I,D){const P=Math.cos(b),O=Math.sin(b),V=M/A*b,q=Math.cos(V);D.x=I*(2+q)*.5*P,D.y=I*(2+q)*O*.5,D.z=I*Math.sin(V)*.5}}static fromJSON(e){return new Wg(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class qg extends Ut{constructor(e=new cT(new Y(-1,-1,0),new Y(-1,1,0),new Y(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new Y,l=new Y,u=new Fe;let c=new Y;const f=[],d=[],m=[],y=[];g(),this.setIndex(y),this.setAttribute("position",new pt(f,3)),this.setAttribute("normal",new pt(d,3)),this.setAttribute("uv",new pt(m,2));function g(){for(let b=0;b<t;b++)v(b);v(s===!1?t:0),w(),x()}function v(b){c=e.getPointAt(b/t,c);const A=o.normals[b],M=o.binormals[b];for(let I=0;I<=i;I++){const D=I/i*Math.PI*2,P=Math.sin(D),O=-Math.cos(D);l.x=O*A.x+P*M.x,l.y=O*A.y+P*M.y,l.z=O*A.z+P*M.z,l.normalize(),d.push(l.x,l.y,l.z),a.x=c.x+r*l.x,a.y=c.y+r*l.y,a.z=c.z+r*l.z,f.push(a.x,a.y,a.z)}}function x(){for(let b=1;b<=t;b++)for(let A=1;A<=i;A++){const M=(i+1)*(b-1)+(A-1),I=(i+1)*b+(A-1),D=(i+1)*b+A,P=(i+1)*(b-1)+A;y.push(M,I,P),y.push(I,D,P)}}function w(){for(let b=0;b<=t;b++)for(let A=0;A<=i;A++)u.x=b/t,u.y=A/i,m.push(u.x,u.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new qg(new dT[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class jF extends Ut{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new Y,s=new Y;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const f=l[u],d=f.start,m=f.count;for(let y=d,g=d+m;y<g;y+=3)for(let v=0;v<3;v++){const x=a.getX(y+v),w=a.getX(y+(v+1)%3);i.fromBufferAttribute(o,x),s.fromBufferAttribute(o,w),UR(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const c=3*a+u,f=3*a+(u+1)%3;i.fromBufferAttribute(o,c),s.fromBufferAttribute(o,f),UR(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new pt(t,3))}}}function UR(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var zR=Object.freeze({__proto__:null,BoxGeometry:ic,CapsuleGeometry:Dg,CircleGeometry:Og,ConeGeometry:Fg,CylinderGeometry:Hf,DodecahedronGeometry:Ug,EdgesGeometry:UF,ExtrudeGeometry:zg,IcosahedronGeometry:pp,LatheGeometry:hp,OctahedronGeometry:mp,PlaneGeometry:Gf,PolyhedronGeometry:Gl,RingGeometry:Gg,ShapeGeometry:Hg,SphereGeometry:gp,TetrahedronGeometry:jg,TorusGeometry:Vg,TorusKnotGeometry:Wg,TubeGeometry:qg,WireframeGeometry:jF});class VF extends Cr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new et(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class WF extends Is{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class vp extends Cr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new et(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fl,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Hl extends vp{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Fe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return pr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new et(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new et(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new et(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class qF extends Cr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new et(16777215),this.specular=new et(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fl,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Pg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class KF extends Cr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new et(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fl,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class JF extends Cr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fl,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class $F extends Cr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fl,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Pg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class XF extends Cr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new et(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Fl,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class YF extends Mi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Qs(n,e,t){return hT(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function ef(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function hT(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function QF(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function eC(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function pT(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function Zce(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],c=u.getValueSize(),f=[],d=[];for(let m=0;m<u.times.length;++m){const y=u.times[m]*i;if(!(y<t||y>=r)){f.push(u.times[m]);for(let g=0;g<c;++g)d.push(u.values[m*c+g])}}f.length!==0&&(u.times=ef(f,u.times.constructor),u.values=ef(d,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function efe(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(x){return x.name===a.name&&x.ValueTypeName===l});if(u===void 0)continue;let c=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let d=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=m/3);const y=a.times.length-1;let g;if(s<=a.times[0]){const x=c,w=f-c;g=Qs(a.values,x,w)}else if(s>=a.times[y]){const x=y*f+c,w=x+f-c;g=Qs(a.values,x,w)}else{const x=a.createInterpolant(),w=c,b=f-c;x.evaluate(s),g=Qs(x.resultBuffer,w,b)}l==="quaternion"&&new si().fromArray(g).normalize().conjugate().toArray(g);const v=u.times.length;for(let x=0;x<v;++x){const w=x*m+d;if(l==="quaternion")si.multiplyQuaternionsFlat(u.values,w,g,0,u.values,w);else{const b=m-d*2;for(let A=0;A<b;++A)u.values[w+A]-=g[A]}}}return n.blendMode=q6,n}var tfe=Object.freeze({__proto__:null,arraySlice:Qs,convertArray:ef,isTypedArray:hT,getKeyframeOrder:QF,sortedArray:eC,flattenJSON:pT,subclip:Zce,makeClipAdditive:efe});class yp{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class ZF extends yp{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Yc,endingEnd:Yc}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Qc:s=e,a=2*t-r;break;case Km:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Qc:o=e,l=2*r-t;break;case Km:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const u=(r-t)*.5,c=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(l-r),this._offsetPrev=s*c,this._offsetNext=o*c}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=this._offsetPrev,f=this._offsetNext,d=this._weightPrev,m=this._weightNext,y=(r-t)/(i-t),g=y*y,v=g*y,x=-d*v+2*d*g-d*y,w=(1+d)*v+(-1.5-2*d)*g+(-.5+d)*y+1,b=(-1-m)*v+(1.5+m)*g+.5*y,A=m*v-m*g;for(let M=0;M!==a;++M)s[M]=x*o[c+M]+w*o[u+M]+b*o[l+M]+A*o[f+M];return s}}class mT extends yp{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,c=(r-t)/(i-t),f=1-c;for(let d=0;d!==a;++d)s[d]=o[u+d]*f+o[l+d]*c;return s}}class eU extends yp{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Yo{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ef(t,this.TimeBufferType),this.values=ef(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:ef(e.times,Array),values:ef(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new eU(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new mT(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new ZF(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case zh:t=this.InterpolantFactoryMethodDiscrete;break;case Rf:t=this.InterpolantFactoryMethodLinear;break;case m1:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return zh;case this.InterpolantFactoryMethodLinear:return Rf;case this.InterpolantFactoryMethodSmooth:return m1}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Qs(r,s,o),this.values=Qs(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&hT(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=Qs(this.times),t=Qs(this.values),r=this.getValueSize(),i=this.getInterpolation()===m1,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],c=e[a+1];if(u!==c&&(a!==1||u!==e[0]))if(i)l=!0;else{const f=a*r,d=f-r,m=f+r;for(let y=0;y!==r;++y){const g=t[f+y];if(g!==t[d+y]||g!==t[m+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,d=o*r;for(let m=0;m!==r;++m)t[d+m]=t[f+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)t[l+u]=t[a+u];++o}return o!==e.length?(this.times=Qs(e,0,o),this.values=Qs(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=Qs(this.times,0),t=Qs(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Yo.prototype.TimeBufferType=Float32Array;Yo.prototype.ValueBufferType=Float32Array;Yo.prototype.DefaultInterpolation=Rf;class jf extends Yo{}jf.prototype.ValueTypeName="bool";jf.prototype.ValueBufferType=Array;jf.prototype.DefaultInterpolation=zh;jf.prototype.InterpolantFactoryMethodLinear=void 0;jf.prototype.InterpolantFactoryMethodSmooth=void 0;class gT extends Yo{}gT.prototype.ValueTypeName="color";class jh extends Yo{}jh.prototype.ValueTypeName="number";class tU extends yp{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let u=e*a;for(let c=u+a;u!==c;u+=4)si.slerpFlat(s,0,o,u-a,o,u,l);return s}}class Yu extends Yo{InterpolantFactoryMethodLinear(e){return new tU(this.times,this.values,this.getValueSize(),e)}}Yu.prototype.ValueTypeName="quaternion";Yu.prototype.DefaultInterpolation=Rf;Yu.prototype.InterpolantFactoryMethodSmooth=void 0;class Vf extends Yo{}Vf.prototype.ValueTypeName="string";Vf.prototype.ValueBufferType=Array;Vf.prototype.DefaultInterpolation=zh;Vf.prototype.InterpolantFactoryMethodLinear=void 0;Vf.prototype.InterpolantFactoryMethodSmooth=void 0;class Vh extends Yo{}Vh.prototype.ValueTypeName="vector";class Wh{constructor(e,t=-1,r,i=yw){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Cs(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(rfe(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(Yo.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const c=QF(l);l=eC(l,1,c),u=eC(u,1,c),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new jh(".morphTargetInfluences["+t[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],c=u.name.match(s);if(c&&c.length>1){const f=c[1];let d=i[f];d||(i[f]=d=[]),d.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,d,m,y,g){if(m.length!==0){const v=[],x=[];pT(m,v,x,y),v.length!==0&&g.push(new f(d,v,x))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const d=u[f].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const m={};let y;for(y=0;y<d.length;y++)if(d[y].morphTargets)for(let g=0;g<d[y].morphTargets.length;g++)m[d[y].morphTargets[g]]=-1;for(const g in m){const v=[],x=[];for(let w=0;w!==d[y].morphTargets.length;++w){const b=d[y];v.push(b.time),x.push(b.morphTarget===g?1:0)}i.push(new jh(".morphTargetInfluence["+g+"]",v,x))}l=m.length*o}else{const m=".bones["+t[f].name+"]";r(Vh,m+".position",d,"pos",i),r(Yu,m+".quaternion",d,"rot",i),r(Vh,m+".scale",d,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function nfe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return jh;case"vector":case"vector2":case"vector3":case"vector4":return Vh;case"color":return gT;case"quaternion":return Yu;case"bool":case"boolean":return jf;case"string":return Vf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function rfe(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=nfe(n.type);if(n.times===void 0){const t=[],r=[];pT(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const kf={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class vT{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(c){a++,s===!1&&i.onStart!==void 0&&i.onStart(c,o,a),s=!0},this.itemEnd=function(c){o++,i.onProgress!==void 0&&i.onProgress(c,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,d=u.length;f<d;f+=2){const m=u[f],y=u[f+1];if(m.global&&(m.lastIndex=0),m.test(c))return y}return null}}}const nU=new vT;class Hi{constructor(e){this.manager=e!==void 0?e:nU,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Qa={};class ife extends Error{constructor(e,t){super(e),this.response=t}}class Rs extends Hi{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=kf.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Qa[e]!==void 0){Qa[e].push({onLoad:t,onProgress:r,onError:i});return}Qa[e]=[],Qa[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=Qa[e],f=u.body.getReader(),d=u.headers.get("Content-Length"),m=d?parseInt(d):0,y=m!==0;let g=0;const v=new ReadableStream({start(x){w();function w(){f.read().then(({done:b,value:A})=>{if(b)x.close();else{g+=A.byteLength;const M=new ProgressEvent("progress",{lengthComputable:y,loaded:g,total:m});for(let I=0,D=c.length;I<D;I++){const P=c[I];P.onProgress&&P.onProgress(M)}x.enqueue(A),w()}})}}});return new Response(v)}else throw new ife(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,a));case"json":return u.json();default:if(a===void 0)return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),d=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(d);return u.arrayBuffer().then(y=>m.decode(y))}}}).then(u=>{kf.add(e,u);const c=Qa[e];delete Qa[e];for(let f=0,d=c.length;f<d;f++){const m=c[f];m.onLoad&&m.onLoad(u)}}).catch(u=>{const c=Qa[e];if(c===void 0)throw this.manager.itemError(e),u;delete Qa[e];for(let f=0,d=c.length;f<d;f++){const m=c[f];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class sfe extends Hi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Rs(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=Wh.parse(e[r]);t.push(i)}return t}}class ofe extends Hi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new oT,l=new Rs(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function c(f){l.load(e[f],function(d){const m=s.parse(d,!0);o[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=Ln),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let f=0,d=e.length;f<d;++f)c(f);else l.load(e,function(f){const d=s.parse(f,!0);if(d.isCubemap){const m=d.mipmaps.length/d.mipmapCount;for(let y=0;y<m;y++){o[y]={mipmaps:[]};for(let g=0;g<d.mipmapCount;g++)o[y].mipmaps.push(d.mipmaps[y*d.mipmapCount+g]),o[y].format=d.format,o[y].width=d.width,o[y].height=d.height}a.image=o}else a.image.width=d.width,a.image.height=d.height,a.mipmaps=d.mipmaps;d.mipmapCount===1&&(a.minFilter=Ln),a.format=d.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class tg extends Hi{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=kf.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Xm("img");function l(){c(),kf.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(f){c(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function c(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class rU extends Hi{constructor(e){super(e)}load(e,t,r,i){const s=new kg,o=new tg(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(c){s.images[u]=c,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class iU extends Hi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new xh,a=new Rs(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);!u||(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:ti,o.wrapT=u.wrapT!==void 0?u.wrapT:ti,o.magFilter=u.magFilter!==void 0?u.magFilter:Ln,o.minFilter=u.minFilter!==void 0?u.minFilter:Ln,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Ol),u.mipmapCount===1&&(o.minFilter=Ln),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,t&&t(o,u))},r,i),o}}class sU extends Hi{constructor(e){super(e)}load(e,t,r,i){const s=new ar,o=new tg(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class sc extends un{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new et(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class oU extends sc{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(un.DefaultUp),this.updateMatrix(),this.groundColor=new et(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const R3=new Bt,GR=new Y,HR=new Y;class yT{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Fe(512,512),this.map=null,this.mapPass=null,this.matrix=new Bt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new bw,this._frameExtents=new Fe(1,1),this._viewportCount=1,this._viewports=[new yn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;GR.setFromMatrixPosition(e.matrixWorld),t.position.copy(GR),HR.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(HR),t.updateMatrixWorld(),R3.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(R3),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(R3)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class afe extends yT{constructor(){super(new Dn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=$m*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class xT extends sc{constructor(e,t,r=0,i=Math.PI/3,s=0,o=1){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(un.DefaultUp),this.updateMatrix(),this.target=new un,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new afe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const jR=new Bt,h0=new Y,B3=new Y;class lfe extends yT{constructor(){super(new Dn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Fe(4,2),this._viewportCount=6,this._viewports=[new yn(2,1,1,1),new yn(0,1,1,1),new yn(3,1,1,1),new yn(1,1,1,1),new yn(3,0,1,1),new yn(1,0,1,1)],this._cubeDirections=[new Y(1,0,0),new Y(-1,0,0),new Y(0,0,1),new Y(0,0,-1),new Y(0,1,0),new Y(0,-1,0)],this._cubeUps=[new Y(0,1,0),new Y(0,1,0),new Y(0,1,0),new Y(0,1,0),new Y(0,0,1),new Y(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),h0.setFromMatrixPosition(e.matrixWorld),r.position.copy(h0),B3.copy(r.position),B3.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(B3),r.updateMatrixWorld(),i.makeTranslation(-h0.x,-h0.y,-h0.z),jR.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(jR)}}class bT extends sc{constructor(e,t,r=0,i=1){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new lfe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class ufe extends yT{constructor(){super(new ml(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class wT extends sc{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(un.DefaultUp),this.updateMatrix(),this.target=new un,this.shadow=new ufe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class aU extends sc{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class lU extends sc{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class uU{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Y)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class Rw extends sc{constructor(e=new uU,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Bw extends Hi{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new Rs(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=Bw.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new et().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new et().setHex(o.value);break;case"v2":i.uniforms[s].value=new Fe().fromArray(o.value);break;case"v3":i.uniforms[s].value=new Y().fromArray(o.value);break;case"v4":i.uniforms[s].value=new yn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new ns().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Bt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Fe().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Fe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:VF,SpriteMaterial:nT,RawShaderMaterial:WF,ShaderMaterial:Is,PointsMaterial:Mw,MeshPhysicalMaterial:Hl,MeshStandardMaterial:vp,MeshPhongMaterial:qF,MeshToonMaterial:KF,MeshNormalMaterial:JF,MeshLambertMaterial:$F,MeshDepthMaterial:_w,MeshDistanceMaterial:eT,MeshBasicMaterial:As,MeshMatcapMaterial:XF,LineDashedMaterial:YF,LineBasicMaterial:Mi,Material:Cr};return new t[e]}}class Aa{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class cU extends Ut{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class fU extends Hi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Rs(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,y){if(t[y]!==void 0)return t[y];const v=m.interleavedBuffers[y],x=s(m,v.buffer),w=eh(v.type,x),b=new Ng(w,v.stride);return b.uuid=v.uuid,t[y]=b,b}function s(m,y){if(r[y]!==void 0)return r[y];const v=m.arrayBuffers[y],x=new Uint32Array(v).buffer;return r[y]=x,x}const o=e.isInstancedBufferGeometry?new cU:new Ut,a=e.data.index;if(a!==void 0){const m=eh(a.type,a.array);o.setIndex(new gn(m,1))}const l=e.data.attributes;for(const m in l){const y=l[m];let g;if(y.isInterleavedBufferAttribute){const v=i(e.data,y.data);g=new Xu(v,y.itemSize,y.offset,y.normalized)}else{const v=eh(y.type,y.array),x=y.isInstancedBufferAttribute?Hh:gn;g=new x(v,y.itemSize,y.normalized)}y.name!==void 0&&(g.name=y.name),y.usage!==void 0&&g.setUsage(y.usage),y.updateRange!==void 0&&(g.updateRange.offset=y.updateRange.offset,g.updateRange.count=y.updateRange.count),o.setAttribute(m,g)}const u=e.data.morphAttributes;if(u)for(const m in u){const y=u[m],g=[];for(let v=0,x=y.length;v<x;v++){const w=y[v];let b;if(w.isInterleavedBufferAttribute){const A=i(e.data,w.data);b=new Xu(A,w.itemSize,w.offset,w.normalized)}else{const A=eh(w.type,w.array);b=new gn(A,w.itemSize,w.normalized)}w.name!==void 0&&(b.name=w.name),g.push(b)}o.morphAttributes[m]=g}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,y=f.length;m!==y;++m){const g=f[m];o.addGroup(g.start,g.count,g.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const m=new Y;d.center!==void 0&&m.fromArray(d.center),o.boundingSphere=new zl(m,d.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class cfe extends Hi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?Aa.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Rs(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?Aa.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Rs(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),t!==void 0){let f=!1;for(const d in o)if(o[d].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new mf().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Lg().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new fU;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in zR?a=zR[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new Bw;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Wh.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(c)}else return l.data?{data:eh(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new vT(t);s=new tg(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const f=e[u],d=f.url;if(Array.isArray(d)){const m=[];for(let y=0,g=d.length;y<g;y++){const v=d[y],x=a(v);x!==null&&(x instanceof HTMLImageElement?m.push(x):m.push(new xh(x.data,x.width,x.height)))}i[f.uuid]=new Zc(m)}else{const m=a(f.url);i[f.uuid]=new Zc(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:eh(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new tg(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const c=[];for(let f=0,d=u.length;f<d;f++){const m=u[f],y=await s(m);y!==null&&(y instanceof HTMLImageElement?c.push(y):c.push(new xh(y.data,y.width,y.height)))}r[l.uuid]=new Zc(c)}else{const c=await s(l.url);r[l.uuid]=new Zc(c)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],u=l.data;let c;Array.isArray(u)?(c=new kg,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new xh:c=new ar,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=a.uuid,a.name!==void 0&&(c.name=a.name),a.mapping!==void 0&&(c.mapping=r(a.mapping,ffe)),a.offset!==void 0&&c.offset.fromArray(a.offset),a.repeat!==void 0&&c.repeat.fromArray(a.repeat),a.center!==void 0&&c.center.fromArray(a.center),a.rotation!==void 0&&(c.rotation=a.rotation),a.wrap!==void 0&&(c.wrapS=r(a.wrap[0],VR),c.wrapT=r(a.wrap[1],VR)),a.format!==void 0&&(c.format=a.format),a.type!==void 0&&(c.type=a.type),a.encoding!==void 0&&(c.encoding=a.encoding),a.minFilter!==void 0&&(c.minFilter=r(a.minFilter,WR)),a.magFilter!==void 0&&(c.magFilter=r(a.magFilter,WR)),a.anisotropy!==void 0&&(c.anisotropy=a.anisotropy),a.flipY!==void 0&&(c.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(c.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(c.userData=a.userData),i[a.uuid]=c}return i}parseObject(e,t,r,i,s){let o;function a(d){return t[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),t[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const m=[];for(let y=0,g=d.length;y<g;y++){const v=d[y];r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),m.push(r[v])}return m}return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),r[d]}}function u(d){return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),i[d]}let c,f;switch(e.type){case"Scene":o=new Ew,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new et(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Sw(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Aw(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness);break;case"PerspectiveCamera":o=new Dn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new ml(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new aU(e.color,e.intensity);break;case"DirectionalLight":o=new wT(e.color,e.intensity);break;case"PointLight":o=new bT(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new lU(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new xT(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new oU(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Rw().fromJSON(e);break;case"SkinnedMesh":c=a(e.geometry),f=l(e.material),o=new rT(c,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":c=a(e.geometry),f=l(e.material),o=new Er(c,f);break;case"InstancedMesh":c=a(e.geometry),f=l(e.material);const d=e.count,m=e.instanceMatrix,y=e.instanceColor;o=new kF(c,f,d),o.instanceMatrix=new Hh(new Float32Array(m.array),16),y!==void 0&&(o.instanceColor=new Hh(new Float32Array(y.array),y.itemSize));break;case"LOD":o=new BF;break;case"Line":o=new Ml(a(e.geometry),l(e.material));break;case"LineLoop":o=new iT(a(e.geometry),l(e.material));break;case"LineSegments":o=new $o(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new sT(a(e.geometry),l(e.material));break;case"Sprite":o=new RF(l(e.material));break;case"Group":o=new dl;break;case"Bone":o=new Cw;break;default:o=new un}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let m=0;m<d.length;m++)o.add(this.parseObject(d[m],t,r,i,s))}if(e.animations!==void 0){const d=e.animations;for(let m=0;m<d.length;m++){const y=d[m];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const d=e.levels;for(let m=0;m<d.length;m++){const y=d[m],g=o.getObjectByProperty("uuid",y.object);g!==void 0&&o.addLevel(g,y.distance)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const ffe={UVMapping:gw,CubeReflectionMapping:Cl,CubeRefractionMapping:Ku,EquirectangularReflectionMapping:Fh,EquirectangularRefractionMapping:Vm,CubeUVReflectionMapping:cp},VR={RepeatWrapping:Ju,ClampToEdgeWrapping:ti,MirroredRepeatWrapping:Uh},WR={NearestFilter:hr,NearestMipmapNearestFilter:Wm,NearestMipmapLinearFilter:qm,LinearFilter:Ln,LinearMipmapNearestFilter:vw,LinearMipmapLinearFilter:Ol};class dU extends Hi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=kf.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){kf.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let px;class _T{static getContext(){return px===void 0&&(px=new(window.AudioContext||window.webkitAudioContext)),px}static setContext(e){px=e}}class dfe extends Hi{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Rs(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);_T.getContext().decodeAudioData(l,function(c){t(c)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class hfe extends Rw{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new et().set(e),s=new et().set(t),o=new Y(i.r,i.g,i.b),a=new Y(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class pfe extends Rw{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new et().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const qR=new Bt,KR=new Bt,Mc=new Bt;class mfe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Dn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Dn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Mc.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(df*t.fov*.5)/t.zoom;let a,l;KR.elements[12]=-i,qR.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,Mc.elements[0]=2*t.near/(l-a),Mc.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Mc),a=-o*t.aspect-s,l=o*t.aspect-s,Mc.elements[0]=2*t.near/(l-a),Mc.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Mc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(KR),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(qR)}}class AT{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=JR(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=JR();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function JR(){return(typeof performance>"u"?Date:performance).now()}const Tc=new Y,$R=new si,gfe=new Y,Pc=new Y;class vfe extends un{constructor(){super(),this.type="AudioListener",this.context=_T.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new AT}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Tc,$R,gfe),Pc.set(0,0,-1).applyQuaternion($R),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Tc.x,i),t.positionY.linearRampToValueAtTime(Tc.y,i),t.positionZ.linearRampToValueAtTime(Tc.z,i),t.forwardX.linearRampToValueAtTime(Pc.x,i),t.forwardY.linearRampToValueAtTime(Pc.y,i),t.forwardZ.linearRampToValueAtTime(Pc.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Tc.x,Tc.y,Tc.z),t.setOrientation(Pc.x,Pc.y,Pc.z,r.x,r.y,r.z)}}class hU extends un{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Ic=new Y,XR=new si,yfe=new Y,Rc=new Y;class xfe extends hU{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Ic,XR,yfe),Rc.set(0,0,1).applyQuaternion(XR);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Ic.x,r),t.positionY.linearRampToValueAtTime(Ic.y,r),t.positionZ.linearRampToValueAtTime(Ic.z,r),t.orientationX.linearRampToValueAtTime(Rc.x,r),t.orientationY.linearRampToValueAtTime(Rc.y,r),t.orientationZ.linearRampToValueAtTime(Rc.z,r)}else t.setPosition(Ic.x,Ic.y,Ic.z),t.setOrientation(Rc.x,Rc.y,Rc.z)}}class bfe{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class pU{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){si.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;si.multiplyQuaternionsFlat(e,o,e,t,e,r),si.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const ST="\\[\\]\\.:\\/",wfe=new RegExp("["+ST+"]","g"),ET="[^"+ST+"]",_fe="[^"+ST.replace("\\.","")+"]",Afe=/((?:WC+[\/:])*)/.source.replace("WC",ET),Sfe=/(WCOD+)?/.source.replace("WCOD",_fe),Efe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ET),Cfe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ET),Mfe=new RegExp("^"+Afe+Sfe+Efe+Cfe+"$"),Tfe=["material","materials","bones","map"];class Pfe{constructor(e,t,r){const i=r||nn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class nn{constructor(e,t,r){this.path=t,this.parsedPath=r||nn.parseTrackName(t),this.node=nn.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new nn.Composite(e,t,r):new nn(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(wfe,"")}static parseTrackName(e){const t=Mfe.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);Tfe.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=nn.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}nn.Composite=Pfe;nn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};nn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};nn.prototype.GetterByBindingType=[nn.prototype._getValue_direct,nn.prototype._getValue_array,nn.prototype._getValue_arrayElement,nn.prototype._getValue_toArray];nn.prototype.SetterByBindingTypeAndVersioning=[[nn.prototype._setValue_direct,nn.prototype._setValue_direct_setNeedsUpdate,nn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[nn.prototype._setValue_array,nn.prototype._setValue_array_setNeedsUpdate,nn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[nn.prototype._setValue_arrayElement,nn.prototype._setValue_arrayElement_setNeedsUpdate,nn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[nn.prototype._setValue_fromArray,nn.prototype._setValue_fromArray_setNeedsUpdate,nn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Ife{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Cs(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const d=arguments[c],m=d.uuid;let y=t[m];if(y===void 0){y=l++,t[m]=y,e.push(d);for(let g=0,v=o;g!==v;++g)s[g].push(new nn(d,r[g],i[g]))}else if(y<u){a=e[y];const g=--u,v=e[g];t[v.uuid]=y,e[y]=v,t[m]=g,e[g]=d;for(let x=0,w=o;x!==w;++x){const b=s[x],A=b[g];let M=b[y];b[y]=A,M===void 0&&(M=new nn(d,r[x],i[x])),b[g]=M}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,c=t[u];if(c!==void 0&&c>=s){const f=s++,d=e[f];t[d.uuid]=c,e[c]=d,t[u]=f,e[f]=l;for(let m=0,y=i;m!==y;++m){const g=r[m],v=g[f],x=g[c];g[c]=v,g[f]=x}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],c=u.uuid,f=t[c];if(f!==void 0)if(delete t[c],f<s){const d=--s,m=e[d],y=--o,g=e[y];t[m.uuid]=f,e[f]=m,t[g.uuid]=d,e[d]=g,e.pop();for(let v=0,x=i;v!==x;++v){const w=r[v],b=w[d],A=w[y];w[f]=b,w[d]=A,w.pop()}}else{const d=--o,m=e[d];d>0&&(t[m.uuid]=f),e[f]=m,e.pop();for(let y=0,g=i;y!==g;++y){const v=r[y];v[f]=v[d],v.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,f=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(f);for(let d=c,m=l.length;d!==m;++d){const y=l[d];f[d]=new nn(y,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];t[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class Rfe{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Yc,endingEnd:Yc};for(let u=0;u!==o;++u){const c=s[u].createInterpolant(null);a[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=lF,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case q6:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulateAdditive(a);break;case yw:default:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===uF;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===aF){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Qc,i.endingEnd=Qc):(e?i.endingStart=this.zeroSlopeAtStart?Qc:Yc:i.endingStart=Km,t?i.endingEnd=this.zeroSlopeAtEnd?Qc:Yc:i.endingEnd=Km)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const Bfe=new Float32Array(1);class kfe extends La{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let f=0;f!==s;++f){const d=i[f],m=d.name;let y=c[m];if(y!==void 0)++y.referenceCount,o[f]=y;else{if(y=o[f],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,m));continue}const g=t&&t._propertyBindings[f].binding.parsedPath;y=new pU(nn.create(r,m,g),d.ValueTypeName,d.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,m),o[f]=y}a[f].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,d=(e._localRoot||this._root).uuid;delete f[d],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new mT(new Float32Array(2),new Float32Array(2),1,Bfe),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?Wh.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=yw),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const c=new Rfe(this,o,t,r);return this._bindAction(c,u),this._addInactiveAction(c,a,s),c}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?Wh.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)t[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const c=u._cacheIndex,f=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,t[c]=f,t.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class CT{constructor(e){this.value=e}clone(){return new CT(this.value.clone===void 0?this.value:this.value.clone())}}let Nfe=0;class Lfe extends La{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Nfe++}),this.name="",this.usage=Jm,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class Dfe extends Ng{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Ofe{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class MT{constructor(e,t,r=0,i=1/0){this.ray=new Rg(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new pf,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return tC(e,this,r,t),r.sort(YR),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)tC(e[i],this,r,t);return r.sort(YR),r}}function YR(n,e){return n.distance-e.distance}function tC(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)tC(i[s],e,t,!0)}}class nC{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(pr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Ffe{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const QR=new Fe;class Ufe{constructor(e=new Fe(1/0,1/0),t=new Fe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=QR.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return QR.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ZR=new Y,mx=new Y;class zfe{constructor(e=new Y,t=new Y){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){ZR.subVectors(e,this.start),mx.subVectors(this.end,this.start);const r=mx.dot(mx);let s=mx.dot(ZR)/r;return t&&(s=pr(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const eB=new Y;class Gfe extends un{constructor(e,t){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const r=new Ut,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,c=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new pt(i,3));const s=new Mi({fog:!1,toneMapped:!1});this.cone=new $o(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),eB.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(eB),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const uu=new Y,gx=new Bt,k3=new Bt;class Hfe extends $o{constructor(e){const t=mU(e),r=new Ut,i=[],s=[],o=new et(0,0,1),a=new et(0,1,0);for(let u=0;u<t.length;u++){const c=t[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new pt(i,3)),r.setAttribute("color",new pt(s,3));const l=new Mi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");k3.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(gx.multiplyMatrices(k3,a.matrixWorld),uu.setFromMatrixPosition(gx),i.setXYZ(o,uu.x,uu.y,uu.z),gx.multiplyMatrices(k3,a.parent.matrixWorld),uu.setFromMatrixPosition(gx),i.setXYZ(o+1,uu.x,uu.y,uu.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function mU(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,mU(n.children[t]));return e}class jfe extends Er{constructor(e,t,r){const i=new gp(t,4,2),s=new As({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Vfe=new Y,tB=new et,nB=new et;class Wfe extends un{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;const i=new mp(t);i.rotateY(Math.PI*.5),this.material=new As({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new gn(o,3)),this.add(new Er(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");tB.copy(this.light.color),nB.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?tB:nB;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}e.lookAt(Vfe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class qfe extends $o{constructor(e=10,t=10,r=4473924,i=8947848){r=new et(r),i=new et(i);const s=t/2,o=e/t,a=e/2,l=[],u=[];for(let d=0,m=0,y=-a;d<=t;d++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const g=d===s?r:i;g.toArray(u,m),m+=3,g.toArray(u,m),m+=3,g.toArray(u,m),m+=3,g.toArray(u,m),m+=3}const c=new Ut;c.setAttribute("position",new pt(l,3)),c.setAttribute("color",new pt(u,3));const f=new Mi({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Kfe extends $o{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new et(s),o=new et(o);const a=[],l=[];if(t>1)for(let f=0;f<t;f++){const d=f/t*(Math.PI*2),m=Math.sin(d)*e,y=Math.cos(d)*e;a.push(0,0,0),a.push(m,0,y);const g=f&1?s:o;l.push(g.r,g.g,g.b),l.push(g.r,g.g,g.b)}for(let f=0;f<r;f++){const d=f&1?s:o,m=e-e/r*f;for(let y=0;y<i;y++){let g=y/i*(Math.PI*2),v=Math.sin(g)*m,x=Math.cos(g)*m;a.push(v,0,x),l.push(d.r,d.g,d.b),g=(y+1)/i*(Math.PI*2),v=Math.sin(g)*m,x=Math.cos(g)*m,a.push(v,0,x),l.push(d.r,d.g,d.b)}}const u=new Ut;u.setAttribute("position",new pt(a,3)),u.setAttribute("color",new pt(l,3));const c=new Mi({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const rB=new Y,vx=new Y,iB=new Y;class Jfe extends un{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,t===void 0&&(t=1);let i=new Ut;i.setAttribute("position",new pt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Mi({fog:!1,toneMapped:!1});this.lightPlane=new Ml(i,s),this.add(this.lightPlane),i=new Ut,i.setAttribute("position",new pt([0,0,0,0,0,1],3)),this.targetLine=new Ml(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){rB.setFromMatrixPosition(this.light.matrixWorld),vx.setFromMatrixPosition(this.light.target.matrixWorld),iB.subVectors(vx,rB),this.lightPlane.lookAt(vx),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(vx),this.targetLine.scale.z=iB.length()}}const yx=new Y,er=new Bg;class $fe extends $o{constructor(e){const t=new Ut,r=new Mi({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,g){l(y),l(g)}function l(y){i.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(i.length/3-1)}t.setAttribute("position",new pt(i,3)),t.setAttribute("color",new pt(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new et(16755200),c=new et(16711680),f=new et(43775),d=new et(16777215),m=new et(3355443);this.setColors(u,c,f,d,m)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;er.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ur("c",t,e,er,0,0,-1),ur("t",t,e,er,0,0,1),ur("n1",t,e,er,-r,-i,-1),ur("n2",t,e,er,r,-i,-1),ur("n3",t,e,er,-r,i,-1),ur("n4",t,e,er,r,i,-1),ur("f1",t,e,er,-r,-i,1),ur("f2",t,e,er,r,-i,1),ur("f3",t,e,er,-r,i,1),ur("f4",t,e,er,r,i,1),ur("u1",t,e,er,r*.7,i*1.1,-1),ur("u2",t,e,er,-r*.7,i*1.1,-1),ur("u3",t,e,er,0,i*2,-1),ur("cf1",t,e,er,-r,0,1),ur("cf2",t,e,er,r,0,1),ur("cf3",t,e,er,0,-i,1),ur("cf4",t,e,er,0,i,1),ur("cn1",t,e,er,-r,0,-1),ur("cn2",t,e,er,r,0,-1),ur("cn3",t,e,er,0,-i,-1),ur("cn4",t,e,er,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ur(n,e,t,r,i,s,o){yx.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let u=0,c=a.length;u<c;u++)l.setXYZ(a[u],yx.x,yx.y,yx.z)}}const xx=new Ul;class Xfe extends $o{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Ut;s.setIndex(new gn(r,1)),s.setAttribute("position",new gn(i,3)),super(s,new Mi({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&xx.setFromObject(this.object),xx.isEmpty())return;const t=xx.min,r=xx.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Yfe extends $o{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Ut;s.setIndex(new gn(r,1)),s.setAttribute("position",new pt(i,3)),super(s,new Mi({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Qfe extends Ml{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Ut;o.setAttribute("position",new pt(s,3)),o.computeBoundingSphere(),super(o,new Mi({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Ut;l.setAttribute("position",new pt(a,3)),l.computeBoundingSphere(),this.add(new Er(l,new As({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const sB=new Y;let bx,N3;class Zfe extends un{constructor(e=new Y(0,0,1),t=new Y(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",bx===void 0&&(bx=new Ut,bx.setAttribute("position",new pt([0,0,0,0,1,0],3)),N3=new Hf(0,.5,1,5,1),N3.translate(0,-.5,0)),this.position.copy(t),this.line=new Ml(bx,new Mi({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Er(N3,new As({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{sB.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(sB,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class ede extends $o{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Ut;i.setAttribute("position",new pt(t,3)),i.setAttribute("color",new pt(r,3));const s=new Mi({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new et,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class tde{constructor(){this.type="ShapePath",this.color=new et,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Ym,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(x){const w=[];for(let b=0,A=x.length;b<A;b++){const M=x[b],I=new mf;I.curves=M.curves,w.push(I)}return w}function r(x,w){const b=w.length;let A=!1;for(let M=b-1,I=0;I<b;M=I++){let D=w[M],P=w[I],O=P.x-D.x,V=P.y-D.y;if(Math.abs(V)>Number.EPSILON){if(V<0&&(D=w[I],O=-O,P=w[M],V=-V),x.y<D.y||x.y>P.y)continue;if(x.y===D.y){if(x.x===D.x)return!0}else{const q=V*(x.x-D.x)-O*(x.y-D.y);if(q===0)return!0;if(q<0)continue;A=!A}}else{if(x.y!==D.y)continue;if(P.x<=x.x&&x.x<=D.x||D.x<=x.x&&x.x<=P.x)return!0}}return A}const i=_a.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new mf,l.curves=a.curves,u.push(l),u;let c=!i(s[0].getPoints());c=e?!c:c;const f=[],d=[];let m=[],y=0,g;d[y]=void 0,m[y]=[];for(let x=0,w=s.length;x<w;x++)a=s[x],g=a.getPoints(),o=i(g),o=e?!o:o,o?(!c&&d[y]&&y++,d[y]={s:new mf,p:g},d[y].s.curves=a.curves,c&&y++,m[y]=[]):m[y].push({h:a,p:g[0]});if(!d[0])return t(s);if(d.length>1){let x=!1,w=0;for(let b=0,A=d.length;b<A;b++)f[b]=[];for(let b=0,A=d.length;b<A;b++){const M=m[b];for(let I=0;I<M.length;I++){const D=M[I];let P=!0;for(let O=0;O<d.length;O++)r(D.p,d[O].p)&&(b!==O&&w++,P?(P=!1,f[O].push(D)):x=!0);P&&f[b].push(D)}}w>0&&x===!1&&(m=f)}let v;for(let x=0,w=d.length;x<w;x++){l=d[x].s,u.push(l),v=m[x];for(let b=0,A=v.length;b<A;b++)l.holes.push(v[b].h)}return u}}const sl=nde();function nde(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;(u&8388608)===0;)u<<=1,c-=8388608;u&=-8388609,c+=947912704,s[l]=u|c}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function rde(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=pr(n,-65504,65504),sl.floatView[0]=n;const e=sl.uint32View[0],t=e>>23&511;return sl.baseTable[t]+((e&8388607)>>sl.shiftTable[t])}function ide(n){const e=n>>10;return sl.uint32View[0]=sl.mantissaTable[sl.offsetTable[e]+(n&1023)]+sl.exponentTable[e],sl.floatView[0]}var U0=Object.freeze({__proto__:null,toHalfFloat:rde,fromHalfFloat:ide});function sde(){console.error("THREE.ImmediateRenderObject has been removed.")}class ode extends os{constructor(e,t,r){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,t,r),this.samples=4}}class ade extends Ig{constructor(e,t,r,i){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,t,r,i)}}class lde extends xw{constructor(e,t,r,i){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,t,r,i)}}class ude extends ic{constructor(e,t,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,r,i,s,o)}}class cde extends Dg{constructor(e,t,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,r,i)}}class fde extends Og{constructor(e,t,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,r,i)}}class dde extends Fg{constructor(e,t,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,r,i,s,o,a)}}class hde extends Hf{constructor(e,t,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,r,i,s,o,a,l)}}class pde extends Ug{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class mde extends zg{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class gde extends pp{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class vde extends hp{constructor(e,t,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,r,i)}}class yde extends mp{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class xde extends Gf{constructor(e,t,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,r,i)}}class bde extends Gl{constructor(e,t,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,r,i)}}class wde extends Gg{constructor(e,t,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,r,i,s,o)}}class _de extends Hg{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class Ade extends gp{constructor(e,t,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,r,i,s,o,a)}}class Sde extends jg{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class Ede extends Vg{constructor(e,t,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,r,i,s)}}class Cde extends Wg{constructor(e,t,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,r,i,s,o)}}class Mde extends qg{constructor(e,t,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:mw}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=mw);const gb=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:V6,AddEquation:Gc,AddOperation:GO,AdditiveAnimationBlendMode:q6,AdditiveBlending:wE,AlphaFormat:YO,AlwaysDepth:NO,AlwaysStencilFunc:pF,AmbientLight:aU,AmbientLightProbe:pfe,AnimationClip:Wh,AnimationLoader:sfe,AnimationMixer:kfe,AnimationObjectGroup:Ife,AnimationUtils:tfe,ArcCurve:NF,ArrayCamera:MF,ArrowHelper:Zfe,Audio:hU,AudioAnalyser:bfe,AudioContext:_T,AudioListener:vfe,AudioLoader:dfe,AxesHelper:ede,BackSide:Es,BasicDepthPacking:fF,BasicShadowMap:Iie,Bone:Cw,BooleanKeyframeTrack:jf,Box2:Ufe,Box3:Ul,Box3Helper:Yfe,BoxBufferGeometry:ude,BoxGeometry:ic,BoxHelper:Xfe,BufferAttribute:gn,BufferGeometry:Ut,BufferGeometryLoader:fU,ByteType:qO,Cache:kf,Camera:Bg,CameraHelper:$fe,CanvasTexture:Ece,CapsuleBufferGeometry:cde,CapsuleGeometry:Dg,CatmullRomCurve3:LF,CineonToneMapping:VO,CircleBufferGeometry:fde,CircleGeometry:Og,ClampToEdgeWrapping:ti,Clock:AT,Color:et,ColorKeyframeTrack:gT,ColorManagement:Xs,CompressedArrayTexture:Sce,CompressedTexture:oT,CompressedTextureLoader:ofe,ConeBufferGeometry:dde,ConeGeometry:Fg,CubeCamera:bF,CubeReflectionMapping:Cl,CubeRefractionMapping:Ku,CubeTexture:kg,CubeTextureLoader:rU,CubeUVReflectionMapping:cp,CubicBezierCurve:lT,CubicBezierCurve3:DF,CubicInterpolant:ZF,CullFaceBack:bE,CullFaceFront:bO,CullFaceFrontBack:Pie,CullFaceNone:xO,Curve:Xo,CurvePath:FF,CustomBlending:wO,CustomToneMapping:WO,CylinderBufferGeometry:hde,CylinderGeometry:Hf,Cylindrical:Ffe,Data3DTexture:xw,DataArrayTexture:Ig,DataTexture:xh,DataTexture2DArray:ade,DataTexture3D:lde,DataTextureLoader:iU,DataUtils:U0,DecrementStencilOp:zie,DecrementWrapStencilOp:Hie,DefaultLoadingManager:nU,DepthFormat:Uu,DepthStencilFormat:If,DepthTexture:TF,DirectionalLight:wT,DirectionalLightHelper:Jfe,DiscreteInterpolant:eU,DodecahedronBufferGeometry:pde,DodecahedronGeometry:Ug,DoubleSide:Fo,DstAlphaFactor:TO,DstColorFactor:IO,DynamicCopyUsage:rse,DynamicDrawUsage:Yie,DynamicReadUsage:ese,EdgesGeometry:UF,EllipseCurve:Tw,EqualDepth:DO,EqualStencilFunc:qie,EquirectangularReflectionMapping:Fh,EquirectangularRefractionMapping:Vm,Euler:fp,EventDispatcher:La,ExtrudeBufferGeometry:mde,ExtrudeGeometry:zg,FileLoader:Rs,Float16BufferAttribute:Ose,Float32BufferAttribute:pt,Float64BufferAttribute:Fse,FloatType:so,Fog:Sw,FogExp2:Aw,FramebufferTexture:Ace,FrontSide:qu,Frustum:bw,GLBufferAttribute:Ofe,GLSL1:sse,GLSL3:KE,GreaterDepth:FO,GreaterEqualDepth:OO,GreaterEqualStencilFunc:Xie,GreaterStencilFunc:Jie,GridHelper:qfe,Group:dl,HalfFloatType:Uo,HemisphereLight:oU,HemisphereLightHelper:Wfe,HemisphereLightProbe:hfe,IcosahedronBufferGeometry:gde,IcosahedronGeometry:pp,ImageBitmapLoader:dU,ImageLoader:tg,ImageUtils:$6,ImmediateRenderObject:sde,IncrementStencilOp:Uie,IncrementWrapStencilOp:Gie,InstancedBufferAttribute:Hh,InstancedBufferGeometry:cU,InstancedInterleavedBuffer:Dfe,InstancedMesh:kF,Int16BufferAttribute:Lse,Int32BufferAttribute:Dse,Int8BufferAttribute:Bse,IntType:JO,InterleavedBuffer:Ng,InterleavedBufferAttribute:Xu,Interpolant:yp,InterpolateDiscrete:zh,InterpolateLinear:Rf,InterpolateSmooth:m1,InvertStencilOp:jie,KeepStencilOp:g1,KeyframeTrack:Yo,LOD:BF,LatheBufferGeometry:vde,LatheGeometry:hp,Layers:pf,LessDepth:LO,LessEqualDepth:hb,LessEqualStencilFunc:Kie,LessStencilFunc:Wie,Light:sc,LightProbe:Rw,Line:Ml,Line3:zfe,LineBasicMaterial:Mi,LineCurve:Pw,LineCurve3:OF,LineDashedMaterial:YF,LineLoop:iT,LineSegments:$o,LinearEncoding:Wo,LinearFilter:Ln,LinearInterpolant:mT,LinearMipMapLinearFilter:Nie,LinearMipMapNearestFilter:kie,LinearMipmapLinearFilter:Ol,LinearMipmapNearestFilter:vw,LinearSRGBColorSpace:Mu,LinearToneMapping:HO,Loader:Hi,LoaderUtils:Aa,LoadingManager:vT,LoopOnce:aF,LoopPingPong:uF,LoopRepeat:lF,LuminanceAlphaFormat:eF,LuminanceFormat:ZO,MOUSE:Dc,Material:Cr,MaterialLoader:Bw,MathUtils:gF,Matrix3:ns,Matrix4:Bt,MaxEquation:EE,Mesh:Er,MeshBasicMaterial:As,MeshDepthMaterial:_w,MeshDistanceMaterial:eT,MeshLambertMaterial:$F,MeshMatcapMaterial:XF,MeshNormalMaterial:JF,MeshPhongMaterial:qF,MeshPhysicalMaterial:Hl,MeshStandardMaterial:vp,MeshToonMaterial:KF,MinEquation:SE,MirroredRepeatWrapping:Uh,MixOperation:zO,MultiplyBlending:AE,MultiplyOperation:Pg,NearestFilter:hr,NearestMipMapLinearFilter:Bie,NearestMipMapNearestFilter:Rie,NearestMipmapLinearFilter:qm,NearestMipmapNearestFilter:Wm,NeverDepth:kO,NeverStencilFunc:Vie,NoBlending:pl,NoColorSpace:Die,NoToneMapping:jo,NormalAnimationBlendMode:yw,NormalBlending:cf,NotEqualDepth:UO,NotEqualStencilFunc:$ie,NumberKeyframeTrack:jh,Object3D:un,ObjectLoader:cfe,ObjectSpaceNormalMap:hF,OctahedronBufferGeometry:yde,OctahedronGeometry:mp,OneFactor:EO,OneMinusDstAlphaFactor:PO,OneMinusDstColorFactor:RO,OneMinusSrcAlphaFactor:j6,OneMinusSrcColorFactor:MO,OrthographicCamera:ml,PCFShadowMap:z6,PCFSoftShadowMap:G6,PMREMGenerator:$E,Path:Ym,PerspectiveCamera:Dn,Plane:vu,PlaneBufferGeometry:xde,PlaneGeometry:Gf,PlaneHelper:Qfe,PointLight:bT,PointLightHelper:jfe,Points:sT,PointsMaterial:Mw,PolarGridHelper:Kfe,PolyhedronBufferGeometry:bde,PolyhedronGeometry:Gl,PositionalAudio:xfe,PropertyBinding:nn,PropertyMixer:pU,QuadraticBezierCurve:uT,QuadraticBezierCurve3:cT,Quaternion:si,QuaternionKeyframeTrack:Yu,QuaternionLinearInterpolant:tU,REVISION:mw,RGBADepthPacking:dF,RGBAFormat:bs,RGBAIntegerFormat:sF,RGBA_ASTC_10x10_Format:jE,RGBA_ASTC_10x5_Format:zE,RGBA_ASTC_10x6_Format:GE,RGBA_ASTC_10x8_Format:HE,RGBA_ASTC_12x10_Format:VE,RGBA_ASTC_12x12_Format:WE,RGBA_ASTC_4x4_Format:BE,RGBA_ASTC_5x4_Format:kE,RGBA_ASTC_5x5_Format:NE,RGBA_ASTC_6x5_Format:LE,RGBA_ASTC_6x6_Format:DE,RGBA_ASTC_8x5_Format:OE,RGBA_ASTC_8x6_Format:FE,RGBA_ASTC_8x8_Format:UE,RGBA_BPTC_Format:qE,RGBA_ETC2_EAC_Format:RE,RGBA_PVRTC_2BPPV1_Format:PE,RGBA_PVRTC_4BPPV1_Format:TE,RGBA_S3TC_DXT1_Format:d1,RGBA_S3TC_DXT3_Format:h1,RGBA_S3TC_DXT5_Format:p1,RGBFormat:QO,RGB_ETC1_Format:oF,RGB_ETC2_Format:IE,RGB_PVRTC_2BPPV1_Format:ME,RGB_PVRTC_4BPPV1_Format:CE,RGB_S3TC_DXT1_Format:f1,RGFormat:rF,RGIntegerFormat:iF,RawShaderMaterial:WF,Ray:Rg,Raycaster:MT,RectAreaLight:lU,RedFormat:tF,RedIntegerFormat:nF,ReinhardToneMapping:jO,RepeatWrapping:Ju,ReplaceStencilOp:Fie,ReverseSubtractEquation:AO,RingBufferGeometry:wde,RingGeometry:Gg,SRGBColorSpace:la,Scene:Ew,ShaderChunk:jt,ShaderLib:Ro,ShaderMaterial:Is,ShadowMaterial:VF,Shape:mf,ShapeBufferGeometry:_de,ShapeGeometry:Hg,ShapePath:tde,ShapeUtils:_a,ShortType:KO,Skeleton:Lg,SkeletonHelper:Hfe,SkinnedMesh:rT,Source:Zc,Sphere:zl,SphereBufferGeometry:Ade,SphereGeometry:gp,Spherical:nC,SphericalHarmonics3:uU,SplineCurve:fT,SpotLight:xT,SpotLightHelper:Gfe,Sprite:RF,SpriteMaterial:nT,SrcAlphaFactor:H6,SrcAlphaSaturateFactor:BO,SrcColorFactor:CO,StaticCopyUsage:nse,StaticDrawUsage:Jm,StaticReadUsage:Zie,StereoCamera:mfe,StreamCopyUsage:ise,StreamDrawUsage:Qie,StreamReadUsage:tse,StringKeyframeTrack:Vf,SubtractEquation:_O,SubtractiveBlending:_E,TOUCH:Oc,TangentSpaceNormalMap:Fl,TetrahedronBufferGeometry:Sde,TetrahedronGeometry:jg,Texture:ar,TextureLoader:sU,TorusBufferGeometry:Ede,TorusGeometry:Vg,TorusKnotBufferGeometry:Cde,TorusKnotGeometry:Wg,Triangle:ro,TriangleFanDrawMode:K6,TriangleStripDrawMode:cF,TrianglesDrawMode:Lie,TubeBufferGeometry:Mde,TubeGeometry:qg,UVMapping:gw,Uint16BufferAttribute:X6,Uint32BufferAttribute:Y6,Uint8BufferAttribute:kse,Uint8ClampedBufferAttribute:Nse,Uniform:CT,UniformsGroup:Lfe,UniformsLib:tt,UniformsUtils:xF,UnsignedByteType:$u,UnsignedInt248Type:ff,UnsignedIntType:Cu,UnsignedShort4444Type:$O,UnsignedShort5551Type:XO,UnsignedShortType:W6,VSMShadowMap:Zd,Vector2:Fe,Vector3:Y,Vector4:yn,VectorKeyframeTrack:Vh,VideoTexture:_ce,WebGL1Renderer:PF,WebGL3DRenderTarget:_se,WebGLArrayRenderTarget:wse,WebGLCubeRenderTarget:Q6,WebGLMultipleRenderTargets:Ase,WebGLMultisampleRenderTarget:ode,WebGLRenderTarget:os,WebGLRenderer:tT,WebGLUtils:CF,WireframeGeometry:jF,WrapAroundEnding:Km,ZeroCurvatureEnding:Yc,ZeroFactor:SO,ZeroSlopeEnding:Qc,ZeroStencilOp:Oie,_SRGBAFormat:pb,sRGBEncoding:on},Symbol.toStringTag,{value:"Module"}));var tf={exports:{}},Wf={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Wf.ConcurrentRoot=1;Wf.ContinuousEventPriority=4;Wf.DefaultEventPriority=16;Wf.DiscreteEventPriority=1;Wf.IdleEventPriority=536870912;Wf.LegacyRoot=0;(function(n){n.exports=Wf})(tf);function Tde(n){let e;const t=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const d=e;e=c?f:Object.assign({},e,f),t.forEach(m=>m(e,d))}},i=()=>e,s=(u,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=c(e);function m(){const y=c(e);if(!f(d,y)){const g=d;u(d=y,g)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(u,c,f)=>c||f?s(u,c,f):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(r,i,l),l}const Pde=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),oB=Pde?J.exports.useEffect:J.exports.useLayoutEffect;function gU(n){const e=typeof n=="function"?Tde(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=J.exports.useReducer(v=>v+1,0),o=e.getState(),a=J.exports.useRef(o),l=J.exports.useRef(r),u=J.exports.useRef(i),c=J.exports.useRef(!1),f=J.exports.useRef();f.current===void 0&&(f.current=r(o));let d,m=!1;(a.current!==o||l.current!==r||u.current!==i||c.current)&&(d=r(o),m=!i(f.current,d)),oB(()=>{m&&(f.current=d),a.current=o,l.current=r,u.current=i,c.current=!1});const y=J.exports.useRef(o);oB(()=>{const v=()=>{try{const w=e.getState(),b=l.current(w);u.current(f.current,b)||(a.current=w,f.current=b,s())}catch{c.current=!0,s()}},x=e.subscribe(v);return e.getState()!==y.current&&v(),x},[]);const g=m?d:f.current;return J.exports.useDebugValue(g),g};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var vU={exports:{}},vb={exports:{}},yU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(L,F){var z=L.length;L.push(F);e:for(;0<z;){var B=z-1>>>1,E=L[B];if(0<i(E,F))L[B]=F,L[z]=E,z=B;else break e}}function t(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var F=L[0],z=L.pop();if(z!==F){L[0]=z;e:for(var B=0,E=L.length,j=E>>>1;B<j;){var X=2*(B+1)-1,N=L[X],K=X+1,oe=L[K];if(0>i(N,z))K<E&&0>i(oe,N)?(L[B]=oe,L[K]=z,B=K):(L[B]=N,L[X]=z,B=X);else if(K<E&&0>i(oe,z))L[B]=oe,L[K]=z,B=K;else break e}}return F}function i(L,F){var z=L.sortIndex-F.sortIndex;return z!==0?z:L.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,d=3,m=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(L){for(var F=t(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=L)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=t(u)}}function A(L){if(g=!1,b(L),!y)if(t(l)!==null)y=!0,k(M);else{var F=t(u);F!==null&&U(A,F.startTime-L)}}function M(L,F){y=!1,g&&(g=!1,x(P),P=-1),m=!0;var z=d;try{for(b(F),f=t(l);f!==null&&(!(f.expirationTime>F)||L&&!q());){var B=f.callback;if(typeof B=="function"){f.callback=null,d=f.priorityLevel;var E=B(f.expirationTime<=F);F=n.unstable_now(),typeof E=="function"?f.callback=E:f===t(l)&&r(l),b(F)}else r(l);f=t(l)}if(f!==null)var j=!0;else{var X=t(u);X!==null&&U(A,X.startTime-F),j=!1}return j}finally{f=null,d=z,m=!1}}var I=!1,D=null,P=-1,O=5,V=-1;function q(){return!(n.unstable_now()-V<O)}function ne(){if(D!==null){var L=n.unstable_now();V=L;var F=!0;try{F=D(!0,L)}finally{F?H():(I=!1,D=null)}}else I=!1}var H;if(typeof w=="function")H=function(){w(ne)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,T=_.port2;_.port1.onmessage=ne,H=function(){T.postMessage(null)}}else H=function(){v(ne,0)};function k(L){D=L,I||(I=!0,H())}function U(L,F){P=v(function(){L(n.unstable_now())},F)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,k(M))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(L){switch(d){case 1:case 2:case 3:var F=3;break;default:F=d}var z=d;d=F;try{return L()}finally{d=z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,F){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var z=d;d=L;try{return F()}finally{d=z}},n.unstable_scheduleCallback=function(L,F,z){var B=n.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?B+z:B):z=B,L){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=z+E,L={id:c++,callback:F,priorityLevel:L,startTime:z,expirationTime:E,sortIndex:-1},z>B?(L.sortIndex=z,e(u,L),t(l)===null&&L===t(u)&&(g?(x(P),P=-1):g=!0,U(A,z-B))):(L.sortIndex=E,e(l,L),y||m||(y=!0,k(M))),L},n.unstable_shouldYield=q,n.unstable_wrapCallback=function(L){var F=d;return function(){var z=d;d=F;try{return L.apply(this,arguments)}finally{d=z}}}})(yU);(function(n){n.exports=yU})(vb);/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ide=function(e){var t={},r=J.exports,i=vb.exports,s=Object.assign;function o(h){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+h,S=1;S<arguments.length;S++)p+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),M=Symbol.iterator;function I(h){return h===null||typeof h!="object"?null:(h=M&&h[M]||h["@@iterator"],typeof h=="function"?h:null)}function D(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case c:return"Fragment";case u:return"Portal";case d:return"Profiler";case f:return"StrictMode";case v:return"Suspense";case x:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case y:return(h.displayName||"Context")+".Consumer";case m:return(h._context.displayName||"Context")+".Provider";case g:var p=h.render;return h=h.displayName,h||(h=p.displayName||p.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case w:return p=h.displayName||null,p!==null?p:D(h.type)||"Memo";case b:p=h._payload,h=h._init;try{return D(h(p))}catch{}}return null}function P(h){var p=h.type;switch(h.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=p.render,h=h.displayName||h.name||"",p.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D(p);case 8:return p===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function O(h){var p=h,S=h;if(h.alternate)for(;p.return;)p=p.return;else{h=p;do p=h,(p.flags&4098)!==0&&(S=p.return),h=p.return;while(h)}return p.tag===3?S:null}function V(h){if(O(h)!==h)throw Error(o(188))}function q(h){var p=h.alternate;if(!p){if(p=O(h),p===null)throw Error(o(188));return p!==h?null:h}for(var S=h,C=p;;){var R=S.return;if(R===null)break;var G=R.alternate;if(G===null){if(C=R.return,C!==null){S=C;continue}break}if(R.child===G.child){for(G=R.child;G;){if(G===S)return V(R),h;if(G===C)return V(R),p;G=G.sibling}throw Error(o(188))}if(S.return!==C.return)S=R,C=G;else{for(var Z=!1,de=R.child;de;){if(de===S){Z=!0,S=R,C=G;break}if(de===C){Z=!0,C=R,S=G;break}de=de.sibling}if(!Z){for(de=G.child;de;){if(de===S){Z=!0,S=G,C=R;break}if(de===C){Z=!0,C=G,S=R;break}de=de.sibling}if(!Z)throw Error(o(189))}}if(S.alternate!==C)throw Error(o(190))}if(S.tag!==3)throw Error(o(188));return S.stateNode.current===S?h:p}function ne(h){return h=q(h),h!==null?H(h):null}function H(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var p=H(h);if(p!==null)return p;h=h.sibling}return null}function _(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var p=_(h);if(p!==null)return p}h=h.sibling}return null}var T=Array.isArray,k=e.getPublicInstance,U=e.getRootHostContext,L=e.getChildHostContext,F=e.prepareForCommit,z=e.resetAfterCommit,B=e.createInstance,E=e.appendInitialChild,j=e.finalizeInitialChildren,X=e.prepareUpdate,N=e.shouldSetTextContent,K=e.createTextInstance,oe=e.scheduleTimeout,ie=e.cancelTimeout,fe=e.noTimeout,ce=e.isPrimaryRenderer,Ee=e.supportsMutation,ae=e.supportsPersistence,me=e.supportsHydration,xe=e.getInstanceFromNode,Ne=e.preparePortalMount,He=e.getCurrentEventPriority,$e=e.detachDeletedInstance,ue=e.supportsMicrotasks,we=e.scheduleMicrotask,Ce=e.supportsTestSelectors,ze=e.findFiberRoot,$=e.getBoundingRect,W=e.getTextContent,le=e.isHiddenSubtree,Re=e.matchAccessibilityRole,Te=e.setFocusIfFocusable,ke=e.setupIntersectionObserver,Qe=e.appendChild,Oe=e.appendChildToContainer,be=e.commitTextUpdate,Ye=e.commitMount,ee=e.commitUpdate,ge=e.insertBefore,Ue=e.insertInContainerBefore,De=e.removeChild,je=e.removeChildFromContainer,lt=e.resetTextContent,ht=e.hideInstance,re=e.hideTextInstance,Ae=e.unhideInstance,Be=e.unhideTextInstance,Ve=e.clearContainer,st=e.cloneInstance,rt=e.createContainerChildSet,vt=e.appendChildToContainerChildSet,mn=e.finalizeContainerChildren,zt=e.replaceContainerChildren,_t=e.cloneHiddenInstance,Qn=e.cloneHiddenTextInstance,kt=e.canHydrateInstance,cn=e.canHydrateTextInstance,cs=e.canHydrateSuspenseInstance,fn=e.isSuspenseInstancePending,rn=e.isSuspenseInstanceFallback,Q=e.registerSuspenseInstanceRetry,he=e.getNextHydratableSibling,Se=e.getFirstHydratableChild,ve=e.getFirstHydratableChildWithinContainer,Me=e.getFirstHydratableChildWithinSuspenseInstance,Ze=e.hydrateInstance,At=e.hydrateTextInstance,at=e.hydrateSuspenseInstance,ot=e.getNextHydratableInstanceAfterSuspenseInstance,Pt=e.commitHydratedContainer,Et=e.commitHydratedSuspenseInstance,It=e.clearSuspenseBoundary,sn=e.clearSuspenseBoundaryFromContainer,Dr=e.shouldDeleteUnhydratedTailInstances,Fs=e.didNotMatchHydratedContainerTextInstance,Us=e.didNotMatchHydratedTextInstance,Or;function Gt(h){if(Or===void 0)try{throw Error()}catch(S){var p=S.stack.trim().match(/\n( *(at )?)/);Or=p&&p[1]||""}return`
`+Or+h}var Vi=!1;function wn(h,p){if(!h||Vi)return"";Vi=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(Xe){var C=Xe}Reflect.construct(h,[],p)}else{try{p.call()}catch(Xe){C=Xe}h.call(p.prototype)}else{try{throw Error()}catch(Xe){C=Xe}h()}}catch(Xe){if(Xe&&C&&typeof Xe.stack=="string"){for(var R=Xe.stack.split(`
`),G=C.stack.split(`
`),Z=R.length-1,de=G.length-1;1<=Z&&0<=de&&R[Z]!==G[de];)de--;for(;1<=Z&&0<=de;Z--,de--)if(R[Z]!==G[de]){if(Z!==1||de!==1)do if(Z--,de--,0>de||R[Z]!==G[de]){var Le=`
`+R[Z].replace(" at new "," at ");return h.displayName&&Le.includes("<anonymous>")&&(Le=Le.replace("<anonymous>",h.displayName)),Le}while(1<=Z&&0<=de);break}}}finally{Vi=!1,Error.prepareStackTrace=S}return(h=h?h.displayName||h.name:"")?Gt(h):""}var Fr=Object.prototype.hasOwnProperty,ci=[],fi=-1;function di(h){return{current:h}}function Mt(h){0>fi||(h.current=ci[fi],ci[fi]=null,fi--)}function Wt(h,p){fi++,ci[fi]=h.current,h.current=p}var hi={},tn=di(hi),Ur=di(!1),Fa=hi;function Ua(h,p){var S=h.type.contextTypes;if(!S)return hi;var C=h.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===p)return C.__reactInternalMemoizedMaskedChildContext;var R={},G;for(G in S)R[G]=p[G];return C&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=p,h.__reactInternalMemoizedMaskedChildContext=R),R}function Wi(h){return h=h.childContextTypes,h!=null}function nv(){Mt(Ur),Mt(tn)}function L4(h,p,S){if(tn.current!==hi)throw Error(o(168));Wt(tn,p),Wt(Ur,S)}function D4(h,p,S){var C=h.stateNode;if(p=p.childContextTypes,typeof C.getChildContext!="function")return S;C=C.getChildContext();for(var R in C)if(!(R in p))throw Error(o(108,P(h)||"Unknown",R));return s({},S,C)}function rv(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||hi,Fa=tn.current,Wt(tn,h),Wt(Ur,Ur.current),!0}function O4(h,p,S){var C=h.stateNode;if(!C)throw Error(o(169));S?(h=D4(h,p,Fa),C.__reactInternalMemoizedMergedChildContext=h,Mt(Ur),Mt(tn),Wt(tn,h)):Mt(Ur),Wt(Ur,S)}var vo=Math.clz32?Math.clz32:mj,hj=Math.log,pj=Math.LN2;function mj(h){return h>>>=0,h===0?32:31-(hj(h)/pj|0)|0}var iv=64,sv=4194304;function Mp(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function ov(h,p){var S=h.pendingLanes;if(S===0)return 0;var C=0,R=h.suspendedLanes,G=h.pingedLanes,Z=S&268435455;if(Z!==0){var de=Z&~R;de!==0?C=Mp(de):(G&=Z,G!==0&&(C=Mp(G)))}else Z=S&~R,Z!==0?C=Mp(Z):G!==0&&(C=Mp(G));if(C===0)return 0;if(p!==0&&p!==C&&(p&R)===0&&(R=C&-C,G=p&-p,R>=G||R===16&&(G&4194240)!==0))return p;if((C&4)!==0&&(C|=S&16),p=h.entangledLanes,p!==0)for(h=h.entanglements,p&=C;0<p;)S=31-vo(p),R=1<<S,C|=h[S],p&=~R;return C}function gj(h,p){switch(h){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vj(h,p){for(var S=h.suspendedLanes,C=h.pingedLanes,R=h.expirationTimes,G=h.pendingLanes;0<G;){var Z=31-vo(G),de=1<<Z,Le=R[Z];Le===-1?((de&S)===0||(de&C)!==0)&&(R[Z]=gj(de,p)):Le<=p&&(h.expiredLanes|=de),G&=~de}}function l2(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function u2(h){for(var p=[],S=0;31>S;S++)p.push(h);return p}function Tp(h,p,S){h.pendingLanes|=p,p!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,p=31-vo(p),h[p]=S}function yj(h,p){var S=h.pendingLanes&~p;h.pendingLanes=p,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=p,h.mutableReadLanes&=p,h.entangledLanes&=p,p=h.entanglements;var C=h.eventTimes;for(h=h.expirationTimes;0<S;){var R=31-vo(S),G=1<<R;p[R]=0,C[R]=-1,h[R]=-1,S&=~G}}function c2(h,p){var S=h.entangledLanes|=p;for(h=h.entanglements;S;){var C=31-vo(S),R=1<<C;R&p|h[C]&p&&(h[C]|=p),S&=~R}}var dn=0;function F4(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var f2=i.unstable_scheduleCallback,U4=i.unstable_cancelCallback,xj=i.unstable_shouldYield,bj=i.unstable_requestPaint,zr=i.unstable_now,d2=i.unstable_ImmediatePriority,wj=i.unstable_UserBlockingPriority,h2=i.unstable_NormalPriority,_j=i.unstable_IdlePriority,av=null,Qo=null;function Aj(h){if(Qo&&typeof Qo.onCommitFiberRoot=="function")try{Qo.onCommitFiberRoot(av,h,void 0,(h.current.flags&128)===128)}catch{}}function Sj(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var Zo=typeof Object.is=="function"?Object.is:Sj,za=null,lv=!1,p2=!1;function z4(h){za===null?za=[h]:za.push(h)}function Ej(h){lv=!0,z4(h)}function ea(){if(!p2&&za!==null){p2=!0;var h=0,p=dn;try{var S=za;for(dn=1;h<S.length;h++){var C=S[h];do C=C(!0);while(C!==null)}za=null,lv=!1}catch(R){throw za!==null&&(za=za.slice(h+1)),f2(d2,ea),R}finally{dn=p,p2=!1}}return null}var Cj=a.ReactCurrentBatchConfig;function uv(h,p){if(Zo(h,p))return!0;if(typeof h!="object"||h===null||typeof p!="object"||p===null)return!1;var S=Object.keys(h),C=Object.keys(p);if(S.length!==C.length)return!1;for(C=0;C<S.length;C++){var R=S[C];if(!Fr.call(p,R)||!Zo(h[R],p[R]))return!1}return!0}function Mj(h){switch(h.tag){case 5:return Gt(h.type);case 16:return Gt("Lazy");case 13:return Gt("Suspense");case 19:return Gt("SuspenseList");case 0:case 2:case 15:return h=wn(h.type,!1),h;case 11:return h=wn(h.type.render,!1),h;case 1:return h=wn(h.type,!0),h;default:return""}}function yo(h,p){if(h&&h.defaultProps){p=s({},p),h=h.defaultProps;for(var S in h)p[S]===void 0&&(p[S]=h[S]);return p}return p}var cv=di(null),fv=null,$f=null,m2=null;function g2(){m2=$f=fv=null}function G4(h,p,S){ce?(Wt(cv,p._currentValue),p._currentValue=S):(Wt(cv,p._currentValue2),p._currentValue2=S)}function v2(h){var p=cv.current;Mt(cv),ce?h._currentValue=p:h._currentValue2=p}function y2(h,p,S){for(;h!==null;){var C=h.alternate;if((h.childLanes&p)!==p?(h.childLanes|=p,C!==null&&(C.childLanes|=p)):C!==null&&(C.childLanes&p)!==p&&(C.childLanes|=p),h===S)break;h=h.return}}function Xf(h,p){fv=h,m2=$f=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&p)!==0&&(hs=!0),h.firstContext=null)}function zs(h){var p=ce?h._currentValue:h._currentValue2;if(m2!==h)if(h={context:h,memoizedValue:p,next:null},$f===null){if(fv===null)throw Error(o(308));$f=h,fv.dependencies={lanes:0,firstContext:h}}else $f=$f.next=h;return p}var ta=null,ql=!1;function x2(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function H4(h,p){h=h.updateQueue,p.updateQueue===h&&(p.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Ga(h,p){return{eventTime:h,lane:p,tag:0,payload:null,callback:null,next:null}}function Kl(h,p){var S=h.updateQueue;S!==null&&(S=S.shared,yr!==null&&(h.mode&1)!==0&&(Vt&2)===0?(h=S.interleaved,h===null?(p.next=p,ta===null?ta=[S]:ta.push(S)):(p.next=h.next,h.next=p),S.interleaved=p):(h=S.pending,h===null?p.next=p:(p.next=h.next,h.next=p),S.pending=p))}function dv(h,p,S){if(p=p.updateQueue,p!==null&&(p=p.shared,(S&4194240)!==0)){var C=p.lanes;C&=h.pendingLanes,S|=C,p.lanes=S,c2(h,S)}}function j4(h,p){var S=h.updateQueue,C=h.alternate;if(C!==null&&(C=C.updateQueue,S===C)){var R=null,G=null;if(S=S.firstBaseUpdate,S!==null){do{var Z={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};G===null?R=G=Z:G=G.next=Z,S=S.next}while(S!==null);G===null?R=G=p:G=G.next=p}else R=G=p;S={baseState:C.baseState,firstBaseUpdate:R,lastBaseUpdate:G,shared:C.shared,effects:C.effects},h.updateQueue=S;return}h=S.lastBaseUpdate,h===null?S.firstBaseUpdate=p:h.next=p,S.lastBaseUpdate=p}function hv(h,p,S,C){var R=h.updateQueue;ql=!1;var G=R.firstBaseUpdate,Z=R.lastBaseUpdate,de=R.shared.pending;if(de!==null){R.shared.pending=null;var Le=de,Xe=Le.next;Le.next=null,Z===null?G=Xe:Z.next=Xe,Z=Le;var ft=h.alternate;ft!==null&&(ft=ft.updateQueue,de=ft.lastBaseUpdate,de!==Z&&(de===null?ft.firstBaseUpdate=Xe:de.next=Xe,ft.lastBaseUpdate=Le))}if(G!==null){var Nt=R.baseState;Z=0,ft=Xe=Le=null,de=G;do{var St=de.lane,Mn=de.eventTime;if((C&St)===St){ft!==null&&(ft=ft.next={eventTime:Mn,lane:0,tag:de.tag,payload:de.payload,callback:de.callback,next:null});e:{var bt=h,vi=de;switch(St=p,Mn=S,vi.tag){case 1:if(bt=vi.payload,typeof bt=="function"){Nt=bt.call(Mn,Nt,St);break e}Nt=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=vi.payload,St=typeof bt=="function"?bt.call(Mn,Nt,St):bt,St==null)break e;Nt=s({},Nt,St);break e;case 2:ql=!0}}de.callback!==null&&de.lane!==0&&(h.flags|=64,St=R.effects,St===null?R.effects=[de]:St.push(de))}else Mn={eventTime:Mn,lane:St,tag:de.tag,payload:de.payload,callback:de.callback,next:null},ft===null?(Xe=ft=Mn,Le=Nt):ft=ft.next=Mn,Z|=St;if(de=de.next,de===null){if(de=R.shared.pending,de===null)break;St=de,de=St.next,St.next=null,R.lastBaseUpdate=St,R.shared.pending=null}}while(1);if(ft===null&&(Le=Nt),R.baseState=Le,R.firstBaseUpdate=Xe,R.lastBaseUpdate=ft,p=R.shared.interleaved,p!==null){R=p;do Z|=R.lane,R=R.next;while(R!==p)}else G===null&&(R.shared.lanes=0);sd|=Z,h.lanes=Z,h.memoizedState=Nt}}function V4(h,p,S){if(h=p.effects,p.effects=null,h!==null)for(p=0;p<h.length;p++){var C=h[p],R=C.callback;if(R!==null){if(C.callback=null,C=S,typeof R!="function")throw Error(o(191,R));R.call(C)}}}var W4=new r.Component().refs;function b2(h,p,S,C){p=h.memoizedState,S=S(C,p),S=S==null?p:s({},p,S),h.memoizedState=S,h.lanes===0&&(h.updateQueue.baseState=S)}var pv={isMounted:function(h){return(h=h._reactInternals)?O(h)===h:!1},enqueueSetState:function(h,p,S){h=h._reactInternals;var C=Ii(),R=Xl(h),G=Ga(C,R);G.payload=p,S!=null&&(G.callback=S),Kl(h,G),p=Ws(h,R,C),p!==null&&dv(p,h,R)},enqueueReplaceState:function(h,p,S){h=h._reactInternals;var C=Ii(),R=Xl(h),G=Ga(C,R);G.tag=1,G.payload=p,S!=null&&(G.callback=S),Kl(h,G),p=Ws(h,R,C),p!==null&&dv(p,h,R)},enqueueForceUpdate:function(h,p){h=h._reactInternals;var S=Ii(),C=Xl(h),R=Ga(S,C);R.tag=2,p!=null&&(R.callback=p),Kl(h,R),p=Ws(h,C,S),p!==null&&dv(p,h,C)}};function q4(h,p,S,C,R,G,Z){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(C,G,Z):p.prototype&&p.prototype.isPureReactComponent?!uv(S,C)||!uv(R,G):!0}function K4(h,p,S){var C=!1,R=hi,G=p.contextType;return typeof G=="object"&&G!==null?G=zs(G):(R=Wi(p)?Fa:tn.current,C=p.contextTypes,G=(C=C!=null)?Ua(h,R):hi),p=new p(S,G),h.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=pv,h.stateNode=p,p._reactInternals=h,C&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=R,h.__reactInternalMemoizedMaskedChildContext=G),p}function J4(h,p,S,C){h=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(S,C),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(S,C),p.state!==h&&pv.enqueueReplaceState(p,p.state,null)}function w2(h,p,S,C){var R=h.stateNode;R.props=S,R.state=h.memoizedState,R.refs=W4,x2(h);var G=p.contextType;typeof G=="object"&&G!==null?R.context=zs(G):(G=Wi(p)?Fa:tn.current,R.context=Ua(h,G)),R.state=h.memoizedState,G=p.getDerivedStateFromProps,typeof G=="function"&&(b2(h,p,G,S),R.state=h.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(p=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),p!==R.state&&pv.enqueueReplaceState(R,R.state,null),hv(h,S,R,C),R.state=h.memoizedState),typeof R.componentDidMount=="function"&&(h.flags|=4194308)}var Yf=[],Qf=0,mv=null,gv=0,Gs=[],Hs=0,hc=null,Ha=1,ja="";function pc(h,p){Yf[Qf++]=gv,Yf[Qf++]=mv,mv=h,gv=p}function $4(h,p,S){Gs[Hs++]=Ha,Gs[Hs++]=ja,Gs[Hs++]=hc,hc=h;var C=Ha;h=ja;var R=32-vo(C)-1;C&=~(1<<R),S+=1;var G=32-vo(p)+R;if(30<G){var Z=R-R%5;G=(C&(1<<Z)-1).toString(32),C>>=Z,R-=Z,Ha=1<<32-vo(p)+R|S<<R|C,ja=G+h}else Ha=1<<G|S<<R|C,ja=h}function _2(h){h.return!==null&&(pc(h,1),$4(h,1,0))}function A2(h){for(;h===mv;)mv=Yf[--Qf],Yf[Qf]=null,gv=Yf[--Qf],Yf[Qf]=null;for(;h===hc;)hc=Gs[--Hs],Gs[Hs]=null,ja=Gs[--Hs],Gs[Hs]=null,Ha=Gs[--Hs],Gs[Hs]=null}var fs=null,ds=null,Un=!1,Pp=!1,xo=null;function X4(h,p){var S=qs(5,null,null,0);S.elementType="DELETED",S.stateNode=p,S.return=h,p=h.deletions,p===null?(h.deletions=[S],h.flags|=16):p.push(S)}function Y4(h,p){switch(h.tag){case 5:return p=kt(p,h.type,h.pendingProps),p!==null?(h.stateNode=p,fs=h,ds=Se(p),!0):!1;case 6:return p=cn(p,h.pendingProps),p!==null?(h.stateNode=p,fs=h,ds=null,!0):!1;case 13:if(p=cs(p),p!==null){var S=hc!==null?{id:Ha,overflow:ja}:null;return h.memoizedState={dehydrated:p,treeContext:S,retryLane:1073741824},S=qs(18,null,null,0),S.stateNode=p,S.return=h,h.child=S,fs=h,ds=null,!0}return!1;default:return!1}}function S2(h){return(h.mode&1)!==0&&(h.flags&128)===0}function E2(h){if(Un){var p=ds;if(p){var S=p;if(!Y4(h,p)){if(S2(h))throw Error(o(418));p=he(S);var C=fs;p&&Y4(h,p)?X4(C,S):(h.flags=h.flags&-4097|2,Un=!1,fs=h)}}else{if(S2(h))throw Error(o(418));h.flags=h.flags&-4097|2,Un=!1,fs=h}}}function Q4(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;fs=h}function Ip(h){if(!me||h!==fs)return!1;if(!Un)return Q4(h),Un=!0,!1;if(h.tag!==3&&(h.tag!==5||Dr(h.type)&&!N(h.type,h.memoizedProps))){var p=ds;if(p){if(S2(h)){for(h=ds;h;)h=he(h);throw Error(o(418))}for(;p;)X4(h,p),p=he(p)}}if(Q4(h),h.tag===13){if(!me)throw Error(o(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));ds=ot(h)}else ds=fs?he(h.stateNode):null;return!0}function Zf(){me&&(ds=fs=null,Pp=Un=!1)}function C2(h){xo===null?xo=[h]:xo.push(h)}function Rp(h,p,S){if(h=S.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(o(309));var C=S.stateNode}if(!C)throw Error(o(147,h));var R=C,G=""+h;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===G?p.ref:(p=function(Z){var de=R.refs;de===W4&&(de=R.refs={}),Z===null?delete de[G]:de[G]=Z},p._stringRef=G,p)}if(typeof h!="string")throw Error(o(284));if(!S._owner)throw Error(o(290,h))}return h}function vv(h,p){throw h=Object.prototype.toString.call(p),Error(o(31,h==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":h))}function Z4(h){var p=h._init;return p(h._payload)}function e5(h){function p(_e,pe){if(h){var Ie=_e.deletions;Ie===null?(_e.deletions=[pe],_e.flags|=16):Ie.push(pe)}}function S(_e,pe){if(!h)return null;for(;pe!==null;)p(_e,pe),pe=pe.sibling;return null}function C(_e,pe){for(_e=new Map;pe!==null;)pe.key!==null?_e.set(pe.key,pe):_e.set(pe.index,pe),pe=pe.sibling;return _e}function R(_e,pe){return _e=Ql(_e,pe),_e.index=0,_e.sibling=null,_e}function G(_e,pe,Ie){return _e.index=Ie,h?(Ie=_e.alternate,Ie!==null?(Ie=Ie.index,Ie<pe?(_e.flags|=2,pe):Ie):(_e.flags|=2,pe)):(_e.flags|=1048576,pe)}function Z(_e){return h&&_e.alternate===null&&(_e.flags|=2),_e}function de(_e,pe,Ie,it){return pe===null||pe.tag!==6?(pe=u_(Ie,_e.mode,it),pe.return=_e,pe):(pe=R(pe,Ie),pe.return=_e,pe)}function Le(_e,pe,Ie,it){var xt=Ie.type;return xt===c?ft(_e,pe,Ie.props.children,it,Ie.key):pe!==null&&(pe.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===b&&Z4(xt)===pe.type)?(it=R(pe,Ie.props),it.ref=Rp(_e,pe,Ie),it.return=_e,it):(it=Jv(Ie.type,Ie.key,Ie.props,null,_e.mode,it),it.ref=Rp(_e,pe,Ie),it.return=_e,it)}function Xe(_e,pe,Ie,it){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==Ie.containerInfo||pe.stateNode.implementation!==Ie.implementation?(pe=c_(Ie,_e.mode,it),pe.return=_e,pe):(pe=R(pe,Ie.children||[]),pe.return=_e,pe)}function ft(_e,pe,Ie,it,xt){return pe===null||pe.tag!==7?(pe=wc(Ie,_e.mode,it,xt),pe.return=_e,pe):(pe=R(pe,Ie),pe.return=_e,pe)}function Nt(_e,pe,Ie){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return pe=u_(""+pe,_e.mode,Ie),pe.return=_e,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case l:return Ie=Jv(pe.type,pe.key,pe.props,null,_e.mode,Ie),Ie.ref=Rp(_e,null,pe),Ie.return=_e,Ie;case u:return pe=c_(pe,_e.mode,Ie),pe.return=_e,pe;case b:var it=pe._init;return Nt(_e,it(pe._payload),Ie)}if(T(pe)||I(pe))return pe=wc(pe,_e.mode,Ie,null),pe.return=_e,pe;vv(_e,pe)}return null}function St(_e,pe,Ie,it){var xt=pe!==null?pe.key:null;if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return xt!==null?null:de(_e,pe,""+Ie,it);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case l:return Ie.key===xt?Le(_e,pe,Ie,it):null;case u:return Ie.key===xt?Xe(_e,pe,Ie,it):null;case b:return xt=Ie._init,St(_e,pe,xt(Ie._payload),it)}if(T(Ie)||I(Ie))return xt!==null?null:ft(_e,pe,Ie,it,null);vv(_e,Ie)}return null}function Mn(_e,pe,Ie,it,xt){if(typeof it=="string"&&it!==""||typeof it=="number")return _e=_e.get(Ie)||null,de(pe,_e,""+it,xt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case l:return _e=_e.get(it.key===null?Ie:it.key)||null,Le(pe,_e,it,xt);case u:return _e=_e.get(it.key===null?Ie:it.key)||null,Xe(pe,_e,it,xt);case b:var Ht=it._init;return Mn(_e,pe,Ie,Ht(it._payload),xt)}if(T(it)||I(it))return _e=_e.get(Ie)||null,ft(pe,_e,it,xt,null);vv(pe,it)}return null}function bt(_e,pe,Ie,it){for(var xt=null,Ht=null,Lt=pe,hn=pe=0,Hr=null;Lt!==null&&hn<Ie.length;hn++){Lt.index>hn?(Hr=Lt,Lt=null):Hr=Lt.sibling;var pn=St(_e,Lt,Ie[hn],it);if(pn===null){Lt===null&&(Lt=Hr);break}h&&Lt&&pn.alternate===null&&p(_e,Lt),pe=G(pn,pe,hn),Ht===null?xt=pn:Ht.sibling=pn,Ht=pn,Lt=Hr}if(hn===Ie.length)return S(_e,Lt),Un&&pc(_e,hn),xt;if(Lt===null){for(;hn<Ie.length;hn++)Lt=Nt(_e,Ie[hn],it),Lt!==null&&(pe=G(Lt,pe,hn),Ht===null?xt=Lt:Ht.sibling=Lt,Ht=Lt);return Un&&pc(_e,hn),xt}for(Lt=C(_e,Lt);hn<Ie.length;hn++)Hr=Mn(Lt,_e,hn,Ie[hn],it),Hr!==null&&(h&&Hr.alternate!==null&&Lt.delete(Hr.key===null?hn:Hr.key),pe=G(Hr,pe,hn),Ht===null?xt=Hr:Ht.sibling=Hr,Ht=Hr);return h&&Lt.forEach(function(Zl){return p(_e,Zl)}),Un&&pc(_e,hn),xt}function vi(_e,pe,Ie,it){var xt=I(Ie);if(typeof xt!="function")throw Error(o(150));if(Ie=xt.call(Ie),Ie==null)throw Error(o(151));for(var Ht=xt=null,Lt=pe,hn=pe=0,Hr=null,pn=Ie.next();Lt!==null&&!pn.done;hn++,pn=Ie.next()){Lt.index>hn?(Hr=Lt,Lt=null):Hr=Lt.sibling;var Zl=St(_e,Lt,pn.value,it);if(Zl===null){Lt===null&&(Lt=Hr);break}h&&Lt&&Zl.alternate===null&&p(_e,Lt),pe=G(Zl,pe,hn),Ht===null?xt=Zl:Ht.sibling=Zl,Ht=Zl,Lt=Hr}if(pn.done)return S(_e,Lt),Un&&pc(_e,hn),xt;if(Lt===null){for(;!pn.done;hn++,pn=Ie.next())pn=Nt(_e,pn.value,it),pn!==null&&(pe=G(pn,pe,hn),Ht===null?xt=pn:Ht.sibling=pn,Ht=pn);return Un&&pc(_e,hn),xt}for(Lt=C(_e,Lt);!pn.done;hn++,pn=Ie.next())pn=Mn(Lt,_e,hn,pn.value,it),pn!==null&&(h&&pn.alternate!==null&&Lt.delete(pn.key===null?hn:pn.key),pe=G(pn,pe,hn),Ht===null?xt=pn:Ht.sibling=pn,Ht=pn);return h&&Lt.forEach(function(rV){return p(_e,rV)}),Un&&pc(_e,hn),xt}function Ks(_e,pe,Ie,it){if(typeof Ie=="object"&&Ie!==null&&Ie.type===c&&Ie.key===null&&(Ie=Ie.props.children),typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case l:e:{for(var xt=Ie.key,Ht=pe;Ht!==null;){if(Ht.key===xt){if(xt=Ie.type,xt===c){if(Ht.tag===7){S(_e,Ht.sibling),pe=R(Ht,Ie.props.children),pe.return=_e,_e=pe;break e}}else if(Ht.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===b&&Z4(xt)===Ht.type){S(_e,Ht.sibling),pe=R(Ht,Ie.props),pe.ref=Rp(_e,Ht,Ie),pe.return=_e,_e=pe;break e}S(_e,Ht);break}else p(_e,Ht);Ht=Ht.sibling}Ie.type===c?(pe=wc(Ie.props.children,_e.mode,it,Ie.key),pe.return=_e,_e=pe):(it=Jv(Ie.type,Ie.key,Ie.props,null,_e.mode,it),it.ref=Rp(_e,pe,Ie),it.return=_e,_e=it)}return Z(_e);case u:e:{for(Ht=Ie.key;pe!==null;){if(pe.key===Ht)if(pe.tag===4&&pe.stateNode.containerInfo===Ie.containerInfo&&pe.stateNode.implementation===Ie.implementation){S(_e,pe.sibling),pe=R(pe,Ie.children||[]),pe.return=_e,_e=pe;break e}else{S(_e,pe);break}else p(_e,pe);pe=pe.sibling}pe=c_(Ie,_e.mode,it),pe.return=_e,_e=pe}return Z(_e);case b:return Ht=Ie._init,Ks(_e,pe,Ht(Ie._payload),it)}if(T(Ie))return bt(_e,pe,Ie,it);if(I(Ie))return vi(_e,pe,Ie,it);vv(_e,Ie)}return typeof Ie=="string"&&Ie!==""||typeof Ie=="number"?(Ie=""+Ie,pe!==null&&pe.tag===6?(S(_e,pe.sibling),pe=R(pe,Ie),pe.return=_e,_e=pe):(S(_e,pe),pe=u_(Ie,_e.mode,it),pe.return=_e,_e=pe),Z(_e)):S(_e,pe)}return Ks}var ed=e5(!0),t5=e5(!1),Bp={},js=di(Bp),kp=di(Bp),td=di(Bp);function na(h){if(h===Bp)throw Error(o(174));return h}function M2(h,p){Wt(td,p),Wt(kp,h),Wt(js,Bp),h=U(p),Mt(js),Wt(js,h)}function nd(){Mt(js),Mt(kp),Mt(td)}function n5(h){var p=na(td.current),S=na(js.current);p=L(S,h.type,p),S!==p&&(Wt(kp,h),Wt(js,p))}function T2(h){kp.current===h&&(Mt(js),Mt(kp))}var Vn=di(0);function yv(h){for(var p=h;p!==null;){if(p.tag===13){var S=p.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||fn(S)||rn(S)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var P2=[];function I2(){for(var h=0;h<P2.length;h++){var p=P2[h];ce?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}P2.length=0}var xv=a.ReactCurrentDispatcher,Vs=a.ReactCurrentBatchConfig,rd=0,Zn=null,pi=null,Gr=null,bv=!1,Np=!1,Lp=0,Tj=0;function mi(){throw Error(o(321))}function R2(h,p){if(p===null)return!1;for(var S=0;S<p.length&&S<h.length;S++)if(!Zo(h[S],p[S]))return!1;return!0}function B2(h,p,S,C,R,G){if(rd=G,Zn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,xv.current=h===null||h.memoizedState===null?Bj:kj,h=S(C,R),Np){G=0;do{if(Np=!1,Lp=0,25<=G)throw Error(o(301));G+=1,Gr=pi=null,p.updateQueue=null,xv.current=Nj,h=S(C,R)}while(Np)}if(xv.current=Ev,p=pi!==null&&pi.next!==null,rd=0,Gr=pi=Zn=null,bv=!1,p)throw Error(o(300));return h}function k2(){var h=Lp!==0;return Lp=0,h}function Va(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gr===null?Zn.memoizedState=Gr=h:Gr=Gr.next=h,Gr}function ra(){if(pi===null){var h=Zn.alternate;h=h!==null?h.memoizedState:null}else h=pi.next;var p=Gr===null?Zn.memoizedState:Gr.next;if(p!==null)Gr=p,pi=h;else{if(h===null)throw Error(o(310));pi=h,h={memoizedState:pi.memoizedState,baseState:pi.baseState,baseQueue:pi.baseQueue,queue:pi.queue,next:null},Gr===null?Zn.memoizedState=Gr=h:Gr=Gr.next=h}return Gr}function mc(h,p){return typeof p=="function"?p(h):p}function wv(h){var p=ra(),S=p.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=h;var C=pi,R=C.baseQueue,G=S.pending;if(G!==null){if(R!==null){var Z=R.next;R.next=G.next,G.next=Z}C.baseQueue=R=G,S.pending=null}if(R!==null){G=R.next,C=C.baseState;var de=Z=null,Le=null,Xe=G;do{var ft=Xe.lane;if((rd&ft)===ft)Le!==null&&(Le=Le.next={lane:0,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null}),C=Xe.hasEagerState?Xe.eagerState:h(C,Xe.action);else{var Nt={lane:ft,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null};Le===null?(de=Le=Nt,Z=C):Le=Le.next=Nt,Zn.lanes|=ft,sd|=ft}Xe=Xe.next}while(Xe!==null&&Xe!==G);Le===null?Z=C:Le.next=de,Zo(C,p.memoizedState)||(hs=!0),p.memoizedState=C,p.baseState=Z,p.baseQueue=Le,S.lastRenderedState=C}if(h=S.interleaved,h!==null){R=h;do G=R.lane,Zn.lanes|=G,sd|=G,R=R.next;while(R!==h)}else R===null&&(S.lanes=0);return[p.memoizedState,S.dispatch]}function _v(h){var p=ra(),S=p.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=h;var C=S.dispatch,R=S.pending,G=p.memoizedState;if(R!==null){S.pending=null;var Z=R=R.next;do G=h(G,Z.action),Z=Z.next;while(Z!==R);Zo(G,p.memoizedState)||(hs=!0),p.memoizedState=G,p.baseQueue===null&&(p.baseState=G),S.lastRenderedState=G}return[G,C]}function r5(){}function i5(h,p){var S=Zn,C=ra(),R=p(),G=!Zo(C.memoizedState,R);if(G&&(C.memoizedState=R,hs=!0),C=C.queue,Op(a5.bind(null,S,C,h),[h]),C.getSnapshot!==p||G||Gr!==null&&Gr.memoizedState.tag&1){if(S.flags|=2048,Dp(9,o5.bind(null,S,C,R,p),void 0,null),yr===null)throw Error(o(349));(rd&30)!==0||s5(S,p,R)}return R}function s5(h,p,S){h.flags|=16384,h={getSnapshot:p,value:S},p=Zn.updateQueue,p===null?(p={lastEffect:null,stores:null},Zn.updateQueue=p,p.stores=[h]):(S=p.stores,S===null?p.stores=[h]:S.push(h))}function o5(h,p,S,C){p.value=S,p.getSnapshot=C,l5(p)&&Ws(h,1,-1)}function a5(h,p,S){return S(function(){l5(p)&&Ws(h,1,-1)})}function l5(h){var p=h.getSnapshot;h=h.value;try{var S=p();return!Zo(h,S)}catch{return!0}}function N2(h){var p=Va();return typeof h=="function"&&(h=h()),p.memoizedState=p.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mc,lastRenderedState:h},p.queue=h,h=h.dispatch=Rj.bind(null,Zn,h),[p.memoizedState,h]}function Dp(h,p,S,C){return h={tag:h,create:p,destroy:S,deps:C,next:null},p=Zn.updateQueue,p===null?(p={lastEffect:null,stores:null},Zn.updateQueue=p,p.lastEffect=h.next=h):(S=p.lastEffect,S===null?p.lastEffect=h.next=h:(C=S.next,S.next=h,h.next=C,p.lastEffect=h)),h}function u5(){return ra().memoizedState}function Av(h,p,S,C){var R=Va();Zn.flags|=h,R.memoizedState=Dp(1|p,S,void 0,C===void 0?null:C)}function Sv(h,p,S,C){var R=ra();C=C===void 0?null:C;var G=void 0;if(pi!==null){var Z=pi.memoizedState;if(G=Z.destroy,C!==null&&R2(C,Z.deps)){R.memoizedState=Dp(p,S,G,C);return}}Zn.flags|=h,R.memoizedState=Dp(1|p,S,G,C)}function L2(h,p){return Av(8390656,8,h,p)}function Op(h,p){return Sv(2048,8,h,p)}function c5(h,p){return Sv(4,2,h,p)}function f5(h,p){return Sv(4,4,h,p)}function d5(h,p){if(typeof p=="function")return h=h(),p(h),function(){p(null)};if(p!=null)return h=h(),p.current=h,function(){p.current=null}}function h5(h,p,S){return S=S!=null?S.concat([h]):null,Sv(4,4,d5.bind(null,p,h),S)}function D2(){}function p5(h,p){var S=ra();p=p===void 0?null:p;var C=S.memoizedState;return C!==null&&p!==null&&R2(p,C[1])?C[0]:(S.memoizedState=[h,p],h)}function m5(h,p){var S=ra();p=p===void 0?null:p;var C=S.memoizedState;return C!==null&&p!==null&&R2(p,C[1])?C[0]:(h=h(),S.memoizedState=[h,p],h)}function Pj(h,p){var S=dn;dn=S!==0&&4>S?S:4,h(!0);var C=Vs.transition;Vs.transition={};try{h(!1),p()}finally{dn=S,Vs.transition=C}}function g5(){return ra().memoizedState}function Ij(h,p,S){var C=Xl(h);S={lane:C,action:S,hasEagerState:!1,eagerState:null,next:null},v5(h)?y5(p,S):(x5(h,p,S),S=Ii(),h=Ws(h,C,S),h!==null&&b5(h,p,C))}function Rj(h,p,S){var C=Xl(h),R={lane:C,action:S,hasEagerState:!1,eagerState:null,next:null};if(v5(h))y5(p,R);else{x5(h,p,R);var G=h.alternate;if(h.lanes===0&&(G===null||G.lanes===0)&&(G=p.lastRenderedReducer,G!==null))try{var Z=p.lastRenderedState,de=G(Z,S);if(R.hasEagerState=!0,R.eagerState=de,Zo(de,Z))return}catch{}finally{}S=Ii(),h=Ws(h,C,S),h!==null&&b5(h,p,C)}}function v5(h){var p=h.alternate;return h===Zn||p!==null&&p===Zn}function y5(h,p){Np=bv=!0;var S=h.pending;S===null?p.next=p:(p.next=S.next,S.next=p),h.pending=p}function x5(h,p,S){yr!==null&&(h.mode&1)!==0&&(Vt&2)===0?(h=p.interleaved,h===null?(S.next=S,ta===null?ta=[p]:ta.push(p)):(S.next=h.next,h.next=S),p.interleaved=S):(h=p.pending,h===null?S.next=S:(S.next=h.next,h.next=S),p.pending=S)}function b5(h,p,S){if((S&4194240)!==0){var C=p.lanes;C&=h.pendingLanes,S|=C,p.lanes=S,c2(h,S)}}var Ev={readContext:zs,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},Bj={readContext:zs,useCallback:function(h,p){return Va().memoizedState=[h,p===void 0?null:p],h},useContext:zs,useEffect:L2,useImperativeHandle:function(h,p,S){return S=S!=null?S.concat([h]):null,Av(4194308,4,d5.bind(null,p,h),S)},useLayoutEffect:function(h,p){return Av(4194308,4,h,p)},useInsertionEffect:function(h,p){return Av(4,2,h,p)},useMemo:function(h,p){var S=Va();return p=p===void 0?null:p,h=h(),S.memoizedState=[h,p],h},useReducer:function(h,p,S){var C=Va();return p=S!==void 0?S(p):p,C.memoizedState=C.baseState=p,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:p},C.queue=h,h=h.dispatch=Ij.bind(null,Zn,h),[C.memoizedState,h]},useRef:function(h){var p=Va();return h={current:h},p.memoizedState=h},useState:N2,useDebugValue:D2,useDeferredValue:function(h){var p=N2(h),S=p[0],C=p[1];return L2(function(){var R=Vs.transition;Vs.transition={};try{C(h)}finally{Vs.transition=R}},[h]),S},useTransition:function(){var h=N2(!1),p=h[0];return h=Pj.bind(null,h[1]),Va().memoizedState=h,[p,h]},useMutableSource:function(){},useSyncExternalStore:function(h,p,S){var C=Zn,R=Va();if(Un){if(S===void 0)throw Error(o(407));S=S()}else{if(S=p(),yr===null)throw Error(o(349));(rd&30)!==0||s5(C,p,S)}R.memoizedState=S;var G={value:S,getSnapshot:p};return R.queue=G,L2(a5.bind(null,C,G,h),[h]),C.flags|=2048,Dp(9,o5.bind(null,C,G,S,p),void 0,null),S},useId:function(){var h=Va(),p=yr.identifierPrefix;if(Un){var S=ja,C=Ha;S=(C&~(1<<32-vo(C)-1)).toString(32)+S,p=":"+p+"R"+S,S=Lp++,0<S&&(p+="H"+S.toString(32)),p+=":"}else S=Tj++,p=":"+p+"r"+S.toString(32)+":";return h.memoizedState=p},unstable_isNewReconciler:!1},kj={readContext:zs,useCallback:p5,useContext:zs,useEffect:Op,useImperativeHandle:h5,useInsertionEffect:c5,useLayoutEffect:f5,useMemo:m5,useReducer:wv,useRef:u5,useState:function(){return wv(mc)},useDebugValue:D2,useDeferredValue:function(h){var p=wv(mc),S=p[0],C=p[1];return Op(function(){var R=Vs.transition;Vs.transition={};try{C(h)}finally{Vs.transition=R}},[h]),S},useTransition:function(){var h=wv(mc)[0],p=ra().memoizedState;return[h,p]},useMutableSource:r5,useSyncExternalStore:i5,useId:g5,unstable_isNewReconciler:!1},Nj={readContext:zs,useCallback:p5,useContext:zs,useEffect:Op,useImperativeHandle:h5,useInsertionEffect:c5,useLayoutEffect:f5,useMemo:m5,useReducer:_v,useRef:u5,useState:function(){return _v(mc)},useDebugValue:D2,useDeferredValue:function(h){var p=_v(mc),S=p[0],C=p[1];return Op(function(){var R=Vs.transition;Vs.transition={};try{C(h)}finally{Vs.transition=R}},[h]),S},useTransition:function(){var h=_v(mc)[0],p=ra().memoizedState;return[h,p]},useMutableSource:r5,useSyncExternalStore:i5,useId:g5,unstable_isNewReconciler:!1};function O2(h,p){try{var S="",C=p;do S+=Mj(C),C=C.return;while(C);var R=S}catch(G){R=`
Error generating stack: `+G.message+`
`+G.stack}return{value:h,source:p,stack:R}}function F2(h,p){try{console.error(p.value)}catch(S){setTimeout(function(){throw S})}}var Lj=typeof WeakMap=="function"?WeakMap:Map;function w5(h,p,S){S=Ga(-1,S),S.tag=3,S.payload={element:null};var C=p.value;return S.callback=function(){Gv||(Gv=!0,n_=C),F2(h,p)},S}function _5(h,p,S){S=Ga(-1,S),S.tag=3;var C=h.type.getDerivedStateFromError;if(typeof C=="function"){var R=p.value;S.payload=function(){return C(R)},S.callback=function(){F2(h,p)}}var G=h.stateNode;return G!==null&&typeof G.componentDidCatch=="function"&&(S.callback=function(){F2(h,p),typeof C!="function"&&(Jl===null?Jl=new Set([this]):Jl.add(this));var Z=p.stack;this.componentDidCatch(p.value,{componentStack:Z!==null?Z:""})}),S}function A5(h,p,S){var C=h.pingCache;if(C===null){C=h.pingCache=new Lj;var R=new Set;C.set(p,R)}else R=C.get(p),R===void 0&&(R=new Set,C.set(p,R));R.has(S)||(R.add(S),h=$j.bind(null,h,p,S),p.then(h,h))}function S5(h){do{var p;if((p=h.tag===13)&&(p=h.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return h;h=h.return}while(h!==null);return null}function E5(h,p,S,C,R){return(h.mode&1)===0?(h===p?h.flags|=65536:(h.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(p=Ga(-1,1),p.tag=2,Kl(S,p))),S.lanes|=1),h):(h.flags|=65536,h.lanes=R,h)}function ia(h){h.flags|=4}function C5(h,p){if(h!==null&&h.child===p.child)return!0;if((p.flags&16)!==0)return!1;for(h=p.child;h!==null;){if((h.flags&12854)!==0||(h.subtreeFlags&12854)!==0)return!1;h=h.sibling}return!0}var Fp,Up,Cv,Mv;if(Ee)Fp=function(h,p){for(var S=p.child;S!==null;){if(S.tag===5||S.tag===6)E(h,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===p)break;for(;S.sibling===null;){if(S.return===null||S.return===p)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},Up=function(){},Cv=function(h,p,S,C,R){if(h=h.memoizedProps,h!==C){var G=p.stateNode,Z=na(js.current);S=X(G,S,h,C,R,Z),(p.updateQueue=S)&&ia(p)}},Mv=function(h,p,S,C){S!==C&&ia(p)};else if(ae){Fp=function(h,p,S,C){for(var R=p.child;R!==null;){if(R.tag===5){var G=R.stateNode;S&&C&&(G=_t(G,R.type,R.memoizedProps,R)),E(h,G)}else if(R.tag===6)G=R.stateNode,S&&C&&(G=Qn(G,R.memoizedProps,R)),E(h,G);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)G=R.child,G!==null&&(G.return=R),Fp(h,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===p)break;for(;R.sibling===null;){if(R.return===null||R.return===p)return;R=R.return}R.sibling.return=R.return,R=R.sibling}};var M5=function(h,p,S,C){for(var R=p.child;R!==null;){if(R.tag===5){var G=R.stateNode;S&&C&&(G=_t(G,R.type,R.memoizedProps,R)),vt(h,G)}else if(R.tag===6)G=R.stateNode,S&&C&&(G=Qn(G,R.memoizedProps,R)),vt(h,G);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)G=R.child,G!==null&&(G.return=R),M5(h,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===p)break;for(;R.sibling===null;){if(R.return===null||R.return===p)return;R=R.return}R.sibling.return=R.return,R=R.sibling}};Up=function(h,p){var S=p.stateNode;if(!C5(h,p)){h=S.containerInfo;var C=rt(h);M5(C,p,!1,!1),S.pendingChildren=C,ia(p),mn(h,C)}},Cv=function(h,p,S,C,R){var G=h.stateNode,Z=h.memoizedProps;if((h=C5(h,p))&&Z===C)p.stateNode=G;else{var de=p.stateNode,Le=na(js.current),Xe=null;Z!==C&&(Xe=X(de,S,Z,C,R,Le)),h&&Xe===null?p.stateNode=G:(G=st(G,Xe,S,Z,C,p,h,de),j(G,S,C,R,Le)&&ia(p),p.stateNode=G,h?ia(p):Fp(G,p,!1,!1))}},Mv=function(h,p,S,C){S!==C?(h=na(td.current),S=na(js.current),p.stateNode=K(C,h,S,p),ia(p)):p.stateNode=h.stateNode}}else Up=function(){},Cv=function(){},Mv=function(){};function zp(h,p){if(!Un)switch(h.tailMode){case"hidden":p=h.tail;for(var S=null;p!==null;)p.alternate!==null&&(S=p),p=p.sibling;S===null?h.tail=null:S.sibling=null;break;case"collapsed":S=h.tail;for(var C=null;S!==null;)S.alternate!==null&&(C=S),S=S.sibling;C===null?p||h.tail===null?h.tail=null:h.tail.sibling=null:C.sibling=null}}function gi(h){var p=h.alternate!==null&&h.alternate.child===h.child,S=0,C=0;if(p)for(var R=h.child;R!==null;)S|=R.lanes|R.childLanes,C|=R.subtreeFlags&14680064,C|=R.flags&14680064,R.return=h,R=R.sibling;else for(R=h.child;R!==null;)S|=R.lanes|R.childLanes,C|=R.subtreeFlags,C|=R.flags,R.return=h,R=R.sibling;return h.subtreeFlags|=C,h.childLanes=S,p}function Dj(h,p,S){var C=p.pendingProps;switch(A2(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gi(p),null;case 1:return Wi(p.type)&&nv(),gi(p),null;case 3:return C=p.stateNode,nd(),Mt(Ur),Mt(tn),I2(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(h===null||h.child===null)&&(Ip(p)?ia(p):h===null||h.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,xo!==null&&(s_(xo),xo=null))),Up(h,p),gi(p),null;case 5:T2(p),S=na(td.current);var R=p.type;if(h!==null&&p.stateNode!=null)Cv(h,p,R,C,S),h.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!C){if(p.stateNode===null)throw Error(o(166));return gi(p),null}if(h=na(js.current),Ip(p)){if(!me)throw Error(o(175));h=Ze(p.stateNode,p.type,p.memoizedProps,S,h,p,!Pp),p.updateQueue=h,h!==null&&ia(p)}else{var G=B(R,C,S,h,p);Fp(G,p,!1,!1),p.stateNode=G,j(G,R,C,S,h)&&ia(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return gi(p),null;case 6:if(h&&p.stateNode!=null)Mv(h,p,h.memoizedProps,C);else{if(typeof C!="string"&&p.stateNode===null)throw Error(o(166));if(h=na(td.current),S=na(js.current),Ip(p)){if(!me)throw Error(o(176));if(h=p.stateNode,C=p.memoizedProps,(S=At(h,C,p,!Pp))&&(R=fs,R!==null))switch(G=(R.mode&1)!==0,R.tag){case 3:Fs(R.stateNode.containerInfo,h,C,G);break;case 5:Us(R.type,R.memoizedProps,R.stateNode,h,C,G)}S&&ia(p)}else p.stateNode=K(C,h,S,p)}return gi(p),null;case 13:if(Mt(Vn),C=p.memoizedState,Un&&ds!==null&&(p.mode&1)!==0&&(p.flags&128)===0){for(h=ds;h;)h=he(h);return Zf(),p.flags|=98560,p}if(C!==null&&C.dehydrated!==null){if(C=Ip(p),h===null){if(!C)throw Error(o(318));if(!me)throw Error(o(344));if(h=p.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));at(h,p)}else Zf(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;return gi(p),null}return xo!==null&&(s_(xo),xo=null),(p.flags&128)!==0?(p.lanes=S,p):(C=C!==null,S=!1,h===null?Ip(p):S=h.memoizedState!==null,C&&!S&&(p.child.flags|=8192,(p.mode&1)!==0&&(h===null||(Vn.current&1)!==0?Mr===0&&(Mr=3):a_())),p.updateQueue!==null&&(p.flags|=4),gi(p),null);case 4:return nd(),Up(h,p),h===null&&Ne(p.stateNode.containerInfo),gi(p),null;case 10:return v2(p.type._context),gi(p),null;case 17:return Wi(p.type)&&nv(),gi(p),null;case 19:if(Mt(Vn),R=p.memoizedState,R===null)return gi(p),null;if(C=(p.flags&128)!==0,G=R.rendering,G===null)if(C)zp(R,!1);else{if(Mr!==0||h!==null&&(h.flags&128)!==0)for(h=p.child;h!==null;){if(G=yv(h),G!==null){for(p.flags|=128,zp(R,!1),h=G.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),p.subtreeFlags=0,h=S,C=p.child;C!==null;)S=C,R=h,S.flags&=14680066,G=S.alternate,G===null?(S.childLanes=0,S.lanes=R,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=G.childLanes,S.lanes=G.lanes,S.child=G.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=G.memoizedProps,S.memoizedState=G.memoizedState,S.updateQueue=G.updateQueue,S.type=G.type,R=G.dependencies,S.dependencies=R===null?null:{lanes:R.lanes,firstContext:R.firstContext}),C=C.sibling;return Wt(Vn,Vn.current&1|2),p.child}h=h.sibling}R.tail!==null&&zr()>t_&&(p.flags|=128,C=!0,zp(R,!1),p.lanes=4194304)}else{if(!C)if(h=yv(G),h!==null){if(p.flags|=128,C=!0,h=h.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),zp(R,!0),R.tail===null&&R.tailMode==="hidden"&&!G.alternate&&!Un)return gi(p),null}else 2*zr()-R.renderingStartTime>t_&&S!==1073741824&&(p.flags|=128,C=!0,zp(R,!1),p.lanes=4194304);R.isBackwards?(G.sibling=p.child,p.child=G):(h=R.last,h!==null?h.sibling=G:p.child=G,R.last=G)}return R.tail!==null?(p=R.tail,R.rendering=p,R.tail=p.sibling,R.renderingStartTime=zr(),p.sibling=null,h=Vn.current,Wt(Vn,C?h&1|2:h&1),p):(gi(p),null);case 22:case 23:return o_(),C=p.memoizedState!==null,h!==null&&h.memoizedState!==null!==C&&(p.flags|=8192),C&&(p.mode&1)!==0?(ps&1073741824)!==0&&(gi(p),Ee&&p.subtreeFlags&6&&(p.flags|=8192)):gi(p),null;case 24:return null;case 25:return null}throw Error(o(156,p.tag))}var Oj=a.ReactCurrentOwner,hs=!1;function Pi(h,p,S,C){p.child=h===null?t5(p,null,S,C):ed(p,h.child,S,C)}function T5(h,p,S,C,R){S=S.render;var G=p.ref;return Xf(p,R),C=B2(h,p,S,C,G,R),S=k2(),h!==null&&!hs?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~R,Wa(h,p,R)):(Un&&S&&_2(p),p.flags|=1,Pi(h,p,C,R),p.child)}function P5(h,p,S,C,R){if(h===null){var G=S.type;return typeof G=="function"&&!l_(G)&&G.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(p.tag=15,p.type=G,I5(h,p,G,C,R)):(h=Jv(S.type,null,C,p,p.mode,R),h.ref=p.ref,h.return=p,p.child=h)}if(G=h.child,(h.lanes&R)===0){var Z=G.memoizedProps;if(S=S.compare,S=S!==null?S:uv,S(Z,C)&&h.ref===p.ref)return Wa(h,p,R)}return p.flags|=1,h=Ql(G,C),h.ref=p.ref,h.return=p,p.child=h}function I5(h,p,S,C,R){if(h!==null&&uv(h.memoizedProps,C)&&h.ref===p.ref)if(hs=!1,(h.lanes&R)!==0)(h.flags&131072)!==0&&(hs=!0);else return p.lanes=h.lanes,Wa(h,p,R);return U2(h,p,S,C,R)}function R5(h,p,S){var C=p.pendingProps,R=C.children,G=h!==null?h.memoizedState:null;if(C.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null},Wt(id,ps),ps|=S;else if((S&1073741824)!==0)p.memoizedState={baseLanes:0,cachePool:null},C=G!==null?G.baseLanes:S,Wt(id,ps),ps|=C;else return h=G!==null?G.baseLanes|S:S,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:h,cachePool:null},p.updateQueue=null,Wt(id,ps),ps|=h,null;else G!==null?(C=G.baseLanes|S,p.memoizedState=null):C=S,Wt(id,ps),ps|=C;return Pi(h,p,R,S),p.child}function B5(h,p){var S=p.ref;(h===null&&S!==null||h!==null&&h.ref!==S)&&(p.flags|=512,p.flags|=2097152)}function U2(h,p,S,C,R){var G=Wi(S)?Fa:tn.current;return G=Ua(p,G),Xf(p,R),S=B2(h,p,S,C,G,R),C=k2(),h!==null&&!hs?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~R,Wa(h,p,R)):(Un&&C&&_2(p),p.flags|=1,Pi(h,p,S,R),p.child)}function k5(h,p,S,C,R){if(Wi(S)){var G=!0;rv(p)}else G=!1;if(Xf(p,R),p.stateNode===null)h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),K4(p,S,C),w2(p,S,C,R),C=!0;else if(h===null){var Z=p.stateNode,de=p.memoizedProps;Z.props=de;var Le=Z.context,Xe=S.contextType;typeof Xe=="object"&&Xe!==null?Xe=zs(Xe):(Xe=Wi(S)?Fa:tn.current,Xe=Ua(p,Xe));var ft=S.getDerivedStateFromProps,Nt=typeof ft=="function"||typeof Z.getSnapshotBeforeUpdate=="function";Nt||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(de!==C||Le!==Xe)&&J4(p,Z,C,Xe),ql=!1;var St=p.memoizedState;Z.state=St,hv(p,C,Z,R),Le=p.memoizedState,de!==C||St!==Le||Ur.current||ql?(typeof ft=="function"&&(b2(p,S,ft,C),Le=p.memoizedState),(de=ql||q4(p,S,de,C,St,Le,Xe))?(Nt||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount()),typeof Z.componentDidMount=="function"&&(p.flags|=4194308)):(typeof Z.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=C,p.memoizedState=Le),Z.props=C,Z.state=Le,Z.context=Xe,C=de):(typeof Z.componentDidMount=="function"&&(p.flags|=4194308),C=!1)}else{Z=p.stateNode,H4(h,p),de=p.memoizedProps,Xe=p.type===p.elementType?de:yo(p.type,de),Z.props=Xe,Nt=p.pendingProps,St=Z.context,Le=S.contextType,typeof Le=="object"&&Le!==null?Le=zs(Le):(Le=Wi(S)?Fa:tn.current,Le=Ua(p,Le));var Mn=S.getDerivedStateFromProps;(ft=typeof Mn=="function"||typeof Z.getSnapshotBeforeUpdate=="function")||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(de!==Nt||St!==Le)&&J4(p,Z,C,Le),ql=!1,St=p.memoizedState,Z.state=St,hv(p,C,Z,R);var bt=p.memoizedState;de!==Nt||St!==bt||Ur.current||ql?(typeof Mn=="function"&&(b2(p,S,Mn,C),bt=p.memoizedState),(Xe=ql||q4(p,S,Xe,C,St,bt,Le)||!1)?(ft||typeof Z.UNSAFE_componentWillUpdate!="function"&&typeof Z.componentWillUpdate!="function"||(typeof Z.componentWillUpdate=="function"&&Z.componentWillUpdate(C,bt,Le),typeof Z.UNSAFE_componentWillUpdate=="function"&&Z.UNSAFE_componentWillUpdate(C,bt,Le)),typeof Z.componentDidUpdate=="function"&&(p.flags|=4),typeof Z.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof Z.componentDidUpdate!="function"||de===h.memoizedProps&&St===h.memoizedState||(p.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||de===h.memoizedProps&&St===h.memoizedState||(p.flags|=1024),p.memoizedProps=C,p.memoizedState=bt),Z.props=C,Z.state=bt,Z.context=Le,C=Xe):(typeof Z.componentDidUpdate!="function"||de===h.memoizedProps&&St===h.memoizedState||(p.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||de===h.memoizedProps&&St===h.memoizedState||(p.flags|=1024),C=!1)}return z2(h,p,S,C,G,R)}function z2(h,p,S,C,R,G){B5(h,p);var Z=(p.flags&128)!==0;if(!C&&!Z)return R&&O4(p,S,!1),Wa(h,p,G);C=p.stateNode,Oj.current=p;var de=Z&&typeof S.getDerivedStateFromError!="function"?null:C.render();return p.flags|=1,h!==null&&Z?(p.child=ed(p,h.child,null,G),p.child=ed(p,null,de,G)):Pi(h,p,de,G),p.memoizedState=C.state,R&&O4(p,S,!0),p.child}function N5(h){var p=h.stateNode;p.pendingContext?L4(h,p.pendingContext,p.pendingContext!==p.context):p.context&&L4(h,p.context,!1),M2(h,p.containerInfo)}function L5(h,p,S,C,R){return Zf(),C2(R),p.flags|=256,Pi(h,p,S,C),p.child}var Tv={dehydrated:null,treeContext:null,retryLane:0};function Pv(h){return{baseLanes:h,cachePool:null}}function D5(h,p,S){var C=p.pendingProps,R=Vn.current,G=!1,Z=(p.flags&128)!==0,de;if((de=Z)||(de=h!==null&&h.memoizedState===null?!1:(R&2)!==0),de?(G=!0,p.flags&=-129):(h===null||h.memoizedState!==null)&&(R|=1),Wt(Vn,R&1),h===null)return E2(p),h=p.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((p.mode&1)===0?p.lanes=1:rn(h)?p.lanes=8:p.lanes=1073741824,null):(R=C.children,h=C.fallback,G?(C=p.mode,G=p.child,R={mode:"hidden",children:R},(C&1)===0&&G!==null?(G.childLanes=0,G.pendingProps=R):G=$v(R,C,0,null),h=wc(h,C,S,null),G.return=p,h.return=p,G.sibling=h,p.child=G,p.child.memoizedState=Pv(S),p.memoizedState=Tv,h):G2(p,R));if(R=h.memoizedState,R!==null){if(de=R.dehydrated,de!==null){if(Z)return p.flags&256?(p.flags&=-257,Iv(h,p,S,Error(o(422)))):p.memoizedState!==null?(p.child=h.child,p.flags|=128,null):(G=C.fallback,R=p.mode,C=$v({mode:"visible",children:C.children},R,0,null),G=wc(G,R,S,null),G.flags|=2,C.return=p,G.return=p,C.sibling=G,p.child=C,(p.mode&1)!==0&&ed(p,h.child,null,S),p.child.memoizedState=Pv(S),p.memoizedState=Tv,G);if((p.mode&1)===0)p=Iv(h,p,S,null);else if(rn(de))p=Iv(h,p,S,Error(o(419)));else if(C=(S&h.childLanes)!==0,hs||C){if(C=yr,C!==null){switch(S&-S){case 4:G=2;break;case 16:G=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:G=32;break;case 536870912:G=268435456;break;default:G=0}C=(G&(C.suspendedLanes|S))!==0?0:G,C!==0&&C!==R.retryLane&&(R.retryLane=C,Ws(h,C,-1))}a_(),p=Iv(h,p,S,Error(o(421)))}else fn(de)?(p.flags|=128,p.child=h.child,p=Xj.bind(null,h),Q(de,p),p=null):(S=R.treeContext,me&&(ds=Me(de),fs=p,Un=!0,xo=null,Pp=!1,S!==null&&(Gs[Hs++]=Ha,Gs[Hs++]=ja,Gs[Hs++]=hc,Ha=S.id,ja=S.overflow,hc=p)),p=G2(p,p.pendingProps.children),p.flags|=4096);return p}return G?(C=F5(h,p,C.children,C.fallback,S),G=p.child,R=h.child.memoizedState,G.memoizedState=R===null?Pv(S):{baseLanes:R.baseLanes|S,cachePool:null},G.childLanes=h.childLanes&~S,p.memoizedState=Tv,C):(S=O5(h,p,C.children,S),p.memoizedState=null,S)}return G?(C=F5(h,p,C.children,C.fallback,S),G=p.child,R=h.child.memoizedState,G.memoizedState=R===null?Pv(S):{baseLanes:R.baseLanes|S,cachePool:null},G.childLanes=h.childLanes&~S,p.memoizedState=Tv,C):(S=O5(h,p,C.children,S),p.memoizedState=null,S)}function G2(h,p){return p=$v({mode:"visible",children:p},h.mode,0,null),p.return=h,h.child=p}function O5(h,p,S,C){var R=h.child;return h=R.sibling,S=Ql(R,{mode:"visible",children:S}),(p.mode&1)===0&&(S.lanes=C),S.return=p,S.sibling=null,h!==null&&(C=p.deletions,C===null?(p.deletions=[h],p.flags|=16):C.push(h)),p.child=S}function F5(h,p,S,C,R){var G=p.mode;h=h.child;var Z=h.sibling,de={mode:"hidden",children:S};return(G&1)===0&&p.child!==h?(S=p.child,S.childLanes=0,S.pendingProps=de,p.deletions=null):(S=Ql(h,de),S.subtreeFlags=h.subtreeFlags&14680064),Z!==null?C=Ql(Z,C):(C=wc(C,G,R,null),C.flags|=2),C.return=p,S.return=p,S.sibling=C,p.child=S,C}function Iv(h,p,S,C){return C!==null&&C2(C),ed(p,h.child,null,S),h=G2(p,p.pendingProps.children),h.flags|=2,p.memoizedState=null,h}function U5(h,p,S){h.lanes|=p;var C=h.alternate;C!==null&&(C.lanes|=p),y2(h.return,p,S)}function H2(h,p,S,C,R){var G=h.memoizedState;G===null?h.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:C,tail:S,tailMode:R}:(G.isBackwards=p,G.rendering=null,G.renderingStartTime=0,G.last=C,G.tail=S,G.tailMode=R)}function z5(h,p,S){var C=p.pendingProps,R=C.revealOrder,G=C.tail;if(Pi(h,p,C.children,S),C=Vn.current,(C&2)!==0)C=C&1|2,p.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=p.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&U5(h,S,p);else if(h.tag===19)U5(h,S,p);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===p)break e;for(;h.sibling===null;){if(h.return===null||h.return===p)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}C&=1}if(Wt(Vn,C),(p.mode&1)===0)p.memoizedState=null;else switch(R){case"forwards":for(S=p.child,R=null;S!==null;)h=S.alternate,h!==null&&yv(h)===null&&(R=S),S=S.sibling;S=R,S===null?(R=p.child,p.child=null):(R=S.sibling,S.sibling=null),H2(p,!1,R,S,G);break;case"backwards":for(S=null,R=p.child,p.child=null;R!==null;){if(h=R.alternate,h!==null&&yv(h)===null){p.child=R;break}h=R.sibling,R.sibling=S,S=R,R=h}H2(p,!0,S,null,G);break;case"together":H2(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Wa(h,p,S){if(h!==null&&(p.dependencies=h.dependencies),sd|=p.lanes,(S&p.childLanes)===0)return null;if(h!==null&&p.child!==h.child)throw Error(o(153));if(p.child!==null){for(h=p.child,S=Ql(h,h.pendingProps),p.child=S,S.return=p;h.sibling!==null;)h=h.sibling,S=S.sibling=Ql(h,h.pendingProps),S.return=p;S.sibling=null}return p.child}function Fj(h,p,S){switch(p.tag){case 3:N5(p),Zf();break;case 5:n5(p);break;case 1:Wi(p.type)&&rv(p);break;case 4:M2(p,p.stateNode.containerInfo);break;case 10:G4(p,p.type._context,p.memoizedProps.value);break;case 13:var C=p.memoizedState;if(C!==null)return C.dehydrated!==null?(Wt(Vn,Vn.current&1),p.flags|=128,null):(S&p.child.childLanes)!==0?D5(h,p,S):(Wt(Vn,Vn.current&1),h=Wa(h,p,S),h!==null?h.sibling:null);Wt(Vn,Vn.current&1);break;case 19:if(C=(S&p.childLanes)!==0,(h.flags&128)!==0){if(C)return z5(h,p,S);p.flags|=128}var R=p.memoizedState;if(R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),Wt(Vn,Vn.current),C)break;return null;case 22:case 23:return p.lanes=0,R5(h,p,S)}return Wa(h,p,S)}function Uj(h,p){switch(A2(p),p.tag){case 1:return Wi(p.type)&&nv(),h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 3:return nd(),Mt(Ur),Mt(tn),I2(),h=p.flags,(h&65536)!==0&&(h&128)===0?(p.flags=h&-65537|128,p):null;case 5:return T2(p),null;case 13:if(Mt(Vn),h=p.memoizedState,h!==null&&h.dehydrated!==null){if(p.alternate===null)throw Error(o(340));Zf()}return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 19:return Mt(Vn),null;case 4:return nd(),null;case 10:return v2(p.type._context),null;case 22:case 23:return o_(),null;case 24:return null;default:return null}}var Rv=!1,gc=!1,zj=typeof WeakSet=="function"?WeakSet:Set,nt=null;function Bv(h,p){var S=h.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(C){Ji(h,p,C)}else S.current=null}function j2(h,p,S){try{S()}catch(C){Ji(h,p,C)}}var G5=!1;function Gj(h,p){for(F(h.containerInfo),nt=p;nt!==null;)if(h=nt,p=h.child,(h.subtreeFlags&1028)!==0&&p!==null)p.return=h,nt=p;else for(;nt!==null;){h=nt;try{var S=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var C=S.memoizedProps,R=S.memoizedState,G=h.stateNode,Z=G.getSnapshotBeforeUpdate(h.elementType===h.type?C:yo(h.type,C),R);G.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:Ee&&Ve(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(de){Ji(h,h.return,de)}if(p=h.sibling,p!==null){p.return=h.return,nt=p;break}nt=h.return}return S=G5,G5=!1,S}function vc(h,p,S){var C=p.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var R=C=C.next;do{if((R.tag&h)===h){var G=R.destroy;R.destroy=void 0,G!==void 0&&j2(p,S,G)}R=R.next}while(R!==C)}}function Gp(h,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var S=p=p.next;do{if((S.tag&h)===h){var C=S.create;S.destroy=C()}S=S.next}while(S!==p)}}function V2(h){var p=h.ref;if(p!==null){var S=h.stateNode;switch(h.tag){case 5:h=k(S);break;default:h=S}typeof p=="function"?p(h):p.current=h}}function H5(h,p,S){if(Qo&&typeof Qo.onCommitFiberUnmount=="function")try{Qo.onCommitFiberUnmount(av,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(h=p.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var C=h=h.next;do{var R=C,G=R.destroy;R=R.tag,G!==void 0&&((R&2)!==0||(R&4)!==0)&&j2(p,S,G),C=C.next}while(C!==h)}break;case 1:if(Bv(p,S),h=p.stateNode,typeof h.componentWillUnmount=="function")try{h.props=p.memoizedProps,h.state=p.memoizedState,h.componentWillUnmount()}catch(Z){Ji(p,S,Z)}break;case 5:Bv(p,S);break;case 4:Ee?J5(h,p,S):ae&&ae&&(p=p.stateNode.containerInfo,S=rt(p),zt(p,S))}}function j5(h,p,S){for(var C=p;;)if(H5(h,C,S),C.child===null||Ee&&C.tag===4){if(C===p)break;for(;C.sibling===null;){if(C.return===null||C.return===p)return;C=C.return}C.sibling.return=C.return,C=C.sibling}else C.child.return=C,C=C.child}function V5(h){var p=h.alternate;p!==null&&(h.alternate=null,V5(p)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(p=h.stateNode,p!==null&&$e(p)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function W5(h){return h.tag===5||h.tag===3||h.tag===4}function q5(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||W5(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function K5(h){if(Ee){e:{for(var p=h.return;p!==null;){if(W5(p))break e;p=p.return}throw Error(o(160))}var S=p;switch(S.tag){case 5:p=S.stateNode,S.flags&32&&(lt(p),S.flags&=-33),S=q5(h),q2(h,S,p);break;case 3:case 4:p=S.stateNode.containerInfo,S=q5(h),W2(h,S,p);break;default:throw Error(o(161))}}}function W2(h,p,S){var C=h.tag;if(C===5||C===6)h=h.stateNode,p?Ue(S,h,p):Oe(S,h);else if(C!==4&&(h=h.child,h!==null))for(W2(h,p,S),h=h.sibling;h!==null;)W2(h,p,S),h=h.sibling}function q2(h,p,S){var C=h.tag;if(C===5||C===6)h=h.stateNode,p?ge(S,h,p):Qe(S,h);else if(C!==4&&(h=h.child,h!==null))for(q2(h,p,S),h=h.sibling;h!==null;)q2(h,p,S),h=h.sibling}function J5(h,p,S){for(var C=p,R=!1,G,Z;;){if(!R){R=C.return;e:for(;;){if(R===null)throw Error(o(160));switch(G=R.stateNode,R.tag){case 5:Z=!1;break e;case 3:G=G.containerInfo,Z=!0;break e;case 4:G=G.containerInfo,Z=!0;break e}R=R.return}R=!0}if(C.tag===5||C.tag===6)j5(h,C,S),Z?je(G,C.stateNode):De(G,C.stateNode);else if(C.tag===18)Z?sn(G,C.stateNode):It(G,C.stateNode);else if(C.tag===4){if(C.child!==null){G=C.stateNode.containerInfo,Z=!0,C.child.return=C,C=C.child;continue}}else if(H5(h,C,S),C.child!==null){C.child.return=C,C=C.child;continue}if(C===p)break;for(;C.sibling===null;){if(C.return===null||C.return===p)return;C=C.return,C.tag===4&&(R=!1)}C.sibling.return=C.return,C=C.sibling}}function K2(h,p){if(Ee){switch(p.tag){case 0:case 11:case 14:case 15:vc(3,p,p.return),Gp(3,p),vc(5,p,p.return);return;case 1:return;case 5:var S=p.stateNode;if(S!=null){var C=p.memoizedProps;h=h!==null?h.memoizedProps:C;var R=p.type,G=p.updateQueue;p.updateQueue=null,G!==null&&ee(S,G,R,h,C,p)}return;case 6:if(p.stateNode===null)throw Error(o(162));S=p.memoizedProps,be(p.stateNode,h!==null?h.memoizedProps:S,S);return;case 3:me&&h!==null&&h.memoizedState.isDehydrated&&Pt(p.stateNode.containerInfo);return;case 12:return;case 13:kv(p);return;case 19:kv(p);return;case 17:return}throw Error(o(163))}switch(p.tag){case 0:case 11:case 14:case 15:vc(3,p,p.return),Gp(3,p),vc(5,p,p.return);return;case 12:return;case 13:kv(p);return;case 19:kv(p);return;case 3:me&&h!==null&&h.memoizedState.isDehydrated&&Pt(p.stateNode.containerInfo);break;case 22:case 23:return}e:if(ae){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,zt(p.containerInfo,p.pendingChildren);break e}throw Error(o(163))}}function kv(h){var p=h.updateQueue;if(p!==null){h.updateQueue=null;var S=h.stateNode;S===null&&(S=h.stateNode=new zj),p.forEach(function(C){var R=Yj.bind(null,h,C);S.has(C)||(S.add(C),C.then(R,R))})}}function Hj(h,p){for(nt=p;nt!==null;){p=nt;var S=p.deletions;if(S!==null)for(var C=0;C<S.length;C++){var R=S[C];try{var G=h;Ee?J5(G,R,p):j5(G,R,p);var Z=R.alternate;Z!==null&&(Z.return=null),R.return=null}catch(xt){Ji(R,p,xt)}}if(S=p.child,(p.subtreeFlags&12854)!==0&&S!==null)S.return=p,nt=S;else for(;nt!==null;){p=nt;try{var de=p.flags;if(de&32&&Ee&&lt(p.stateNode),de&512){var Le=p.alternate;if(Le!==null){var Xe=Le.ref;Xe!==null&&(typeof Xe=="function"?Xe(null):Xe.current=null)}}if(de&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var ft=p.alternate;(ft===null||ft.memoizedState===null)&&(e_=zr())}break;case 22:var Nt=p.memoizedState!==null,St=p.alternate,Mn=St!==null&&St.memoizedState!==null;if(S=p,Ee){e:if(C=S,R=Nt,G=null,Ee)for(var bt=C;;){if(bt.tag===5){if(G===null){G=bt;var vi=bt.stateNode;R?ht(vi):Ae(bt.stateNode,bt.memoizedProps)}}else if(bt.tag===6){if(G===null){var Ks=bt.stateNode;R?re(Ks):Be(Ks,bt.memoizedProps)}}else if((bt.tag!==22&&bt.tag!==23||bt.memoizedState===null||bt===C)&&bt.child!==null){bt.child.return=bt,bt=bt.child;continue}if(bt===C)break;for(;bt.sibling===null;){if(bt.return===null||bt.return===C)break e;G===bt&&(G=null),bt=bt.return}G===bt&&(G=null),bt.sibling.return=bt.return,bt=bt.sibling}}if(Nt&&!Mn&&(S.mode&1)!==0){nt=S;for(var _e=S.child;_e!==null;){for(S=nt=_e;nt!==null;){C=nt;var pe=C.child;switch(C.tag){case 0:case 11:case 14:case 15:vc(4,C,C.return);break;case 1:Bv(C,C.return);var Ie=C.stateNode;if(typeof Ie.componentWillUnmount=="function"){var it=C.return;try{Ie.props=C.memoizedProps,Ie.state=C.memoizedState,Ie.componentWillUnmount()}catch(xt){Ji(C,it,xt)}}break;case 5:Bv(C,C.return);break;case 22:if(C.memoizedState!==null){Y5(S);continue}}pe!==null?(pe.return=C,nt=pe):Y5(S)}_e=_e.sibling}}}switch(de&4102){case 2:K5(p),p.flags&=-3;break;case 6:K5(p),p.flags&=-3,K2(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,K2(p.alternate,p);break;case 4:K2(p.alternate,p)}}catch(xt){Ji(p,p.return,xt)}if(S=p.sibling,S!==null){S.return=p.return,nt=S;break}nt=p.return}}}function jj(h,p,S){nt=h,$5(h)}function $5(h,p,S){for(var C=(h.mode&1)!==0;nt!==null;){var R=nt,G=R.child;if(R.tag===22&&C){var Z=R.memoizedState!==null||Rv;if(!Z){var de=R.alternate,Le=de!==null&&de.memoizedState!==null||gc;de=Rv;var Xe=gc;if(Rv=Z,(gc=Le)&&!Xe)for(nt=R;nt!==null;)Z=nt,Le=Z.child,Z.tag===22&&Z.memoizedState!==null?Q5(R):Le!==null?(Le.return=Z,nt=Le):Q5(R);for(;G!==null;)nt=G,$5(G),G=G.sibling;nt=R,Rv=de,gc=Xe}X5(h)}else(R.subtreeFlags&8772)!==0&&G!==null?(G.return=R,nt=G):X5(h)}}function X5(h){for(;nt!==null;){var p=nt;if((p.flags&8772)!==0){var S=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:gc||Gp(5,p);break;case 1:var C=p.stateNode;if(p.flags&4&&!gc)if(S===null)C.componentDidMount();else{var R=p.elementType===p.type?S.memoizedProps:yo(p.type,S.memoizedProps);C.componentDidUpdate(R,S.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var G=p.updateQueue;G!==null&&V4(p,G,C);break;case 3:var Z=p.updateQueue;if(Z!==null){if(S=null,p.child!==null)switch(p.child.tag){case 5:S=k(p.child.stateNode);break;case 1:S=p.child.stateNode}V4(p,Z,S)}break;case 5:var de=p.stateNode;S===null&&p.flags&4&&Ye(de,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(me&&p.memoizedState===null){var Le=p.alternate;if(Le!==null){var Xe=Le.memoizedState;if(Xe!==null){var ft=Xe.dehydrated;ft!==null&&Et(ft)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}gc||p.flags&512&&V2(p)}catch(Nt){Ji(p,p.return,Nt)}}if(p===h){nt=null;break}if(S=p.sibling,S!==null){S.return=p.return,nt=S;break}nt=p.return}}function Y5(h){for(;nt!==null;){var p=nt;if(p===h){nt=null;break}var S=p.sibling;if(S!==null){S.return=p.return,nt=S;break}nt=p.return}}function Q5(h){for(;nt!==null;){var p=nt;try{switch(p.tag){case 0:case 11:case 15:var S=p.return;try{Gp(4,p)}catch(Le){Ji(p,S,Le)}break;case 1:var C=p.stateNode;if(typeof C.componentDidMount=="function"){var R=p.return;try{C.componentDidMount()}catch(Le){Ji(p,R,Le)}}var G=p.return;try{V2(p)}catch(Le){Ji(p,G,Le)}break;case 5:var Z=p.return;try{V2(p)}catch(Le){Ji(p,Z,Le)}}}catch(Le){Ji(p,p.return,Le)}if(p===h){nt=null;break}var de=p.sibling;if(de!==null){de.return=p.return,nt=de;break}nt=p.return}}var Nv=0,Lv=1,Dv=2,Ov=3,Fv=4;if(typeof Symbol=="function"&&Symbol.for){var Hp=Symbol.for;Nv=Hp("selector.component"),Lv=Hp("selector.has_pseudo_class"),Dv=Hp("selector.role"),Ov=Hp("selector.test_id"),Fv=Hp("selector.text")}function J2(h){var p=xe(h);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(o(364));return p}if(h=ze(h),h===null)throw Error(o(362));return h.stateNode.current}function $2(h,p){switch(p.$$typeof){case Nv:if(h.type===p.value)return!0;break;case Lv:e:{p=p.value,h=[h,0];for(var S=0;S<h.length;){var C=h[S++],R=h[S++],G=p[R];if(C.tag!==5||!le(C)){for(;G!=null&&$2(C,G);)R++,G=p[R];if(R===p.length){p=!0;break e}else for(C=C.child;C!==null;)h.push(C,R),C=C.sibling}}p=!1}return p;case Dv:if(h.tag===5&&Re(h.stateNode,p.value))return!0;break;case Fv:if((h.tag===5||h.tag===6)&&(h=W(h),h!==null&&0<=h.indexOf(p.value)))return!0;break;case Ov:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function X2(h){switch(h.$$typeof){case Nv:return"<"+(D(h.value)||"Unknown")+">";case Lv:return":has("+(X2(h)||"")+")";case Dv:return'[role="'+h.value+'"]';case Fv:return'"'+h.value+'"';case Ov:return'[data-testname="'+h.value+'"]';default:throw Error(o(365))}}function Z5(h,p){var S=[];h=[h,0];for(var C=0;C<h.length;){var R=h[C++],G=h[C++],Z=p[G];if(R.tag!==5||!le(R)){for(;Z!=null&&$2(R,Z);)G++,Z=p[G];if(G===p.length)S.push(R);else for(R=R.child;R!==null;)h.push(R,G),R=R.sibling}}return S}function Y2(h,p){if(!Ce)throw Error(o(363));h=J2(h),h=Z5(h,p),p=[],h=Array.from(h);for(var S=0;S<h.length;){var C=h[S++];if(C.tag===5)le(C)||p.push(C.stateNode);else for(C=C.child;C!==null;)h.push(C),C=C.sibling}return p}var Vj=Math.ceil,Uv=a.ReactCurrentDispatcher,Q2=a.ReactCurrentOwner,lr=a.ReactCurrentBatchConfig,Vt=0,yr=null,xr=null,Jr=0,ps=0,id=di(0),Mr=0,jp=null,sd=0,zv=0,Z2=0,Vp=null,qi=null,e_=0,t_=1/0;function od(){t_=zr()+500}var Gv=!1,n_=null,Jl=null,Hv=!1,$l=null,jv=0,Wp=0,r_=null,Vv=-1,Wv=0;function Ii(){return(Vt&6)!==0?zr():Vv!==-1?Vv:Vv=zr()}function Xl(h){return(h.mode&1)===0?1:(Vt&2)!==0&&Jr!==0?Jr&-Jr:Cj.transition!==null?(Wv===0&&(h=iv,iv<<=1,(iv&4194240)===0&&(iv=64),Wv=h),Wv):(h=dn,h!==0?h:He())}function Ws(h,p,S){if(50<Wp)throw Wp=0,r_=null,Error(o(185));var C=qv(h,p);return C===null?null:(Tp(C,p,S),((Vt&2)===0||C!==yr)&&(C===yr&&((Vt&2)===0&&(zv|=p),Mr===4&&Yl(C,Jr)),Ki(C,S),p===1&&Vt===0&&(h.mode&1)===0&&(od(),lv&&ea())),C)}function qv(h,p){h.lanes|=p;var S=h.alternate;for(S!==null&&(S.lanes|=p),S=h,h=h.return;h!==null;)h.childLanes|=p,S=h.alternate,S!==null&&(S.childLanes|=p),S=h,h=h.return;return S.tag===3?S.stateNode:null}function Ki(h,p){var S=h.callbackNode;vj(h,p);var C=ov(h,h===yr?Jr:0);if(C===0)S!==null&&U4(S),h.callbackNode=null,h.callbackPriority=0;else if(p=C&-C,h.callbackPriority!==p){if(S!=null&&U4(S),p===1)h.tag===0?Ej(tP.bind(null,h)):z4(tP.bind(null,h)),ue?we(function(){Vt===0&&ea()}):f2(d2,ea),S=null;else{switch(F4(C)){case 1:S=d2;break;case 4:S=wj;break;case 16:S=h2;break;case 536870912:S=_j;break;default:S=h2}S=cP(S,eP.bind(null,h))}h.callbackPriority=p,h.callbackNode=S}}function eP(h,p){if(Vv=-1,Wv=0,(Vt&6)!==0)throw Error(o(327));var S=h.callbackNode;if(bc()&&h.callbackNode!==S)return null;var C=ov(h,h===yr?Jr:0);if(C===0)return null;if((C&30)!==0||(C&h.expiredLanes)!==0||p)p=Kv(h,C);else{p=C;var R=Vt;Vt|=2;var G=iP();(yr!==h||Jr!==p)&&(od(),yc(h,p));do try{Kj();break}catch(de){rP(h,de)}while(1);g2(),Uv.current=G,Vt=R,xr!==null?p=0:(yr=null,Jr=0,p=Mr)}if(p!==0){if(p===2&&(R=l2(h),R!==0&&(C=R,p=i_(h,R))),p===1)throw S=jp,yc(h,0),Yl(h,C),Ki(h,zr()),S;if(p===6)Yl(h,C);else{if(R=h.current.alternate,(C&30)===0&&!Wj(R)&&(p=Kv(h,C),p===2&&(G=l2(h),G!==0&&(C=G,p=i_(h,G))),p===1))throw S=jp,yc(h,0),Yl(h,C),Ki(h,zr()),S;switch(h.finishedWork=R,h.finishedLanes=C,p){case 0:case 1:throw Error(o(345));case 2:xc(h,qi);break;case 3:if(Yl(h,C),(C&130023424)===C&&(p=e_+500-zr(),10<p)){if(ov(h,0)!==0)break;if(R=h.suspendedLanes,(R&C)!==C){Ii(),h.pingedLanes|=h.suspendedLanes&R;break}h.timeoutHandle=oe(xc.bind(null,h,qi),p);break}xc(h,qi);break;case 4:if(Yl(h,C),(C&4194240)===C)break;for(p=h.eventTimes,R=-1;0<C;){var Z=31-vo(C);G=1<<Z,Z=p[Z],Z>R&&(R=Z),C&=~G}if(C=R,C=zr()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*Vj(C/1960))-C,10<C){h.timeoutHandle=oe(xc.bind(null,h,qi),C);break}xc(h,qi);break;case 5:xc(h,qi);break;default:throw Error(o(329))}}}return Ki(h,zr()),h.callbackNode===S?eP.bind(null,h):null}function i_(h,p){var S=Vp;return h.current.memoizedState.isDehydrated&&(yc(h,p).flags|=256),h=Kv(h,p),h!==2&&(p=qi,qi=S,p!==null&&s_(p)),h}function s_(h){qi===null?qi=h:qi.push.apply(qi,h)}function Wj(h){for(var p=h;;){if(p.flags&16384){var S=p.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var C=0;C<S.length;C++){var R=S[C],G=R.getSnapshot;R=R.value;try{if(!Zo(G(),R))return!1}catch{return!1}}}if(S=p.child,p.subtreeFlags&16384&&S!==null)S.return=p,p=S;else{if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Yl(h,p){for(p&=~Z2,p&=~zv,h.suspendedLanes|=p,h.pingedLanes&=~p,h=h.expirationTimes;0<p;){var S=31-vo(p),C=1<<S;h[S]=-1,p&=~C}}function tP(h){if((Vt&6)!==0)throw Error(o(327));bc();var p=ov(h,0);if((p&1)===0)return Ki(h,zr()),null;var S=Kv(h,p);if(h.tag!==0&&S===2){var C=l2(h);C!==0&&(p=C,S=i_(h,C))}if(S===1)throw S=jp,yc(h,0),Yl(h,p),Ki(h,zr()),S;if(S===6)throw Error(o(345));return h.finishedWork=h.current.alternate,h.finishedLanes=p,xc(h,qi),Ki(h,zr()),null}function nP(h){$l!==null&&$l.tag===0&&(Vt&6)===0&&bc();var p=Vt;Vt|=1;var S=lr.transition,C=dn;try{if(lr.transition=null,dn=1,h)return h()}finally{dn=C,lr.transition=S,Vt=p,(Vt&6)===0&&ea()}}function o_(){ps=id.current,Mt(id)}function yc(h,p){h.finishedWork=null,h.finishedLanes=0;var S=h.timeoutHandle;if(S!==fe&&(h.timeoutHandle=fe,ie(S)),xr!==null)for(S=xr.return;S!==null;){var C=S;switch(A2(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&nv();break;case 3:nd(),Mt(Ur),Mt(tn),I2();break;case 5:T2(C);break;case 4:nd();break;case 13:Mt(Vn);break;case 19:Mt(Vn);break;case 10:v2(C.type._context);break;case 22:case 23:o_()}S=S.return}if(yr=h,xr=h=Ql(h.current,null),Jr=ps=p,Mr=0,jp=null,Z2=zv=sd=0,qi=Vp=null,ta!==null){for(p=0;p<ta.length;p++)if(S=ta[p],C=S.interleaved,C!==null){S.interleaved=null;var R=C.next,G=S.pending;if(G!==null){var Z=G.next;G.next=R,C.next=Z}S.pending=C}ta=null}return h}function rP(h,p){do{var S=xr;try{if(g2(),xv.current=Ev,bv){for(var C=Zn.memoizedState;C!==null;){var R=C.queue;R!==null&&(R.pending=null),C=C.next}bv=!1}if(rd=0,Gr=pi=Zn=null,Np=!1,Lp=0,Q2.current=null,S===null||S.return===null){Mr=1,jp=p,xr=null;break}e:{var G=h,Z=S.return,de=S,Le=p;if(p=Jr,de.flags|=32768,Le!==null&&typeof Le=="object"&&typeof Le.then=="function"){var Xe=Le,ft=de,Nt=ft.tag;if((ft.mode&1)===0&&(Nt===0||Nt===11||Nt===15)){var St=ft.alternate;St?(ft.updateQueue=St.updateQueue,ft.memoizedState=St.memoizedState,ft.lanes=St.lanes):(ft.updateQueue=null,ft.memoizedState=null)}var Mn=S5(Z);if(Mn!==null){Mn.flags&=-257,E5(Mn,Z,de,G,p),Mn.mode&1&&A5(G,Xe,p),p=Mn,Le=Xe;var bt=p.updateQueue;if(bt===null){var vi=new Set;vi.add(Le),p.updateQueue=vi}else bt.add(Le);break e}else{if((p&1)===0){A5(G,Xe,p),a_();break e}Le=Error(o(426))}}else if(Un&&de.mode&1){var Ks=S5(Z);if(Ks!==null){(Ks.flags&65536)===0&&(Ks.flags|=256),E5(Ks,Z,de,G,p),C2(Le);break e}}G=Le,Mr!==4&&(Mr=2),Vp===null?Vp=[G]:Vp.push(G),Le=O2(Le,de),de=Z;do{switch(de.tag){case 3:de.flags|=65536,p&=-p,de.lanes|=p;var _e=w5(de,Le,p);j4(de,_e);break e;case 1:G=Le;var pe=de.type,Ie=de.stateNode;if((de.flags&128)===0&&(typeof pe.getDerivedStateFromError=="function"||Ie!==null&&typeof Ie.componentDidCatch=="function"&&(Jl===null||!Jl.has(Ie)))){de.flags|=65536,p&=-p,de.lanes|=p;var it=_5(de,G,p);j4(de,it);break e}}de=de.return}while(de!==null)}oP(S)}catch(xt){p=xt,xr===S&&S!==null&&(xr=S=S.return);continue}break}while(1)}function iP(){var h=Uv.current;return Uv.current=Ev,h===null?Ev:h}function a_(){(Mr===0||Mr===3||Mr===2)&&(Mr=4),yr===null||(sd&268435455)===0&&(zv&268435455)===0||Yl(yr,Jr)}function Kv(h,p){var S=Vt;Vt|=2;var C=iP();yr===h&&Jr===p||yc(h,p);do try{qj();break}catch(R){rP(h,R)}while(1);if(g2(),Vt=S,Uv.current=C,xr!==null)throw Error(o(261));return yr=null,Jr=0,Mr}function qj(){for(;xr!==null;)sP(xr)}function Kj(){for(;xr!==null&&!xj();)sP(xr)}function sP(h){var p=uP(h.alternate,h,ps);h.memoizedProps=h.pendingProps,p===null?oP(h):xr=p,Q2.current=null}function oP(h){var p=h;do{var S=p.alternate;if(h=p.return,(p.flags&32768)===0){if(S=Dj(S,p,ps),S!==null){xr=S;return}}else{if(S=Uj(S,p),S!==null){S.flags&=32767,xr=S;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Mr=6,xr=null;return}}if(p=p.sibling,p!==null){xr=p;return}xr=p=h}while(p!==null);Mr===0&&(Mr=5)}function xc(h,p){var S=dn,C=lr.transition;try{lr.transition=null,dn=1,Jj(h,p,S)}finally{lr.transition=C,dn=S}return null}function Jj(h,p,S){do bc();while($l!==null);if((Vt&6)!==0)throw Error(o(327));var C=h.finishedWork,R=h.finishedLanes;if(C===null)return null;if(h.finishedWork=null,h.finishedLanes=0,C===h.current)throw Error(o(177));h.callbackNode=null,h.callbackPriority=0;var G=C.lanes|C.childLanes;if(yj(h,G),h===yr&&(xr=yr=null,Jr=0),(C.subtreeFlags&2064)===0&&(C.flags&2064)===0||Hv||(Hv=!0,cP(h2,function(){return bc(),null})),G=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||G){G=lr.transition,lr.transition=null;var Z=dn;dn=1;var de=Vt;Vt|=4,Q2.current=null,Gj(h,C),Hj(h,C),z(h.containerInfo),h.current=C,jj(C),bj(),Vt=de,dn=Z,lr.transition=G}else h.current=C;if(Hv&&(Hv=!1,$l=h,jv=R),G=h.pendingLanes,G===0&&(Jl=null),Aj(C.stateNode),Ki(h,zr()),p!==null)for(S=h.onRecoverableError,C=0;C<p.length;C++)S(p[C]);if(Gv)throw Gv=!1,h=n_,n_=null,h;return(jv&1)!==0&&h.tag!==0&&bc(),G=h.pendingLanes,(G&1)!==0?h===r_?Wp++:(Wp=0,r_=h):Wp=0,ea(),null}function bc(){if($l!==null){var h=F4(jv),p=lr.transition,S=dn;try{if(lr.transition=null,dn=16>h?16:h,$l===null)var C=!1;else{if(h=$l,$l=null,jv=0,(Vt&6)!==0)throw Error(o(331));var R=Vt;for(Vt|=4,nt=h.current;nt!==null;){var G=nt,Z=G.child;if((nt.flags&16)!==0){var de=G.deletions;if(de!==null){for(var Le=0;Le<de.length;Le++){var Xe=de[Le];for(nt=Xe;nt!==null;){var ft=nt;switch(ft.tag){case 0:case 11:case 15:vc(8,ft,G)}var Nt=ft.child;if(Nt!==null)Nt.return=ft,nt=Nt;else for(;nt!==null;){ft=nt;var St=ft.sibling,Mn=ft.return;if(V5(ft),ft===Xe){nt=null;break}if(St!==null){St.return=Mn,nt=St;break}nt=Mn}}}var bt=G.alternate;if(bt!==null){var vi=bt.child;if(vi!==null){bt.child=null;do{var Ks=vi.sibling;vi.sibling=null,vi=Ks}while(vi!==null)}}nt=G}}if((G.subtreeFlags&2064)!==0&&Z!==null)Z.return=G,nt=Z;else e:for(;nt!==null;){if(G=nt,(G.flags&2048)!==0)switch(G.tag){case 0:case 11:case 15:vc(9,G,G.return)}var _e=G.sibling;if(_e!==null){_e.return=G.return,nt=_e;break e}nt=G.return}}var pe=h.current;for(nt=pe;nt!==null;){Z=nt;var Ie=Z.child;if((Z.subtreeFlags&2064)!==0&&Ie!==null)Ie.return=Z,nt=Ie;else e:for(Z=pe;nt!==null;){if(de=nt,(de.flags&2048)!==0)try{switch(de.tag){case 0:case 11:case 15:Gp(9,de)}}catch(xt){Ji(de,de.return,xt)}if(de===Z){nt=null;break e}var it=de.sibling;if(it!==null){it.return=de.return,nt=it;break e}nt=de.return}}if(Vt=R,ea(),Qo&&typeof Qo.onPostCommitFiberRoot=="function")try{Qo.onPostCommitFiberRoot(av,h)}catch{}C=!0}return C}finally{dn=S,lr.transition=p}}return!1}function aP(h,p,S){p=O2(S,p),p=w5(h,p,1),Kl(h,p),p=Ii(),h=qv(h,1),h!==null&&(Tp(h,1,p),Ki(h,p))}function Ji(h,p,S){if(h.tag===3)aP(h,h,S);else for(;p!==null;){if(p.tag===3){aP(p,h,S);break}else if(p.tag===1){var C=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Jl===null||!Jl.has(C))){h=O2(S,h),h=_5(p,h,1),Kl(p,h),h=Ii(),p=qv(p,1),p!==null&&(Tp(p,1,h),Ki(p,h));break}}p=p.return}}function $j(h,p,S){var C=h.pingCache;C!==null&&C.delete(p),p=Ii(),h.pingedLanes|=h.suspendedLanes&S,yr===h&&(Jr&S)===S&&(Mr===4||Mr===3&&(Jr&130023424)===Jr&&500>zr()-e_?yc(h,0):Z2|=S),Ki(h,p)}function lP(h,p){p===0&&((h.mode&1)===0?p=1:(p=sv,sv<<=1,(sv&130023424)===0&&(sv=4194304)));var S=Ii();h=qv(h,p),h!==null&&(Tp(h,p,S),Ki(h,S))}function Xj(h){var p=h.memoizedState,S=0;p!==null&&(S=p.retryLane),lP(h,S)}function Yj(h,p){var S=0;switch(h.tag){case 13:var C=h.stateNode,R=h.memoizedState;R!==null&&(S=R.retryLane);break;case 19:C=h.stateNode;break;default:throw Error(o(314))}C!==null&&C.delete(p),lP(h,S)}var uP;uP=function(h,p,S){if(h!==null)if(h.memoizedProps!==p.pendingProps||Ur.current)hs=!0;else{if((h.lanes&S)===0&&(p.flags&128)===0)return hs=!1,Fj(h,p,S);hs=(h.flags&131072)!==0}else hs=!1,Un&&(p.flags&1048576)!==0&&$4(p,gv,p.index);switch(p.lanes=0,p.tag){case 2:var C=p.type;h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps;var R=Ua(p,tn.current);Xf(p,S),R=B2(null,p,C,h,R,S);var G=k2();return p.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Wi(C)?(G=!0,rv(p)):G=!1,p.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,x2(p),R.updater=pv,p.stateNode=R,R._reactInternals=p,w2(p,C,h,S),p=z2(null,p,C,!0,G,S)):(p.tag=0,Un&&G&&_2(p),Pi(null,p,R,S),p=p.child),p;case 16:C=p.elementType;e:{switch(h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps,R=C._init,C=R(C._payload),p.type=C,R=p.tag=Zj(C),h=yo(C,h),R){case 0:p=U2(null,p,C,h,S);break e;case 1:p=k5(null,p,C,h,S);break e;case 11:p=T5(null,p,C,h,S);break e;case 14:p=P5(null,p,C,yo(C.type,h),S);break e}throw Error(o(306,C,""))}return p;case 0:return C=p.type,R=p.pendingProps,R=p.elementType===C?R:yo(C,R),U2(h,p,C,R,S);case 1:return C=p.type,R=p.pendingProps,R=p.elementType===C?R:yo(C,R),k5(h,p,C,R,S);case 3:e:{if(N5(p),h===null)throw Error(o(387));C=p.pendingProps,G=p.memoizedState,R=G.element,H4(h,p),hv(p,C,null,S);var Z=p.memoizedState;if(C=Z.element,me&&G.isDehydrated)if(G={element:C,isDehydrated:!1,cache:Z.cache,transitions:Z.transitions},p.updateQueue.baseState=G,p.memoizedState=G,p.flags&256){R=Error(o(423)),p=L5(h,p,C,S,R);break e}else if(C!==R){R=Error(o(424)),p=L5(h,p,C,S,R);break e}else for(me&&(ds=ve(p.stateNode.containerInfo),fs=p,Un=!0,xo=null,Pp=!1),S=t5(p,null,C,S),p.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(Zf(),C===R){p=Wa(h,p,S);break e}Pi(h,p,C,S)}p=p.child}return p;case 5:return n5(p),h===null&&E2(p),C=p.type,R=p.pendingProps,G=h!==null?h.memoizedProps:null,Z=R.children,N(C,R)?Z=null:G!==null&&N(C,G)&&(p.flags|=32),B5(h,p),Pi(h,p,Z,S),p.child;case 6:return h===null&&E2(p),null;case 13:return D5(h,p,S);case 4:return M2(p,p.stateNode.containerInfo),C=p.pendingProps,h===null?p.child=ed(p,null,C,S):Pi(h,p,C,S),p.child;case 11:return C=p.type,R=p.pendingProps,R=p.elementType===C?R:yo(C,R),T5(h,p,C,R,S);case 7:return Pi(h,p,p.pendingProps,S),p.child;case 8:return Pi(h,p,p.pendingProps.children,S),p.child;case 12:return Pi(h,p,p.pendingProps.children,S),p.child;case 10:e:{if(C=p.type._context,R=p.pendingProps,G=p.memoizedProps,Z=R.value,G4(p,C,Z),G!==null)if(Zo(G.value,Z)){if(G.children===R.children&&!Ur.current){p=Wa(h,p,S);break e}}else for(G=p.child,G!==null&&(G.return=p);G!==null;){var de=G.dependencies;if(de!==null){Z=G.child;for(var Le=de.firstContext;Le!==null;){if(Le.context===C){if(G.tag===1){Le=Ga(-1,S&-S),Le.tag=2;var Xe=G.updateQueue;if(Xe!==null){Xe=Xe.shared;var ft=Xe.pending;ft===null?Le.next=Le:(Le.next=ft.next,ft.next=Le),Xe.pending=Le}}G.lanes|=S,Le=G.alternate,Le!==null&&(Le.lanes|=S),y2(G.return,S,p),de.lanes|=S;break}Le=Le.next}}else if(G.tag===10)Z=G.type===p.type?null:G.child;else if(G.tag===18){if(Z=G.return,Z===null)throw Error(o(341));Z.lanes|=S,de=Z.alternate,de!==null&&(de.lanes|=S),y2(Z,S,p),Z=G.sibling}else Z=G.child;if(Z!==null)Z.return=G;else for(Z=G;Z!==null;){if(Z===p){Z=null;break}if(G=Z.sibling,G!==null){G.return=Z.return,Z=G;break}Z=Z.return}G=Z}Pi(h,p,R.children,S),p=p.child}return p;case 9:return R=p.type,C=p.pendingProps.children,Xf(p,S),R=zs(R),C=C(R),p.flags|=1,Pi(h,p,C,S),p.child;case 14:return C=p.type,R=yo(C,p.pendingProps),R=yo(C.type,R),P5(h,p,C,R,S);case 15:return I5(h,p,p.type,p.pendingProps,S);case 17:return C=p.type,R=p.pendingProps,R=p.elementType===C?R:yo(C,R),h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,Wi(C)?(h=!0,rv(p)):h=!1,Xf(p,S),K4(p,C,R),w2(p,C,R,S),z2(null,p,C,!0,h,S);case 19:return z5(h,p,S);case 22:return R5(h,p,S)}throw Error(o(156,p.tag))};function cP(h,p){return f2(h,p)}function Qj(h,p,S,C){this.tag=h,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qs(h,p,S,C){return new Qj(h,p,S,C)}function l_(h){return h=h.prototype,!(!h||!h.isReactComponent)}function Zj(h){if(typeof h=="function")return l_(h)?1:0;if(h!=null){if(h=h.$$typeof,h===g)return 11;if(h===w)return 14}return 2}function Ql(h,p){var S=h.alternate;return S===null?(S=qs(h.tag,p,h.key,h.mode),S.elementType=h.elementType,S.type=h.type,S.stateNode=h.stateNode,S.alternate=h,h.alternate=S):(S.pendingProps=p,S.type=h.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=h.flags&14680064,S.childLanes=h.childLanes,S.lanes=h.lanes,S.child=h.child,S.memoizedProps=h.memoizedProps,S.memoizedState=h.memoizedState,S.updateQueue=h.updateQueue,p=h.dependencies,S.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},S.sibling=h.sibling,S.index=h.index,S.ref=h.ref,S}function Jv(h,p,S,C,R,G){var Z=2;if(C=h,typeof h=="function")l_(h)&&(Z=1);else if(typeof h=="string")Z=5;else e:switch(h){case c:return wc(S.children,R,G,p);case f:Z=8,R|=8;break;case d:return h=qs(12,S,p,R|2),h.elementType=d,h.lanes=G,h;case v:return h=qs(13,S,p,R),h.elementType=v,h.lanes=G,h;case x:return h=qs(19,S,p,R),h.elementType=x,h.lanes=G,h;case A:return $v(S,R,G,p);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case m:Z=10;break e;case y:Z=9;break e;case g:Z=11;break e;case w:Z=14;break e;case b:Z=16,C=null;break e}throw Error(o(130,h==null?h:typeof h,""))}return p=qs(Z,S,p,R),p.elementType=h,p.type=C,p.lanes=G,p}function wc(h,p,S,C){return h=qs(7,h,C,p),h.lanes=S,h}function $v(h,p,S,C){return h=qs(22,h,C,p),h.elementType=A,h.lanes=S,h.stateNode={},h}function u_(h,p,S){return h=qs(6,h,null,p),h.lanes=S,h}function c_(h,p,S){return p=qs(4,h.children!==null?h.children:[],h.key,p),p.lanes=S,p.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},p}function eV(h,p,S,C,R){this.tag=p,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=fe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=u2(0),this.expirationTimes=u2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=u2(0),this.identifierPrefix=C,this.onRecoverableError=R,me&&(this.mutableSourceEagerHydrationData=null)}function fP(h,p,S,C,R,G,Z,de,Le){return h=new eV(h,p,S,de,Le),p===1?(p=1,G===!0&&(p|=8)):p=0,G=qs(3,null,null,p),h.current=G,G.stateNode=h,G.memoizedState={element:C,isDehydrated:S,cache:null,transitions:null},x2(G),h}function dP(h){if(!h)return hi;h=h._reactInternals;e:{if(O(h)!==h||h.tag!==1)throw Error(o(170));var p=h;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Wi(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(o(171))}if(h.tag===1){var S=h.type;if(Wi(S))return D4(h,S,p)}return p}function hP(h){var p=h._reactInternals;if(p===void 0)throw typeof h.render=="function"?Error(o(188)):(h=Object.keys(h).join(","),Error(o(268,h)));return h=ne(p),h===null?null:h.stateNode}function pP(h,p){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var S=h.retryLane;h.retryLane=S!==0&&S<p?S:p}}function f_(h,p){pP(h,p),(h=h.alternate)&&pP(h,p)}function tV(h){return h=ne(h),h===null?null:h.stateNode}function nV(){return null}return t.attemptContinuousHydration=function(h){if(h.tag===13){var p=Ii();Ws(h,134217728,p),f_(h,134217728)}},t.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var p=Ii(),S=Xl(h);Ws(h,S,p),f_(h,S)}},t.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var p=h.stateNode;if(p.current.memoizedState.isDehydrated){var S=Mp(p.pendingLanes);S!==0&&(c2(p,S|1),Ki(p,zr()),(Vt&6)===0&&(od(),ea()))}break;case 13:var C=Ii();nP(function(){return Ws(h,1,C)}),f_(h,1)}},t.batchedUpdates=function(h,p){var S=Vt;Vt|=1;try{return h(p)}finally{Vt=S,Vt===0&&(od(),lv&&ea())}},t.createComponentSelector=function(h){return{$$typeof:Nv,value:h}},t.createContainer=function(h,p,S,C,R,G,Z){return fP(h,p,!1,null,S,C,R,G,Z)},t.createHasPseudoClassSelector=function(h){return{$$typeof:Lv,value:h}},t.createHydrationContainer=function(h,p,S,C,R,G,Z,de,Le){return h=fP(S,C,!0,h,R,G,Z,de,Le),h.context=dP(null),S=h.current,C=Ii(),R=Xl(S),G=Ga(C,R),G.callback=p??null,Kl(S,G),h.current.lanes=R,Tp(h,R,C),Ki(h,C),h},t.createPortal=function(h,p,S){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:C==null?null:""+C,children:h,containerInfo:p,implementation:S}},t.createRoleSelector=function(h){return{$$typeof:Dv,value:h}},t.createTestNameSelector=function(h){return{$$typeof:Ov,value:h}},t.createTextSelector=function(h){return{$$typeof:Fv,value:h}},t.deferredUpdates=function(h){var p=dn,S=lr.transition;try{return lr.transition=null,dn=16,h()}finally{dn=p,lr.transition=S}},t.discreteUpdates=function(h,p,S,C,R){var G=dn,Z=lr.transition;try{return lr.transition=null,dn=1,h(p,S,C,R)}finally{dn=G,lr.transition=Z,Vt===0&&od()}},t.findAllNodes=Y2,t.findBoundingRects=function(h,p){if(!Ce)throw Error(o(363));p=Y2(h,p),h=[];for(var S=0;S<p.length;S++)h.push($(p[S]));for(p=h.length-1;0<p;p--){S=h[p];for(var C=S.x,R=C+S.width,G=S.y,Z=G+S.height,de=p-1;0<=de;de--)if(p!==de){var Le=h[de],Xe=Le.x,ft=Xe+Le.width,Nt=Le.y,St=Nt+Le.height;if(C>=Xe&&G>=Nt&&R<=ft&&Z<=St){h.splice(p,1);break}else if(C!==Xe||S.width!==Le.width||St<G||Nt>Z){if(!(G!==Nt||S.height!==Le.height||ft<C||Xe>R)){Xe>C&&(Le.width+=Xe-C,Le.x=C),ft<R&&(Le.width=R-Xe),h.splice(p,1);break}}else{Nt>G&&(Le.height+=Nt-G,Le.y=G),St<Z&&(Le.height=Z-Nt),h.splice(p,1);break}}}return h},t.findHostInstance=hP,t.findHostInstanceWithNoPortals=function(h){return h=q(h),h=h!==null?_(h):null,h===null?null:h.stateNode},t.findHostInstanceWithWarning=function(h){return hP(h)},t.flushControlled=function(h){var p=Vt;Vt|=1;var S=lr.transition,C=dn;try{lr.transition=null,dn=1,h()}finally{dn=C,lr.transition=S,Vt=p,Vt===0&&(od(),ea())}},t.flushPassiveEffects=bc,t.flushSync=nP,t.focusWithin=function(h,p){if(!Ce)throw Error(o(363));for(h=J2(h),p=Z5(h,p),p=Array.from(p),h=0;h<p.length;){var S=p[h++];if(!le(S)){if(S.tag===5&&Te(S.stateNode))return!0;for(S=S.child;S!==null;)p.push(S),S=S.sibling}}return!1},t.getCurrentUpdatePriority=function(){return dn},t.getFindAllNodesFailureDescription=function(h,p){if(!Ce)throw Error(o(363));var S=0,C=[];h=[J2(h),0];for(var R=0;R<h.length;){var G=h[R++],Z=h[R++],de=p[Z];if((G.tag!==5||!le(G))&&($2(G,de)&&(C.push(X2(de)),Z++,Z>S&&(S=Z)),Z<p.length))for(G=G.child;G!==null;)h.push(G,Z),G=G.sibling}if(S<p.length){for(h=[];S<p.length;S++)h.push(X2(p[S]));return`findAllNodes was able to match part of the selector:
  `+(C.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},t.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return k(h.child.stateNode);default:return h.child.stateNode}},t.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:tV,findFiberByHostInstance:h.findFiberByHostInstance||nV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)h=!0;else{try{av=p.inject(h),Qo=p}catch{}h=!!p.checkDCE}}return h},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(h,p,S,C){if(!Ce)throw Error(o(363));h=Y2(h,p);var R=ke(h,S,C).disconnect;return{disconnect:function(){R()}}},t.registerMutableSourceForHydration=function(h,p){var S=p._getVersion;S=S(p._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[p,S]:h.mutableSourceEagerHydrationData.push(p,S)},t.runWithPriority=function(h,p){var S=dn;try{return dn=h,p()}finally{dn=S}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(h,p,S,C){var R=p.current,G=Ii(),Z=Xl(R);return S=dP(S),p.context===null?p.context=S:p.pendingContext=S,p=Ga(G,Z),p.payload={element:h},C=C===void 0?null:C,C!==null&&(p.callback=C),Kl(R,p),h=Ws(R,Z,G),h!==null&&dv(h,R,Z),Z},t};(function(n){n.exports=Ide})(vU);const Rde=JC(vU.exports);function xU(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}const ol=[];function bU(n,e,t=!1,r={}){for(const s of ol)if(xU(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,promise:n(...e).then(s=>i.response=s).then(()=>{r.lifespan&&r.lifespan>0&&setTimeout(()=>{const s=ol.indexOf(i);s!==-1&&ol.splice(s,1)},r.lifespan)}).catch(s=>i.error=s)};if(ol.push(i),!t)throw i.promise}const Bde=(n,e,t)=>bU(n,e,!1,t),kde=(n,e,t)=>void bU(n,e,!0,t),Nde=n=>{if(n===void 0||n.length===0)ol.splice(0,ol.length);else{const e=ol.find(t=>xU(n,t.keys,t.equal));if(e){const t=ol.indexOf(e);t!==-1&&ol.splice(t,1)}}};var aB,lB;const wU=n=>n&&n.isOrthographicCamera,Lde=n=>n&&n.hasOwnProperty("current"),Kg=typeof window<"u"&&((aB=window.document)!=null&&aB.createElement||((lB=window.navigator)==null?void 0:lB.product)==="ReactNative")?J.exports.useLayoutEffect:J.exports.useEffect;function _U(n){const e=J.exports.useRef(n);return Kg(()=>void(e.current=n),[n]),e}function Dde({set:n}){return Kg(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class AU extends J.exports.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}AU.getDerivedStateFromError=()=>({error:!0});const SU="__default",Ode=n=>n&&!!n.memoized&&!!n.changes;function EU(n){const e=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(n)?Math.min(Math.max(n[0],e),n[1]):n}const p0=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},ir={obj:n=>n===Object(n)&&!ir.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(ir.str(n)||ir.num(n))return n===e;const s=ir.obj(n);if(s&&r==="reference")return n===e;const o=ir.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;for(a in i?e:n)if(n[a]!==e[a])return!1;if(ir.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Fde(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function Ude(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Bd(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function rC(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const uB=/-\d+$/;function L3(n,e,t){if(ir.str(t)){if(uB.test(t)){const s=t.replace(uB,""),{target:o,key:a}=rC(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=rC(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function cB(n,e,t){var r,i;if(ir.str(t)){const{target:s,key:o}=rC(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function CU(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){var c;const f=(c=n?.__r3f)!=null?c:{},d=Object.entries(i),m=[];if(u){const g=Object.keys(l);for(let v=0;v<g.length;v++)i.hasOwnProperty(g[v])||d.unshift([g[v],SU+"remove"])}d.forEach(([g,v])=>{var x;if((x=n.__r3f)!=null&&x.primitive&&g==="object"||ir.equ(v,l[g]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(g))return m.push([g,v,!0,[]]);let w=[];g.includes("-")&&(w=g.split("-")),m.push([g,v,!1,w]);for(const b in i){const A=i[b];b.startsWith(`${g}-`)&&m.push([b,A,!1,b.split("-")])}});const y={...i};return f.memoizedProps&&f.memoizedProps.args&&(y.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(y.attach=f.memoizedProps.attach),{memoized:y,changes:m}}function D3(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:u}=Ode(e)?e:CU(n,e),c=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let m=0;m<u.length;m++){let[y,g,v,x]=u[m],w=n,b=w[y];if(x.length&&(b=x.reduce((A,M)=>A[M],n),!(b&&b.set))){const[A,...M]=x.reverse();w=M.reverse().reduce((I,D)=>I[D],n),y=A}if(g===SU+"remove")if(b&&b.constructor){var f;g=new b.constructor(...(f=l.args)!=null?f:[])}else if(w.constructor){var d;const A=new w.constructor(...(d=w.__r3f.memoizedProps.args)!=null?d:[]);g=A[b],A.dispose&&A.dispose()}else g=0;if(v)g?s.handlers[y]=g:delete s.handlers[y],s.eventCount=Object.keys(s.handlers).length;else if(b&&b.set&&(b.copy||b instanceof pf)){if(Array.isArray(g))b.fromArray?b.fromArray(g):b.set(...g);else if(b.copy&&g&&g.constructor&&b.constructor.name===g.constructor.name)b.copy(g);else if(g!==void 0){const A=b instanceof et;!A&&b.setScalar?b.setScalar(g):b instanceof pf&&g instanceof pf?b.mask=g.mask:b.set(g),!("ColorManagement"in gb)&&!a.linear&&A&&b.convertSRGBToLinear()}}else w[y]=g,!a.linear&&w[y]instanceof ar&&(w[y].encoding=on);kd(n)}if(s.parent&&a.internal&&n.raycast&&c!==s.eventCount){const m=a.internal.interaction.indexOf(n);m>-1&&a.internal.interaction.splice(m,1),s.eventCount&&a.internal.interaction.push(n)}return u.length&&(i=n.__r3f)!=null&&i.parent&&iC(n),n}function kd(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function iC(n){n.onUpdate==null||n.onUpdate(n)}function MU(n,e){n.manual||(wU(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function zde(n,e,t){const r=t.pop(),i=t.reduce((s,o)=>s[o],n);return i[r]=e}function wx(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Gde(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return tf.exports.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return tf.exports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return tf.exports.ContinuousEventPriority;default:return tf.exports.DefaultEventPriority}}function TU(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function Hde(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{TU(t.capturedMap,e,r,i)})}function jde(n){function e(l){const{internal:u}=n.getState(),c=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function r(l,u){const c=n.getState(),f=new Set,d=[],m=u?u(c.internal.interaction):c.internal.interaction;for(let x=0;x<m.length;x++){const w=p0(m[x]);w&&(w.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function y(x){const w=p0(x);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var b;w.events.compute==null||w.events.compute(l,w,(b=w.previousRoot)==null?void 0:b.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(x,!0):[]}let g=m.flatMap(y).sort((x,w)=>{const b=p0(x.object),A=p0(w.object);return!b||!A?x.distance-w.distance:A.events.priority-b.events.priority||x.distance-w.distance}).filter(x=>{const w=wx(x);return f.has(w)?!1:(f.add(w),!0)});c.events.filter&&(g=c.events.filter(g,c));for(const x of g){let w=x.object;for(;w;){var v;(v=w.__r3f)!=null&&v.eventCount&&d.push({...x,eventObject:w}),w=w.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let x of c.internal.capturedMap.get(l.pointerId).values())f.has(wx(x.intersection))||d.push(x.intersection);return d}function i(l,u,c,f){const d=n.getState();if(l.length){const m={stopped:!1};for(const y of l){const g=p0(y.object)||d,{raycaster:v,pointer:x,camera:w,internal:b}=g,A=new Y(x.x,x.y,0).unproject(w),M=V=>{var q,ne;return(q=(ne=b.capturedMap.get(V))==null?void 0:ne.has(y.eventObject))!=null?q:!1},I=V=>{const q={intersection:y,target:u.target};b.capturedMap.has(V)?b.capturedMap.get(V).set(y.eventObject,q):b.capturedMap.set(V,new Map([[y.eventObject,q]])),u.target.setPointerCapture(V)},D=V=>{const q=b.capturedMap.get(V);q&&TU(b.capturedMap,y.eventObject,q,V)};let P={};for(let V in u){let q=u[V];typeof q!="function"&&(P[V]=q)}let O={...y,...P,pointer:x,intersections:l,stopped:m.stopped,delta:c,unprojectedPoint:A,ray:v.ray,camera:w,stopPropagation(){const V="pointerId"in u&&b.capturedMap.get(u.pointerId);if((!V||V.has(y.eventObject))&&(O.stopped=m.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(q=>q.eventObject===y.eventObject))){const q=l.slice(0,l.indexOf(y));s([...q,y])}},target:{hasPointerCapture:M,setPointerCapture:I,releasePointerCapture:D},currentTarget:{hasPointerCapture:M,setPointerCapture:I,releasePointerCapture:D},nativeEvent:u};if(f(O),m.stopped===!0)break}}return l}function s(l){const{internal:u}=n.getState();for(const c of u.hovered.values())if(!l.length||!l.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const d=c.eventObject.__r3f,m=d?.handlers;if(u.hovered.delete(wx(c)),d!=null&&d.eventCount){const y={...c,intersections:l};m.onPointerOut==null||m.onPointerOut(y),m.onPointerLeave==null||m.onPointerLeave(y)}}}function o(l,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:c}=n.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),s([]))}}return function(c){const{onPointerMissed:f,internal:d}=n.getState();d.lastEvent.current=c;const m=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",v=r(c,m?t:void 0),x=y?e(c):0;l==="onPointerDown"&&(d.initialClick=[c.offsetX,c.offsetY],d.initialHits=v.map(b=>b.eventObject)),y&&!v.length&&x<=2&&(o(c,d.interaction),f&&f(c)),m&&s(v);function w(b){const A=b.eventObject,M=A.__r3f,I=M?.handlers;if(!!(M!=null&&M.eventCount))if(m){if(I.onPointerOver||I.onPointerEnter||I.onPointerOut||I.onPointerLeave){const D=wx(b),P=d.hovered.get(D);P?P.stopped&&b.stopPropagation():(d.hovered.set(D,b),I.onPointerOver==null||I.onPointerOver(b),I.onPointerEnter==null||I.onPointerEnter(b))}I.onPointerMove==null||I.onPointerMove(b)}else{const D=I[l];D?(!y||d.initialHits.includes(A))&&(o(c,d.interaction.filter(P=>!d.initialHits.includes(P))),D(b)):y&&d.initialHits.includes(A)&&o(c,d.interaction.filter(P=>!d.initialHits.includes(P)))}}i(v,c,x,w)}}return{handlePointer:a}}let sC={},PU=n=>void(sC={...sC,...n});function Vde(n,e){function t(c,{args:f=[],attach:d,...m},y){let g=`${c[0].toUpperCase()}${c.slice(1)}`,v;if(c==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const x=m.object;v=Bd(x,{type:c,root:y,attach:d,primitive:!0})}else{const x=sC[g];if(!x)throw new Error(`R3F: ${g} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");v=Bd(new x(...f),{type:c,root:y,attach:d,memoizedProps:{args:f}})}return v.__r3f.attach===void 0&&(v instanceof Ut?v.__r3f.attach="geometry":v instanceof Cr&&(v.__r3f.attach="material")),g!=="inject"&&D3(v,m),v}function r(c,f){let d=!1;if(f){var m,y;(m=f.__r3f)!=null&&m.attach?L3(c,f,f.__r3f.attach):f.isObject3D&&c.isObject3D&&(c.add(f),d=!0),d||(y=c.__r3f)==null||y.objects.push(f),f.__r3f||Bd(f,{}),f.__r3f.parent=c,iC(f),kd(f)}}function i(c,f,d){let m=!1;if(f){var y,g;if((y=f.__r3f)!=null&&y.attach)L3(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){f.parent=c,f.dispatchEvent({type:"added"});const v=c.children.filter(w=>w!==f),x=v.indexOf(d);c.children=[...v.slice(0,x),f,...v.slice(x)],m=!0}m||(g=c.__r3f)==null||g.objects.push(f),f.__r3f||Bd(f,{}),f.__r3f.parent=c,iC(f),kd(f)}}function s(c,f,d=!1){c&&[...c].forEach(m=>o(f,m,d))}function o(c,f,d){if(f){var m,y,g;if(f.__r3f&&(f.__r3f.parent=null),(m=c.__r3f)!=null&&m.objects&&(c.__r3f.objects=c.__r3f.objects.filter(A=>A!==f)),(y=f.__r3f)!=null&&y.attach)cB(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){var v;c.remove(f),(v=f.__r3f)!=null&&v.root&&Hde(f.__r3f.root,f)}const w=(g=f.__r3f)==null?void 0:g.primitive,b=d===void 0?f.dispose!==null&&!w:d;if(!w){var x;s((x=f.__r3f)==null?void 0:x.objects,f,b),s(f.children,f,b)}f.__r3f&&(delete f.__r3f.root,delete f.__r3f.objects,delete f.__r3f.handlers,delete f.__r3f.memoizedProps,w||delete f.__r3f),b&&f.dispose&&f.type!=="Scene"&&vb.exports.unstable_scheduleCallback(vb.exports.unstable_IdlePriority,()=>{try{f.dispose()}catch{}}),kd(c)}}function a(c,f,d,m){var y;const g=(y=c.__r3f)==null?void 0:y.parent;if(!g)return;const v=t(f,d,c.__r3f.root);if(c.children){for(const x of c.children)x.__r3f&&r(v,x);c.children=c.children.filter(x=>!x.__r3f)}c.__r3f.objects.forEach(x=>r(v,x)),c.__r3f.objects=[],o(g,c),r(g,v),v.raycast&&v.__r3f.eventCount&&v.__r3f.root.getState().internal.interaction.push(v),[m,m.alternate].forEach(x=>{x!==null&&(x.stateNode=v,x.ref&&(typeof x.ref=="function"?x.ref(v):x.ref.current=v))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Rde({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,f)=>{if(!f)return;const d=c.getState().scene;!d.__r3f||(d.__r3f.root=c,r(d,f))},removeChildFromContainer:(c,f)=>{!f||o(c.getState().scene,f)},insertInContainerBefore:(c,f,d)=>{if(!f||!d)return;const m=c.getState().scene;!m.__r3f||i(m,f,d)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var f;const d=(f=c?.__r3f)!=null?f:{};return Boolean(d.handlers)},prepareUpdate(c,f,d,m){if(c.__r3f.primitive&&m.object&&m.object!==c)return[!0];{const{args:y=[],children:g,...v}=m,{args:x=[],children:w,...b}=d;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((M,I)=>M!==x[I]))return[!0];const A=CU(c,v,b,!0);return A.changes.length?[!1,A]:null}},commitUpdate(c,[f,d],m,y,g,v){f?a(c,m,g,v):D3(c,d)},commitMount(c,f,d,m){var y;const g=(y=c.__r3f)!=null?y:{};c.raycast&&g.handlers&&g.eventCount&&c.__r3f.root.getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>Bd(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var f;const{attach:d,parent:m}=(f=c.__r3f)!=null?f:{};d&&m&&cB(m,c,d),c.isObject3D&&(c.visible=!1),kd(c)},unhideInstance(c,f){var d;const{attach:m,parent:y}=(d=c.__r3f)!=null?d:{};m&&y&&L3(y,c,m),(c.isObject3D&&f.visible==null||f.visible)&&(c.visible=!0),kd(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():tf.exports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&ir.fun(performance.now)?performance.now:ir.fun(Date.now)?Date.now:()=>0,scheduleTimeout:ir.fun(setTimeout)?setTimeout:void 0,cancelTimeout:ir.fun(clearTimeout)?clearTimeout:void 0}),applyProps:D3}}const Wde=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],IU=n=>!!(n!=null&&n.render),TT=J.exports.createContext(null),qde=(n,e)=>{const t=gU((a,l)=>{const u=new Y,c=new Y,f=new Y;function d(x=l().camera,w=c,b=l().size){const{width:A,height:M,top:I,left:D}=b,P=A/M;w instanceof Y?f.copy(w):f.set(...w);const O=x.getWorldPosition(u).distanceTo(f);if(wU(x))return{width:A/x.zoom,height:M/x.zoom,top:I,left:D,factor:1,distance:O,aspect:P};{const V=x.fov*Math.PI/180,q=2*Math.tan(V/2)*O,ne=q*(A/M);return{width:ne,height:q,top:I,left:D,factor:A/ne,distance:O,aspect:P}}}let m;const y=x=>a(w=>({performance:{...w.performance,current:x}})),g=new Fe;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(x=1)=>n(l(),x),advance:(x,w)=>e(x,w,l()),legacy:!1,linear:!1,flat:!1,scene:Bd(new Ew),controls:null,clock:new AT,pointer:g,mouse:g,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=l();m&&clearTimeout(m),x.performance.current!==x.performance.min&&y(x.performance.min),m=setTimeout(()=>y(l().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:x=>a(w=>({...w,events:{...w.events,...x}})),setSize:(x,w,b,A,M)=>{const I=l().camera,D={width:x,height:w,top:A||0,left:M||0,updateStyle:b};a(P=>({size:D,viewport:{...P.viewport,...d(I,c,D)}}))},setDpr:x=>a(w=>{const b=EU(x);return{viewport:{...w.viewport,dpr:b,initialDpr:w.viewport.initialDpr||b}}}),setFrameloop:(x="always")=>{const w=l().clock;w.stop(),w.elapsedTime=0,x!=="never"&&(w.start(),w.elapsedTime=0),a(()=>({frameloop:x}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:J.exports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(x,w,b)=>{const A=l().internal;return A.priority=A.priority+(w>0?1:0),A.subscribers.push({ref:x,priority:w,store:b}),A.subscribers=A.subscribers.sort((M,I)=>M.priority-I.priority),()=>{const M=l().internal;M!=null&&M.subscribers&&(M.priority=M.priority-(w>0?1:0),M.subscribers=M.subscribers.filter(I=>I.ref!==x))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:c,set:f}=t.getState();(l!==i||u.dpr!==s)&&(i=l,s=u.dpr,MU(a,l),c.setPixelRatio(u.dpr),c.setSize(l.width,l.height,l.updateStyle)),a!==o&&(o=a,f(d=>({viewport:{...d.viewport,...d.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let _x,Kde=new Set,Jde=new Set,$de=new Set;function O3(n,e){if(!!n.size)for(const{callback:t}of n.values())t(e)}function m0(n,e){switch(n){case"before":return O3(Kde,e);case"after":return O3(Jde,e);case"tail":return O3($de,e)}}let F3,U3;function z3(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),F3=e.internal.subscribers,_x=0;_x<F3.length;_x++)U3=F3[_x],U3.ref.current(U3.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Xde(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,m0("before",l);for(const c of n.values()){var u;i=c.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((u=i.gl.xr)!=null&&u.isPresenting)&&(t+=z3(l,i))}if(m0("after",l),t===0)return m0("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,u=1){var c;if(!l)return n.forEach(f=>o(f.store.getState()),u);(c=l.gl.xr)!=null&&c.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,c,f){if(u&&m0("before",l),c)z3(l,c,f);else for(const d of n.values())z3(l,d.store.getState());u&&m0("after",l)}return{loop:s,invalidate:o,advance:a}}function PT(){const n=J.exports.useContext(TT);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Li(n=t=>t,e){return PT()(n,e)}function IT(n,e=0){const t=PT(),r=t.getState().internal.subscribe,i=_U(n);return Kg(()=>r(i,e,t),[e,r,t]),null}function RU(n,e){return function(t,...r){const i=new t;return n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,Fde(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function xp(n,e,t,r){const i=Array.isArray(e)?e:[e],s=Bde(RU(t,r),[n,...i],{equal:ir.equ});return Array.isArray(e)?s:s[0]}xp.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return kde(RU(t),[n,...r])};xp.clear=function(n,e){const t=Array.isArray(e)?e:[e];return Nde([n,...t])};const qh=new Map,{invalidate:fB,advance:dB}=Xde(qh),{reconciler:ng,applyProps:Ax}=Vde(qh,Gde),Td={objects:"shallow",strict:!1},Yde=(n,e)=>{const t=typeof n=="function"?n(e):n;return IU(t)?t:new tT({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function Qde(n){return n instanceof HTMLCanvasElement}function Zde(n,e){if(e)return e;if(Qde(n)&&n.parentElement){const{width:t,height:r,top:i,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:s}}return{width:0,height:0,top:0,left:0}}function ehe(n){const e=qh.get(n),t=e?.fiber,r=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||qde(fB,dB),o=t||ng.createContainer(s,tf.exports.ConcurrentRoot,null,!1,null,"",i,null);e||qh.set(n,{fiber:o,store:s});let a,l=!1;return{configure(u={}){let{gl:c,size:f,events:d,onCreated:m,shadows:y=!1,linear:g=!1,flat:v=!1,legacy:x=!1,orthographic:w=!1,frameloop:b="always",dpr:A=[1,2],performance:M,raycaster:I,camera:D,onPointerMissed:P}=u,O=s.getState(),V=O.gl;O.gl||O.set({gl:V=Yde(c,n)});let q=O.raycaster;q||O.set({raycaster:q=new MT});const{params:ne,...H}=I||{};if(ir.equ(H,q,Td)||Ax(q,{...H}),ir.equ(ne,q.params,Td)||Ax(q,{params:{...q.params,...ne}}),!O.camera){const U=D instanceof Bg,L=U?D:w?new ml(0,0,0,0,.1,1e3):new Dn(75,0,.1,1e3);U||(L.position.z=5,D&&Ax(L,D),D!=null&&D.rotation||L.lookAt(0,0,0)),O.set({camera:L})}if(!O.xr){const U=(z,B)=>{const E=s.getState();E.frameloop!=="never"&&dB(z,!0,E,B)},L=()=>{const z=s.getState();z.gl.xr.enabled=z.gl.xr.isPresenting,z.gl.xr.setAnimationLoop(z.gl.xr.isPresenting?U:null),z.gl.xr.isPresenting||fB(z)},F={connect(){const z=s.getState().gl;z.xr.addEventListener("sessionstart",L),z.xr.addEventListener("sessionend",L)},disconnect(){const z=s.getState().gl;z.xr.removeEventListener("sessionstart",L),z.xr.removeEventListener("sessionend",L)}};V.xr&&F.connect(),O.set({xr:F})}if(V.shadowMap){const U=ir.boo(y);if(U&&V.shadowMap.enabled!==y||!ir.equ(y,V.shadowMap,Td)){const L=V.shadowMap.enabled;V.shadowMap.enabled=!!y,U?V.shadowMap.type=G6:Object.assign(V.shadowMap,y),L!==V.shadowMap.enabled&&(V.shadowMap.needsUpdate=!0)}}"ColorManagement"in gb&&zde(gb,x,["ColorManagement","legacyMode"]);const _=g?Wo:on,T=v?jo:V6;V.outputEncoding!==_&&(V.outputEncoding=_),V.toneMapping!==T&&(V.toneMapping=T),O.legacy!==x&&O.set(()=>({legacy:x})),O.linear!==g&&O.set(()=>({linear:g})),O.flat!==v&&O.set(()=>({flat:v})),c&&!ir.fun(c)&&!IU(c)&&!ir.equ(c,V,Td)&&Ax(V,c),d&&!O.events.handlers&&O.set({events:d(s)}),A&&O.viewport.dpr!==EU(A)&&O.setDpr(A);const k=Zde(n,f);return ir.equ(k,O.size,Td)||O.setSize(k.width,k.height,k.updateStyle,k.top,k.left),O.frameloop!==b&&O.setFrameloop(b),O.onPointerMissed||O.set({onPointerMissed:P}),M&&!ir.equ(M,O.performance,Td)&&O.set(U=>({performance:{...U.performance,...M}})),a=m,l=!0,this},render(u){return l||this.configure(),ng.updateContainer(te(the,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){BU(n)}}}function the({store:n,children:e,onCreated:t,rootElement:r}){return Kg(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),J.exports.createElement(TT.Provider,{value:n},e)}function BU(n,e){const t=qh.get(n),r=t?.fiber;if(r){const i=t?.store.getState();i&&(i.internal.active=!1),ng.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Ude(i),qh.delete(n),e&&e(n)}catch{}},500)})}}function nhe(n,e,t){return te(rhe,{children:n,container:e,state:t},e.uuid)}function rhe({state:n={},children:e,container:t}){const{events:r,size:i,...s}=n,o=PT(),[a]=J.exports.useState(()=>new MT),[l]=J.exports.useState(()=>new Fe),u=J.exports.useCallback((f,d)=>{const m={...f};Object.keys(f).forEach(g=>{(Wde.includes(g)||f[g]!==d[g])&&delete m[g]});let y;if(d&&i){const g=d.camera;y=f.viewport.getCurrentViewport(g,new Y,i),g!==f.camera&&MU(g,i)}return{...m,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...d?.events,...r},size:{...f.size,...i},viewport:{...f.viewport,...y},...s}},[n]),[c]=J.exports.useState(()=>{const f=o.getState();return gU((m,y)=>({...f,scene:t,raycaster:a,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...r},size:{...f.size,...i},...s,set:m,get:y,setEvents:g=>m(v=>({...v,events:{...v.events,...g}}))}))});return J.exports.useEffect(()=>{const f=o.subscribe(d=>c.setState(m=>u(d,m)));return()=>{f(),c.destroy()}},[]),J.exports.useEffect(()=>{c.setState(f=>u(o.getState(),f))},[u]),te(vr,{children:ng.createPortal(J.exports.createElement(TT.Provider,{value:c},e),c,null)})}ng.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:J.exports.version});function oC(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var c=Date.now()-o;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,t||(a=n.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var c=t&&!r;return r||(r=setTimeout(l,e)),c&&(a=n.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}oC.debounce=oC;var hB=oC;function ihe(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=J.exports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=J.exports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,c=e?typeof e=="number"?e:e.resize:null,f=J.exports.useRef(!1);J.exports.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[d,m,y]=J.exports.useMemo(()=>{const w=()=>{if(!l.current.element)return;const{left:b,top:A,width:M,height:I,bottom:D,right:P,x:O,y:V}=l.current.element.getBoundingClientRect(),q={left:b,top:A,width:M,height:I,bottom:D,right:P,x:O,y:V};l.current.element instanceof HTMLElement&&i&&(q.height=l.current.element.offsetHeight,q.width=l.current.element.offsetWidth),Object.freeze(q),f.current&&!lhe(l.current.lastBounds,q)&&a(l.current.lastBounds=q)};return[w,c?hB(w,c):w,u?hB(w,u):w]},[a,i,u,c]);function g(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",y,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function v(){!l.current.element||(l.current.resizeObserver=new s(y),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(w=>w.addEventListener("scroll",y,{capture:!0,passive:!0})))}const x=w=>{!w||w===l.current.element||(g(),l.current.element=w,l.current.scrollContainers=kU(w),v())};return ohe(y,Boolean(t)),she(m),J.exports.useEffect(()=>{g(),v()},[t,y,m]),J.exports.useEffect(()=>g,[]),[x,o,d]}function she(n){J.exports.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function ohe(n,e){J.exports.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function kU(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...kU(n.parentElement)]}const ahe=["x","y","top","bottom","left","right","width","height"],lhe=(n,e)=>ahe.every(t=>n[t]===e[t]);var uhe=Object.defineProperty,che=Object.defineProperties,fhe=Object.getOwnPropertyDescriptors,pB=Object.getOwnPropertySymbols,dhe=Object.prototype.hasOwnProperty,hhe=Object.prototype.propertyIsEnumerable,mB=(n,e,t)=>e in n?uhe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,gB=(n,e)=>{for(var t in e||(e={}))dhe.call(e,t)&&mB(n,t,e[t]);if(pB)for(var t of pB(e))hhe.call(e,t)&&mB(n,t,e[t]);return n},phe=(n,e)=>che(n,fhe(e));function RT(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=RT(r,e,t);if(i)return i;r=e?null:r.sibling}}function NU(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const BT=NU(J.exports.createContext(null));class LU extends J.exports.Component{render(){return te(BT.Provider,{value:this._reactInternals,children:this.props.children})}}const{ReactCurrentOwner:mhe,ReactCurrentDispatcher:ghe}=J.exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function vhe(){const n=J.exports.useContext(BT);if(!n)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=J.exports.useId();return J.exports.useMemo(()=>{var r;return(r=mhe.current)!=null?r:RT(n,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[n,e])}const g0=[],vB=new WeakMap;function yhe(){var n;const e=vhe();g0.splice(0,g0.length),RT(e,!0,t=>{var r;const i=(r=t.type)==null?void 0:r._context;i&&i!==BT&&g0.push(NU(i))});for(const t of g0){const r=(n=ghe.current)==null?void 0:n.readContext(t);vB.set(t,r)}return J.exports.useMemo(()=>g0.reduce((t,r)=>i=>J.exports.createElement(t,null,J.exports.createElement(r.Provider,phe(gB({},i),{value:vB.get(r)}))),t=>te(LU,{...gB({},t)})),[])}const G3={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function xhe(n){const{handlePointer:e}=jde(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(G3).reduce((t,r)=>({...t,[r]:e(r)}),{}),connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=G3[o];t.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=G3[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const bhe=J.exports.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=xhe,eventSource:a,eventPrefix:l,shadows:u,linear:c,flat:f,legacy:d,orthographic:m,frameloop:y,dpr:g,performance:v,raycaster:x,camera:w,onPointerMissed:b,onCreated:A,...M},I){J.exports.useMemo(()=>PU(gb),[]);const D=yhe(),[P,O]=ihe({scroll:!0,debounce:{scroll:50,resize:0},...r}),V=J.exports.useRef(null),q=J.exports.useRef(null),[ne,H]=J.exports.useState(null);J.exports.useImperativeHandle(I,()=>V.current);const _=_U(b),[T,k]=J.exports.useState(!1),[U,L]=J.exports.useState(!1);if(T)throw T;if(U)throw U;const F=J.exports.useRef(null);return O.width>0&&O.height>0&&ne&&(F.current||(F.current=ehe(ne)),F.current.configure({gl:s,events:o,shadows:u,linear:c,flat:f,legacy:d,orthographic:m,frameloop:y,dpr:g,performance:v,raycaster:x,camera:w,size:O,onPointerMissed:(...B)=>_.current==null?void 0:_.current(...B),onCreated:B=>{B.events.connect==null||B.events.connect(a?Lde(a)?a.current:a:q.current),l&&B.setEvents({compute:(E,j)=>{const X=E[l+"X"],N=E[l+"Y"];j.pointer.set(X/j.size.width*2-1,-(N/j.size.height)*2+1),j.raycaster.setFromCamera(j.pointer,j.camera)}}),A?.(B)}}),F.current.render(te(D,{children:te(AU,{set:L,children:te(J.exports.Suspense,{fallback:te(Dde,{set:k}),children:e})})}))),Kg(()=>{H(V.current)},[]),J.exports.useEffect(()=>{if(ne)return()=>BU(ne)},[ne]),te("div",{ref:q,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:a?"none":"auto",...i},...M,children:te("div",{ref:P,style:{width:"100%",height:"100%"},children:te("canvas",{ref:V,style:{display:"block"},children:t})})})}),whe=J.exports.forwardRef(function(e,t){return te(LU,{children:te(bhe,{...e,ref:t})})});function _he(n,e="pointer",t="auto"){J.exports.useEffect(()=>{if(n)return document.body.style.cursor=e,()=>void(document.body.style.cursor=t)},[n])}function Dt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const Ahe=n=>n&&n.isCubeTexture;class She extends Er{constructor(e,t){var r,i;const s=Ahe(e),a=((r=s?(i=e.image[0])===null||i===void 0?void 0:i.width:e.image.width)!=null?r:1024)/4,l=Math.floor(Math.log2(a)),u=Math.pow(2,l),c=3*Math.max(u,16*7),f=4*u,d=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/c}`,`#define CUBEUV_TEXEL_HEIGHT ${1/f}`,`#define CUBEUV_MAX_MIP ${l}.0`],m=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,y=d.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <encodings_fragment>
        }
        `,g={map:{value:e},height:{value:t?.height||15},radius:{value:t?.radius||100}},v=new pp(1,16),x=new Is({uniforms:g,fragmentShader:y,vertexShader:m,side:Fo});super(v,x)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}const yB=(n,e)=>(n%e+e)%e;class Ehe extends La{constructor(e,t){super(),Dt(this,"object",void 0),Dt(this,"domElement",void 0),Dt(this,"enabled",!0),Dt(this,"target",new Y),Dt(this,"minDistance",0),Dt(this,"maxDistance",1/0),Dt(this,"minZoom",0),Dt(this,"maxZoom",1/0),Dt(this,"minPolarAngle",0),Dt(this,"maxPolarAngle",Math.PI),Dt(this,"minAzimuthAngle",-1/0),Dt(this,"maxAzimuthAngle",1/0),Dt(this,"enableDamping",!1),Dt(this,"dampingFactor",.05),Dt(this,"enableZoom",!0),Dt(this,"zoomSpeed",1),Dt(this,"enableRotate",!0),Dt(this,"rotateSpeed",1),Dt(this,"enablePan",!0),Dt(this,"panSpeed",1),Dt(this,"screenSpacePanning",!0),Dt(this,"keyPanSpeed",7),Dt(this,"autoRotate",!1),Dt(this,"autoRotateSpeed",2),Dt(this,"reverseOrbit",!1),Dt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Dt(this,"mouseButtons",{LEFT:Dc.ROTATE,MIDDLE:Dc.DOLLY,RIGHT:Dc.PAN}),Dt(this,"touches",{ONE:Oc.ROTATE,TWO:Oc.DOLLY_PAN}),Dt(this,"target0",void 0),Dt(this,"position0",void 0),Dt(this,"zoom0",void 0),Dt(this,"_domElementKeyEvents",null),Dt(this,"getPolarAngle",void 0),Dt(this,"getAzimuthalAngle",void 0),Dt(this,"setPolarAngle",void 0),Dt(this,"setAzimuthalAngle",void 0),Dt(this,"getDistance",void 0),Dt(this,"listenToKeyEvents",void 0),Dt(this,"saveState",void 0),Dt(this,"reset",void 0),Dt(this,"update",void 0),Dt(this,"connect",void 0),Dt(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof Dn?this.object.zoom:1,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=ee=>{let ge=yB(ee,2*Math.PI),Ue=c.phi;Ue<0&&(Ue+=2*Math.PI),ge<0&&(ge+=2*Math.PI);let De=Math.abs(ge-Ue);2*Math.PI-De<De&&(ge<Ue?ge+=2*Math.PI:Ue+=2*Math.PI),f.phi=ge-Ue,r.update()},this.setAzimuthalAngle=ee=>{let ge=yB(ee,2*Math.PI),Ue=c.theta;Ue<0&&(Ue+=2*Math.PI),ge<0&&(ge+=2*Math.PI);let De=Math.abs(ge-Ue);2*Math.PI-De<De&&(ge<Ue?ge+=2*Math.PI:Ue+=2*Math.PI),f.theta=ge-Ue,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=ee=>{ee.addEventListener("keydown",le),this._domElementKeyEvents=ee},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object instanceof Dn?r.object.zoom:1},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object instanceof Dn&&(r.object.zoom=r.zoom0,r.object.updateProjectionMatrix()),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const ee=new Y,ge=new si().setFromUnitVectors(e.up,new Y(0,1,0)),Ue=ge.clone().invert(),De=new Y,je=new si,lt=2*Math.PI;return function(){const re=r.object.position;ee.copy(re).sub(r.target),ee.applyQuaternion(ge),c.setFromVector3(ee),r.autoRotate&&l===a.NONE&&ne(V()),r.enableDamping?(c.theta+=f.theta*r.dampingFactor,c.phi+=f.phi*r.dampingFactor):(c.theta+=f.theta,c.phi+=f.phi);let Ae=r.minAzimuthAngle,Be=r.maxAzimuthAngle;return isFinite(Ae)&&isFinite(Be)&&(Ae<-Math.PI?Ae+=lt:Ae>Math.PI&&(Ae-=lt),Be<-Math.PI?Be+=lt:Be>Math.PI&&(Be-=lt),Ae<=Be?c.theta=Math.max(Ae,Math.min(Be,c.theta)):c.theta=c.theta>(Ae+Be)/2?Math.max(Ae,c.theta):Math.min(Be,c.theta)),c.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,c.phi)),c.makeSafe(),c.radius*=d,c.radius=Math.max(r.minDistance,Math.min(r.maxDistance,c.radius)),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),ee.setFromSpherical(c),ee.applyQuaternion(Ue),re.copy(r.target).add(ee),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),m.set(0,0,0)),d=1,y||De.distanceToSquared(r.object.position)>u||8*(1-je.dot(r.object.quaternion))>u?(r.dispatchEvent(i),De.copy(r.object.position),je.copy(r.object.quaternion),y=!1,!0):!1}})(),this.connect=ee=>{ee===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=ee,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",ke),r.domElement.addEventListener("pointerdown",$e),r.domElement.addEventListener("pointercancel",Ce),r.domElement.addEventListener("wheel",W)},this.dispose=()=>{var ee,ge,Ue,De,je,lt;(ee=r.domElement)===null||ee===void 0||ee.removeEventListener("contextmenu",ke),(ge=r.domElement)===null||ge===void 0||ge.removeEventListener("pointerdown",$e),(Ue=r.domElement)===null||Ue===void 0||Ue.removeEventListener("pointercancel",Ce),(De=r.domElement)===null||De===void 0||De.removeEventListener("wheel",W),(je=r.domElement)===null||je===void 0||je.ownerDocument.removeEventListener("pointermove",ue),(lt=r.domElement)===null||lt===void 0||lt.ownerDocument.removeEventListener("pointerup",we),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",le)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,c=new nC,f=new nC;let d=1;const m=new Y;let y=!1;const g=new Fe,v=new Fe,x=new Fe,w=new Fe,b=new Fe,A=new Fe,M=new Fe,I=new Fe,D=new Fe,P=[],O={};function V(){return 2*Math.PI/60/60*r.autoRotateSpeed}function q(){return Math.pow(.95,r.zoomSpeed)}function ne(ee){r.reverseOrbit?f.theta+=ee:f.theta-=ee}function H(ee){r.reverseOrbit?f.phi+=ee:f.phi-=ee}const _=(()=>{const ee=new Y;return function(Ue,De){ee.setFromMatrixColumn(De,0),ee.multiplyScalar(-Ue),m.add(ee)}})(),T=(()=>{const ee=new Y;return function(Ue,De){r.screenSpacePanning===!0?ee.setFromMatrixColumn(De,1):(ee.setFromMatrixColumn(De,0),ee.crossVectors(r.object.up,ee)),ee.multiplyScalar(Ue),m.add(ee)}})(),k=(()=>{const ee=new Y;return function(Ue,De){const je=r.domElement;if(je&&r.object instanceof Dn&&r.object.isPerspectiveCamera){const lt=r.object.position;ee.copy(lt).sub(r.target);let ht=ee.length();ht*=Math.tan(r.object.fov/2*Math.PI/180),_(2*Ue*ht/je.clientHeight,r.object.matrix),T(2*De*ht/je.clientHeight,r.object.matrix)}else je&&r.object instanceof ml&&r.object.isOrthographicCamera?(_(Ue*(r.object.right-r.object.left)/r.object.zoom/je.clientWidth,r.object.matrix),T(De*(r.object.top-r.object.bottom)/r.object.zoom/je.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function U(ee){r.object instanceof Dn&&r.object.isPerspectiveCamera?d/=ee:r.object instanceof ml&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*ee)),r.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function L(ee){r.object instanceof Dn&&r.object.isPerspectiveCamera?d*=ee:r.object instanceof ml&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/ee)),r.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function F(ee){g.set(ee.clientX,ee.clientY)}function z(ee){M.set(ee.clientX,ee.clientY)}function B(ee){w.set(ee.clientX,ee.clientY)}function E(ee){v.set(ee.clientX,ee.clientY),x.subVectors(v,g).multiplyScalar(r.rotateSpeed);const ge=r.domElement;ge&&(ne(2*Math.PI*x.x/ge.clientHeight),H(2*Math.PI*x.y/ge.clientHeight)),g.copy(v),r.update()}function j(ee){I.set(ee.clientX,ee.clientY),D.subVectors(I,M),D.y>0?U(q()):D.y<0&&L(q()),M.copy(I),r.update()}function X(ee){b.set(ee.clientX,ee.clientY),A.subVectors(b,w).multiplyScalar(r.panSpeed),k(A.x,A.y),w.copy(b),r.update()}function N(ee){ee.deltaY<0?L(q()):ee.deltaY>0&&U(q()),r.update()}function K(ee){let ge=!1;switch(ee.code){case r.keys.UP:k(0,r.keyPanSpeed),ge=!0;break;case r.keys.BOTTOM:k(0,-r.keyPanSpeed),ge=!0;break;case r.keys.LEFT:k(r.keyPanSpeed,0),ge=!0;break;case r.keys.RIGHT:k(-r.keyPanSpeed,0),ge=!0;break}ge&&(ee.preventDefault(),r.update())}function oe(){if(P.length==1)g.set(P[0].pageX,P[0].pageY);else{const ee=.5*(P[0].pageX+P[1].pageX),ge=.5*(P[0].pageY+P[1].pageY);g.set(ee,ge)}}function ie(){if(P.length==1)w.set(P[0].pageX,P[0].pageY);else{const ee=.5*(P[0].pageX+P[1].pageX),ge=.5*(P[0].pageY+P[1].pageY);w.set(ee,ge)}}function fe(){const ee=P[0].pageX-P[1].pageX,ge=P[0].pageY-P[1].pageY,Ue=Math.sqrt(ee*ee+ge*ge);M.set(0,Ue)}function ce(){r.enableZoom&&fe(),r.enablePan&&ie()}function Ee(){r.enableZoom&&fe(),r.enableRotate&&oe()}function ae(ee){if(P.length==1)v.set(ee.pageX,ee.pageY);else{const Ue=Ye(ee),De=.5*(ee.pageX+Ue.x),je=.5*(ee.pageY+Ue.y);v.set(De,je)}x.subVectors(v,g).multiplyScalar(r.rotateSpeed);const ge=r.domElement;ge&&(ne(2*Math.PI*x.x/ge.clientHeight),H(2*Math.PI*x.y/ge.clientHeight)),g.copy(v)}function me(ee){if(P.length==1)b.set(ee.pageX,ee.pageY);else{const ge=Ye(ee),Ue=.5*(ee.pageX+ge.x),De=.5*(ee.pageY+ge.y);b.set(Ue,De)}A.subVectors(b,w).multiplyScalar(r.panSpeed),k(A.x,A.y),w.copy(b)}function xe(ee){const ge=Ye(ee),Ue=ee.pageX-ge.x,De=ee.pageY-ge.y,je=Math.sqrt(Ue*Ue+De*De);I.set(0,je),D.set(0,Math.pow(I.y/M.y,r.zoomSpeed)),U(D.y),M.copy(I)}function Ne(ee){r.enableZoom&&xe(ee),r.enablePan&&me(ee)}function He(ee){r.enableZoom&&xe(ee),r.enableRotate&&ae(ee)}function $e(ee){if(r.enabled!==!1){if(P.length===0){var ge,Ue;(ge=r.domElement)===null||ge===void 0||ge.ownerDocument.addEventListener("pointermove",ue),(Ue=r.domElement)===null||Ue===void 0||Ue.ownerDocument.addEventListener("pointerup",we)}Qe(ee),ee.pointerType==="touch"?Re(ee):ze(ee)}}function ue(ee){r.enabled!==!1&&(ee.pointerType==="touch"?Te(ee):$(ee))}function we(ee){if(Oe(ee),P.length===0){var ge,Ue,De;(ge=r.domElement)===null||ge===void 0||ge.releasePointerCapture(ee.pointerId),(Ue=r.domElement)===null||Ue===void 0||Ue.ownerDocument.removeEventListener("pointermove",ue),(De=r.domElement)===null||De===void 0||De.ownerDocument.removeEventListener("pointerup",we)}r.dispatchEvent(o),l=a.NONE}function Ce(ee){Oe(ee)}function ze(ee){let ge;switch(ee.button){case 0:ge=r.mouseButtons.LEFT;break;case 1:ge=r.mouseButtons.MIDDLE;break;case 2:ge=r.mouseButtons.RIGHT;break;default:ge=-1}switch(ge){case Dc.DOLLY:if(r.enableZoom===!1)return;z(ee),l=a.DOLLY;break;case Dc.ROTATE:if(ee.ctrlKey||ee.metaKey||ee.shiftKey){if(r.enablePan===!1)return;B(ee),l=a.PAN}else{if(r.enableRotate===!1)return;F(ee),l=a.ROTATE}break;case Dc.PAN:if(ee.ctrlKey||ee.metaKey||ee.shiftKey){if(r.enableRotate===!1)return;F(ee),l=a.ROTATE}else{if(r.enablePan===!1)return;B(ee),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function $(ee){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;E(ee);break;case a.DOLLY:if(r.enableZoom===!1)return;j(ee);break;case a.PAN:if(r.enablePan===!1)return;X(ee);break}}function W(ee){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(ee.preventDefault(),r.dispatchEvent(s),N(ee),r.dispatchEvent(o))}function le(ee){r.enabled===!1||r.enablePan===!1||K(ee)}function Re(ee){switch(be(ee),P.length){case 1:switch(r.touches.ONE){case Oc.ROTATE:if(r.enableRotate===!1)return;oe(),l=a.TOUCH_ROTATE;break;case Oc.PAN:if(r.enablePan===!1)return;ie(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Oc.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;ce(),l=a.TOUCH_DOLLY_PAN;break;case Oc.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ee(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Te(ee){switch(be(ee),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;ae(ee),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;me(ee),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ne(ee),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;He(ee),r.update();break;default:l=a.NONE}}function ke(ee){r.enabled!==!1&&ee.preventDefault()}function Qe(ee){P.push(ee)}function Oe(ee){delete O[ee.pointerId];for(let ge=0;ge<P.length;ge++)if(P[ge].pointerId==ee.pointerId){P.splice(ge,1);return}}function be(ee){let ge=O[ee.pointerId];ge===void 0&&(ge=new Fe,O[ee.pointerId]=ge),ge.set(ee.pageX,ee.pageY)}function Ye(ee){const ge=ee.pointerId===P[0].pointerId?P[1]:P[0];return O[ge.pointerId]}t!==void 0&&this.connect(t),this.update()}}class kT extends Hi{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Ihe(t)}),this.register(function(t){return new Ohe(t)}),this.register(function(t){return new Fhe(t)}),this.register(function(t){return new Bhe(t)}),this.register(function(t){return new khe(t)}),this.register(function(t){return new Nhe(t)}),this.register(function(t){return new Lhe(t)}),this.register(function(t){return new Phe(t)}),this.register(function(t){return new Dhe(t)}),this.register(function(t){return new Rhe(t)}),this.register(function(t){return new Mhe(t)}),this.register(function(t){return new Uhe(t)})}load(e,t,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Aa.extractUrlBase(e),this.manager.itemStart(e);const a=function(u){i?i(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Rs(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(c){t(c),s.manager.itemEnd(e)},a)}catch(c){a(c)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=e;else if(Aa.decodeText(new Uint8Array(e,0,4))===DU){try{o[Jt.KHR_BINARY_GLTF]=new zhe(e)}catch(f){i&&i(f);return}s=o[Jt.KHR_BINARY_GLTF].content}else s=Aa.decodeText(new Uint8Array(e));const l=JSON.parse(s);if(l.asset===void 0||l.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new Zhe(l,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const f=this.pluginCallbacks[c](u);a[f.name]=f,o[f.name]=!0}if(l.extensionsUsed)for(let c=0;c<l.extensionsUsed.length;++c){const f=l.extensionsUsed[c],d=l.extensionsRequired||[];switch(f){case Jt.KHR_MATERIALS_UNLIT:o[f]=new The;break;case Jt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[f]=new jhe;break;case Jt.KHR_DRACO_MESH_COMPRESSION:o[f]=new Ghe(l,this.dracoLoader);break;case Jt.KHR_TEXTURE_TRANSFORM:o[f]=new Hhe;break;case Jt.KHR_MESH_QUANTIZATION:o[f]=new Vhe;break;default:d.indexOf(f)>=0&&a[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}u.setExtensions(o),u.setPlugins(a),u.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function Che(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Jt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class Mhe{constructor(e){this.parser=e,this.name=Jt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const c=new et(16777215);l.color!==void 0&&c.fromArray(l.color);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new wT(c),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new bT(c),u.distance=f;break;case"spot":u=new xT(c),u.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,l.intensity!==void 0&&(u.intensity=l.intensity),u.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(u),t.cache.add(r,i),i}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class The{constructor(){this.name=Jt.KHR_MATERIALS_UNLIT}getMaterialType(){return As}extendParams(e,t,r){const i=[];e.color=new et(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,on))}return Promise.all(i)}}class Phe{constructor(e){this.parser=e,this.name=Jt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class Ihe{constructor(e){this.parser=e,this.name=Jt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Fe(a,a)}return Promise.all(s)}}class Rhe{constructor(e){this.parser=e,this.name=Jt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Bhe{constructor(e){this.parser=e,this.name=Jt.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new et(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,on)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class khe{constructor(e){this.parser=e,this.name=Jt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Nhe{constructor(e){this.parser=e,this.name=Jt.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new et(a[0],a[1],a[2]),Promise.all(s)}}class Lhe{constructor(e){this.parser=e,this.name=Jt.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hl}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class Dhe{constructor(e){this.parser=e,this.name=Jt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hl}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new et(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,on)),Promise.all(s)}}class Ohe{constructor(e){this.parser=e,this.name=Jt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class Fhe{constructor(e){this.parser=e,this.name=Jt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Uhe{constructor(e){this.name=Jt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,u=i.byteLength||0,c=i.count,f=i.byteStride,d=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(c,f,d,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(c*f);return o.decodeGltfBuffer(new Uint8Array(m),c,f,d,i.mode,i.filter),m})})}else return null}}const DU="glTF",v0=12,xB={JSON:1313821514,BIN:5130562};class zhe{constructor(e){this.name=Jt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,v0);if(this.header={magic:Aa.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==DU)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-v0,i=new DataView(e,v0);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===xB.JSON){const l=new Uint8Array(e,v0+s,o);this.content=Aa.decodeText(l)}else if(a===xB.BIN){const l=v0+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Ghe{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Jt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const c in o){const f=lC[c]||c.toLowerCase();a[f]=o[c]}for(const c in e.attributes){const f=lC[c]||c.toLowerCase();if(o[c]!==void 0){const d=r.accessors[e.attributes[c]],m=rg[d.componentType];u[f]=m.name,l[f]=d.normalized===!0}}return t.getDependency("bufferView",s).then(function(c){return new Promise(function(f){i.decodeDracoFile(c,function(d){for(const m in d.attributes){const y=d.attributes[m],g=l[m];g!==void 0&&(y.normalized=g)}f(d)},a,u)})})}}class Hhe{constructor(){this.name=Jt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class aC extends vp{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),r=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),a={specular:{value:new et().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(l){for(const u in a)l.uniforms[u]=a[u];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",r).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(l){a.specular.value=l}},specularMap:{get:function(){return a.specularMap.value},set:function(l){a.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(l){a.glossiness.value=l}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(l){a.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class jhe{constructor(){this.name=Jt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return aC}extendParams(e,t,r){const i=t.extensions[this.name];e.color=new et(1,1,1),e.opacity=1;const s=[];if(Array.isArray(i.diffuseFactor)){const o=i.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(i.diffuseTexture!==void 0&&s.push(r.assignTexture(e,"map",i.diffuseTexture,on)),e.emissive=new et(0,0,0),e.glossiness=i.glossinessFactor!==void 0?i.glossinessFactor:1,e.specular=new et(1,1,1),Array.isArray(i.specularFactor)&&e.specular.fromArray(i.specularFactor),i.specularGlossinessTexture!==void 0){const o=i.specularGlossinessTexture;s.push(r.assignTexture(e,"glossinessMap",o)),s.push(r.assignTexture(e,"specularMap",o,on))}return Promise.all(s)}createMaterial(e){const t=new aC(e);return t.fog=!0,t.color=e.color,t.map=e.map===void 0?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=e.aoMap===void 0?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=e.emissiveIntensity===void 0?1:e.emissiveIntensity,t.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,t.bumpMap=e.bumpMap===void 0?null:e.bumpMap,t.bumpScale=1,t.normalMap=e.normalMap===void 0?null:e.normalMap,t.normalMapType=Fl,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=e.specularMap===void 0?null:e.specularMap,t.specular=e.specular,t.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=e.envMap===void 0?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}class Vhe{constructor(){this.name=Jt.KHR_MESH_QUANTIZATION}}class OU extends yp{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,c=i-t,f=(r-t)/c,d=f*f,m=d*f,y=e*u,g=y-u,v=-2*m+3*d,x=m-d,w=1-v,b=x-d+f;for(let A=0;A!==a;A++){const M=o[g+A+a],I=o[g+A+l]*c,D=o[y+A+a],P=o[y+A]*c;s[A]=w*M+b*I+v*D+x*P}return s}}const Whe=new si;class qhe extends OU{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return Whe.fromArray(s).normalize().toArray(s),s}}const Za={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},rg={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},bB={9728:hr,9729:Ln,9984:Wm,9985:vw,9986:qm,9987:Ol},wB={33071:ti,33648:Uh,10497:Ju},_B={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},lC={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},cu={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Khe={CUBICSPLINE:void 0,LINEAR:Rf,STEP:zh},H3={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Jhe(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new vp({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:qu})),n.DefaultMaterial}function y0(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Uc(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function $he(n,e,t){let r=!1,i=!1,s=!1;for(let u=0,c=e.length;u<c;u++){const f=e[u];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let u=0,c=e.length;u<c;u++){const f=e[u];if(r){const d=f.POSITION!==void 0?t.getDependency("accessor",f.POSITION):n.attributes.position;o.push(d)}if(i){const d=f.NORMAL!==void 0?t.getDependency("accessor",f.NORMAL):n.attributes.normal;a.push(d)}if(s){const d=f.COLOR_0!==void 0?t.getDependency("accessor",f.COLOR_0):n.attributes.color;l.push(d)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const c=u[0],f=u[1],d=u[2];return r&&(n.morphAttributes.position=c),i&&(n.morphAttributes.normal=f),s&&(n.morphAttributes.color=d),n.morphTargetsRelative=!0,n})}function Xhe(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Yhe(n){const e=n.extensions&&n.extensions[Jt.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+AB(e.attributes):t=n.indices+":"+AB(n.attributes)+":"+n.mode,t}function AB(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function uC(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Qhe(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class Zhe{constructor(e={},t={}){var r,i;this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Che,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const s=typeof navigator<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,o=typeof navigator<"u"&&((r=navigator.userAgent)===null||r===void 0?void 0:r.indexOf("Firefox"))>-1,a=typeof navigator<"u"&&o?(i=navigator.userAgent)===null||i===void 0?void 0:i.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||s||o&&a<98?this.textureLoader=new sU(this.options.manager):this.textureLoader=new dU(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Rs(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};y0(s,a,i),Uc(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,c]of o.children.entries())s(c,a.children[u])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Jt.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Aa.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0)return Promise.resolve(null);const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=_B[i.type],u=rg[i.componentType],c=u.BYTES_PER_ELEMENT,f=c*l,d=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,y=i.normalized===!0;let g,v;if(m&&m!==f){const x=Math.floor(d/m),w="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+x+":"+i.count;let b=t.cache.get(w);b||(g=new u(a,x*m,i.count*m/c),b=new Ng(g,m/c),t.cache.add(w,b)),v=new Xu(b,l,d%m/c,y)}else a===null?g=new u(i.count*l):g=new u(a,d,i.count*l),v=new gn(g,l,y);if(i.sparse!==void 0){const x=_B.SCALAR,w=rg[i.sparse.indices.componentType],b=i.sparse.indices.byteOffset||0,A=i.sparse.values.byteOffset||0,M=new w(o[1],b,i.sparse.count*x),I=new u(o[2],A,i.sparse.count*l);a!==null&&(v=new gn(v.array.slice(),v.itemSize,v.normalized));for(let D=0,P=M.length;D<P;D++){const O=M[D];if(v.setX(O,I[D*l]),l>=2&&v.setY(O,I[D*l+1]),l>=3&&v.setZ(O,I[D*l+2]),l>=4&&v.setW(O,I[D*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return v})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(t,r).then(function(c){c.flipY=!1,o.name&&(c.name=o.name);const d=(s.samplers||{})[o.sampler]||{};return c.magFilter=bB[d.magFilter]||Ln,c.minFilter=bB[d.minFilter]||Ol,c.wrapS=wB[d.wrapS]||Ju,c.wrapT=wB[d.wrapT]||Ju,i.associations.set(c,{textures:e}),c}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(f){u=!0;const d=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(d),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const c=Promise.resolve(l).then(function(f){return new Promise(function(d,m){let y=d;t.isImageBitmapLoader===!0&&(y=function(g){const v=new ar(g);v.needsUpdate=!0,d(v)}),t.load(Aa.resolveURL(f,s.path),y,void 0,m)})}).then(function(f){return u===!0&&a.revokeObjectURL(l),f.userData.mimeType=o.mimeType||Qhe(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=c,c}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(r.texCoord!==void 0&&r.texCoord!=0&&!(t==="aoMap"&&r.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),s.extensions[Jt.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[Jt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Jt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(o.encoding=i),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Mw,Cr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Mi,Cr.prototype.copy.call(l,r),l.color.copy(r.color),this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}r.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=r}getMaterialType(){return vp}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[Jt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const f=i[Jt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=f.getMaterialType(),u.push(f.extendParams(a,s,t))}else if(l[Jt.KHR_MATERIALS_UNLIT]){const f=i[Jt.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),u.push(f.extendParams(a,s,t))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new et(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const d=f.baseColorFactor;a.color.fromArray(d),a.opacity=d[3]}f.baseColorTexture!==void 0&&u.push(t.assignTexture(a,"map",f.baseColorTexture,on)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),u.push(t.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(d){return d.getMaterialType&&d.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(d){return d.extendMaterialParams&&d.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Fo);const c=s.alphaMode||H3.OPAQUE;if(c===H3.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,c===H3.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==As&&(u.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Fe(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}return s.occlusionTexture!==void 0&&o!==As&&(u.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==As&&(a.emissive=new et().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==As&&u.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,on)),Promise.all(u).then(function(){let f;return o===aC?f=i[Jt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):f=new o(a),s.name&&(f.name=s.name),Uc(f,s),t.associations.set(f,{materials:e}),s.extensions&&y0(i,f,s),f})}createUniqueName(e){const t=nn.sanitizeNodeName(e||"");let r=t;for(let i=1;this.nodeNamesUsed[r];++i)r=t+"_"+i;return this.nodeNamesUsed[r]=!0,r}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Jt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return SB(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],c=Yhe(u),f=i[c];if(f)o.push(f.promise);else{let d;u.extensions&&u.extensions[Jt.KHR_DRACO_MESH_COMPRESSION]?d=s(u):d=SB(new Ut,u,t),i[c]={primitive:u,promise:d},o.push(d)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const c=o[l].material===void 0?Jhe(this.cache):this.getDependency("material",o[l].material);a.push(c)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),c=l[l.length-1],f=[];for(let m=0,y=c.length;m<y;m++){const g=c[m],v=o[m];let x;const w=u[m];if(v.mode===Za.TRIANGLES||v.mode===Za.TRIANGLE_STRIP||v.mode===Za.TRIANGLE_FAN||v.mode===void 0)x=s.isSkinnedMesh===!0?new rT(g,w):new Er(g,w),x.isSkinnedMesh===!0&&!x.geometry.attributes.skinWeight.normalized&&x.normalizeSkinWeights(),v.mode===Za.TRIANGLE_STRIP?x.geometry=EB(x.geometry,cF):v.mode===Za.TRIANGLE_FAN&&(x.geometry=EB(x.geometry,K6));else if(v.mode===Za.LINES)x=new $o(g,w);else if(v.mode===Za.LINE_STRIP)x=new Ml(g,w);else if(v.mode===Za.LINE_LOOP)x=new iT(g,w);else if(v.mode===Za.POINTS)x=new sT(g,w);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+v.mode);Object.keys(x.geometry.morphAttributes).length>0&&Xhe(x,s),x.name=t.createUniqueName(s.name||"mesh_"+e),Uc(x,s),v.extensions&&y0(i,x,v),t.assignFinalMaterial(x),f.push(x)}for(let m=0,y=f.length;m<y;m++)t.associations.set(f[m],{meshes:e,primitives:m});if(f.length===1)return f[0];const d=new dl;t.associations.set(d,{meshes:e});for(let m=0,y=f.length;m<y;m++)d.add(f[m]);return d})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new Dn(gF.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new ml(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Uc(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r={joints:t.joints};return t.inverseBindMatrices===void 0?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then(function(i){return r.inverseBindMatrices=i,r})}loadAnimation(e){const r=this.json.animations[e],i=[],s=[],o=[],a=[],l=[];for(let u=0,c=r.channels.length;u<c;u++){const f=r.channels[u],d=r.samplers[f.sampler],m=f.target,y=m.node,g=r.parameters!==void 0?r.parameters[d.input]:d.input,v=r.parameters!==void 0?r.parameters[d.output]:d.output;i.push(this.getDependency("node",y)),s.push(this.getDependency("accessor",g)),o.push(this.getDependency("accessor",v)),a.push(d),l.push(m)}return Promise.all([Promise.all(i),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const c=u[0],f=u[1],d=u[2],m=u[3],y=u[4],g=[];for(let x=0,w=c.length;x<w;x++){const b=c[x],A=f[x],M=d[x],I=m[x],D=y[x];if(b===void 0)continue;b.updateMatrix();let P;switch(cu[D.path]){case cu.weights:P=jh;break;case cu.rotation:P=Yu;break;case cu.position:case cu.scale:default:P=Vh;break}const O=b.name?b.name:b.uuid,V=I.interpolation!==void 0?Khe[I.interpolation]:Rf,q=[];cu[D.path]===cu.weights?b.traverse(function(H){H.morphTargetInfluences&&q.push(H.name?H.name:H.uuid)}):q.push(O);let ne=M.array;if(M.normalized){const H=uC(ne.constructor),_=new Float32Array(ne.length);for(let T=0,k=ne.length;T<k;T++)_[T]=ne[T]*H;ne=_}for(let H=0,_=q.length;H<_;H++){const T=new P(q[H]+"."+cu[D.path],A.array,ne,V);I.interpolation==="CUBICSPLINE"&&(T.createInterpolant=function(U){const L=this instanceof Yu?qhe:OU;return new L(this.times,this.values,this.getValueSize()/3,U)},T.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),g.push(T)}}const v=r.name?r.name:"animation_"+e;return new Wh(v,void 0,g)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(!!a.isMesh)for(let l=0,u=i.weights.length;l<u;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this.extensions,i=this,s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"";return function(){const a=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(u){return i._getNodeRef(i.cameraCache,s.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),Promise.all(a)}().then(function(a){let l;if(s.isBone===!0?l=new Cw:a.length>1?l=new dl:a.length===1?l=a[0]:l=new un,l!==a[0])for(let u=0,c=a.length;u<c;u++)l.add(a[u]);if(s.name&&(l.userData.name=s.name,l.name=o),Uc(l,s),s.extensions&&y0(r,l,s),s.matrix!==void 0){const u=new Bt;u.fromArray(s.matrix),l.applyMatrix4(u)}else s.translation!==void 0&&l.position.fromArray(s.translation),s.rotation!==void 0&&l.quaternion.fromArray(s.rotation),s.scale!==void 0&&l.scale.fromArray(s.scale);return i.associations.has(l)||i.associations.set(l,{}),i.associations.get(l).nodes=e,l})}loadScene(e){const t=this.json,r=this.extensions,i=this.json.scenes[e],s=this,o=new dl;i.name&&(o.name=s.createUniqueName(i.name)),Uc(o,i),i.extensions&&y0(r,o,i);const a=i.nodes||[],l=[];for(let u=0,c=a.length;u<c;u++)l.push(FU(a[u],o,t,s));return Promise.all(l).then(function(){const u=c=>{const f=new Map;for(const[d,m]of s.associations)(d instanceof Cr||d instanceof ar)&&f.set(d,m);return c.traverse(d=>{const m=s.associations.get(d);m!=null&&f.set(d,m)}),f};return s.associations=u(o),o})}}function FU(n,e,t,r){const i=t.nodes[n];return r.getDependency("node",n).then(function(s){if(i.skin===void 0)return s;let o;return r.getDependency("skin",i.skin).then(function(a){o=a;const l=[];for(let u=0,c=o.joints.length;u<c;u++)l.push(r.getDependency("node",o.joints[u]));return Promise.all(l)}).then(function(a){return s.traverse(function(l){if(!l.isMesh)return;const u=[],c=[];for(let f=0,d=a.length;f<d;f++){const m=a[f];if(m){u.push(m);const y=new Bt;o.inverseBindMatrices!==void 0&&y.fromArray(o.inverseBindMatrices.array,f*16),c.push(y)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[f])}l.bind(new Lg(u,c),l.matrixWorld)}),s})}).then(function(s){e.add(s);const o=[];if(i.children){const a=i.children;for(let l=0,u=a.length;l<u;l++){const c=a[l];o.push(FU(c,s,t,r))}}return Promise.all(o)})}function epe(n,e,t){const r=e.attributes,i=new Ul;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(i.set(new Y(l[0],l[1],l[2]),new Y(u[0],u[1],u[2])),a.normalized){const c=uC(rg[a.componentType]);i.min.multiplyScalar(c),i.max.multiplyScalar(c)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new Y,l=new Y;for(let u=0,c=s.length;u<c;u++){const f=s[u];if(f.POSITION!==void 0){const d=t.json.accessors[f.POSITION],m=d.min,y=d.max;if(m!==void 0&&y!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(y[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(y[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(y[2]))),d.normalized){const g=uC(rg[d.componentType]);l.multiplyScalar(g)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new zl;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function SB(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=lC[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return Uc(n,e),epe(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?$he(n,e.targets,t):n})}function EB(n,e){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(e===K6)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s}const tpe={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},npe={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `};class rpe extends iU{constructor(e){super(e),this.type=Uo}parse(e){const a=function(b,A){switch(b){case 1:console.error("THREE.RGBELoader Read Error: "+(A||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(A||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(A||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(A||""))}return-1},f=`
`,d=function(b,A,M){A=A||1024;let D=b.pos,P=-1,O=0,V="",q=String.fromCharCode.apply(null,new Uint16Array(b.subarray(D,D+128)));for(;0>(P=q.indexOf(f))&&O<A&&D<b.byteLength;)V+=q,O+=q.length,D+=128,q+=String.fromCharCode.apply(null,new Uint16Array(b.subarray(D,D+128)));return-1<P?(M!==!1&&(b.pos+=O+P+1),V+q.slice(0,P)):!1},m=function(b){const A=/^#\?(\S+)/,M=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,I=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,D=/^\s*FORMAT=(\S+)\s*$/,P=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,O={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let V,q;if(b.pos>=b.byteLength||!(V=d(b)))return a(1,"no header found");if(!(q=V.match(A)))return a(3,"bad initial token");for(O.valid|=1,O.programtype=q[1],O.string+=V+`
`;V=d(b),V!==!1;){if(O.string+=V+`
`,V.charAt(0)==="#"){O.comments+=V+`
`;continue}if((q=V.match(M))&&(O.gamma=parseFloat(q[1])),(q=V.match(I))&&(O.exposure=parseFloat(q[1])),(q=V.match(D))&&(O.valid|=2,O.format=q[1]),(q=V.match(P))&&(O.valid|=4,O.height=parseInt(q[1],10),O.width=parseInt(q[2],10)),O.valid&2&&O.valid&4)break}return O.valid&2?O.valid&4?O:a(3,"missing image size specifier"):a(3,"missing format specifier")},y=function(b,A,M){const I=A;if(I<8||I>32767||b[0]!==2||b[1]!==2||b[2]&128)return new Uint8Array(b);if(I!==(b[2]<<8|b[3]))return a(3,"wrong scanline width");const D=new Uint8Array(4*A*M);if(!D.length)return a(4,"unable to allocate buffer space");let P=0,O=0;const V=4*I,q=new Uint8Array(4),ne=new Uint8Array(V);let H=M;for(;H>0&&O<b.byteLength;){if(O+4>b.byteLength)return a(1);if(q[0]=b[O++],q[1]=b[O++],q[2]=b[O++],q[3]=b[O++],q[0]!=2||q[1]!=2||(q[2]<<8|q[3])!=I)return a(3,"bad rgbe scanline format");let _=0,T;for(;_<V&&O<b.byteLength;){T=b[O++];const U=T>128;if(U&&(T-=128),T===0||_+T>V)return a(3,"bad scanline data");if(U){const L=b[O++];for(let F=0;F<T;F++)ne[_++]=L}else ne.set(b.subarray(O,O+T),_),_+=T,O+=T}const k=I;for(let U=0;U<k;U++){let L=0;D[P]=ne[U+L],L+=I,D[P+1]=ne[U+L],L+=I,D[P+2]=ne[U+L],L+=I,D[P+3]=ne[U+L],P+=4}H--}return D},g=function(b,A,M,I){const D=b[A+3],P=Math.pow(2,D-128)/255;M[I+0]=b[A+0]*P,M[I+1]=b[A+1]*P,M[I+2]=b[A+2]*P,M[I+3]=1},v=function(b,A,M,I){const D=b[A+3],P=Math.pow(2,D-128)/255;M[I+0]=U0.toHalfFloat(Math.min(b[A+0]*P,65504)),M[I+1]=U0.toHalfFloat(Math.min(b[A+1]*P,65504)),M[I+2]=U0.toHalfFloat(Math.min(b[A+2]*P,65504)),M[I+3]=U0.toHalfFloat(1)},x=new Uint8Array(e);x.pos=0;const w=m(x);if(w!==-1){const b=w.width,A=w.height,M=y(x.subarray(x.pos),b,A);if(M!==-1){let I,D,P;switch(this.type){case so:P=M.length/4;const O=new Float32Array(P*4);for(let q=0;q<P;q++)g(M,q*4,O,q*4);I=O,D=so;break;case Uo:P=M.length/4;const V=new Uint16Array(P*4);for(let q=0;q<P;q++)v(M,q*4,V,q*4);I=V,D=Uo;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:b,height:A,data:I,header:w.string,gamma:w.gamma,exposure:w.exposure,type:D}}}return null}setDataType(e){return this.type=e,this}load(e,t,r,i){function s(o,a){switch(o.type){case so:case Uo:o.encoding=Wo,o.minFilter=Ln,o.magFilter=Ln,o.generateMipmaps=!1,o.flipY=!0;break}t&&t(o,a)}return super.load(e,s,r,i)}}const j3=new WeakMap;class ipe extends Hi{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new Rs(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const u=t.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=u.name)}const r=JSON.stringify(t);if(j3.has(e)){const l=j3.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((u,c)=>{i._callbacks[s]={resolve:u,reject:c},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),j3.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new Ut;e.index&&t.setIndex(new gn(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new gn(o,a))}return t}_loadLibrary(e,t){const r=new Rs(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=spe.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function spe(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(c){n.onModuleLoaded=function(f){c({draco:f})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(c=>{const f=c.draco,d=new f.Decoder,m=new f.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const y=t(f,d,m,u),g=y.attributes.map(v=>v.array.buffer);y.index&&g.push(y.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:y},g)}catch(y){console.error(y),self.postMessage({type:"error",id:a.id,error:y.message})}finally{f.destroy(m),f.destroy(d)}});break}};function t(o,a,l,u){const c=u.attributeIDs,f=u.attributeTypes;let d,m;const y=a.GetEncodedGeometryType(l);if(y===o.TRIANGULAR_MESH)d=new o.Mesh,m=a.DecodeBufferToMesh(l,d);else if(y===o.POINT_CLOUD)d=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,d);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||d.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const g={index:null,attributes:[]};for(const v in c){const x=self[f[v]];let w,b;if(u.useUniqueIDs)b=c[v],w=a.GetAttributeByUniqueId(d,b);else{if(b=a.GetAttributeId(d,o[c[v]]),b===-1)continue;w=a.GetAttribute(d,b)}g.attributes.push(i(o,a,d,v,x,w))}return y===o.TRIANGULAR_MESH&&(g.index=r(o,a,d)),o.destroy(d),g}function r(o,a,l){const c=l.num_faces()*3,f=c*4,d=o._malloc(f);a.GetTrianglesUInt32Array(l,f,d);const m=new Uint32Array(o.HEAPF32.buffer,d,c).slice();return o._free(d),{array:m,itemSize:1}}function i(o,a,l,u,c,f){const d=f.num_components(),y=l.num_points()*d,g=y*c.BYTES_PER_ELEMENT,v=s(o,c),x=o._malloc(g);a.GetAttributeDataArrayForAllPoints(l,f,v,g,x);const w=new c(o.HEAPF32.buffer,x,y).slice();return o._free(x),{name:u,array:w,itemSize:d}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Sx;const V3=()=>{if(Sx)return Sx;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const d=new Uint8Array(f.length);for(let y=0;y<f.length;++y){const g=f.charCodeAt(y);d[y]=g>96?g-71:g>64?g-65:g>47?g+4:g>46?63:62}let m=0;for(let y=0;y<f.length;++y)d[m++]=d[y]<60?r[d[y]]:(d[y]-60)*64+d[++y];return d.buffer.slice(0,m)}function l(f,d,m,y,g,v){const x=s.exports.sbrk,w=m+3&-4,b=x(w*y),A=x(g.length),M=new Uint8Array(s.exports.memory.buffer);M.set(g,A);const I=f(b,m,y,A,g.length);if(I===0&&v&&v(b,w,y),d.set(M.subarray(b,b+m*y)),x(b-x(0)),I!==0)throw new Error(`Malformed buffer data: ${I}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},c={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Sx={ready:o,supported:!0,decodeVertexBuffer(f,d,m,y,g){l(s.exports.meshopt_decodeVertexBuffer,f,d,m,y,s.exports[u[g]])},decodeIndexBuffer(f,d,m,y){l(s.exports.meshopt_decodeIndexBuffer,f,d,m,y)},decodeIndexSequence(f,d,m,y){l(s.exports.meshopt_decodeIndexSequence,f,d,m,y)},decodeGltfBuffer(f,d,m,y,g,v){l(s.exports[c[g]],f,d,m,y,s.exports[u[v]])}},Sx},ope=J.exports.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,onChange:s,onStart:o,onEnd:a,...l},u)=>{const c=Li(A=>A.invalidate),f=Li(A=>A.camera),d=Li(A=>A.gl),m=Li(A=>A.events),y=Li(A=>A.set),g=Li(A=>A.get),v=Li(A=>A.performance),x=e||f,w=r||m.connected||d.domElement,b=J.exports.useMemo(()=>new Ehe(x),[x]);return IT(()=>{b.enabled&&b.update()},-1),J.exports.useEffect(()=>(b.connect(w),()=>void b.dispose()),[w,t,b,c]),J.exports.useEffect(()=>{const A=M=>{c(),t&&v.regress(),s&&s(M)};return b.addEventListener("change",A),o&&b.addEventListener("start",o),a&&b.addEventListener("end",a),()=>{o&&b.removeEventListener("start",o),a&&b.removeEventListener("end",a),b.removeEventListener("change",A)}},[s,o,a,b,c]),J.exports.useEffect(()=>{if(n){const A=g().controls;return y({controls:b}),()=>y({controls:A})}},[n,b]),te("primitive",{ref:u,object:b,enableDamping:i,...l})});let Ex=null;function UU(n,e,t){return r=>{t&&t(r),n&&(Ex||(Ex=new ipe),Ex.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.4.3/"),r.setDRACOLoader(Ex)),e&&r.setMeshoptDecoder(typeof V3=="function"?V3():V3)}}function NT(n,e=!0,t=!0,r){return xp(kT,n,UU(e,t,r))}NT.preload=(n,e=!0,t=!0,r)=>xp.preload(kT,n,UU(e,t,r));NT.clear=n=>xp.clear(kT,n);const W3={sunset:"venice/venice_sunset_1k.hdr",dawn:"kiara/kiara_1_dawn_1k.hdr",night:"dikhololo/dikhololo_night_1k.hdr",warehouse:"empty-wharehouse/empty_warehouse_01_1k.hdr",forest:"forrest-slope/forest_slope_1k.hdr",apartment:"lebombo/lebombo_1k.hdr",studio:"studio-small-3/studio_small_03_1k.hdr",city:"potsdamer-platz/potsdamer_platz_1k.hdr",park:"rooitou/rooitou_park_1k.hdr",lobby:"st-fagans/st_fagans_interior_1k.hdr"},ape="https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/",lpe=n=>n.current&&n.current.isScene,upe=n=>lpe(n)?n.current:n;function LT(n,e,t,r,i=0){const s=upe(e||t),o=s.background,a=s.environment,l=s.backgroundBlurriness||0;return n!=="only"&&(s.environment=r),n&&(s.background=r),n&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=i),()=>{n!=="only"&&(s.environment=a),n&&(s.background=o),n&&s.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=l)}}function DT({scene:n,background:e=!1,blur:t,map:r}){const i=Li(s=>s.scene);return J.exports.useLayoutEffect(()=>{if(r)return LT(e,n,i,r,t)},[i,n,r,e,t]),null}function zU({files:n=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:t=void 0,encoding:r=void 0,extensions:i}){if(t){if(!(t in W3))throw new Error("Preset must be one of: "+Object.keys(W3).join(", "));n=W3[t],e=ape}const s=Array.isArray(n),a=xp(s?rU:rpe,s?[n]:n,u=>{u.setPath(e),i&&i(u)}),l=s?a[0]:a;return l.mapping=s?Cl:Fh,l.encoding=r??s?on:Wo,l}function GU({background:n=!1,scene:e,blur:t,...r}){const i=zU(r),s=Li(o=>o.scene);return J.exports.useLayoutEffect(()=>LT(n,e,s,i,t),[i,n,e,s,t]),null}function cpe({children:n,near:e=1,far:t=1e3,resolution:r=256,frames:i=1,map:s,background:o=!1,blur:a,scene:l,files:u,path:c,preset:f=void 0,extensions:d}){const m=Li(b=>b.gl),y=Li(b=>b.scene),g=J.exports.useRef(null),[v]=J.exports.useState(()=>new Ew),x=J.exports.useMemo(()=>{const b=new Q6(r);return b.texture.type=Uo,b},[r]);J.exports.useLayoutEffect(()=>(i===1&&g.current.update(m,v),LT(o,l,y,x.texture,a)),[n,v,x.texture,l,y,o,i,m]);let w=1;return IT(()=>{(i===1/0||w<i)&&(g.current.update(m,v),w++)}),te(vr,{children:nhe(Tt(vr,{children:[n,te("cubeCamera",{ref:g,args:[e,t,x]}),u||f?te(GU,{background:!0,files:u,preset:f,path:c,extensions:d}):s?te(DT,{background:!0,map:s,extensions:d}):null]}),v)})}function fpe(n){var e,t,r,i;const s=zU(n),o=n.map||s;J.exports.useMemo(()=>PU({GroundProjectedEnvImpl:She}),[]);const a=J.exports.useMemo(()=>[o],[o]),l=(e=n.ground)==null?void 0:e.height,u=(t=n.ground)==null?void 0:t.radius,c=(r=(i=n.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return Tt(vr,{children:[te(DT,{...n,map:o}),te("groundProjectedEnvImpl",{args:a,scale:c,height:l,radius:u})]})}function dpe(n){return n.ground?te(fpe,{...n}):n.map?te(DT,{...n}):n.children?te(cpe,{...n}):te(GU,{...n})}const hpe=J.exports.forwardRef(({scale:n=10,frames:e=1/0,opacity:t=1,width:r=1,height:i=1,blur:s=1,far:o=10,resolution:a=512,smooth:l=!0,color:u="#000000",depthWrite:c=!1,renderOrder:f,...d},m)=>{const y=Li(V=>V.scene),g=Li(V=>V.gl),v=J.exports.useRef(null);r=r*(Array.isArray(n)?n[0]:n||1),i=i*(Array.isArray(n)?n[1]:n||1);const[x,w,b,A,M,I,D]=J.exports.useMemo(()=>{const V=new os(a,a),q=new os(a,a);q.texture.generateMipmaps=V.texture.generateMipmaps=!1;const ne=new Gf(r,i).rotateX(Math.PI/2),H=new Er(ne),_=new _w;_.depthTest=_.depthWrite=!1,_.onBeforeCompile=U=>{U.uniforms={...U.uniforms,ucolor:{value:new et(u)}},U.fragmentShader=U.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),U.fragmentShader=U.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};const T=new Is(tpe),k=new Is(npe);return k.depthTest=T.depthTest=!1,[V,ne,_,H,T,k,q]},[a,r,i,n,u]),P=V=>{A.visible=!0,A.material=M,M.uniforms.tDiffuse.value=x.texture,M.uniforms.h.value=V*1/256,g.setRenderTarget(D),g.render(A,v.current),A.material=I,I.uniforms.tDiffuse.value=D.texture,I.uniforms.v.value=V*1/256,g.setRenderTarget(x),g.render(A,v.current),A.visible=!1};let O=0;return IT(()=>{if(v.current&&(e===1/0||O<e)){const V=y.background;y.background=null;const q=y.overrideMaterial;y.overrideMaterial=b,g.setRenderTarget(x),g.render(y,v.current),y.overrideMaterial=q,P(s),l&&P(s*.4),g.setRenderTarget(null),y.background=V,O++}}),Tt("group",{"rotation-x":Math.PI/2,...d,ref:m,children:[te("mesh",{renderOrder:f,geometry:w,scale:[1,-1,1],rotation:[-Math.PI/2,0,0],children:te("meshBasicMaterial",{map:x.texture,"map-encoding":g.outputEncoding,transparent:!0,opacity:t,depthWrite:c})}),te("orthographicCamera",{ref:v,args:[-r/2,r/2,i/2,-i/2,0,o]})]})}),ppe={rembrandt:{main:[1,2,1],fill:[-2,-.5,-2]},portrait:{main:[-1,2,.5],fill:[-1,.5,-1.5]},upfront:{main:[0,2,1],fill:[-1,.5,-1.5]},soft:{main:[-2,4,4],fill:[-1,.5,-1.5]}};function mpe({children:n,controls:e,shadows:t=!0,adjustCamera:r=!0,environment:i="city",intensity:s=1,preset:o="rembrandt",shadowBias:a=0,contactShadow:l={blur:2,opacity:.5,position:[0,0,0]},...u}){const c=ppe[o],f=Li(b=>b.camera),d=Li(b=>b.controls),m=J.exports.useRef(null),y=J.exports.useRef(null),[{radius:g,width:v,height:x},w]=J.exports.useState({radius:0,width:0,height:0});return J.exports.useLayoutEffect(()=>{m.current.position.set(0,0,0),m.current.updateWorldMatrix(!0,!0);const b=new Ul().setFromObject(y.current),A=new Y,M=new zl,I=b.max.y-b.min.y,D=b.max.x-b.min.x;b.getCenter(A),b.getBoundingSphere(M),w({radius:M.radius,width:D,height:I}),m.current.position.set(-A.x,-A.y+I/2,-A.z)},[n]),J.exports.useLayoutEffect(()=>{if(r){const b=g/(x>v?1.5:2.5);f.position.set(0,g*.5,g*2.5),f.near=.1,f.far=Math.max(5e3,g*4),f.lookAt(0,b,0);const A=d||e?.current;A&&(A.target.set(0,b,0),A.update())}},[d,g,x,v,r]),Tt("group",{...u,children:[te("group",{ref:m,children:te("group",{ref:y,children:n})}),l&&te(hpe,{scale:g*2,far:g/2,...l}),i&&te(dpe,{preset:i}),te("ambientLight",{intensity:s/3}),te("spotLight",{penumbra:1,position:[c.main[0]*g,c.main[1]*g,c.main[2]*g],intensity:s*2,castShadow:t,"shadow-bias":a}),te("pointLight",{position:[c.fill[0]*g,c.fill[1]*g,c.fill[2]*g],intensity:s})]})}const gpe=({jsonPath:n,listeners:e,gltf:t,setHovered:r})=>{const[i,s]=J.exports.useState();J.exports.useEffect(()=>{if(e.path.resource==="nodes"){const a=t.nodes[e.path.name].clone();s(a);return}s(void 0)},[e.path,t]);const o=J.exports.useCallback(()=>{e.callbacks.forEach(a=>a(n))},[e.callbacks,n]);return i?te("primitive",{object:i,onClick:o,onPointerOver:()=>r(!0),onPointerOut:()=>r(!1)}):null},vpe=({scene:n,onClickListeners:e})=>{const t=J.exports.useRef(),[r,i]=J.exports.useState(!1);return _he(r,"pointer","auto"),Tt(whe,{className:"w-full h-full",children:[te(ope,{target:t.current?.position,makeDefault:!0}),te(mpe,{shadows:!0,adjustCamera:!0,intensity:1,environment:"city",preset:"rembrandt",children:te(vr,{children:te("primitive",{object:n.scene,ref:t,children:Object.entries(e).map(([s,o])=>te(gpe,{gltf:n,jsonPath:s,listeners:o,setHovered:i},s))})})})]})};function ype({storage:n,key:e="REACT_QUERY_OFFLINE_CACHE",throttleTime:t=1e3,serialize:r=JSON.stringify,deserialize:i=JSON.parse,retry:s}){if(typeof n<"u"){const o=a=>{try{n.setItem(e,r(a))}catch(l){return l}};return{persistClient:xpe(a=>{let l=a,u=o(l),c=0;for(;u&&l;)c++,l=s?.({persistedClient:l,error:u,errorCount:c}),l&&(u=o(l))},t),restoreClient:()=>{const a=n.getItem(e);if(!!a)return i(a)},removeClient:()=>{n.removeItem(e)}}}return{persistClient:CB,restoreClient:()=>{},removeClient:CB}}function xpe(n,e=100){let t=null,r;return function(...i){r=i,t===null&&(t=setTimeout(()=>{n(...r),t=null},e))}}function CB(){}class Jg{constructor(){this.listeners=[],this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.push(e),this.onSubscribe(),()=>{this.listeners=this.listeners.filter(t=>t!==e),this.onUnsubscribe()}}hasListeners(){return this.listeners.length>0}onSubscribe(){}onUnsubscribe(){}}const ig=typeof window>"u";function Zs(){}function bpe(n,e){return typeof n=="function"?n(e):n}function cC(n){return typeof n=="number"&&n>=0&&n!==1/0}function HU(n,e){return Math.max(n+(e||0)-Date.now(),0)}function q3(n,e,t){return kw(n)?typeof e=="function"?{...t,queryKey:n,queryFn:e}:{...e,queryKey:n}:n}function yu(n,e,t){return kw(n)?[{...e,queryKey:n},t]:[n||{},e]}function MB(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=n;if(kw(o)){if(r){if(e.queryHash!==OT(o,e.options))return!1}else if(!yb(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof i<"u"&&i!==e.state.fetchStatus||s&&!s(e))}function TB(n,e){const{exact:t,fetching:r,predicate:i,mutationKey:s}=n;if(kw(s)){if(!e.options.mutationKey)return!1;if(t){if(nf(e.options.mutationKey)!==nf(s))return!1}else if(!yb(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function OT(n,e){return(e?.queryKeyHashFn||nf)(n)}function nf(n){return JSON.stringify(n,(e,t)=>fC(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function yb(n,e){return jU(n,e)}function jU(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!jU(n[t],e[t])):!1}function VU(n,e){if(n===e)return n;const t=IB(n)&&IB(e);if(t||fC(n)&&fC(e)){const r=t?n.length:Object.keys(n).length,i=t?e:Object.keys(e),s=i.length,o=t?[]:{};let a=0;for(let l=0;l<s;l++){const u=t?l:i[l];o[u]=VU(n[u],e[u]),o[u]===n[u]&&a++}return r===s&&a===r?n:o}return e}function PB(n,e){if(n&&!e||e&&!n)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function IB(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function fC(n){if(!RB(n))return!1;const e=n.constructor;if(typeof e>"u")return!0;const t=e.prototype;return!(!RB(t)||!t.hasOwnProperty("isPrototypeOf"))}function RB(n){return Object.prototype.toString.call(n)==="[object Object]"}function kw(n){return Array.isArray(n)}function WU(n){return new Promise(e=>{setTimeout(e,n)})}function BB(n){WU(0).then(n)}function wpe(){if(typeof AbortController=="function")return new AbortController}function dC(n,e,t){return t.isDataEqual!=null&&t.isDataEqual(n,e)?n:typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?VU(n,e):e}class _pe extends Jg{constructor(){super(),this.setup=e=>{if(!ig&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var t;this.setup=e,(t=this.cleanup)==null||t.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.focused=e,e&&this.onFocus()}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const xb=new _pe;class Ape extends Jg{constructor(){super(),this.setup=e=>{if(!ig&&window.addEventListener){const t=()=>e();return window.addEventListener("online",t,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var t;this.setup=e,(t=this.cleanup)==null||t.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(e){this.online=e,e&&this.onOnline()}onOnline(){this.listeners.forEach(e=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const bb=new Ape;function Spe(n){return Math.min(1e3*2**n,3e4)}function Nw(n){return(n??"online")==="online"?bb.isOnline():!0}class qU{constructor(e){this.revert=e?.revert,this.silent=e?.silent}}function x1(n){return n instanceof qU}function KU(n){let e=!1,t=0,r=!1,i,s,o;const a=new Promise((v,x)=>{s=v,o=x}),l=v=>{r||(m(new qU(v)),n.abort==null||n.abort())},u=()=>{e=!0},c=()=>{e=!1},f=()=>!xb.isFocused()||n.networkMode!=="always"&&!bb.isOnline(),d=v=>{r||(r=!0,n.onSuccess==null||n.onSuccess(v),i?.(),s(v))},m=v=>{r||(r=!0,n.onError==null||n.onError(v),i?.(),o(v))},y=()=>new Promise(v=>{i=x=>{if(r||!f())return v(x)},n.onPause==null||n.onPause()}).then(()=>{i=void 0,r||n.onContinue==null||n.onContinue()}),g=()=>{if(r)return;let v;try{v=n.fn()}catch(x){v=Promise.reject(x)}Promise.resolve(v).then(d).catch(x=>{var w,b;if(r)return;const A=(w=n.retry)!=null?w:3,M=(b=n.retryDelay)!=null?b:Spe,I=typeof M=="function"?M(t,x):M,D=A===!0||typeof A=="number"&&t<A||typeof A=="function"&&A(t,x);if(e||!D){m(x);return}t++,n.onFail==null||n.onFail(t,x),WU(I).then(()=>{if(f())return y()}).then(()=>{e?m(x):g()})})};return Nw(n.networkMode)?g():y().then(g),{promise:a,cancel:l,continue:()=>{i?.()},cancelRetry:u,continueRetry:c}}const FT=console;function Epe(){let n=[],e=0,t=c=>{c()},r=c=>{c()};const i=c=>{let f;e++;try{f=c()}finally{e--,e||a()}return f},s=c=>{e?n.push(c):BB(()=>{t(c)})},o=c=>(...f)=>{s(()=>{c(...f)})},a=()=>{const c=n;n=[],c.length&&BB(()=>{r(()=>{c.forEach(f=>{t(f)})})})};return{batch:i,batchCalls:o,schedule:s,setNotifyFunction:c=>{t=c},setBatchNotifyFunction:c=>{r=c}}}const _r=Epe();class JU{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cC(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(ig?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Cpe extends JU{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||FT,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||Mpe(this.options),this.state=this.initialState,this.meta=e.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.meta=e?.meta,this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,t){const r=dC(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}cancel(e){var t;const r=this.promise;return(t=this.retryer)==null||t.cancel(e),r?r.then(Zs).catch(Zs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!HU(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t&&t.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t&&t.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.indexOf(e)===-1&&(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.indexOf(e)!==-1&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,t){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&t!=null&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var s;return(s=this.retryer)==null||s.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}Array.isArray(this.options.queryKey);const o=wpe(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};l(a);const u=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn"),c={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u,meta:this.meta};if(l(c),(r=this.options.behavior)==null||r.onFetch(c),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=c.fetchOptions)==null?void 0:i.meta)){var f;this.dispatch({type:"fetch",meta:(f=c.fetchOptions)==null?void 0:f.meta})}const d=m=>{if(x1(m)&&m.silent||this.dispatch({type:"error",error:m}),!x1(m)){var y,g;(y=(g=this.cache.config).onError)==null||y.call(g,m,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=KU({fn:c.fetchFn,abort:o?.abort.bind(o),onSuccess:m=>{var y,g;if(typeof m>"u"){d(new Error("undefined"));return}this.setData(m),(y=(g=this.cache.config).onSuccess)==null||y.call(g,m,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:d,onFail:(m,y)=>{this.dispatch({type:"failed",failureCount:m,error:y})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const t=r=>{var i,s;switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:Nw(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(s=e.dataUpdatedAt)!=null?s:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return x1(o)&&o.revert&&this.revertState?{...this.revertState}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),_r.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function Mpe(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=typeof e<"u",r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"loading",fetchStatus:"idle"}}class Tpe extends Jg{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,t,r){var i;const s=t.queryKey,o=(i=t.queryHash)!=null?i:OT(s,t);let a=this.get(o);return a||(a=new Cpe({cache:this,logger:e.getLogger(),queryKey:s,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(s),meta:t.meta}),this.add(a)),a}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter(r=>r!==e),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){_r.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,t){const[r]=yu(e,t);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>MB(r,i))}findAll(e,t){const[r]=yu(e,t);return Object.keys(r).length>0?this.queries.filter(i=>MB(r,i)):this.queries}notify(e){_r.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){_r.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){_r.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class Ppe extends JU{constructor(e){super(),this.options={...e.defaultOptions,...e.options},this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||FT,this.observers=[],this.state=e.state||Ipe(),this.meta=e.meta,this.updateCacheTime(this.options.cacheTime),this.scheduleGc()}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.indexOf(e)===-1&&(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(t=>t!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()}async execute(){const e=()=>{var b;return this.retryer=KU({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(A,M)=>{this.dispatch({type:"failed",failureCount:A,error:M})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(b=this.options.retry)!=null?b:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},t=this.state.status==="loading";try{var r,i,s,o,a,l;if(!t){var u,c,f,d;this.dispatch({type:"loading",variables:this.options.variables}),await((u=(c=this.mutationCache.config).onMutate)==null?void 0:u.call(c,this.state.variables,this));const A=await((f=(d=this.options).onMutate)==null?void 0:f.call(d,this.state.variables));A!==this.state.context&&this.dispatch({type:"loading",context:A,variables:this.state.variables})}const b=await e();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,b,this.state.variables,this.state.context,this)),await((s=(o=this.options).onSuccess)==null?void 0:s.call(o,b,this.state.variables,this.state.context)),await((a=(l=this.options).onSettled)==null?void 0:a.call(l,b,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:b}),b}catch(b){try{var m,y,g,v,x,w;throw await((m=(y=this.mutationCache.config).onError)==null?void 0:m.call(y,b,this.state.variables,this.state.context,this)),await((g=(v=this.options).onError)==null?void 0:g.call(v,b,this.state.variables,this.state.context)),await((x=(w=this.options).onSettled)==null?void 0:x.call(w,void 0,b,this.state.variables,this.state.context)),b}finally{this.dispatch({type:"error",error:b})}}}dispatch(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Nw(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...r,...e.state}}};this.state=t(this.state),_r.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function Ipe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class Rpe extends Jg{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,t,r){const i=new Ppe({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:r,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0,meta:t.meta});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(t=>t!==e),this.notify({type:"removed",mutation:e})}clear(){_r.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(t=>TB(e,t))}findAll(e){return this.mutations.filter(t=>TB(e,t))}notify(e){_r.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.mutations.filter(t=>t.state.isPaused);return _r.batch(()=>e.reduce((t,r)=>t.then(()=>r.continue().catch(Zs)),Promise.resolve()))}}function Bpe(){return{onFetch:n=>{n.fetchFn=()=>{var e,t,r,i,s,o;const a=(e=n.fetchOptions)==null||(t=e.meta)==null?void 0:t.refetchPage,l=(r=n.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,u=l?.pageParam,c=l?.direction==="forward",f=l?.direction==="backward",d=((s=n.state.data)==null?void 0:s.pages)||[],m=((o=n.state.data)==null?void 0:o.pageParams)||[];let y=m,g=!1;const v=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>{var D;if((D=n.signal)!=null&&D.aborted)g=!0;else{var P;(P=n.signal)==null||P.addEventListener("abort",()=>{g=!0})}return n.signal}})},x=n.options.queryFn||(()=>Promise.reject("Missing queryFn")),w=(I,D,P,O)=>(y=O?[D,...y]:[...y,D],O?[P,...I]:[...I,P]),b=(I,D,P,O)=>{if(g)return Promise.reject("Cancelled");if(typeof P>"u"&&!D&&I.length)return Promise.resolve(I);const V={queryKey:n.queryKey,pageParam:P,meta:n.meta};v(V);const q=x(V);return Promise.resolve(q).then(H=>w(I,P,H,O))};let A;if(!d.length)A=b([]);else if(c){const I=typeof u<"u",D=I?u:kB(n.options,d);A=b(d,I,D)}else if(f){const I=typeof u<"u",D=I?u:kpe(n.options,d);A=b(d,I,D,!0)}else{y=[];const I=typeof n.options.getNextPageParam>"u";A=(a&&d[0]?a(d[0],0,d):!0)?b([],I,m[0]):Promise.resolve(w([],m[0],d[0]));for(let P=1;P<d.length;P++)A=A.then(O=>{if(a&&d[P]?a(d[P],P,d):!0){const q=I?m[P]:kB(n.options,O);return b(O,I,q)}return Promise.resolve(w(O,m[P],d[P]))})}return A.then(I=>({pages:I,pageParams:y}))}}}}function kB(n,e){return n.getNextPageParam==null?void 0:n.getNextPageParam(e[e.length-1],e)}function kpe(n,e){return n.getPreviousPageParam==null?void 0:n.getPreviousPageParam(e[0],e)}class Npe{constructor(e={}){this.queryCache=e.queryCache||new Tpe,this.mutationCache=e.mutationCache||new Rpe,this.logger=e.logger||FT,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}mount(){this.unsubscribeFocus=xb.subscribe(()=>{xb.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=bb.subscribe(()=>{bb.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())})}unmount(){var e,t;(e=this.unsubscribeFocus)==null||e.call(this),(t=this.unsubscribeOnline)==null||t.call(this)}isFetching(e,t){const[r]=yu(e,t);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,t){var r;return(r=this.queryCache.find(e,t))==null?void 0:r.state.data}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:t,state:r})=>{const i=r.data;return[t,i]})}setQueryData(e,t,r){const i=this.queryCache.find(e),s=i?.state.data,o=bpe(t,s);if(typeof o>"u")return;const a=q3(e),l=this.defaultQueryOptions(a);return this.queryCache.build(this,l).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return _r.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,r)]))}getQueryState(e,t){var r;return(r=this.queryCache.find(e,t))==null?void 0:r.state}removeQueries(e,t){const[r]=yu(e,t),i=this.queryCache;_r.batch(()=>{i.findAll(r).forEach(s=>{i.remove(s)})})}resetQueries(e,t,r){const[i,s]=yu(e,t,r),o=this.queryCache,a={type:"active",...i};return _r.batch(()=>(o.findAll(i).forEach(l=>{l.reset()}),this.refetchQueries(a,s)))}cancelQueries(e,t,r){const[i,s={}]=yu(e,t,r);typeof s.revert>"u"&&(s.revert=!0);const o=_r.batch(()=>this.queryCache.findAll(i).map(a=>a.cancel(s)));return Promise.all(o).then(Zs).catch(Zs)}invalidateQueries(e,t,r){const[i,s]=yu(e,t,r);return _r.batch(()=>{var o,a;if(this.queryCache.findAll(i).forEach(u=>{u.invalidate()}),i.refetchType==="none")return Promise.resolve();const l={...i,type:(o=(a=i.refetchType)!=null?a:i.type)!=null?o:"active"};return this.refetchQueries(l,s)})}refetchQueries(e,t,r){const[i,s]=yu(e,t,r),o=_r.batch(()=>this.queryCache.findAll(i).filter(l=>!l.isDisabled()).map(l=>{var u;return l.fetch(void 0,{...s,cancelRefetch:(u=s?.cancelRefetch)!=null?u:!0,meta:{refetchPage:i.refetchPage}})}));let a=Promise.all(o).then(Zs);return s!=null&&s.throwOnError||(a=a.catch(Zs)),a}fetchQuery(e,t,r){const i=q3(e,t,r),s=this.defaultQueryOptions(i);typeof s.retry>"u"&&(s.retry=!1);const o=this.queryCache.build(this,s);return o.isStaleByTime(s.staleTime)?o.fetch(s):Promise.resolve(o.state.data)}prefetchQuery(e,t,r){return this.fetchQuery(e,t,r).then(Zs).catch(Zs)}fetchInfiniteQuery(e,t,r){const i=q3(e,t,r);return i.behavior=Bpe(),this.fetchQuery(i)}prefetchInfiniteQuery(e,t,r){return this.fetchInfiniteQuery(e,t,r).then(Zs).catch(Zs)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,t){const r=this.queryDefaults.find(i=>nf(e)===nf(i.queryKey));r?r.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})}getQueryDefaults(e){if(!e)return;const t=this.queryDefaults.find(r=>yb(e,r.queryKey));return t?.defaultOptions}setMutationDefaults(e,t){const r=this.mutationDefaults.find(i=>nf(e)===nf(i.mutationKey));r?r.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})}getMutationDefaults(e){if(!e)return;const t=this.mutationDefaults.find(r=>yb(e,r.mutationKey));return t?.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const t={...this.defaultOptions.queries,...this.getQueryDefaults(e?.queryKey),...e,_defaulted:!0};return!t.queryHash&&t.queryKey&&(t.queryHash=OT(t.queryKey,t)),typeof t.refetchOnReconnect>"u"&&(t.refetchOnReconnect=t.networkMode!=="always"),typeof t.useErrorBoundary>"u"&&(t.useErrorBoundary=!!t.suspense),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e?.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class Lpe extends Jg{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),NB(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return hC(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return hC(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,t){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),PB(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const s=this.hasListeners();s&&LB(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(t),s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const t=this.client.getQueryCache().build(this.client,e);return this.createResult(t,e)}getCurrentResult(){return this.currentResult}trackResult(e){const t={};return Object.keys(e).forEach(r=>{Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...t}={}){return this.fetch({...t,meta:{refetchPage:e}})}fetchOptimistic(e){const t=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,t);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,t))}fetch(e){var t;return this.executeFetch({...e,cancelRefetch:(t=e.cancelRefetch)!=null?t:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Zs)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),ig||this.currentResult.isStale||!cC(this.options.staleTime))return;const t=HU(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},t)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(ig||this.options.enabled===!1||!cC(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||xb.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,t){const r=this.currentQuery,i=this.options,s=this.currentResult,o=this.currentResultState,a=this.currentResultOptions,l=e!==r,u=l?e.state:this.currentQueryInitialState,c=l?this.currentResult:this.previousQueryResult,{state:f}=e;let{dataUpdatedAt:d,error:m,errorUpdatedAt:y,fetchStatus:g,status:v}=f,x=!1,w=!1,b;if(t._optimisticResults){const P=this.hasListeners(),O=!P&&NB(e,t),V=P&&LB(e,r,t,i);(O||V)&&(g=Nw(e.options.networkMode)?"fetching":"paused",d||(v="loading")),t._optimisticResults==="isRestoring"&&(g="idle")}if(t.keepPreviousData&&!f.dataUpdatedAt&&c!=null&&c.isSuccess&&v!=="error")b=c.data,d=c.dataUpdatedAt,v=c.status,x=!0;else if(t.select&&typeof f.data<"u")if(s&&f.data===o?.data&&t.select===this.selectFn)b=this.selectResult;else try{this.selectFn=t.select,b=t.select(f.data),b=dC(s?.data,b,t),this.selectResult=b,this.selectError=null}catch(P){this.selectError=P}else b=f.data;if(typeof t.placeholderData<"u"&&typeof b>"u"&&v==="loading"){let P;if(s!=null&&s.isPlaceholderData&&t.placeholderData===a?.placeholderData)P=s.data;else if(P=typeof t.placeholderData=="function"?t.placeholderData():t.placeholderData,t.select&&typeof P<"u")try{P=t.select(P),this.selectError=null}catch(O){this.selectError=O}typeof P<"u"&&(v="success",b=dC(s?.data,P,t),w=!0)}this.selectError&&(m=this.selectError,b=this.selectResult,y=Date.now(),v="error");const A=g==="fetching",M=v==="loading",I=v==="error";return{status:v,fetchStatus:g,isLoading:M,isSuccess:v==="success",isError:I,isInitialLoading:M&&A,data:b,dataUpdatedAt:d,error:m,errorUpdatedAt:y,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:A,isRefetching:A&&!M,isLoadingError:I&&f.dataUpdatedAt===0,isPaused:g==="paused",isPlaceholderData:w,isPreviousData:x,isRefetchError:I&&f.dataUpdatedAt!==0,isStale:UT(e,t),refetch:this.refetch,remove:this.remove}}updateResult(e){const t=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,PB(r,t))return;this.currentResult=r;const i={cache:!0},s=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options;if(o==="all"||!o&&!this.trackedProps.size)return!0;const a=new Set(o??this.trackedProps);return this.options.useErrorBoundary&&a.add("error"),Object.keys(this.currentResult).some(l=>{const u=l;return this.currentResult[u]!==t[u]&&a.has(u)})};e?.listeners!==!1&&s()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const t={};e.type==="success"?t.onSuccess=!e.manual:e.type==="error"&&!x1(e.error)&&(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){_r.batch(()=>{if(e.onSuccess){var t,r,i,s;(t=(r=this.options).onSuccess)==null||t.call(r,this.currentResult.data),(i=(s=this.options).onSettled)==null||i.call(s,this.currentResult.data,null)}else if(e.onError){var o,a,l,u;(o=(a=this.options).onError)==null||o.call(a,this.currentResult.error),(l=(u=this.options).onSettled)==null||l.call(u,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(c=>{c(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Dpe(n,e){return e.enabled!==!1&&!n.state.dataUpdatedAt&&!(n.state.status==="error"&&e.retryOnMount===!1)}function NB(n,e){return Dpe(n,e)||n.state.dataUpdatedAt>0&&hC(n,e,e.refetchOnMount)}function hC(n,e,t){if(e.enabled!==!1){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&UT(n,e)}return!1}function LB(n,e,t,r){return t.enabled!==!1&&(n!==e||r.enabled===!1)&&(!t.suspense||n.state.status!=="error")&&UT(n,t)}function UT(n,e){return n.isStaleByTime(e.staleTime)}function Ope(n){return{mutationKey:n.options.mutationKey,state:n.state}}function Fpe(n){return{state:n.state,queryKey:n.queryKey,queryHash:n.queryHash}}function Upe(n){return n.state.isPaused}function zpe(n){return n.state.status==="success"}function Gpe(n,e={}){const t=[],r=[];if(e.dehydrateMutations!==!1){const i=e.shouldDehydrateMutation||Upe;n.getMutationCache().getAll().forEach(s=>{i(s)&&t.push(Ope(s))})}if(e.dehydrateQueries!==!1){const i=e.shouldDehydrateQuery||zpe;n.getQueryCache().getAll().forEach(s=>{i(s)&&r.push(Fpe(s))})}return{mutations:t,queries:r}}function Hpe(n,e,t){if(typeof e!="object"||e===null)return;const r=n.getMutationCache(),i=n.getQueryCache(),s=e.mutations||[],o=e.queries||[];s.forEach(a=>{var l;r.build(n,{...t==null||(l=t.defaultOptions)==null?void 0:l.mutations,mutationKey:a.mutationKey},a.state)}),o.forEach(a=>{var l;const u=i.get(a.queryHash);if(u){u.state.dataUpdatedAt<a.state.dataUpdatedAt&&u.setState(a.state);return}i.build(n,{...t==null||(l=t.defaultOptions)==null?void 0:l.queries,queryKey:a.queryKey,queryHash:a.queryHash},a.state)})}const DB=J.exports.createContext(void 0),jpe=J.exports.createContext(!1);function Vpe(n,e){return n||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=DB),window.ReactQueryClientContext):DB)}const $U=({context:n}={})=>{const e=J.exports.useContext(Vpe(n,J.exports.useContext(jpe)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},XU=J.exports.createContext(!1),Wpe=()=>J.exports.useContext(XU);XU.Provider;function qpe(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}const Kpe=J.exports.createContext(qpe()),Jpe=()=>J.exports.useContext(Kpe);async function $pe({queryClient:n,persister:e,maxAge:t=1e3*60*60*24,buster:r="",hydrateOptions:i}){try{const s=await e.restoreClient();if(s)if(s.timestamp){const o=Date.now()-s.timestamp>t,a=s.buster!==r;o||a?e.removeClient():Hpe(n,s.clientState,i)}else e.removeClient()}catch{e.removeClient()}}async function OB({queryClient:n,persister:e,buster:t="",dehydrateOptions:r}){const i={buster:t,timestamp:Date.now(),clientState:Gpe(n,r)};await e.persistClient(i)}function Xpe(n){const e=n.queryClient.getQueryCache().subscribe(()=>{OB(n)}),t=n.queryClient.getMutationCache().subscribe(()=>{OB(n)});return()=>{e(),t()}}function Ype(n){let e=!1,t;const r=()=>{e=!0,t?.()},i=$pe(n).then(()=>{e||(t=Xpe(n))});return[r,i]}const Qpe=n=>(e,t,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let u=o;if(a){const c=l?.equalityFn||Object.is;let f=o(r.getState());u=d=>{const m=o(d);if(!c(f,m)){const y=f;a(f=m,y)}},l?.fireImmediately&&a(f,f)}return i(u)},n(e,t,r)},Zpe=Qpe,wb=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(r){return wb(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return wb(r)(t)}}}},e0e=(n,e)=>(t,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:v=>v,version:0,merge:(v,x)=>({...x,...v}),...e},o=!1;const a=new Set,l=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return n((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),t(...v)},r,i);const c=wb(s.serialize),f=()=>{const v=s.partialize({...r()});let x;const w=c({state:v,version:s.version}).then(b=>u.setItem(s.name,b)).catch(b=>{x=b});if(x)throw x;return w},d=i.setState;i.setState=(v,x)=>{d(v,x),f()};const m=n((...v)=>{t(...v),f()},r,i);let y;const g=()=>{var v;if(!u)return;o=!1,a.forEach(w=>w(r()));const x=((v=s.onRehydrateStorage)==null?void 0:v.call(s,r()))||void 0;return wb(u.getItem.bind(u))(s.name).then(w=>{if(w)return s.deserialize(w)}).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==s.version){if(s.migrate)return s.migrate(w.state,w.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return w.state}).then(w=>{var b;return y=s.merge(w,(b=r())!=null?b:m),t(y,!0),f()}).then(()=>{x?.(y,void 0),o=!0,l.forEach(w=>w(y))}).catch(w=>{x?.(void 0,w)})};return i.persist={setOptions:v=>{s={...s,...v},v.getStorage&&(u=v.getStorage())},clearStorage:()=>{u?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},g(),y||m},t0e=e0e,FB=n=>{let e;const t=new Set,r=(l,u)=>{const c=typeof l=="function"?l(e):l;if(!Object.is(c,e)){const f=e;e=u??typeof c!="object"?c:Object.assign({},e,c),t.forEach(d=>d(e,f))}},i=()=>e,a={setState:r,getState:i,subscribe:l=>(t.add(l),()=>t.delete(l)),destroy:()=>t.clear()};return e=n(r,i,a),a},n0e=n=>n?FB(n):FB;var YU={exports:{}};const r0e={},i0e=Object.freeze(Object.defineProperty({__proto__:null,default:r0e},Symbol.toStringTag,{value:"Module"})),s0e=Cn(i0e);(function(n){(function(e,t){function r(H,_){if(!H)throw new Error(_||"Assertion failed")}function i(H,_){H.super_=_;var T=function(){};T.prototype=_.prototype,H.prototype=new T,H.prototype.constructor=H}function s(H,_,T){if(s.isBN(H))return H;this.negative=0,this.words=null,this.length=0,this.red=null,H!==null&&((_==="le"||_==="be")&&(T=_,_=10),this._init(H||0,_||10,T||"be"))}typeof e=="object"?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=s0e.Buffer}catch{}s.isBN=function(_){return _ instanceof s?!0:_!==null&&typeof _=="object"&&_.constructor.wordSize===s.wordSize&&Array.isArray(_.words)},s.max=function(_,T){return _.cmp(T)>0?_:T},s.min=function(_,T){return _.cmp(T)<0?_:T},s.prototype._init=function(_,T,k){if(typeof _=="number")return this._initNumber(_,T,k);if(typeof _=="object")return this._initArray(_,T,k);T==="hex"&&(T=16),r(T===(T|0)&&T>=2&&T<=36),_=_.toString().replace(/\s+/g,"");var U=0;_[0]==="-"&&(U++,this.negative=1),U<_.length&&(T===16?this._parseHex(_,U,k):(this._parseBase(_,T,U),k==="le"&&this._initArray(this.toArray(),T,k)))},s.prototype._initNumber=function(_,T,k){_<0&&(this.negative=1,_=-_),_<67108864?(this.words=[_&67108863],this.length=1):_<4503599627370496?(this.words=[_&67108863,_/67108864&67108863],this.length=2):(r(_<9007199254740992),this.words=[_&67108863,_/67108864&67108863,1],this.length=3),k==="le"&&this._initArray(this.toArray(),T,k)},s.prototype._initArray=function(_,T,k){if(r(typeof _.length=="number"),_.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(_.length/3),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var L,F,z=0;if(k==="be")for(U=_.length-1,L=0;U>=0;U-=3)F=_[U]|_[U-1]<<8|_[U-2]<<16,this.words[L]|=F<<z&67108863,this.words[L+1]=F>>>26-z&67108863,z+=24,z>=26&&(z-=26,L++);else if(k==="le")for(U=0,L=0;U<_.length;U+=3)F=_[U]|_[U+1]<<8|_[U+2]<<16,this.words[L]|=F<<z&67108863,this.words[L+1]=F>>>26-z&67108863,z+=24,z>=26&&(z-=26,L++);return this._strip()};function a(H,_){var T=H.charCodeAt(_);if(T>=48&&T<=57)return T-48;if(T>=65&&T<=70)return T-55;if(T>=97&&T<=102)return T-87;r(!1,"Invalid character in "+H)}function l(H,_,T){var k=a(H,T);return T-1>=_&&(k|=a(H,T-1)<<4),k}s.prototype._parseHex=function(_,T,k){this.length=Math.ceil((_.length-T)/6),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var L=0,F=0,z;if(k==="be")for(U=_.length-1;U>=T;U-=2)z=l(_,T,U)<<L,this.words[F]|=z&67108863,L>=18?(L-=18,F+=1,this.words[F]|=z>>>26):L+=8;else{var B=_.length-T;for(U=B%2===0?T+1:T;U<_.length;U+=2)z=l(_,T,U)<<L,this.words[F]|=z&67108863,L>=18?(L-=18,F+=1,this.words[F]|=z>>>26):L+=8}this._strip()};function u(H,_,T,k){for(var U=0,L=0,F=Math.min(H.length,T),z=_;z<F;z++){var B=H.charCodeAt(z)-48;U*=k,B>=49?L=B-49+10:B>=17?L=B-17+10:L=B,r(B>=0&&L<k,"Invalid character"),U+=L}return U}s.prototype._parseBase=function(_,T,k){this.words=[0],this.length=1;for(var U=0,L=1;L<=67108863;L*=T)U++;U--,L=L/T|0;for(var F=_.length-k,z=F%U,B=Math.min(F,F-z)+k,E=0,j=k;j<B;j+=U)E=u(_,j,j+U,T),this.imuln(L),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E);if(z!==0){var X=1;for(E=u(_,j,_.length,T),j=0;j<z;j++)X*=T;this.imuln(X),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E)}this._strip()},s.prototype.copy=function(_){_.words=new Array(this.length);for(var T=0;T<this.length;T++)_.words[T]=this.words[T];_.length=this.length,_.negative=this.negative,_.red=this.red};function c(H,_){H.words=_.words,H.length=_.length,H.negative=_.negative,H.red=_.red}if(s.prototype._move=function(_){c(_,this)},s.prototype.clone=function(){var _=new s(null);return this.copy(_),_},s.prototype._expand=function(_){for(;this.length<_;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{s.prototype.inspect=f}else s.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(_,T){_=_||10,T=T|0||1;var k;if(_===16||_==="hex"){k="";for(var U=0,L=0,F=0;F<this.length;F++){var z=this.words[F],B=((z<<U|L)&16777215).toString(16);L=z>>>24-U&16777215,U+=2,U>=26&&(U-=26,F--),L!==0||F!==this.length-1?k=d[6-B.length]+B+k:k=B+k}for(L!==0&&(k=L.toString(16)+k);k.length%T!==0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}if(_===(_|0)&&_>=2&&_<=36){var E=m[_],j=y[_];k="";var X=this.clone();for(X.negative=0;!X.isZero();){var N=X.modrn(j).toString(_);X=X.idivn(j),X.isZero()?k=N+k:k=d[E-N.length]+N+k}for(this.isZero()&&(k="0"+k);k.length%T!==0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var _=this.words[0];return this.length===2?_+=this.words[1]*67108864:this.length===3&&this.words[2]===1?_+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-_:_},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(_,T){return this.toArrayLike(o,_,T)}),s.prototype.toArray=function(_,T){return this.toArrayLike(Array,_,T)};var g=function(_,T){return _.allocUnsafe?_.allocUnsafe(T):new _(T)};s.prototype.toArrayLike=function(_,T,k){this._strip();var U=this.byteLength(),L=k||Math.max(1,U);r(U<=L,"byte array longer than desired length"),r(L>0,"Requested array length <= 0");var F=g(_,L),z=T==="le"?"LE":"BE";return this["_toArrayLike"+z](F,U),F},s.prototype._toArrayLikeLE=function(_,T){for(var k=0,U=0,L=0,F=0;L<this.length;L++){var z=this.words[L]<<F|U;_[k++]=z&255,k<_.length&&(_[k++]=z>>8&255),k<_.length&&(_[k++]=z>>16&255),F===6?(k<_.length&&(_[k++]=z>>24&255),U=0,F=0):(U=z>>>24,F+=2)}if(k<_.length)for(_[k++]=U;k<_.length;)_[k++]=0},s.prototype._toArrayLikeBE=function(_,T){for(var k=_.length-1,U=0,L=0,F=0;L<this.length;L++){var z=this.words[L]<<F|U;_[k--]=z&255,k>=0&&(_[k--]=z>>8&255),k>=0&&(_[k--]=z>>16&255),F===6?(k>=0&&(_[k--]=z>>24&255),U=0,F=0):(U=z>>>24,F+=2)}if(k>=0)for(_[k--]=U;k>=0;)_[k--]=0},Math.clz32?s.prototype._countBits=function(_){return 32-Math.clz32(_)}:s.prototype._countBits=function(_){var T=_,k=0;return T>=4096&&(k+=13,T>>>=13),T>=64&&(k+=7,T>>>=7),T>=8&&(k+=4,T>>>=4),T>=2&&(k+=2,T>>>=2),k+T},s.prototype._zeroBits=function(_){if(_===0)return 26;var T=_,k=0;return(T&8191)===0&&(k+=13,T>>>=13),(T&127)===0&&(k+=7,T>>>=7),(T&15)===0&&(k+=4,T>>>=4),(T&3)===0&&(k+=2,T>>>=2),(T&1)===0&&k++,k},s.prototype.bitLength=function(){var _=this.words[this.length-1],T=this._countBits(_);return(this.length-1)*26+T};function v(H){for(var _=new Array(H.bitLength()),T=0;T<_.length;T++){var k=T/26|0,U=T%26;_[T]=H.words[k]>>>U&1}return _}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var _=0,T=0;T<this.length;T++){var k=this._zeroBits(this.words[T]);if(_+=k,k!==26)break}return _},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(_){return this.negative!==0?this.abs().inotn(_).iaddn(1):this.clone()},s.prototype.fromTwos=function(_){return this.testn(_-1)?this.notn(_).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(_){for(;this.length<_.length;)this.words[this.length++]=0;for(var T=0;T<_.length;T++)this.words[T]=this.words[T]|_.words[T];return this._strip()},s.prototype.ior=function(_){return r((this.negative|_.negative)===0),this.iuor(_)},s.prototype.or=function(_){return this.length>_.length?this.clone().ior(_):_.clone().ior(this)},s.prototype.uor=function(_){return this.length>_.length?this.clone().iuor(_):_.clone().iuor(this)},s.prototype.iuand=function(_){var T;this.length>_.length?T=_:T=this;for(var k=0;k<T.length;k++)this.words[k]=this.words[k]&_.words[k];return this.length=T.length,this._strip()},s.prototype.iand=function(_){return r((this.negative|_.negative)===0),this.iuand(_)},s.prototype.and=function(_){return this.length>_.length?this.clone().iand(_):_.clone().iand(this)},s.prototype.uand=function(_){return this.length>_.length?this.clone().iuand(_):_.clone().iuand(this)},s.prototype.iuxor=function(_){var T,k;this.length>_.length?(T=this,k=_):(T=_,k=this);for(var U=0;U<k.length;U++)this.words[U]=T.words[U]^k.words[U];if(this!==T)for(;U<T.length;U++)this.words[U]=T.words[U];return this.length=T.length,this._strip()},s.prototype.ixor=function(_){return r((this.negative|_.negative)===0),this.iuxor(_)},s.prototype.xor=function(_){return this.length>_.length?this.clone().ixor(_):_.clone().ixor(this)},s.prototype.uxor=function(_){return this.length>_.length?this.clone().iuxor(_):_.clone().iuxor(this)},s.prototype.inotn=function(_){r(typeof _=="number"&&_>=0);var T=Math.ceil(_/26)|0,k=_%26;this._expand(T),k>0&&T--;for(var U=0;U<T;U++)this.words[U]=~this.words[U]&67108863;return k>0&&(this.words[U]=~this.words[U]&67108863>>26-k),this._strip()},s.prototype.notn=function(_){return this.clone().inotn(_)},s.prototype.setn=function(_,T){r(typeof _=="number"&&_>=0);var k=_/26|0,U=_%26;return this._expand(k+1),T?this.words[k]=this.words[k]|1<<U:this.words[k]=this.words[k]&~(1<<U),this._strip()},s.prototype.iadd=function(_){var T;if(this.negative!==0&&_.negative===0)return this.negative=0,T=this.isub(_),this.negative^=1,this._normSign();if(this.negative===0&&_.negative!==0)return _.negative=0,T=this.isub(_),_.negative=1,T._normSign();var k,U;this.length>_.length?(k=this,U=_):(k=_,U=this);for(var L=0,F=0;F<U.length;F++)T=(k.words[F]|0)+(U.words[F]|0)+L,this.words[F]=T&67108863,L=T>>>26;for(;L!==0&&F<k.length;F++)T=(k.words[F]|0)+L,this.words[F]=T&67108863,L=T>>>26;if(this.length=k.length,L!==0)this.words[this.length]=L,this.length++;else if(k!==this)for(;F<k.length;F++)this.words[F]=k.words[F];return this},s.prototype.add=function(_){var T;return _.negative!==0&&this.negative===0?(_.negative=0,T=this.sub(_),_.negative^=1,T):_.negative===0&&this.negative!==0?(this.negative=0,T=_.sub(this),this.negative=1,T):this.length>_.length?this.clone().iadd(_):_.clone().iadd(this)},s.prototype.isub=function(_){if(_.negative!==0){_.negative=0;var T=this.iadd(_);return _.negative=1,T._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(_),this.negative=1,this._normSign();var k=this.cmp(_);if(k===0)return this.negative=0,this.length=1,this.words[0]=0,this;var U,L;k>0?(U=this,L=_):(U=_,L=this);for(var F=0,z=0;z<L.length;z++)T=(U.words[z]|0)-(L.words[z]|0)+F,F=T>>26,this.words[z]=T&67108863;for(;F!==0&&z<U.length;z++)T=(U.words[z]|0)+F,F=T>>26,this.words[z]=T&67108863;if(F===0&&z<U.length&&U!==this)for(;z<U.length;z++)this.words[z]=U.words[z];return this.length=Math.max(this.length,z),U!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(_){return this.clone().isub(_)};function x(H,_,T){T.negative=_.negative^H.negative;var k=H.length+_.length|0;T.length=k,k=k-1|0;var U=H.words[0]|0,L=_.words[0]|0,F=U*L,z=F&67108863,B=F/67108864|0;T.words[0]=z;for(var E=1;E<k;E++){for(var j=B>>>26,X=B&67108863,N=Math.min(E,_.length-1),K=Math.max(0,E-H.length+1);K<=N;K++){var oe=E-K|0;U=H.words[oe]|0,L=_.words[K]|0,F=U*L+X,j+=F/67108864|0,X=F&67108863}T.words[E]=X|0,B=j|0}return B!==0?T.words[E]=B|0:T.length--,T._strip()}var w=function(_,T,k){var U=_.words,L=T.words,F=k.words,z=0,B,E,j,X=U[0]|0,N=X&8191,K=X>>>13,oe=U[1]|0,ie=oe&8191,fe=oe>>>13,ce=U[2]|0,Ee=ce&8191,ae=ce>>>13,me=U[3]|0,xe=me&8191,Ne=me>>>13,He=U[4]|0,$e=He&8191,ue=He>>>13,we=U[5]|0,Ce=we&8191,ze=we>>>13,$=U[6]|0,W=$&8191,le=$>>>13,Re=U[7]|0,Te=Re&8191,ke=Re>>>13,Qe=U[8]|0,Oe=Qe&8191,be=Qe>>>13,Ye=U[9]|0,ee=Ye&8191,ge=Ye>>>13,Ue=L[0]|0,De=Ue&8191,je=Ue>>>13,lt=L[1]|0,ht=lt&8191,re=lt>>>13,Ae=L[2]|0,Be=Ae&8191,Ve=Ae>>>13,st=L[3]|0,rt=st&8191,vt=st>>>13,mn=L[4]|0,zt=mn&8191,_t=mn>>>13,Qn=L[5]|0,kt=Qn&8191,cn=Qn>>>13,cs=L[6]|0,fn=cs&8191,rn=cs>>>13,Q=L[7]|0,he=Q&8191,Se=Q>>>13,ve=L[8]|0,Me=ve&8191,Ze=ve>>>13,At=L[9]|0,at=At&8191,ot=At>>>13;k.negative=_.negative^T.negative,k.length=19,B=Math.imul(N,De),E=Math.imul(N,je),E=E+Math.imul(K,De)|0,j=Math.imul(K,je);var Pt=(z+B|0)+((E&8191)<<13)|0;z=(j+(E>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,B=Math.imul(ie,De),E=Math.imul(ie,je),E=E+Math.imul(fe,De)|0,j=Math.imul(fe,je),B=B+Math.imul(N,ht)|0,E=E+Math.imul(N,re)|0,E=E+Math.imul(K,ht)|0,j=j+Math.imul(K,re)|0;var Et=(z+B|0)+((E&8191)<<13)|0;z=(j+(E>>>13)|0)+(Et>>>26)|0,Et&=67108863,B=Math.imul(Ee,De),E=Math.imul(Ee,je),E=E+Math.imul(ae,De)|0,j=Math.imul(ae,je),B=B+Math.imul(ie,ht)|0,E=E+Math.imul(ie,re)|0,E=E+Math.imul(fe,ht)|0,j=j+Math.imul(fe,re)|0,B=B+Math.imul(N,Be)|0,E=E+Math.imul(N,Ve)|0,E=E+Math.imul(K,Be)|0,j=j+Math.imul(K,Ve)|0;var It=(z+B|0)+((E&8191)<<13)|0;z=(j+(E>>>13)|0)+(It>>>26)|0,It&=67108863,B=Math.imul(xe,De),E=Math.imul(xe,je),E=E+Math.imul(Ne,De)|0,j=Math.imul(Ne,je),B=B+Math.imul(Ee,ht)|0,E=E+Math.imul(Ee,re)|0,E=E+Math.imul(ae,ht)|0,j=j+Math.imul(ae,re)|0,B=B+Math.imul(ie,Be)|0,E=E+Math.imul(ie,Ve)|0,E=E+Math.imul(fe,Be)|0,j=j+Math.imul(fe,Ve)|0,B=B+Math.imul(N,rt)|0,E=E+Math.imul(N,vt)|0,E=E+Math.imul(K,rt)|0,j=j+Math.imul(K,vt)|0;var sn=(z+B|0)+((E&8191)<<13)|0;z=(j+(E>>>13)|0)+(sn>>>26)|0,sn&=67108863,B=Math.imul($e,De),E=Math.imul($e,je),E=E+Math.imul(ue,De)|0,j=Math.imul(ue,je),B=B+Math.imul(xe,ht)|0,E=E+Math.imul(xe,re)|0,E=E+Math.imul(Ne,ht)|0,j=j+Math.imul(Ne,re)|0,B=B+Math.imul(Ee,Be)|0,E=E+Math.imul(Ee,Ve)|0,E=E+Math.imul(ae,Be)|0,j=j+Math.imul(ae,Ve)|0,B=B+Math.imul(ie,rt)|0,E=E+Math.imul(ie,vt)|0,E=E+Math.imul(fe,rt)|0,j=j+Math.imul(fe,vt)|0,B=B+Math.imul(N,zt)|0,E=E+Math.imul(N,_t)|0,E=E+Math.imul(K,zt)|0,j=j+Math.imul(K,_t)|0;var Dr=(z+B|0)+((E&8191)<<13)|0;z=(j+(E>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,B=Math.imul(Ce,De),E=Math.imul(Ce,je),E=E+Math.imul(ze,De)|0,j=Math.imul(ze,je),B=B+Math.imul($e,ht)|0,E=E+Math.imul($e,re)|0,E=E+Math.imul(ue,ht)|0,j=j+Math.imul(ue,re)|0,B=B+Math.imul(xe,Be)|0,E=E+Math.imul(xe,Ve)|0,E=E+Math.imul(Ne,Be)|0,j=j+Math.imul(Ne,Ve)|0,B=B+Math.imul(Ee,rt)|0,E=E+Math.imul(Ee,vt)|0,E=E+Math.imul(ae,rt)|0,j=j+Math.imul(ae,vt)|0,B=B+Math.imul(ie,zt)|0,E=E+Math.imul(ie,_t)|0,E=E+Math.imul(fe,zt)|0,j=j+Math.imul(fe,_t)|0,B=B+Math.imul(N,kt)|0,E=E+Math.imul(N,cn)|0,E=E+Math.imul(K,kt)|0,j=j+Math.imul(K,cn)|0;var Fs=(z+B|0)+((E&8191)<<13)|0;z=(j+(E>>>13)|0)+(Fs>>>26)|0,Fs&=67108863,B=Math.imul(W,De),E=Math.imul(W,je),E=E+Math.imul(le,De)|0,j=Math.imul(le,je),B=B+Math.imul(Ce,ht)|0,E=E+Math.imul(Ce,re)|0,E=E+Math.imul(ze,ht)|0,j=j+Math.imul(ze,re)|0,B=B+Math.imul($e,Be)|0,E=E+Math.imul($e,Ve)|0,E=E+Math.imul(ue,Be)|0,j=j+Math.imul(ue,Ve)|0,B=B+Math.imul(xe,rt)|0,E=E+Math.imul(xe,vt)|0,E=E+Math.imul(Ne,rt)|0,j=j+Math.imul(Ne,vt)|0,B=B+Math.imul(Ee,zt)|0,E=E+Math.imul(Ee,_t)|0,E=E+Math.imul(ae,zt)|0,j=j+Math.imul(ae,_t)|0,B=B+Math.imul(ie,kt)|0,E=E+Math.imul(ie,cn)|0,E=E+Math.imul(fe,kt)|0,j=j+Math.imul(fe,cn)|0,B=B+Math.imul(N,fn)|0,E=E+Math.imul(N,rn)|0,E=E+Math.imul(K,fn)|0,j=j+Math.imul(K,rn)|0;var Us=(z+B|0)+((E&8191)<<13)|0;z=(j+(E>>>13)|0)+(Us>>>26)|0,Us&=67108863,B=Math.imul(Te,De),E=Math.imul(Te,je),E=E+Math.imul(ke,De)|0,j=Math.imul(ke,je),B=B+Math.imul(W,ht)|0,E=E+Math.imul(W,re)|0,E=E+Math.imul(le,ht)|0,j=j+Math.imul(le,re)|0,B=B+Math.imul(Ce,Be)|0,E=E+Math.imul(Ce,Ve)|0,E=E+Math.imul(ze,Be)|0,j=j+Math.imul(ze,Ve)|0,B=B+Math.imul($e,rt)|0,E=E+Math.imul($e,vt)|0,E=E+Math.imul(ue,rt)|0,j=j+Math.imul(ue,vt)|0,B=B+Math.imul(xe,zt)|0,E=E+Math.imul(xe,_t)|0,E=E+Math.imul(Ne,zt)|0,j=j+Math.imul(Ne,_t)|0,B=B+Math.imul(Ee,kt)|0,E=E+Math.imul(Ee,cn)|0,E=E+Math.imul(ae,kt)|0,j=j+Math.imul(ae,cn)|0,B=B+Math.imul(ie,fn)|0,E=E+Math.imul(ie,rn)|0,E=E+Math.imul(fe,fn)|0,j=j+Math.imul(fe,rn)|0,B=B+Math.imul(N,he)|0,E=E+Math.imul(N,Se)|0,E=E+Math.imul(K,he)|0,j=j+Math.imul(K,Se)|0;var Or=(z+B|0)+((E&8191)<<13)|0;z=(j+(E>>>13)|0)+(Or>>>26)|0,Or&=67108863,B=Math.imul(Oe,De),E=Math.imul(Oe,je),E=E+Math.imul(be,De)|0,j=Math.imul(be,je),B=B+Math.imul(Te,ht)|0,E=E+Math.imul(Te,re)|0,E=E+Math.imul(ke,ht)|0,j=j+Math.imul(ke,re)|0,B=B+Math.imul(W,Be)|0,E=E+Math.imul(W,Ve)|0,E=E+Math.imul(le,Be)|0,j=j+Math.imul(le,Ve)|0,B=B+Math.imul(Ce,rt)|0,E=E+Math.imul(Ce,vt)|0,E=E+Math.imul(ze,rt)|0,j=j+Math.imul(ze,vt)|0,B=B+Math.imul($e,zt)|0,E=E+Math.imul($e,_t)|0,E=E+Math.imul(ue,zt)|0,j=j+Math.imul(ue,_t)|0,B=B+Math.imul(xe,kt)|0,E=E+Math.imul(xe,cn)|0,E=E+Math.imul(Ne,kt)|0,j=j+Math.imul(Ne,cn)|0,B=B+Math.imul(Ee,fn)|0,E=E+Math.imul(Ee,rn)|0,E=E+Math.imul(ae,fn)|0,j=j+Math.imul(ae,rn)|0,B=B+Math.imul(ie,he)|0,E=E+Math.imul(ie,Se)|0,E=E+Math.imul(fe,he)|0,j=j+Math.imul(fe,Se)|0,B=B+Math.imul(N,Me)|0,E=E+Math.imul(N,Ze)|0,E=E+Math.imul(K,Me)|0,j=j+Math.imul(K,Ze)|0;var Gt=(z+B|0)+((E&8191)<<13)|0;z=(j+(E>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,B=Math.imul(ee,De),E=Math.imul(ee,je),E=E+Math.imul(ge,De)|0,j=Math.imul(ge,je),B=B+Math.imul(Oe,ht)|0,E=E+Math.imul(Oe,re)|0,E=E+Math.imul(be,ht)|0,j=j+Math.imul(be,re)|0,B=B+Math.imul(Te,Be)|0,E=E+Math.imul(Te,Ve)|0,E=E+Math.imul(ke,Be)|0,j=j+Math.imul(ke,Ve)|0,B=B+Math.imul(W,rt)|0,E=E+Math.imul(W,vt)|0,E=E+Math.imul(le,rt)|0,j=j+Math.imul(le,vt)|0,B=B+Math.imul(Ce,zt)|0,E=E+Math.imul(Ce,_t)|0,E=E+Math.imul(ze,zt)|0,j=j+Math.imul(ze,_t)|0,B=B+Math.imul($e,kt)|0,E=E+Math.imul($e,cn)|0,E=E+Math.imul(ue,kt)|0,j=j+Math.imul(ue,cn)|0,B=B+Math.imul(xe,fn)|0,E=E+Math.imul(xe,rn)|0,E=E+Math.imul(Ne,fn)|0,j=j+Math.imul(Ne,rn)|0,B=B+Math.imul(Ee,he)|0,E=E+Math.imul(Ee,Se)|0,E=E+Math.imul(ae,he)|0,j=j+Math.imul(ae,Se)|0,B=B+Math.imul(ie,Me)|0,E=E+Math.imul(ie,Ze)|0,E=E+Math.imul(fe,Me)|0,j=j+Math.imul(fe,Ze)|0,B=B+Math.imul(N,at)|0,E=E+Math.imul(N,ot)|0,E=E+Math.imul(K,at)|0,j=j+Math.imul(K,ot)|0;var Vi=(z+B|0)+((E&8191)<<13)|0;z=(j+(E>>>13)|0)+(Vi>>>26)|0,Vi&=67108863,B=Math.imul(ee,ht),E=Math.imul(ee,re),E=E+Math.imul(ge,ht)|0,j=Math.imul(ge,re),B=B+Math.imul(Oe,Be)|0,E=E+Math.imul(Oe,Ve)|0,E=E+Math.imul(be,Be)|0,j=j+Math.imul(be,Ve)|0,B=B+Math.imul(Te,rt)|0,E=E+Math.imul(Te,vt)|0,E=E+Math.imul(ke,rt)|0,j=j+Math.imul(ke,vt)|0,B=B+Math.imul(W,zt)|0,E=E+Math.imul(W,_t)|0,E=E+Math.imul(le,zt)|0,j=j+Math.imul(le,_t)|0,B=B+Math.imul(Ce,kt)|0,E=E+Math.imul(Ce,cn)|0,E=E+Math.imul(ze,kt)|0,j=j+Math.imul(ze,cn)|0,B=B+Math.imul($e,fn)|0,E=E+Math.imul($e,rn)|0,E=E+Math.imul(ue,fn)|0,j=j+Math.imul(ue,rn)|0,B=B+Math.imul(xe,he)|0,E=E+Math.imul(xe,Se)|0,E=E+Math.imul(Ne,he)|0,j=j+Math.imul(Ne,Se)|0,B=B+Math.imul(Ee,Me)|0,E=E+Math.imul(Ee,Ze)|0,E=E+Math.imul(ae,Me)|0,j=j+Math.imul(ae,Ze)|0,B=B+Math.imul(ie,at)|0,E=E+Math.imul(ie,ot)|0,E=E+Math.imul(fe,at)|0,j=j+Math.imul(fe,ot)|0;var wn=(z+B|0)+((E&8191)<<13)|0;z=(j+(E>>>13)|0)+(wn>>>26)|0,wn&=67108863,B=Math.imul(ee,Be),E=Math.imul(ee,Ve),E=E+Math.imul(ge,Be)|0,j=Math.imul(ge,Ve),B=B+Math.imul(Oe,rt)|0,E=E+Math.imul(Oe,vt)|0,E=E+Math.imul(be,rt)|0,j=j+Math.imul(be,vt)|0,B=B+Math.imul(Te,zt)|0,E=E+Math.imul(Te,_t)|0,E=E+Math.imul(ke,zt)|0,j=j+Math.imul(ke,_t)|0,B=B+Math.imul(W,kt)|0,E=E+Math.imul(W,cn)|0,E=E+Math.imul(le,kt)|0,j=j+Math.imul(le,cn)|0,B=B+Math.imul(Ce,fn)|0,E=E+Math.imul(Ce,rn)|0,E=E+Math.imul(ze,fn)|0,j=j+Math.imul(ze,rn)|0,B=B+Math.imul($e,he)|0,E=E+Math.imul($e,Se)|0,E=E+Math.imul(ue,he)|0,j=j+Math.imul(ue,Se)|0,B=B+Math.imul(xe,Me)|0,E=E+Math.imul(xe,Ze)|0,E=E+Math.imul(Ne,Me)|0,j=j+Math.imul(Ne,Ze)|0,B=B+Math.imul(Ee,at)|0,E=E+Math.imul(Ee,ot)|0,E=E+Math.imul(ae,at)|0,j=j+Math.imul(ae,ot)|0;var Fr=(z+B|0)+((E&8191)<<13)|0;z=(j+(E>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,B=Math.imul(ee,rt),E=Math.imul(ee,vt),E=E+Math.imul(ge,rt)|0,j=Math.imul(ge,vt),B=B+Math.imul(Oe,zt)|0,E=E+Math.imul(Oe,_t)|0,E=E+Math.imul(be,zt)|0,j=j+Math.imul(be,_t)|0,B=B+Math.imul(Te,kt)|0,E=E+Math.imul(Te,cn)|0,E=E+Math.imul(ke,kt)|0,j=j+Math.imul(ke,cn)|0,B=B+Math.imul(W,fn)|0,E=E+Math.imul(W,rn)|0,E=E+Math.imul(le,fn)|0,j=j+Math.imul(le,rn)|0,B=B+Math.imul(Ce,he)|0,E=E+Math.imul(Ce,Se)|0,E=E+Math.imul(ze,he)|0,j=j+Math.imul(ze,Se)|0,B=B+Math.imul($e,Me)|0,E=E+Math.imul($e,Ze)|0,E=E+Math.imul(ue,Me)|0,j=j+Math.imul(ue,Ze)|0,B=B+Math.imul(xe,at)|0,E=E+Math.imul(xe,ot)|0,E=E+Math.imul(Ne,at)|0,j=j+Math.imul(Ne,ot)|0;var ci=(z+B|0)+((E&8191)<<13)|0;z=(j+(E>>>13)|0)+(ci>>>26)|0,ci&=67108863,B=Math.imul(ee,zt),E=Math.imul(ee,_t),E=E+Math.imul(ge,zt)|0,j=Math.imul(ge,_t),B=B+Math.imul(Oe,kt)|0,E=E+Math.imul(Oe,cn)|0,E=E+Math.imul(be,kt)|0,j=j+Math.imul(be,cn)|0,B=B+Math.imul(Te,fn)|0,E=E+Math.imul(Te,rn)|0,E=E+Math.imul(ke,fn)|0,j=j+Math.imul(ke,rn)|0,B=B+Math.imul(W,he)|0,E=E+Math.imul(W,Se)|0,E=E+Math.imul(le,he)|0,j=j+Math.imul(le,Se)|0,B=B+Math.imul(Ce,Me)|0,E=E+Math.imul(Ce,Ze)|0,E=E+Math.imul(ze,Me)|0,j=j+Math.imul(ze,Ze)|0,B=B+Math.imul($e,at)|0,E=E+Math.imul($e,ot)|0,E=E+Math.imul(ue,at)|0,j=j+Math.imul(ue,ot)|0;var fi=(z+B|0)+((E&8191)<<13)|0;z=(j+(E>>>13)|0)+(fi>>>26)|0,fi&=67108863,B=Math.imul(ee,kt),E=Math.imul(ee,cn),E=E+Math.imul(ge,kt)|0,j=Math.imul(ge,cn),B=B+Math.imul(Oe,fn)|0,E=E+Math.imul(Oe,rn)|0,E=E+Math.imul(be,fn)|0,j=j+Math.imul(be,rn)|0,B=B+Math.imul(Te,he)|0,E=E+Math.imul(Te,Se)|0,E=E+Math.imul(ke,he)|0,j=j+Math.imul(ke,Se)|0,B=B+Math.imul(W,Me)|0,E=E+Math.imul(W,Ze)|0,E=E+Math.imul(le,Me)|0,j=j+Math.imul(le,Ze)|0,B=B+Math.imul(Ce,at)|0,E=E+Math.imul(Ce,ot)|0,E=E+Math.imul(ze,at)|0,j=j+Math.imul(ze,ot)|0;var di=(z+B|0)+((E&8191)<<13)|0;z=(j+(E>>>13)|0)+(di>>>26)|0,di&=67108863,B=Math.imul(ee,fn),E=Math.imul(ee,rn),E=E+Math.imul(ge,fn)|0,j=Math.imul(ge,rn),B=B+Math.imul(Oe,he)|0,E=E+Math.imul(Oe,Se)|0,E=E+Math.imul(be,he)|0,j=j+Math.imul(be,Se)|0,B=B+Math.imul(Te,Me)|0,E=E+Math.imul(Te,Ze)|0,E=E+Math.imul(ke,Me)|0,j=j+Math.imul(ke,Ze)|0,B=B+Math.imul(W,at)|0,E=E+Math.imul(W,ot)|0,E=E+Math.imul(le,at)|0,j=j+Math.imul(le,ot)|0;var Mt=(z+B|0)+((E&8191)<<13)|0;z=(j+(E>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,B=Math.imul(ee,he),E=Math.imul(ee,Se),E=E+Math.imul(ge,he)|0,j=Math.imul(ge,Se),B=B+Math.imul(Oe,Me)|0,E=E+Math.imul(Oe,Ze)|0,E=E+Math.imul(be,Me)|0,j=j+Math.imul(be,Ze)|0,B=B+Math.imul(Te,at)|0,E=E+Math.imul(Te,ot)|0,E=E+Math.imul(ke,at)|0,j=j+Math.imul(ke,ot)|0;var Wt=(z+B|0)+((E&8191)<<13)|0;z=(j+(E>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,B=Math.imul(ee,Me),E=Math.imul(ee,Ze),E=E+Math.imul(ge,Me)|0,j=Math.imul(ge,Ze),B=B+Math.imul(Oe,at)|0,E=E+Math.imul(Oe,ot)|0,E=E+Math.imul(be,at)|0,j=j+Math.imul(be,ot)|0;var hi=(z+B|0)+((E&8191)<<13)|0;z=(j+(E>>>13)|0)+(hi>>>26)|0,hi&=67108863,B=Math.imul(ee,at),E=Math.imul(ee,ot),E=E+Math.imul(ge,at)|0,j=Math.imul(ge,ot);var tn=(z+B|0)+((E&8191)<<13)|0;return z=(j+(E>>>13)|0)+(tn>>>26)|0,tn&=67108863,F[0]=Pt,F[1]=Et,F[2]=It,F[3]=sn,F[4]=Dr,F[5]=Fs,F[6]=Us,F[7]=Or,F[8]=Gt,F[9]=Vi,F[10]=wn,F[11]=Fr,F[12]=ci,F[13]=fi,F[14]=di,F[15]=Mt,F[16]=Wt,F[17]=hi,F[18]=tn,z!==0&&(F[19]=z,k.length++),k};Math.imul||(w=x);function b(H,_,T){T.negative=_.negative^H.negative,T.length=H.length+_.length;for(var k=0,U=0,L=0;L<T.length-1;L++){var F=U;U=0;for(var z=k&67108863,B=Math.min(L,_.length-1),E=Math.max(0,L-H.length+1);E<=B;E++){var j=L-E,X=H.words[j]|0,N=_.words[E]|0,K=X*N,oe=K&67108863;F=F+(K/67108864|0)|0,oe=oe+z|0,z=oe&67108863,F=F+(oe>>>26)|0,U+=F>>>26,F&=67108863}T.words[L]=z,k=F,F=U}return k!==0?T.words[L]=k:T.length--,T._strip()}function A(H,_,T){return b(H,_,T)}s.prototype.mulTo=function(_,T){var k,U=this.length+_.length;return this.length===10&&_.length===10?k=w(this,_,T):U<63?k=x(this,_,T):U<1024?k=b(this,_,T):k=A(this,_,T),k},s.prototype.mul=function(_){var T=new s(null);return T.words=new Array(this.length+_.length),this.mulTo(_,T)},s.prototype.mulf=function(_){var T=new s(null);return T.words=new Array(this.length+_.length),A(this,_,T)},s.prototype.imul=function(_){return this.clone().mulTo(_,this)},s.prototype.imuln=function(_){var T=_<0;T&&(_=-_),r(typeof _=="number"),r(_<67108864);for(var k=0,U=0;U<this.length;U++){var L=(this.words[U]|0)*_,F=(L&67108863)+(k&67108863);k>>=26,k+=L/67108864|0,k+=F>>>26,this.words[U]=F&67108863}return k!==0&&(this.words[U]=k,this.length++),T?this.ineg():this},s.prototype.muln=function(_){return this.clone().imuln(_)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(_){var T=v(_);if(T.length===0)return new s(1);for(var k=this,U=0;U<T.length&&T[U]===0;U++,k=k.sqr());if(++U<T.length)for(var L=k.sqr();U<T.length;U++,L=L.sqr())T[U]!==0&&(k=k.mul(L));return k},s.prototype.iushln=function(_){r(typeof _=="number"&&_>=0);var T=_%26,k=(_-T)/26,U=67108863>>>26-T<<26-T,L;if(T!==0){var F=0;for(L=0;L<this.length;L++){var z=this.words[L]&U,B=(this.words[L]|0)-z<<T;this.words[L]=B|F,F=z>>>26-T}F&&(this.words[L]=F,this.length++)}if(k!==0){for(L=this.length-1;L>=0;L--)this.words[L+k]=this.words[L];for(L=0;L<k;L++)this.words[L]=0;this.length+=k}return this._strip()},s.prototype.ishln=function(_){return r(this.negative===0),this.iushln(_)},s.prototype.iushrn=function(_,T,k){r(typeof _=="number"&&_>=0);var U;T?U=(T-T%26)/26:U=0;var L=_%26,F=Math.min((_-L)/26,this.length),z=67108863^67108863>>>L<<L,B=k;if(U-=F,U=Math.max(0,U),B){for(var E=0;E<F;E++)B.words[E]=this.words[E];B.length=F}if(F!==0)if(this.length>F)for(this.length-=F,E=0;E<this.length;E++)this.words[E]=this.words[E+F];else this.words[0]=0,this.length=1;var j=0;for(E=this.length-1;E>=0&&(j!==0||E>=U);E--){var X=this.words[E]|0;this.words[E]=j<<26-L|X>>>L,j=X&z}return B&&j!==0&&(B.words[B.length++]=j),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(_,T,k){return r(this.negative===0),this.iushrn(_,T,k)},s.prototype.shln=function(_){return this.clone().ishln(_)},s.prototype.ushln=function(_){return this.clone().iushln(_)},s.prototype.shrn=function(_){return this.clone().ishrn(_)},s.prototype.ushrn=function(_){return this.clone().iushrn(_)},s.prototype.testn=function(_){r(typeof _=="number"&&_>=0);var T=_%26,k=(_-T)/26,U=1<<T;if(this.length<=k)return!1;var L=this.words[k];return!!(L&U)},s.prototype.imaskn=function(_){r(typeof _=="number"&&_>=0);var T=_%26,k=(_-T)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=k)return this;if(T!==0&&k++,this.length=Math.min(k,this.length),T!==0){var U=67108863^67108863>>>T<<T;this.words[this.length-1]&=U}return this._strip()},s.prototype.maskn=function(_){return this.clone().imaskn(_)},s.prototype.iaddn=function(_){return r(typeof _=="number"),r(_<67108864),_<0?this.isubn(-_):this.negative!==0?this.length===1&&(this.words[0]|0)<=_?(this.words[0]=_-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(_),this.negative=1,this):this._iaddn(_)},s.prototype._iaddn=function(_){this.words[0]+=_;for(var T=0;T<this.length&&this.words[T]>=67108864;T++)this.words[T]-=67108864,T===this.length-1?this.words[T+1]=1:this.words[T+1]++;return this.length=Math.max(this.length,T+1),this},s.prototype.isubn=function(_){if(r(typeof _=="number"),r(_<67108864),_<0)return this.iaddn(-_);if(this.negative!==0)return this.negative=0,this.iaddn(_),this.negative=1,this;if(this.words[0]-=_,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var T=0;T<this.length&&this.words[T]<0;T++)this.words[T]+=67108864,this.words[T+1]-=1;return this._strip()},s.prototype.addn=function(_){return this.clone().iaddn(_)},s.prototype.subn=function(_){return this.clone().isubn(_)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(_,T,k){var U=_.length+k,L;this._expand(U);var F,z=0;for(L=0;L<_.length;L++){F=(this.words[L+k]|0)+z;var B=(_.words[L]|0)*T;F-=B&67108863,z=(F>>26)-(B/67108864|0),this.words[L+k]=F&67108863}for(;L<this.length-k;L++)F=(this.words[L+k]|0)+z,z=F>>26,this.words[L+k]=F&67108863;if(z===0)return this._strip();for(r(z===-1),z=0,L=0;L<this.length;L++)F=-(this.words[L]|0)+z,z=F>>26,this.words[L]=F&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(_,T){var k=this.length-_.length,U=this.clone(),L=_,F=L.words[L.length-1]|0,z=this._countBits(F);k=26-z,k!==0&&(L=L.ushln(k),U.iushln(k),F=L.words[L.length-1]|0);var B=U.length-L.length,E;if(T!=="mod"){E=new s(null),E.length=B+1,E.words=new Array(E.length);for(var j=0;j<E.length;j++)E.words[j]=0}var X=U.clone()._ishlnsubmul(L,1,B);X.negative===0&&(U=X,E&&(E.words[B]=1));for(var N=B-1;N>=0;N--){var K=(U.words[L.length+N]|0)*67108864+(U.words[L.length+N-1]|0);for(K=Math.min(K/F|0,67108863),U._ishlnsubmul(L,K,N);U.negative!==0;)K--,U.negative=0,U._ishlnsubmul(L,1,N),U.isZero()||(U.negative^=1);E&&(E.words[N]=K)}return E&&E._strip(),U._strip(),T!=="div"&&k!==0&&U.iushrn(k),{div:E||null,mod:U}},s.prototype.divmod=function(_,T,k){if(r(!_.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var U,L,F;return this.negative!==0&&_.negative===0?(F=this.neg().divmod(_,T),T!=="mod"&&(U=F.div.neg()),T!=="div"&&(L=F.mod.neg(),k&&L.negative!==0&&L.iadd(_)),{div:U,mod:L}):this.negative===0&&_.negative!==0?(F=this.divmod(_.neg(),T),T!=="mod"&&(U=F.div.neg()),{div:U,mod:F.mod}):(this.negative&_.negative)!==0?(F=this.neg().divmod(_.neg(),T),T!=="div"&&(L=F.mod.neg(),k&&L.negative!==0&&L.isub(_)),{div:F.div,mod:L}):_.length>this.length||this.cmp(_)<0?{div:new s(0),mod:this}:_.length===1?T==="div"?{div:this.divn(_.words[0]),mod:null}:T==="mod"?{div:null,mod:new s(this.modrn(_.words[0]))}:{div:this.divn(_.words[0]),mod:new s(this.modrn(_.words[0]))}:this._wordDiv(_,T)},s.prototype.div=function(_){return this.divmod(_,"div",!1).div},s.prototype.mod=function(_){return this.divmod(_,"mod",!1).mod},s.prototype.umod=function(_){return this.divmod(_,"mod",!0).mod},s.prototype.divRound=function(_){var T=this.divmod(_);if(T.mod.isZero())return T.div;var k=T.div.negative!==0?T.mod.isub(_):T.mod,U=_.ushrn(1),L=_.andln(1),F=k.cmp(U);return F<0||L===1&&F===0?T.div:T.div.negative!==0?T.div.isubn(1):T.div.iaddn(1)},s.prototype.modrn=function(_){var T=_<0;T&&(_=-_),r(_<=67108863);for(var k=(1<<26)%_,U=0,L=this.length-1;L>=0;L--)U=(k*U+(this.words[L]|0))%_;return T?-U:U},s.prototype.modn=function(_){return this.modrn(_)},s.prototype.idivn=function(_){var T=_<0;T&&(_=-_),r(_<=67108863);for(var k=0,U=this.length-1;U>=0;U--){var L=(this.words[U]|0)+k*67108864;this.words[U]=L/_|0,k=L%_}return this._strip(),T?this.ineg():this},s.prototype.divn=function(_){return this.clone().idivn(_)},s.prototype.egcd=function(_){r(_.negative===0),r(!_.isZero());var T=this,k=_.clone();T.negative!==0?T=T.umod(_):T=T.clone();for(var U=new s(1),L=new s(0),F=new s(0),z=new s(1),B=0;T.isEven()&&k.isEven();)T.iushrn(1),k.iushrn(1),++B;for(var E=k.clone(),j=T.clone();!T.isZero();){for(var X=0,N=1;(T.words[0]&N)===0&&X<26;++X,N<<=1);if(X>0)for(T.iushrn(X);X-- >0;)(U.isOdd()||L.isOdd())&&(U.iadd(E),L.isub(j)),U.iushrn(1),L.iushrn(1);for(var K=0,oe=1;(k.words[0]&oe)===0&&K<26;++K,oe<<=1);if(K>0)for(k.iushrn(K);K-- >0;)(F.isOdd()||z.isOdd())&&(F.iadd(E),z.isub(j)),F.iushrn(1),z.iushrn(1);T.cmp(k)>=0?(T.isub(k),U.isub(F),L.isub(z)):(k.isub(T),F.isub(U),z.isub(L))}return{a:F,b:z,gcd:k.iushln(B)}},s.prototype._invmp=function(_){r(_.negative===0),r(!_.isZero());var T=this,k=_.clone();T.negative!==0?T=T.umod(_):T=T.clone();for(var U=new s(1),L=new s(0),F=k.clone();T.cmpn(1)>0&&k.cmpn(1)>0;){for(var z=0,B=1;(T.words[0]&B)===0&&z<26;++z,B<<=1);if(z>0)for(T.iushrn(z);z-- >0;)U.isOdd()&&U.iadd(F),U.iushrn(1);for(var E=0,j=1;(k.words[0]&j)===0&&E<26;++E,j<<=1);if(E>0)for(k.iushrn(E);E-- >0;)L.isOdd()&&L.iadd(F),L.iushrn(1);T.cmp(k)>=0?(T.isub(k),U.isub(L)):(k.isub(T),L.isub(U))}var X;return T.cmpn(1)===0?X=U:X=L,X.cmpn(0)<0&&X.iadd(_),X},s.prototype.gcd=function(_){if(this.isZero())return _.abs();if(_.isZero())return this.abs();var T=this.clone(),k=_.clone();T.negative=0,k.negative=0;for(var U=0;T.isEven()&&k.isEven();U++)T.iushrn(1),k.iushrn(1);do{for(;T.isEven();)T.iushrn(1);for(;k.isEven();)k.iushrn(1);var L=T.cmp(k);if(L<0){var F=T;T=k,k=F}else if(L===0||k.cmpn(1)===0)break;T.isub(k)}while(!0);return k.iushln(U)},s.prototype.invm=function(_){return this.egcd(_).a.umod(_)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(_){return this.words[0]&_},s.prototype.bincn=function(_){r(typeof _=="number");var T=_%26,k=(_-T)/26,U=1<<T;if(this.length<=k)return this._expand(k+1),this.words[k]|=U,this;for(var L=U,F=k;L!==0&&F<this.length;F++){var z=this.words[F]|0;z+=L,L=z>>>26,z&=67108863,this.words[F]=z}return L!==0&&(this.words[F]=L,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(_){var T=_<0;if(this.negative!==0&&!T)return-1;if(this.negative===0&&T)return 1;this._strip();var k;if(this.length>1)k=1;else{T&&(_=-_),r(_<=67108863,"Number is too big");var U=this.words[0]|0;k=U===_?0:U<_?-1:1}return this.negative!==0?-k|0:k},s.prototype.cmp=function(_){if(this.negative!==0&&_.negative===0)return-1;if(this.negative===0&&_.negative!==0)return 1;var T=this.ucmp(_);return this.negative!==0?-T|0:T},s.prototype.ucmp=function(_){if(this.length>_.length)return 1;if(this.length<_.length)return-1;for(var T=0,k=this.length-1;k>=0;k--){var U=this.words[k]|0,L=_.words[k]|0;if(U!==L){U<L?T=-1:U>L&&(T=1);break}}return T},s.prototype.gtn=function(_){return this.cmpn(_)===1},s.prototype.gt=function(_){return this.cmp(_)===1},s.prototype.gten=function(_){return this.cmpn(_)>=0},s.prototype.gte=function(_){return this.cmp(_)>=0},s.prototype.ltn=function(_){return this.cmpn(_)===-1},s.prototype.lt=function(_){return this.cmp(_)===-1},s.prototype.lten=function(_){return this.cmpn(_)<=0},s.prototype.lte=function(_){return this.cmp(_)<=0},s.prototype.eqn=function(_){return this.cmpn(_)===0},s.prototype.eq=function(_){return this.cmp(_)===0},s.red=function(_){return new q(_)},s.prototype.toRed=function(_){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),_.convertTo(this)._forceRed(_)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(_){return this.red=_,this},s.prototype.forceRed=function(_){return r(!this.red,"Already a number in reduction context"),this._forceRed(_)},s.prototype.redAdd=function(_){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,_)},s.prototype.redIAdd=function(_){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,_)},s.prototype.redSub=function(_){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,_)},s.prototype.redISub=function(_){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,_)},s.prototype.redShl=function(_){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,_)},s.prototype.redMul=function(_){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.mul(this,_)},s.prototype.redIMul=function(_){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,_),this.red.imul(this,_)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(_){return r(this.red&&!_.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,_)};var M={k256:null,p224:null,p192:null,p25519:null};function I(H,_){this.name=H,this.p=new s(_,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}I.prototype._tmp=function(){var _=new s(null);return _.words=new Array(Math.ceil(this.n/13)),_},I.prototype.ireduce=function(_){var T=_,k;do this.split(T,this.tmp),T=this.imulK(T),T=T.iadd(this.tmp),k=T.bitLength();while(k>this.n);var U=k<this.n?-1:T.ucmp(this.p);return U===0?(T.words[0]=0,T.length=1):U>0?T.isub(this.p):T.strip!==void 0?T.strip():T._strip(),T},I.prototype.split=function(_,T){_.iushrn(this.n,0,T)},I.prototype.imulK=function(_){return _.imul(this.k)};function D(){I.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(D,I),D.prototype.split=function(_,T){for(var k=4194303,U=Math.min(_.length,9),L=0;L<U;L++)T.words[L]=_.words[L];if(T.length=U,_.length<=9){_.words[0]=0,_.length=1;return}var F=_.words[9];for(T.words[T.length++]=F&k,L=10;L<_.length;L++){var z=_.words[L]|0;_.words[L-10]=(z&k)<<4|F>>>22,F=z}F>>>=22,_.words[L-10]=F,F===0&&_.length>10?_.length-=10:_.length-=9},D.prototype.imulK=function(_){_.words[_.length]=0,_.words[_.length+1]=0,_.length+=2;for(var T=0,k=0;k<_.length;k++){var U=_.words[k]|0;T+=U*977,_.words[k]=T&67108863,T=U*64+(T/67108864|0)}return _.words[_.length-1]===0&&(_.length--,_.words[_.length-1]===0&&_.length--),_};function P(){I.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(P,I);function O(){I.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(O,I);function V(){I.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(V,I),V.prototype.imulK=function(_){for(var T=0,k=0;k<_.length;k++){var U=(_.words[k]|0)*19+T,L=U&67108863;U>>>=26,_.words[k]=L,T=U}return T!==0&&(_.words[_.length++]=T),_},s._prime=function(_){if(M[_])return M[_];var T;if(_==="k256")T=new D;else if(_==="p224")T=new P;else if(_==="p192")T=new O;else if(_==="p25519")T=new V;else throw new Error("Unknown prime "+_);return M[_]=T,T};function q(H){if(typeof H=="string"){var _=s._prime(H);this.m=_.p,this.prime=_}else r(H.gtn(1),"modulus must be greater than 1"),this.m=H,this.prime=null}q.prototype._verify1=function(_){r(_.negative===0,"red works only with positives"),r(_.red,"red works only with red numbers")},q.prototype._verify2=function(_,T){r((_.negative|T.negative)===0,"red works only with positives"),r(_.red&&_.red===T.red,"red works only with red numbers")},q.prototype.imod=function(_){return this.prime?this.prime.ireduce(_)._forceRed(this):(c(_,_.umod(this.m)._forceRed(this)),_)},q.prototype.neg=function(_){return _.isZero()?_.clone():this.m.sub(_)._forceRed(this)},q.prototype.add=function(_,T){this._verify2(_,T);var k=_.add(T);return k.cmp(this.m)>=0&&k.isub(this.m),k._forceRed(this)},q.prototype.iadd=function(_,T){this._verify2(_,T);var k=_.iadd(T);return k.cmp(this.m)>=0&&k.isub(this.m),k},q.prototype.sub=function(_,T){this._verify2(_,T);var k=_.sub(T);return k.cmpn(0)<0&&k.iadd(this.m),k._forceRed(this)},q.prototype.isub=function(_,T){this._verify2(_,T);var k=_.isub(T);return k.cmpn(0)<0&&k.iadd(this.m),k},q.prototype.shl=function(_,T){return this._verify1(_),this.imod(_.ushln(T))},q.prototype.imul=function(_,T){return this._verify2(_,T),this.imod(_.imul(T))},q.prototype.mul=function(_,T){return this._verify2(_,T),this.imod(_.mul(T))},q.prototype.isqr=function(_){return this.imul(_,_.clone())},q.prototype.sqr=function(_){return this.mul(_,_)},q.prototype.sqrt=function(_){if(_.isZero())return _.clone();var T=this.m.andln(3);if(r(T%2===1),T===3){var k=this.m.add(new s(1)).iushrn(2);return this.pow(_,k)}for(var U=this.m.subn(1),L=0;!U.isZero()&&U.andln(1)===0;)L++,U.iushrn(1);r(!U.isZero());var F=new s(1).toRed(this),z=F.redNeg(),B=this.m.subn(1).iushrn(1),E=this.m.bitLength();for(E=new s(2*E*E).toRed(this);this.pow(E,B).cmp(z)!==0;)E.redIAdd(z);for(var j=this.pow(E,U),X=this.pow(_,U.addn(1).iushrn(1)),N=this.pow(_,U),K=L;N.cmp(F)!==0;){for(var oe=N,ie=0;oe.cmp(F)!==0;ie++)oe=oe.redSqr();r(ie<K);var fe=this.pow(j,new s(1).iushln(K-ie-1));X=X.redMul(fe),j=fe.redSqr(),N=N.redMul(j),K=ie}return X},q.prototype.invm=function(_){var T=_._invmp(this.m);return T.negative!==0?(T.negative=0,this.imod(T).redNeg()):this.imod(T)},q.prototype.pow=function(_,T){if(T.isZero())return new s(1).toRed(this);if(T.cmpn(1)===0)return _.clone();var k=4,U=new Array(1<<k);U[0]=new s(1).toRed(this),U[1]=_;for(var L=2;L<U.length;L++)U[L]=this.mul(U[L-1],_);var F=U[0],z=0,B=0,E=T.bitLength()%26;for(E===0&&(E=26),L=T.length-1;L>=0;L--){for(var j=T.words[L],X=E-1;X>=0;X--){var N=j>>X&1;if(F!==U[0]&&(F=this.sqr(F)),N===0&&z===0){B=0;continue}z<<=1,z|=N,B++,!(B!==k&&(L!==0||X!==0))&&(F=this.mul(F,U[z]),B=0,z=0)}E=26}return F},q.prototype.convertTo=function(_){var T=_.umod(this.m);return T===_?T.clone():T},q.prototype.convertFrom=function(_){var T=_.clone();return T.red=null,T},s.mont=function(_){return new ne(_)};function ne(H){q.call(this,H),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ne,q),ne.prototype.convertTo=function(_){return this.imod(_.ushln(this.shift))},ne.prototype.convertFrom=function(_){var T=this.imod(_.mul(this.rinv));return T.red=null,T},ne.prototype.imul=function(_,T){if(_.isZero()||T.isZero())return _.words[0]=0,_.length=1,_;var k=_.imul(T),U=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=k.isub(U).iushrn(this.shift),F=L;return L.cmp(this.m)>=0?F=L.isub(this.m):L.cmpn(0)<0&&(F=L.iadd(this.m)),F._forceRed(this)},ne.prototype.mul=function(_,T){if(_.isZero()||T.isZero())return new s(0)._forceRed(this);var k=_.mul(T),U=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=k.isub(U).iushrn(this.shift),F=L;return L.cmp(this.m)>=0?F=L.isub(this.m):L.cmpn(0)<0&&(F=L.iadd(this.m)),F._forceRed(this)},ne.prototype.invm=function(_){var T=this.imod(_._invmp(this.m).mul(this.r2));return T._forceRed(this)}})(n,Yi)})(YU);const Ot=YU.exports,o0e="logger/5.7.0";let UB=!1,zB=!1;const b1={debug:1,default:2,info:2,warning:3,error:4,off:5};let GB=b1.default,K3=null;function a0e(){try{const n=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{n.push(e)}}),n.length)throw new Error("missing "+n.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(n){return n.message}return null}const HB=a0e();var _b;(function(n){n.DEBUG="DEBUG",n.INFO="INFO",n.WARNING="WARNING",n.ERROR="ERROR",n.OFF="OFF"})(_b||(_b={}));var eo;(function(n){n.UNKNOWN_ERROR="UNKNOWN_ERROR",n.NOT_IMPLEMENTED="NOT_IMPLEMENTED",n.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",n.NETWORK_ERROR="NETWORK_ERROR",n.SERVER_ERROR="SERVER_ERROR",n.TIMEOUT="TIMEOUT",n.BUFFER_OVERRUN="BUFFER_OVERRUN",n.NUMERIC_FAULT="NUMERIC_FAULT",n.MISSING_NEW="MISSING_NEW",n.INVALID_ARGUMENT="INVALID_ARGUMENT",n.MISSING_ARGUMENT="MISSING_ARGUMENT",n.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",n.CALL_EXCEPTION="CALL_EXCEPTION",n.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",n.NONCE_EXPIRED="NONCE_EXPIRED",n.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",n.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",n.TRANSACTION_REPLACED="TRANSACTION_REPLACED",n.ACTION_REJECTED="ACTION_REJECTED"})(eo||(eo={}));const jB="0123456789abcdef";class se{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();b1[r]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(GB>b1[r])&&console.log.apply(console,t)}debug(...e){this._log(se.levels.DEBUG,e)}info(...e){this._log(se.levels.INFO,e)}warn(...e){this._log(se.levels.WARNING,e)}makeError(e,t,r){if(zB)return this.makeError("censored error",t,{});t||(t=se.errors.UNKNOWN_ERROR),r||(r={});const i=[];Object.keys(r).forEach(l=>{const u=r[l];try{if(u instanceof Uint8Array){let c="";for(let f=0;f<u.length;f++)c+=jB[u[f]>>4],c+=jB[u[f]&15];i.push(l+"=Uint8Array(0x"+c+")")}else i.push(l+"="+JSON.stringify(u))}catch{i.push(l+"="+JSON.stringify(r[l].toString()))}}),i.push(`code=${t}`),i.push(`version=${this.version}`);const s=e;let o="";switch(t){case eo.NUMERIC_FAULT:{o="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":o+="-"+l;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case eo.CALL_EXCEPTION:case eo.INSUFFICIENT_FUNDS:case eo.MISSING_NEW:case eo.NONCE_EXPIRED:case eo.REPLACEMENT_UNDERPRICED:case eo.TRANSACTION_REPLACED:case eo.UNPREDICTABLE_GAS_LIMIT:o=t;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=t,Object.keys(r).forEach(function(l){a[l]=r[l]}),a}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,se.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,i){e||this.throwError(t,r,i)}assertArgument(e,t,r,i){e||this.throwArgumentError(t,r,i)}checkNormalize(e){HB&&this.throwError("platform missing String.prototype.normalize",se.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:HB})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,se.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,se.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r?r=": "+r:r="",e<t&&this.throwError("missing argument"+r,se.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,se.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",se.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",se.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",se.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return K3||(K3=new se(o0e)),K3}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",se.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),UB){if(!e)return;this.globalLogger().throwError("error censorship permanent",se.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}zB=!!e,UB=!!t}static setLogLevel(e){const t=b1[e.toLowerCase()];if(t==null){se.globalLogger().warn("invalid log level - "+e);return}GB=t}static from(e){return new se(e)}}se.errors=eo;se.levels=_b;const l0e=Object.freeze(Object.defineProperty({__proto__:null,get LogLevel(){return _b},get ErrorCode(){return eo},Logger:se},Symbol.toStringTag,{value:"Module"})),u0e="bytes/5.7.0",tr=new se(u0e);function QU(n){return!!n.toHexString}function bh(n){return n.slice||(n.slice=function(){const e=Array.prototype.slice.call(arguments);return bh(new Uint8Array(Array.prototype.slice.apply(n,e)))}),n}function $g(n){return Ft(n)&&!(n.length%2)||oc(n)}function VB(n){return typeof n=="number"&&n==n&&n%1===0}function oc(n){if(n==null)return!1;if(n.constructor===Uint8Array)return!0;if(typeof n=="string"||!VB(n.length)||n.length<0)return!1;for(let e=0;e<n.length;e++){const t=n[e];if(!VB(t)||t<0||t>=256)return!1}return!0}function qe(n,e){if(e||(e={}),typeof n=="number"){tr.checkSafeUint53(n,"invalid arrayify value");const t=[];for(;n;)t.unshift(n&255),n=parseInt(String(n/256));return t.length===0&&t.push(0),bh(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof n=="string"&&n.substring(0,2)!=="0x"&&(n="0x"+n),QU(n)&&(n=n.toHexString()),Ft(n)){let t=n.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":tr.throwArgumentError("hex data is odd-length","value",n));const r=[];for(let i=0;i<t.length;i+=2)r.push(parseInt(t.substring(i,i+2),16));return bh(new Uint8Array(r))}return oc(n)?bh(new Uint8Array(n)):tr.throwArgumentError("invalid arrayify value","value",n)}function Pn(n){const e=n.map(i=>qe(i)),t=e.reduce((i,s)=>i+s.length,0),r=new Uint8Array(t);return e.reduce((i,s)=>(r.set(s,i),i+s.length),0),bh(r)}function Sa(n){let e=qe(n);if(e.length===0)return e;let t=0;for(;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}function im(n,e){n=qe(n),n.length>e&&tr.throwArgumentError("value out of range","value",arguments[0]);const t=new Uint8Array(e);return t.set(n,e-n.length),bh(t)}function Ft(n,e){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||e&&n.length!==2+2*e)}const J3="0123456789abcdef";function Je(n,e){if(e||(e={}),typeof n=="number"){tr.checkSafeUint53(n,"invalid hexlify value");let t="";for(;n;)t=J3[n&15]+t,n=Math.floor(n/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof n=="bigint")return n=n.toString(16),n.length%2?"0x0"+n:"0x"+n;if(e.allowMissingPrefix&&typeof n=="string"&&n.substring(0,2)!=="0x"&&(n="0x"+n),QU(n))return n.toHexString();if(Ft(n))return n.length%2&&(e.hexPad==="left"?n="0x0"+n.substring(2):e.hexPad==="right"?n+="0":tr.throwArgumentError("hex data is odd-length","value",n)),n.toLowerCase();if(oc(n)){let t="0x";for(let r=0;r<n.length;r++){let i=n[r];t+=J3[(i&240)>>4]+J3[i&15]}return t}return tr.throwArgumentError("invalid hexlify value","value",n)}function Ta(n){if(typeof n!="string")n=Je(n);else if(!Ft(n)||n.length%2)return null;return(n.length-2)/2}function fr(n,e,t){return typeof n!="string"?n=Je(n):(!Ft(n)||n.length%2)&&tr.throwArgumentError("invalid hexData","value",n),e=2+2*e,t!=null?"0x"+n.substring(e,2+2*t):"0x"+n.substring(e)}function Di(n){let e="0x";return n.forEach(t=>{e+=Je(t).substring(2)}),e}function Xg(n){const e=ZU(Je(n,{hexPad:"left"}));return e==="0x"?"0x0":e}function ZU(n){typeof n!="string"&&(n=Je(n)),Ft(n)||tr.throwArgumentError("invalid hex string","value",n),n=n.substring(2);let e=0;for(;e<n.length&&n[e]==="0";)e++;return"0x"+n.substring(e)}function In(n,e){for(typeof n!="string"?n=Je(n):Ft(n)||tr.throwArgumentError("invalid hex string","value",n),n.length>2*e+2&&tr.throwArgumentError("value out of range","value",arguments[1]);n.length<2*e+2;)n="0x0"+n.substring(2);return n}function qf(n){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if($g(n)){let t=qe(n);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=Je(t.slice(0,32)),e.s=Je(t.slice(32,64))):t.length===65?(e.r=Je(t.slice(0,32)),e.s=Je(t.slice(32,64)),e.v=t[64]):tr.throwArgumentError("invalid signature string","signature",n),e.v<27&&(e.v===0||e.v===1?e.v+=27:tr.throwArgumentError("signature invalid v byte","signature",n)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=Je(t.slice(32,64))}else{if(e.r=n.r,e.s=n.s,e.v=n.v,e.recoveryParam=n.recoveryParam,e._vs=n._vs,e._vs!=null){const i=im(qe(e._vs),32);e._vs=Je(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&tr.throwArgumentError("signature recoveryParam mismatch _vs","signature",n),i[0]&=127;const o=Je(i);e.s==null?e.s=o:e.s!==o&&tr.throwArgumentError("signature v mismatch _vs","signature",n)}if(e.recoveryParam==null)e.v==null?tr.throwArgumentError("signature missing v and recoveryParam","signature",n):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&tr.throwArgumentError("signature recoveryParam mismatch v","signature",n)}e.r==null||!Ft(e.r)?tr.throwArgumentError("signature missing or invalid r","signature",n):e.r=In(e.r,32),e.s==null||!Ft(e.s)?tr.throwArgumentError("signature missing or invalid s","signature",n):e.s=In(e.s,32);const t=qe(e.s);t[0]>=128&&tr.throwArgumentError("signature s out of range","signature",n),e.recoveryParam&&(t[0]|=128);const r=Je(t);e._vs&&(Ft(e._vs)||tr.throwArgumentError("signature invalid _vs","signature",n),e._vs=In(e._vs,32)),e._vs==null?e._vs=r:e._vs!==r&&tr.throwArgumentError("signature _vs mismatch v and s","signature",n)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function pC(n){return n=qf(n),Je(Pn([n.r,n.s,n.recoveryParam?"0x1c":"0x1b"]))}const c0e=Object.freeze(Object.defineProperty({__proto__:null,isBytesLike:$g,isBytes:oc,arrayify:qe,concat:Pn,stripZeros:Sa,zeroPad:im,isHexString:Ft,hexlify:Je,hexDataLength:Ta,hexDataSlice:fr,hexConcat:Di,hexValue:Xg,hexStripZeros:ZU,hexZeroPad:In,splitSignature:qf,joinSignature:pC},Symbol.toStringTag,{value:"Module"})),ez="bignumber/5.7.0";var sg=Ot.BN;const tl=new se(ez),$3={},WB=9007199254740991;function f0e(n){return n!=null&&(We.isBigNumber(n)||typeof n=="number"&&n%1===0||typeof n=="string"&&!!n.match(/^-?[0-9]+$/)||Ft(n)||typeof n=="bigint"||oc(n))}let qB=!1;class We{constructor(e,t){e!==$3&&tl.throwError("cannot call constructor directly; use BigNumber.from",se.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return $i($t(this).fromTwos(e))}toTwos(e){return $i($t(this).toTwos(e))}abs(){return this._hex[0]==="-"?We.from(this._hex.substring(1)):this}add(e){return $i($t(this).add($t(e)))}sub(e){return $i($t(this).sub($t(e)))}div(e){return We.from(e).isZero()&&$s("division-by-zero","div"),$i($t(this).div($t(e)))}mul(e){return $i($t(this).mul($t(e)))}mod(e){const t=$t(e);return t.isNeg()&&$s("division-by-zero","mod"),$i($t(this).umod(t))}pow(e){const t=$t(e);return t.isNeg()&&$s("negative-power","pow"),$i($t(this).pow(t))}and(e){const t=$t(e);return(this.isNegative()||t.isNeg())&&$s("unbound-bitwise-result","and"),$i($t(this).and(t))}or(e){const t=$t(e);return(this.isNegative()||t.isNeg())&&$s("unbound-bitwise-result","or"),$i($t(this).or(t))}xor(e){const t=$t(e);return(this.isNegative()||t.isNeg())&&$s("unbound-bitwise-result","xor"),$i($t(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&$s("negative-width","mask"),$i($t(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&$s("negative-width","shl"),$i($t(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&$s("negative-width","shr"),$i($t(this).shrn(e))}eq(e){return $t(this).eq($t(e))}lt(e){return $t(this).lt($t(e))}lte(e){return $t(this).lte($t(e))}gt(e){return $t(this).gt($t(e))}gte(e){return $t(this).gte($t(e))}isNegative(){return this._hex[0]==="-"}isZero(){return $t(this).isZero()}toNumber(){try{return $t(this).toNumber()}catch{$s("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return tl.throwError("this platform does not support BigInt",se.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?qB||(qB=!0,tl.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?tl.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",se.errors.UNEXPECTED_ARGUMENT,{}):tl.throwError("BigNumber.toString does not accept parameters",se.errors.UNEXPECTED_ARGUMENT,{})),$t(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof We)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new We($3,og(e)):e.match(/^-?[0-9]+$/)?new We($3,og(new sg(e))):tl.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&$s("underflow","BigNumber.from",e),(e>=WB||e<=-WB)&&$s("overflow","BigNumber.from",e),We.from(String(e));const t=e;if(typeof t=="bigint")return We.from(t.toString());if(oc(t))return We.from(Je(t));if(t)if(t.toHexString){const r=t.toHexString();if(typeof r=="string")return We.from(r)}else{let r=t._hex;if(r==null&&t.type==="BigNumber"&&(r=t.hex),typeof r=="string"&&(Ft(r)||r[0]==="-"&&Ft(r.substring(1))))return We.from(r)}return tl.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function og(n){if(typeof n!="string")return og(n.toString(16));if(n[0]==="-")return n=n.substring(1),n[0]==="-"&&tl.throwArgumentError("invalid hex","value",n),n=og(n),n==="0x00"?n:"-"+n;if(n.substring(0,2)!=="0x"&&(n="0x"+n),n==="0x")return"0x00";for(n.length%2&&(n="0x0"+n.substring(2));n.length>4&&n.substring(0,4)==="0x00";)n="0x"+n.substring(4);return n}function $i(n){return We.from(og(n))}function $t(n){const e=We.from(n).toHexString();return e[0]==="-"?new sg("-"+e.substring(3),16):new sg(e.substring(2),16)}function $s(n,e,t){const r={fault:n,operation:e};return t!=null&&(r.value=t),tl.throwError(n,se.errors.NUMERIC_FAULT,r)}function tz(n){return new sg(n,36).toString(16)}function nz(n){return new sg(n,16).toString(36)}const Oi=new se(ez),sm={},rz=We.from(0),iz=We.from(-1);function sz(n,e,t,r){const i={fault:e,operation:t};return r!==void 0&&(i.value=r),Oi.throwError(n,se.errors.NUMERIC_FAULT,i)}let om="0";for(;om.length<256;)om+=om;function zT(n){if(typeof n!="number")try{n=We.from(n).toNumber()}catch{}return typeof n=="number"&&n>=0&&n<=256&&!(n%1)?"1"+om.substring(0,n):Oi.throwArgumentError("invalid decimal size","decimals",n)}function am(n,e){e==null&&(e=0);const t=zT(e);n=We.from(n);const r=n.lt(rz);r&&(n=n.mul(iz));let i=n.mod(t).toString();for(;i.length<t.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=n.div(t).toString();return t.length===1?n=s:n=s+"."+i,r&&(n="-"+n),n}function Mo(n,e){e==null&&(e=0);const t=zT(e);(typeof n!="string"||!n.match(/^-?[0-9.]+$/))&&Oi.throwArgumentError("invalid decimal value","value",n);const r=n.substring(0,1)==="-";r&&(n=n.substring(1)),n==="."&&Oi.throwArgumentError("missing value","value",n);const i=n.split(".");i.length>2&&Oi.throwArgumentError("too many decimal points","value",n);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>t.length-1&&sz("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<t.length-1;)o+="0";const a=We.from(s),l=We.from(o);let u=a.mul(t).add(l);return r&&(u=u.mul(iz)),u}class gf{constructor(e,t,r,i){e!==sm&&Oi.throwError("cannot use FixedFormat constructor; use FixedFormat.from",se.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=r,this.decimals=i,this.name=(t?"":"u")+"fixed"+String(r)+"x"+String(i),this._multiplier=zT(i),Object.freeze(this)}static from(e){if(e instanceof gf)return e;typeof e=="number"&&(e=`fixed128x${e}`);let t=!0,r=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||Oi.throwArgumentError("invalid fixed format","format",e),t=s[1]!=="u",r=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,l)=>e[o]==null?l:(typeof e[o]!==a&&Oi.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);t=s("signed","boolean",t),r=s("width","number",r),i=s("decimals","number",i)}return r%8&&Oi.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),i>80&&Oi.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new gf(sm,t,r,i)}}class Vr{constructor(e,t,r,i){e!==sm&&Oi.throwError("cannot use FixedNumber constructor; use FixedNumber.from",se.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=t,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Oi.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=Mo(this._value,this.format.decimals),r=Mo(e._value,e.format.decimals);return Vr.fromValue(t.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=Mo(this._value,this.format.decimals),r=Mo(e._value,e.format.decimals);return Vr.fromValue(t.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=Mo(this._value,this.format.decimals),r=Mo(e._value,e.format.decimals);return Vr.fromValue(t.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=Mo(this._value,this.format.decimals),r=Mo(e._value,e.format.decimals);return Vr.fromValue(t.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=Vr.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(t=t.subUnsafe(KB.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=Vr.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(t=t.addUnsafe(KB.toFormat(t.format))),t}round(e){e==null&&(e=0);const t=this.toString().split(".");if(t.length===1&&t.push("0"),(e<0||e>80||e%1)&&Oi.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const r=Vr.from("1"+om.substring(0,e),this.format),i=d0e.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(i).floor().divUnsafe(r)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Oi.throwArgumentError("invalid byte width","width",e);const t=We.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return In(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Vr.fromString(this._value,e)}static fromValue(e,t,r){return r==null&&t!=null&&!f0e(t)&&(r=t,t=null),t==null&&(t=0),r==null&&(r="fixed"),Vr.fromString(am(e,t),gf.from(r))}static fromString(e,t){t==null&&(t="fixed");const r=gf.from(t),i=Mo(e,r.decimals);!r.signed&&i.lt(rz)&&sz("unsigned value cannot be negative","overflow","value",e);let s=null;r.signed?s=i.toTwos(r.width).toHexString():(s=i.toHexString(),s=In(s,r.width/8));const o=am(i,r.decimals);return new Vr(sm,s,o,r)}static fromBytes(e,t){t==null&&(t="fixed");const r=gf.from(t);if(qe(e).length>r.width/8)throw new Error("overflow");let i=We.from(e);r.signed&&(i=i.fromTwos(r.width));const s=i.toTwos((r.signed?0:1)+r.width).toHexString(),o=am(i,r.decimals);return new Vr(sm,s,o,r)}static from(e,t){if(typeof e=="string")return Vr.fromString(e,t);if(oc(e))return Vr.fromBytes(e,t);try{return Vr.fromValue(e,0,t)}catch(r){if(r.code!==se.errors.INVALID_ARGUMENT)throw r}return Oi.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const KB=Vr.from(1),d0e=Vr.from("0.5"),h0e=Object.freeze(Object.defineProperty({__proto__:null,BigNumber:We,formatFixed:am,FixedFormat:gf,FixedNumber:Vr,parseFixed:Mo,_base16To36:nz,_base36To16:tz},Symbol.toStringTag,{value:"Module"})),p0e="properties/5.7.0";var m0e=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const Ab=new se(p0e);function Pe(n,e,t){Object.defineProperty(n,e,{enumerable:!0,value:t,writable:!1})}function ni(n,e){for(let t=0;t<32;t++){if(n[e])return n[e];if(!n.prototype||typeof n.prototype!="object")break;n=Object.getPrototypeOf(n.prototype).constructor}return null}function nr(n){return m0e(this,void 0,void 0,function*(){const e=Object.keys(n).map(r=>{const i=n[r];return Promise.resolve(i).then(s=>({key:r,value:s}))});return(yield Promise.all(e)).reduce((r,i)=>(r[i.key]=i.value,r),{})})}function GT(n,e){(!n||typeof n!="object")&&Ab.throwArgumentError("invalid object","object",n),Object.keys(n).forEach(t=>{e[t]||Ab.throwArgumentError("invalid object key - "+t,"transaction:"+t,n)})}function Bn(n){const e={};for(const t in n)e[t]=n[t];return e}const g0e={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function oz(n){if(n==null||g0e[typeof n])return!0;if(Array.isArray(n)||typeof n=="object"){if(!Object.isFrozen(n))return!1;const e=Object.keys(n);for(let t=0;t<e.length;t++){let r=null;try{r=n[e[t]]}catch{continue}if(!oz(r))return!1}return!0}return Ab.throwArgumentError(`Cannot deepCopy ${typeof n}`,"object",n)}function v0e(n){if(oz(n))return n;if(Array.isArray(n))return Object.freeze(n.map(e=>Ui(e)));if(typeof n=="object"){const e={};for(const t in n){const r=n[t];r!==void 0&&Pe(e,t,Ui(r))}return e}return Ab.throwArgumentError(`Cannot deepCopy ${typeof n}`,"object",n)}function Ui(n){return v0e(n)}class ac{constructor(e){for(const t in e)this[t]=Ui(e[t])}}const y0e=Object.freeze(Object.defineProperty({__proto__:null,defineReadOnly:Pe,getStatic:ni,resolveProperties:nr,checkProperties:GT,shallowCopy:Bn,deepCopy:Ui,Description:ac},Symbol.toStringTag,{value:"Module"})),Yg="abi/5.7.0",en=new se(Yg),Nf={};let JB={calldata:!0,memory:!0,storage:!0},x0e={calldata:!0,memory:!0};function Cx(n,e){if(n==="bytes"||n==="string"){if(JB[e])return!0}else if(n==="address"){if(e==="payable")return!0}else if((n.indexOf("[")>=0||n==="tuple")&&x0e[e])return!0;return(JB[e]||e==="payable")&&en.throwArgumentError("invalid modifier","name",e),!1}function b0e(n,e){let t=n;function r(a){en.throwArgumentError(`unexpected character at position ${a}`,"param",n)}n=n.replace(/\s/g," ");function i(a){let l={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(l.indexed=!1),l}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<n.length;a++){let l=n[a];switch(l){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||r(a),o.state.allowType=!1,o.type=Nd(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||r(a),o.indexed=!0,o.name=""),Cx(o.type,o.name)&&(o.name=""),o.type=Nd(o.type);let u=o;o=o.parent,o||r(a),delete u.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||r(a),o.indexed=!0,o.name=""),Cx(o.type,o.name)&&(o.name=""),o.type=Nd(o.type);let c=i(o.parent);o.parent.components.push(c),delete o.parent,o=c;break;case" ":o.state.allowType&&o.type!==""&&(o.type=Nd(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||r(a),o.indexed&&r(a),o.indexed=!0,o.name=""):Cx(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||r(a),o.type+=l,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||r(a),o.type+=l,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=l,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=l,delete o.state.allowArray):o.state.readArray?o.type+=l:r(a)}}return o.parent&&en.throwArgumentError("unexpected eof","param",n),delete s.state,o.name==="indexed"?(e||r(t.length-7),o.indexed&&r(t.length-7),o.indexed=!0,o.name=""):Cx(o.type,o.name)&&(o.name=""),s.type=Nd(s.type),s}function w1(n,e){for(let t in e)Pe(n,t,e[t])}const an=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),w0e=new RegExp(/^(.*)\[([0-9]*)\]$/);class Rr{constructor(e,t){e!==Nf&&en.throwError("use fromString",se.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),w1(this,t);let r=this.type.match(w0e);r?w1(this,{arrayLength:parseInt(r[2]||"-1"),arrayChildren:Rr.fromObject({type:r[1],components:this.components}),baseType:"array"}):w1(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=an.sighash),an[e]||en.throwArgumentError("invalid format type","format",e),e===an.json){let r={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(r.indexed=this.indexed),this.components&&(r.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(r)}let t="";return this.baseType==="array"?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==an.sighash&&(t+=this.type),t+="("+this.components.map(r=>r.format(e)).join(e===an.full?", ":",")+")"):t+=this.type,e!==an.sighash&&(this.indexed===!0&&(t+=" indexed"),e===an.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return typeof e=="string"?Rr.fromString(e,t):Rr.fromObject(e)}static fromObject(e){return Rr.isParamType(e)?e:new Rr(Nf,{name:e.name||null,type:Nd(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Rr.fromObject):null})}static fromString(e,t){function r(i){return Rr.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return r(b0e(e,!!t))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function ag(n,e){return A0e(n).map(t=>Rr.fromString(t,e))}class ga{constructor(e,t){e!==Nf&&en.throwError("use a static from method",se.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),w1(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return ga.isFragment(e)?e:typeof e=="string"?ga.fromString(e):ga.fromObject(e)}static fromObject(e){if(ga.isFragment(e))return e;switch(e.type){case"function":return Do.fromObject(e);case"event":return pa.fromObject(e);case"constructor":return Lo.fromObject(e);case"error":return al.fromObject(e);case"fallback":case"receive":return null}return en.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?pa.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?Do.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?Lo.fromString(e.trim()):e.split(" ")[0]==="error"?al.fromString(e.substring(5).trim()):en.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class pa extends ga{format(e){if(e||(e=an.sighash),an[e]||en.throwArgumentError("invalid format type","format",e),e===an.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let t="";return e!==an.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(r=>r.format(e)).join(e===an.full?", ":",")+") ",e!==an.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return typeof e=="string"?pa.fromString(e):pa.fromObject(e)}static fromObject(e){if(pa.isEventFragment(e))return e;e.type!=="event"&&en.throwArgumentError("invalid event object","value",e);const t={name:lg(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Rr.fromObject):[],type:"event"};return new pa(Nf,t)}static fromString(e){let t=e.match(ug);t||en.throwArgumentError("invalid event string","value",e);let r=!1;return t[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":r=!0;break;case"":break;default:en.warn("unknown modifier: "+i)}}),pa.fromObject({name:t[1].trim(),anonymous:r,inputs:ag(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function az(n,e){e.gas=null;let t=n.split("@");return t.length!==1?(t.length>2&&en.throwArgumentError("invalid human-readable ABI signature","value",n),t[1].match(/^[0-9]+$/)||en.throwArgumentError("invalid human-readable ABI signature gas","value",n),e.gas=We.from(t[1]),t[0]):n}function lz(n,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",n.split(" ").forEach(t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}})}function uz(n){let e={constant:!1,payable:!0,stateMutability:"payable"};return n.stateMutability!=null?(e.stateMutability=n.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",n.constant!=null&&!!n.constant!==e.constant&&en.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",n),e.payable=e.stateMutability==="payable",n.payable!=null&&!!n.payable!==e.payable&&en.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",n)):n.payable!=null?(e.payable=!!n.payable,n.constant==null&&!e.payable&&n.type!=="constructor"&&en.throwArgumentError("unable to determine stateMutability","value",n),e.constant=!!n.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&en.throwArgumentError("cannot have constant payable function","value",n)):n.constant!=null?(e.constant=!!n.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):n.type!=="constructor"&&en.throwArgumentError("unable to determine stateMutability","value",n),e}class Lo extends ga{format(e){if(e||(e=an.sighash),an[e]||en.throwArgumentError("invalid format type","format",e),e===an.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});e===an.sighash&&en.throwError("cannot format a constructor for sighash",se.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(r=>r.format(e)).join(e===an.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "),t.trim()}static from(e){return typeof e=="string"?Lo.fromString(e):Lo.fromObject(e)}static fromObject(e){if(Lo.isConstructorFragment(e))return e;e.type!=="constructor"&&en.throwArgumentError("invalid constructor object","value",e);let t=uz(e);t.constant&&en.throwArgumentError("constructor cannot be constant","value",e);const r={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Rr.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?We.from(e.gas):null};return new Lo(Nf,r)}static fromString(e){let t={type:"constructor"};e=az(e,t);let r=e.match(ug);return(!r||r[1].trim()!=="constructor")&&en.throwArgumentError("invalid constructor string","value",e),t.inputs=ag(r[2].trim(),!1),lz(r[3].trim(),t),Lo.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class Do extends Lo{format(e){if(e||(e=an.sighash),an[e]||en.throwArgumentError("invalid format type","format",e),e===an.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(r=>JSON.parse(r.format(e))),outputs:this.outputs.map(r=>JSON.parse(r.format(e)))});let t="";return e!==an.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(r=>r.format(e)).join(e===an.full?", ":",")+") ",e!==an.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(r=>r.format(e)).join(", ")+") "),this.gas!=null&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return typeof e=="string"?Do.fromString(e):Do.fromObject(e)}static fromObject(e){if(Do.isFunctionFragment(e))return e;e.type!=="function"&&en.throwArgumentError("invalid function object","value",e);let t=uz(e);const r={type:e.type,name:lg(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(Rr.fromObject):[],outputs:e.outputs?e.outputs.map(Rr.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?We.from(e.gas):null};return new Do(Nf,r)}static fromString(e){let t={type:"function"};e=az(e,t);let r=e.split(" returns ");r.length>2&&en.throwArgumentError("invalid function string","value",e);let i=r[0].match(ug);if(i||en.throwArgumentError("invalid function signature","value",e),t.name=i[1].trim(),t.name&&lg(t.name),t.inputs=ag(i[2],!1),lz(i[3].trim(),t),r.length>1){let s=r[1].match(ug);(s[1].trim()!=""||s[3].trim()!="")&&en.throwArgumentError("unexpected tokens","value",e),t.outputs=ag(s[2],!1)}else t.outputs=[];return Do.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function $B(n){const e=n.format();return(e==="Error(string)"||e==="Panic(uint256)")&&en.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",n),n}class al extends ga{format(e){if(e||(e=an.sighash),an[e]||en.throwArgumentError("invalid format type","format",e),e===an.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});let t="";return e!==an.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map(r=>r.format(e)).join(e===an.full?", ":",")+") ",t.trim()}static from(e){return typeof e=="string"?al.fromString(e):al.fromObject(e)}static fromObject(e){if(al.isErrorFragment(e))return e;e.type!=="error"&&en.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:lg(e.name),inputs:e.inputs?e.inputs.map(Rr.fromObject):[]};return $B(new al(Nf,t))}static fromString(e){let t={type:"error"},r=e.match(ug);return r||en.throwArgumentError("invalid error signature","value",e),t.name=r[1].trim(),t.name&&lg(t.name),t.inputs=ag(r[2],!1),$B(al.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function Nd(n){return n.match(/^uint($|[^1-9])/)?n="uint256"+n.substring(4):n.match(/^int($|[^1-9])/)&&(n="int256"+n.substring(3)),n}const _0e=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function lg(n){return(!n||!n.match(_0e))&&en.throwArgumentError(`invalid identifier "${n}"`,"value",n),n}const ug=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function A0e(n){n=n.trim();let e=[],t="",r=0;for(let i=0;i<n.length;i++){let s=n[i];s===","&&r===0?(e.push(t),t=""):(t+=s,s==="("?r++:s===")"&&(r--,r===-1&&en.throwArgumentError("unbalanced parenthesis","value",n)))}return t&&e.push(t),e}const HT=new se(Yg);function cz(n){const e=[],t=function(r,i){if(!!Array.isArray(i))for(let s in i){const o=r.slice();o.push(s);try{t(o,i[s])}catch(a){e.push({path:o,error:a})}}};return t([],n),e}class jl{constructor(e,t,r,i){this.name=e,this.type=t,this.localName=r,this.dynamic=i}_throwError(e,t){HT.throwArgumentError(e,this.localName,t)}}class mC{constructor(e){Pe(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Di(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Pn(e._data))}writeBytes(e){let t=qe(e);const r=t.length%this.wordSize;return r&&(t=Pn([t,this._padding.slice(r)])),this._writeData(t)}_getValue(e){let t=qe(We.from(e));return t.length>this.wordSize&&HT.throwError("value out-of-bounds",se.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=Pn([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class Sb{constructor(e,t,r,i){Pe(this,"_data",qe(e)),Pe(this,"wordSize",t||32),Pe(this,"_coerceFunc",r),Pe(this,"allowLoose",i),this._offset=0}get data(){return Je(this._data)}get consumed(){return this._offset}static coerce(e,t){let r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):Sb.coerce(e,t)}_peekBytes(e,t,r){let i=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?i=t:HT.throwError("data out-of-bounds",se.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new Sb(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}readValue(){return We.from(this.readBytes(this.wordSize))}}var fz={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(n){(function(){var e="input is invalid type",t="finalize already called",r=typeof window=="object",i=r?window:{};i.JS_SHA3_NO_WINDOW&&(r=!1);var s=!r&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=Yi:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&n.exports,l=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),c=[31,7936,2031616,520093696],f=[4,1024,262144,67108864],d=[1,256,65536,16777216],m=[6,1536,393216,100663296],y=[0,8,16,24],g=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],v=[224,256,384,512],x=[128,256],w=["hex","buffer","arrayBuffer","array","digest"],b={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(N){return Object.prototype.toString.call(N)==="[object Array]"}),l&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(N){return typeof N=="object"&&N.buffer&&N.buffer.constructor===ArrayBuffer});for(var A=function(N,K,oe){return function(ie){return new E(N,K,N).update(ie)[oe]()}},M=function(N,K,oe){return function(ie,fe){return new E(N,K,fe).update(ie)[oe]()}},I=function(N,K,oe){return function(ie,fe,ce,Ee){return _["cshake"+N].update(ie,fe,ce,Ee)[oe]()}},D=function(N,K,oe){return function(ie,fe,ce,Ee){return _["kmac"+N].update(ie,fe,ce,Ee)[oe]()}},P=function(N,K,oe,ie){for(var fe=0;fe<w.length;++fe){var ce=w[fe];N[ce]=K(oe,ie,ce)}return N},O=function(N,K){var oe=A(N,K,"hex");return oe.create=function(){return new E(N,K,N)},oe.update=function(ie){return oe.create().update(ie)},P(oe,A,N,K)},V=function(N,K){var oe=M(N,K,"hex");return oe.create=function(ie){return new E(N,K,ie)},oe.update=function(ie,fe){return oe.create(fe).update(ie)},P(oe,M,N,K)},q=function(N,K){var oe=b[N],ie=I(N,K,"hex");return ie.create=function(fe,ce,Ee){return!ce&&!Ee?_["shake"+N].create(fe):new E(N,K,fe).bytepad([ce,Ee],oe)},ie.update=function(fe,ce,Ee,ae){return ie.create(ce,Ee,ae).update(fe)},P(ie,I,N,K)},ne=function(N,K){var oe=b[N],ie=D(N,K,"hex");return ie.create=function(fe,ce,Ee){return new j(N,K,ce).bytepad(["KMAC",Ee],oe).bytepad([fe],oe)},ie.update=function(fe,ce,Ee,ae){return ie.create(fe,Ee,ae).update(ce)},P(ie,D,N,K)},H=[{name:"keccak",padding:d,bits:v,createMethod:O},{name:"sha3",padding:m,bits:v,createMethod:O},{name:"shake",padding:c,bits:x,createMethod:V},{name:"cshake",padding:f,bits:x,createMethod:q},{name:"kmac",padding:f,bits:x,createMethod:ne}],_={},T=[],k=0;k<H.length;++k)for(var U=H[k],L=U.bits,F=0;F<L.length;++F){var z=U.name+"_"+L[F];if(T.push(z),_[z]=U.createMethod(L[F],U.padding),U.name!=="sha3"){var B=U.name+L[F];T.push(B),_[B]=_[z]}}function E(N,K,oe){this.blocks=[],this.s=[],this.padding=K,this.outputBits=oe,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(N<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=oe>>5,this.extraBytes=(oe&31)>>3;for(var ie=0;ie<50;++ie)this.s[ie]=0}E.prototype.update=function(N){if(this.finalized)throw new Error(t);var K,oe=typeof N;if(oe!=="string"){if(oe==="object"){if(N===null)throw new Error(e);if(l&&N.constructor===ArrayBuffer)N=new Uint8Array(N);else if(!Array.isArray(N)&&(!l||!ArrayBuffer.isView(N)))throw new Error(e)}else throw new Error(e);K=!0}for(var ie=this.blocks,fe=this.byteCount,ce=N.length,Ee=this.blockCount,ae=0,me=this.s,xe,Ne;ae<ce;){if(this.reset)for(this.reset=!1,ie[0]=this.block,xe=1;xe<Ee+1;++xe)ie[xe]=0;if(K)for(xe=this.start;ae<ce&&xe<fe;++ae)ie[xe>>2]|=N[ae]<<y[xe++&3];else for(xe=this.start;ae<ce&&xe<fe;++ae)Ne=N.charCodeAt(ae),Ne<128?ie[xe>>2]|=Ne<<y[xe++&3]:Ne<2048?(ie[xe>>2]|=(192|Ne>>6)<<y[xe++&3],ie[xe>>2]|=(128|Ne&63)<<y[xe++&3]):Ne<55296||Ne>=57344?(ie[xe>>2]|=(224|Ne>>12)<<y[xe++&3],ie[xe>>2]|=(128|Ne>>6&63)<<y[xe++&3],ie[xe>>2]|=(128|Ne&63)<<y[xe++&3]):(Ne=65536+((Ne&1023)<<10|N.charCodeAt(++ae)&1023),ie[xe>>2]|=(240|Ne>>18)<<y[xe++&3],ie[xe>>2]|=(128|Ne>>12&63)<<y[xe++&3],ie[xe>>2]|=(128|Ne>>6&63)<<y[xe++&3],ie[xe>>2]|=(128|Ne&63)<<y[xe++&3]);if(this.lastByteIndex=xe,xe>=fe){for(this.start=xe-fe,this.block=ie[Ee],xe=0;xe<Ee;++xe)me[xe]^=ie[xe];X(me),this.reset=!0}else this.start=xe}return this},E.prototype.encode=function(N,K){var oe=N&255,ie=1,fe=[oe];for(N=N>>8,oe=N&255;oe>0;)fe.unshift(oe),N=N>>8,oe=N&255,++ie;return K?fe.push(ie):fe.unshift(ie),this.update(fe),fe.length},E.prototype.encodeString=function(N){var K,oe=typeof N;if(oe!=="string"){if(oe==="object"){if(N===null)throw new Error(e);if(l&&N.constructor===ArrayBuffer)N=new Uint8Array(N);else if(!Array.isArray(N)&&(!l||!ArrayBuffer.isView(N)))throw new Error(e)}else throw new Error(e);K=!0}var ie=0,fe=N.length;if(K)ie=fe;else for(var ce=0;ce<N.length;++ce){var Ee=N.charCodeAt(ce);Ee<128?ie+=1:Ee<2048?ie+=2:Ee<55296||Ee>=57344?ie+=3:(Ee=65536+((Ee&1023)<<10|N.charCodeAt(++ce)&1023),ie+=4)}return ie+=this.encode(ie*8),this.update(N),ie},E.prototype.bytepad=function(N,K){for(var oe=this.encode(K),ie=0;ie<N.length;++ie)oe+=this.encodeString(N[ie]);var fe=K-oe%K,ce=[];return ce.length=fe,this.update(ce),this},E.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var N=this.blocks,K=this.lastByteIndex,oe=this.blockCount,ie=this.s;if(N[K>>2]|=this.padding[K&3],this.lastByteIndex===this.byteCount)for(N[0]=N[oe],K=1;K<oe+1;++K)N[K]=0;for(N[oe-1]|=2147483648,K=0;K<oe;++K)ie[K]^=N[K];X(ie)}},E.prototype.toString=E.prototype.hex=function(){this.finalize();for(var N=this.blockCount,K=this.s,oe=this.outputBlocks,ie=this.extraBytes,fe=0,ce=0,Ee="",ae;ce<oe;){for(fe=0;fe<N&&ce<oe;++fe,++ce)ae=K[fe],Ee+=u[ae>>4&15]+u[ae&15]+u[ae>>12&15]+u[ae>>8&15]+u[ae>>20&15]+u[ae>>16&15]+u[ae>>28&15]+u[ae>>24&15];ce%N===0&&(X(K),fe=0)}return ie&&(ae=K[fe],Ee+=u[ae>>4&15]+u[ae&15],ie>1&&(Ee+=u[ae>>12&15]+u[ae>>8&15]),ie>2&&(Ee+=u[ae>>20&15]+u[ae>>16&15])),Ee},E.prototype.arrayBuffer=function(){this.finalize();var N=this.blockCount,K=this.s,oe=this.outputBlocks,ie=this.extraBytes,fe=0,ce=0,Ee=this.outputBits>>3,ae;ie?ae=new ArrayBuffer(oe+1<<2):ae=new ArrayBuffer(Ee);for(var me=new Uint32Array(ae);ce<oe;){for(fe=0;fe<N&&ce<oe;++fe,++ce)me[ce]=K[fe];ce%N===0&&X(K)}return ie&&(me[fe]=K[fe],ae=ae.slice(0,Ee)),ae},E.prototype.buffer=E.prototype.arrayBuffer,E.prototype.digest=E.prototype.array=function(){this.finalize();for(var N=this.blockCount,K=this.s,oe=this.outputBlocks,ie=this.extraBytes,fe=0,ce=0,Ee=[],ae,me;ce<oe;){for(fe=0;fe<N&&ce<oe;++fe,++ce)ae=ce<<2,me=K[fe],Ee[ae]=me&255,Ee[ae+1]=me>>8&255,Ee[ae+2]=me>>16&255,Ee[ae+3]=me>>24&255;ce%N===0&&X(K)}return ie&&(ae=ce<<2,me=K[fe],Ee[ae]=me&255,ie>1&&(Ee[ae+1]=me>>8&255),ie>2&&(Ee[ae+2]=me>>16&255)),Ee};function j(N,K,oe){E.call(this,N,K,oe)}j.prototype=new E,j.prototype.finalize=function(){return this.encode(this.outputBits,!0),E.prototype.finalize.call(this)};var X=function(N){var K,oe,ie,fe,ce,Ee,ae,me,xe,Ne,He,$e,ue,we,Ce,ze,$,W,le,Re,Te,ke,Qe,Oe,be,Ye,ee,ge,Ue,De,je,lt,ht,re,Ae,Be,Ve,st,rt,vt,mn,zt,_t,Qn,kt,cn,cs,fn,rn,Q,he,Se,ve,Me,Ze,At,at,ot,Pt,Et,It,sn,Dr;for(ie=0;ie<48;ie+=2)fe=N[0]^N[10]^N[20]^N[30]^N[40],ce=N[1]^N[11]^N[21]^N[31]^N[41],Ee=N[2]^N[12]^N[22]^N[32]^N[42],ae=N[3]^N[13]^N[23]^N[33]^N[43],me=N[4]^N[14]^N[24]^N[34]^N[44],xe=N[5]^N[15]^N[25]^N[35]^N[45],Ne=N[6]^N[16]^N[26]^N[36]^N[46],He=N[7]^N[17]^N[27]^N[37]^N[47],$e=N[8]^N[18]^N[28]^N[38]^N[48],ue=N[9]^N[19]^N[29]^N[39]^N[49],K=$e^(Ee<<1|ae>>>31),oe=ue^(ae<<1|Ee>>>31),N[0]^=K,N[1]^=oe,N[10]^=K,N[11]^=oe,N[20]^=K,N[21]^=oe,N[30]^=K,N[31]^=oe,N[40]^=K,N[41]^=oe,K=fe^(me<<1|xe>>>31),oe=ce^(xe<<1|me>>>31),N[2]^=K,N[3]^=oe,N[12]^=K,N[13]^=oe,N[22]^=K,N[23]^=oe,N[32]^=K,N[33]^=oe,N[42]^=K,N[43]^=oe,K=Ee^(Ne<<1|He>>>31),oe=ae^(He<<1|Ne>>>31),N[4]^=K,N[5]^=oe,N[14]^=K,N[15]^=oe,N[24]^=K,N[25]^=oe,N[34]^=K,N[35]^=oe,N[44]^=K,N[45]^=oe,K=me^($e<<1|ue>>>31),oe=xe^(ue<<1|$e>>>31),N[6]^=K,N[7]^=oe,N[16]^=K,N[17]^=oe,N[26]^=K,N[27]^=oe,N[36]^=K,N[37]^=oe,N[46]^=K,N[47]^=oe,K=Ne^(fe<<1|ce>>>31),oe=He^(ce<<1|fe>>>31),N[8]^=K,N[9]^=oe,N[18]^=K,N[19]^=oe,N[28]^=K,N[29]^=oe,N[38]^=K,N[39]^=oe,N[48]^=K,N[49]^=oe,we=N[0],Ce=N[1],cn=N[11]<<4|N[10]>>>28,cs=N[10]<<4|N[11]>>>28,ge=N[20]<<3|N[21]>>>29,Ue=N[21]<<3|N[20]>>>29,Et=N[31]<<9|N[30]>>>23,It=N[30]<<9|N[31]>>>23,zt=N[40]<<18|N[41]>>>14,_t=N[41]<<18|N[40]>>>14,re=N[2]<<1|N[3]>>>31,Ae=N[3]<<1|N[2]>>>31,ze=N[13]<<12|N[12]>>>20,$=N[12]<<12|N[13]>>>20,fn=N[22]<<10|N[23]>>>22,rn=N[23]<<10|N[22]>>>22,De=N[33]<<13|N[32]>>>19,je=N[32]<<13|N[33]>>>19,sn=N[42]<<2|N[43]>>>30,Dr=N[43]<<2|N[42]>>>30,Me=N[5]<<30|N[4]>>>2,Ze=N[4]<<30|N[5]>>>2,Be=N[14]<<6|N[15]>>>26,Ve=N[15]<<6|N[14]>>>26,W=N[25]<<11|N[24]>>>21,le=N[24]<<11|N[25]>>>21,Q=N[34]<<15|N[35]>>>17,he=N[35]<<15|N[34]>>>17,lt=N[45]<<29|N[44]>>>3,ht=N[44]<<29|N[45]>>>3,Oe=N[6]<<28|N[7]>>>4,be=N[7]<<28|N[6]>>>4,At=N[17]<<23|N[16]>>>9,at=N[16]<<23|N[17]>>>9,st=N[26]<<25|N[27]>>>7,rt=N[27]<<25|N[26]>>>7,Re=N[36]<<21|N[37]>>>11,Te=N[37]<<21|N[36]>>>11,Se=N[47]<<24|N[46]>>>8,ve=N[46]<<24|N[47]>>>8,Qn=N[8]<<27|N[9]>>>5,kt=N[9]<<27|N[8]>>>5,Ye=N[18]<<20|N[19]>>>12,ee=N[19]<<20|N[18]>>>12,ot=N[29]<<7|N[28]>>>25,Pt=N[28]<<7|N[29]>>>25,vt=N[38]<<8|N[39]>>>24,mn=N[39]<<8|N[38]>>>24,ke=N[48]<<14|N[49]>>>18,Qe=N[49]<<14|N[48]>>>18,N[0]=we^~ze&W,N[1]=Ce^~$&le,N[10]=Oe^~Ye&ge,N[11]=be^~ee&Ue,N[20]=re^~Be&st,N[21]=Ae^~Ve&rt,N[30]=Qn^~cn&fn,N[31]=kt^~cs&rn,N[40]=Me^~At&ot,N[41]=Ze^~at&Pt,N[2]=ze^~W&Re,N[3]=$^~le&Te,N[12]=Ye^~ge&De,N[13]=ee^~Ue&je,N[22]=Be^~st&vt,N[23]=Ve^~rt&mn,N[32]=cn^~fn&Q,N[33]=cs^~rn&he,N[42]=At^~ot&Et,N[43]=at^~Pt&It,N[4]=W^~Re&ke,N[5]=le^~Te&Qe,N[14]=ge^~De&lt,N[15]=Ue^~je&ht,N[24]=st^~vt&zt,N[25]=rt^~mn&_t,N[34]=fn^~Q&Se,N[35]=rn^~he&ve,N[44]=ot^~Et&sn,N[45]=Pt^~It&Dr,N[6]=Re^~ke&we,N[7]=Te^~Qe&Ce,N[16]=De^~lt&Oe,N[17]=je^~ht&be,N[26]=vt^~zt&re,N[27]=mn^~_t&Ae,N[36]=Q^~Se&Qn,N[37]=he^~ve&kt,N[46]=Et^~sn&Me,N[47]=It^~Dr&Ze,N[8]=ke^~we&ze,N[9]=Qe^~Ce&$,N[18]=lt^~Oe&Ye,N[19]=ht^~be&ee,N[28]=zt^~re&Be,N[29]=_t^~Ae&Ve,N[38]=Se^~Qn&cn,N[39]=ve^~kt&cs,N[48]=sn^~Me&At,N[49]=Dr^~Ze&at,N[0]^=g[ie],N[1]^=g[ie+1]};if(a)n.exports=_;else for(k=0;k<T.length;++k)i[T[k]]=_[T[k]]})()})(fz);const S0e=fz.exports;function An(n){return"0x"+S0e.keccak_256(qe(n))}const E0e=Object.freeze(Object.defineProperty({__proto__:null,keccak256:An},Symbol.toStringTag,{value:"Module"})),C0e="rlp/5.7.0",ua=new se(C0e);function XB(n){const e=[];for(;n;)e.unshift(n&255),n>>=8;return e}function YB(n,e,t){let r=0;for(let i=0;i<t;i++)r=r*256+n[e+i];return r}function dz(n){if(Array.isArray(n)){let r=[];if(n.forEach(function(s){r=r.concat(dz(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=XB(r.length);return i.unshift(247+i.length),i.concat(r)}$g(n)||ua.throwArgumentError("RLP object must be BytesLike","object",n);const e=Array.prototype.slice.call(qe(n));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=XB(e.length);return t.unshift(183+t.length),t.concat(e)}function Lf(n){return Je(dz(n))}function QB(n,e,t,r){const i=[];for(;t<e+1+r;){const s=hz(n,t);i.push(s.result),t+=s.consumed,t>e+1+r&&ua.throwError("child data too short",se.errors.BUFFER_OVERRUN,{})}return{consumed:1+r,result:i}}function hz(n,e){if(n.length===0&&ua.throwError("data too short",se.errors.BUFFER_OVERRUN,{}),n[e]>=248){const t=n[e]-247;e+1+t>n.length&&ua.throwError("data short segment too short",se.errors.BUFFER_OVERRUN,{});const r=YB(n,e+1,t);return e+1+t+r>n.length&&ua.throwError("data long segment too short",se.errors.BUFFER_OVERRUN,{}),QB(n,e,e+1+t,t+r)}else if(n[e]>=192){const t=n[e]-192;return e+1+t>n.length&&ua.throwError("data array too short",se.errors.BUFFER_OVERRUN,{}),QB(n,e,e+1,t)}else if(n[e]>=184){const t=n[e]-183;e+1+t>n.length&&ua.throwError("data array too short",se.errors.BUFFER_OVERRUN,{});const r=YB(n,e+1,t);e+1+t+r>n.length&&ua.throwError("data array too short",se.errors.BUFFER_OVERRUN,{});const i=Je(n.slice(e+1+t,e+1+t+r));return{consumed:1+t+r,result:i}}else if(n[e]>=128){const t=n[e]-128;e+1+t>n.length&&ua.throwError("data too short",se.errors.BUFFER_OVERRUN,{});const r=Je(n.slice(e+1,e+1+t));return{consumed:1+t,result:r}}return{consumed:1,result:Je(n[e])}}function Lw(n){const e=qe(n),t=hz(e,0);return t.consumed!==e.length&&ua.throwArgumentError("invalid rlp data","data",n),t.result}const M0e=Object.freeze(Object.defineProperty({__proto__:null,encode:Lf,decode:Lw},Symbol.toStringTag,{value:"Module"})),T0e="address/5.7.0",Tu=new se(T0e);function ZB(n){Ft(n,20)||Tu.throwArgumentError("invalid address","address",n),n=n.toLowerCase();const e=n.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const r=qe(An(t));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const P0e=9007199254740991;function I0e(n){return Math.log10?Math.log10(n):Math.log(n)/Math.LN10}const jT={};for(let n=0;n<10;n++)jT[String(n)]=String(n);for(let n=0;n<26;n++)jT[String.fromCharCode(65+n)]=String(10+n);const ek=Math.floor(I0e(P0e));function pz(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let e=n.split("").map(r=>jT[r]).join("");for(;e.length>=ek;){let r=e.substring(0,ek);e=parseInt(r,10)%97+e.substring(r.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function bn(n){let e=null;if(typeof n!="string"&&Tu.throwArgumentError("invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/))n.substring(0,2)!=="0x"&&(n="0x"+n),e=ZB(n),n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==n&&Tu.throwArgumentError("bad address checksum","address",n);else if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(n.substring(2,4)!==pz(n)&&Tu.throwArgumentError("bad icap checksum","address",n),e=tz(n.substring(4));e.length<40;)e="0"+e;e=ZB("0x"+e)}else Tu.throwArgumentError("invalid address","address",n);return e}function R0e(n){try{return bn(n),!0}catch{}return!1}function B0e(n){let e=nz(bn(n).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+pz("XE00"+e)+e}function Dw(n){let e=null;try{e=bn(n.from)}catch{Tu.throwArgumentError("missing from address","transaction",n)}const t=Sa(qe(We.from(n.nonce).toHexString()));return bn(fr(An(Lf([e,t])),12))}function k0e(n,e,t){return Ta(e)!==32&&Tu.throwArgumentError("salt must be 32 bytes","salt",e),Ta(t)!==32&&Tu.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",t),bn(fr(An(Pn(["0xff",bn(n),e,t])),12))}const N0e=Object.freeze(Object.defineProperty({__proto__:null,getAddress:bn,isAddress:R0e,getIcapAddress:B0e,getContractAddress:Dw,getCreate2Address:k0e},Symbol.toStringTag,{value:"Module"}));class L0e extends jl{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=bn(t)}catch(r){this._throwError(r.message,t)}return e.writeValue(t)}decode(e){return bn(In(e.readValue().toHexString(),20))}}class D0e extends jl{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const rh=new se(Yg);function mz(n,e,t){let r=null;if(Array.isArray(t))r=t;else if(t&&typeof t=="object"){let l={};r=e.map(u=>{const c=u.localName;return c||rh.throwError("cannot encode object for signature with missing names",se.errors.INVALID_ARGUMENT,{argument:"values",coder:u,value:t}),l[c]&&rh.throwError("cannot encode object for signature with duplicate names",se.errors.INVALID_ARGUMENT,{argument:"values",coder:u,value:t}),l[c]=!0,t[c]})}else rh.throwArgumentError("invalid tuple value","tuple",t);e.length!==r.length&&rh.throwArgumentError("types/value length mismatch","tuple",t);let i=new mC(n.wordSize),s=new mC(n.wordSize),o=[];e.forEach((l,u)=>{let c=r[u];if(l.dynamic){let f=s.length;l.encode(s,c);let d=i.writeUpdatableValue();o.push(m=>{d(m+f)})}else l.encode(i,c)}),o.forEach(l=>{l(i.length)});let a=n.appendWriter(i);return a+=n.appendWriter(s),a}function gz(n,e){let t=[],r=n.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=n.readValue(),l=r.subReader(a.toNumber());try{o=s.decode(l)}catch(u){if(u.code===se.errors.BUFFER_OVERRUN)throw u;o=u,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(n)}catch(a){if(a.code===se.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&t.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),t[a]!=null))return;const l=t[o];l instanceof Error?Object.defineProperty(t,a,{enumerable:!0,get:()=>{throw l}}):t[a]=l});for(let s=0;s<t.length;s++){const o=t[s];o instanceof Error&&Object.defineProperty(t,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(t)}class O0e extends jl{constructor(e,t,r){const i=e.type+"["+(t>=0?t:"")+"]",s=t===-1||e.dynamic;super("array",i,r,s),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let r=this.length;r===-1&&(r=t.length,e.writeValue(t.length)),rh.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<t.length;s++)i.push(this.coder);return mz(e,i,t)}decode(e){let t=this.length;t===-1&&(t=e.readValue().toNumber(),t*32>e._data.length&&rh.throwError("insufficient data length",se.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let r=[];for(let i=0;i<t;i++)r.push(new D0e(this.coder));return e.coerce(this.name,gz(e,r))}}class F0e extends jl{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class vz extends jl{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=qe(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class U0e extends vz{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Je(super.decode(e)))}}class z0e extends jl{constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let r=qe(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return e.coerce(this.name,Je(e.readBytes(this.size)))}}class G0e extends jl{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const yz="0x0000000000000000000000000000000000000000",xz=We.from(-1),VT=We.from(0),bz=We.from(1),H0e=We.from(2),j0e=We.from("1000000000000000000"),wz=We.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),V0e=We.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),W0e=We.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),WT="0x0000000000000000000000000000000000000000000000000000000000000000",q0e="\u039E",K0e=Object.freeze(Object.defineProperty({__proto__:null,AddressZero:yz,NegativeOne:xz,Zero:VT,One:bz,Two:H0e,WeiPerEther:j0e,MaxUint256:wz,MinInt256:V0e,MaxInt256:W0e,HashZero:WT,EtherSymbol:q0e},Symbol.toStringTag,{value:"Module"}));class J0e extends jl{constructor(e,t,r){const i=(t?"int":"uint")+e*8;super(i,i,r,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let r=We.from(t),i=wz.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(r.gt(s)||r.lt(s.add(bz).mul(xz)))&&this._throwError("value out-of-bounds",t)}else(r.lt(VT)||r.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(this.size*8).mask(this.size*8),this.signed&&(r=r.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let t=e.readValue().mask(this.size*8);return this.signed&&(t=t.fromTwos(this.size*8)),e.coerce(this.name,t)}}const $0e="strings/5.7.0",_z=new se($0e);var Pa;(function(n){n.current="",n.NFC="NFC",n.NFD="NFD",n.NFKC="NFKC",n.NFKD="NFKD"})(Pa||(Pa={}));var Xi;(function(n){n.UNEXPECTED_CONTINUE="unexpected continuation byte",n.BAD_PREFIX="bad codepoint prefix",n.OVERRUN="string overrun",n.MISSING_CONTINUE="missing continuation byte",n.OUT_OF_RANGE="out of UTF-8 range",n.UTF16_SURROGATE="UTF-16 surrogate",n.OVERLONG="overlong representation"})(Xi||(Xi={}));function X0e(n,e,t,r,i){return _z.throwArgumentError(`invalid codepoint at offset ${e}; ${n}`,"bytes",t)}function Az(n,e,t,r,i){if(n===Xi.BAD_PREFIX||n===Xi.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<t.length&&t[o]>>6===2;o++)s++;return s}return n===Xi.OVERRUN?t.length-e-1:0}function Y0e(n,e,t,r,i){return n===Xi.OVERLONG?(r.push(i),0):(r.push(65533),Az(n,e,t))}const Sz=Object.freeze({error:X0e,ignore:Az,replace:Y0e});function qT(n,e){e==null&&(e=Sz.error),n=qe(n);const t=[];let r=0;for(;r<n.length;){const i=n[r++];if(i>>7===0){t.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?r+=e(Xi.UNEXPECTED_CONTINUE,r-1,n,t):r+=e(Xi.BAD_PREFIX,r-1,n,t);continue}if(r-1+s>=n.length){r+=e(Xi.OVERRUN,r-1,n,t);continue}let a=i&(1<<8-s-1)-1;for(let l=0;l<s;l++){let u=n[r];if((u&192)!=128){r+=e(Xi.MISSING_CONTINUE,r,n,t),a=null;break}a=a<<6|u&63,r++}if(a!==null){if(a>1114111){r+=e(Xi.OUT_OF_RANGE,r-1-s,n,t,a);continue}if(a>=55296&&a<=57343){r+=e(Xi.UTF16_SURROGATE,r-1-s,n,t,a);continue}if(a<=o){r+=e(Xi.OVERLONG,r-1-s,n,t,a);continue}t.push(a)}}return t}function gr(n,e=Pa.current){e!=Pa.current&&(_z.checkNormalize(),n=n.normalize(e));let t=[];for(let r=0;r<n.length;r++){const i=n.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){r++;const s=n.charCodeAt(r);if(r>=n.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return qe(t)}function X3(n){const e="0000"+n.toString(16);return"\\u"+e.substring(e.length-4)}function Q0e(n,e){return'"'+qT(n,e).map(t=>{if(t<256){switch(t){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(t>=32&&t<127)return String.fromCharCode(t)}return t<=65535?X3(t):(t-=65536,X3((t>>10&1023)+55296)+X3((t&1023)+56320))}).join("")+'"'}function gC(n){return n.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function lc(n,e){return gC(qT(n,e))}function Eb(n,e=Pa.current){return qT(gr(n,e))}function Z0e(n){const e=gr(n);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return Je(Pn([e,WT]).slice(0,32))}function eme(n){const e=qe(n);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let t=31;for(;e[t-1]===0;)t--;return lc(e.slice(0,t))}function tme(n){if(n.length%4!==0)throw new Error("bad data");let e=[];for(let t=0;t<n.length;t+=4)e.push(parseInt(n.substring(t,t+4),16));return e}function KT(n,e){e||(e=function(i){return[parseInt(i,16)]});let t=0,r={};return n.split(",").forEach(i=>{let s=i.split(":");t+=parseInt(s[0],16),r[t]=e(s[1])}),r}function Ez(n){let e=0;return n.split(",").map(t=>{let r=t.split("-");r.length===1?r[1]="0":r[1]===""&&(r[1]="1");let i=e+parseInt(r[0],16);return e=parseInt(r[1],16),{l:i,h:e}})}function JT(n,e){let t=0;for(let r=0;r<e.length;r++){let i=e[r];if(t+=i.l,n>=t&&n<=t+i.h&&(n-t)%(i.d||1)===0){if(i.e&&i.e.indexOf(n-t)!==-1)continue;return i}}return null}const nme=Ez("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),rme="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(n=>parseInt(n,16)),ime=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],sme=KT("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),ome=KT("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),ame=KT("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",tme),lme=Ez("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function ume(n){return n.reduce((e,t)=>(t.forEach(r=>{e.push(r)}),e),[])}function cme(n){return!!JT(n,nme)}function fme(n){let e=JT(n,ime);if(e)return[n+e.s];let t=sme[n];if(t)return t;let r=ome[n];if(r)return[n+r[0]];let i=ame[n];return i||null}function dme(n){return!!JT(n,lme)}function hme(n){if(n.match(/^[a-z0-9-]*$/i)&&n.length<=59)return n.toLowerCase();let e=Eb(n);e=ume(e.map(r=>{if(rme.indexOf(r)>=0)return[];if(r>=65024&&r<=65039)return[];let i=fme(r);return i||[r]})),e=Eb(gC(e),Pa.NFKC),e.forEach(r=>{if(dme(r))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(r=>{if(cme(r))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let t=gC(e);if(t.substring(0,1)==="-"||t.substring(2,4)==="--"||t.substring(t.length-1)==="-")throw new Error("invalid hyphen");return t}const pme=Object.freeze(Object.defineProperty({__proto__:null,_toEscapedUtf8String:Q0e,toUtf8Bytes:gr,toUtf8CodePoints:Eb,toUtf8String:lc,Utf8ErrorFuncs:Sz,get Utf8ErrorReason(){return Xi},get UnicodeNormalizationForm(){return Pa},formatBytes32String:Z0e,parseBytes32String:eme,nameprep:hme},Symbol.toStringTag,{value:"Module"}));class mme extends vz{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,gr(t))}decode(e){return lc(super.decode(e))}}class Mx extends jl{constructor(e,t){let r=!1;const i=[];e.forEach(o=>{o.dynamic&&(r=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,t,r),this.coders=e}defaultValue(){const e=[];this.coders.forEach(r=>{e.push(r.defaultValue())});const t=this.coders.reduce((r,i)=>{const s=i.localName;return s&&(r[s]||(r[s]=0),r[s]++),r},{});return this.coders.forEach((r,i)=>{let s=r.localName;!s||t[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,t){return mz(e,this.coders,t)}decode(e){return e.coerce(this.name,gz(e,this.coders))}}const Tx=new se(Yg),gme=new RegExp(/^bytes([0-9]*)$/),vme=new RegExp(/^(u?int)([0-9]*)$/);class Cz{constructor(e){Pe(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new L0e(e.name);case"bool":return new F0e(e.name);case"string":return new mme(e.name);case"bytes":return new U0e(e.name);case"array":return new O0e(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Mx((e.components||[]).map(r=>this._getCoder(r)),e.name);case"":return new G0e(e.name)}let t=e.type.match(vme);if(t){let r=parseInt(t[2]||"256");return(r===0||r>256||r%8!==0)&&Tx.throwArgumentError("invalid "+t[1]+" bit length","param",e),new J0e(r/8,t[1]==="int",e.name)}if(t=e.type.match(gme),t){let r=parseInt(t[1]);return(r===0||r>32)&&Tx.throwArgumentError("invalid bytes length","param",e),new z0e(r,e.name)}return Tx.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new Sb(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new mC(this._getWordSize())}getDefaultValue(e){const t=e.map(i=>this._getCoder(Rr.from(i)));return new Mx(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&Tx.throwError("types/values length mismatch",se.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const r=e.map(o=>this._getCoder(Rr.from(o))),i=new Mx(r,"_"),s=this._getWriter();return i.encode(s,t),s.data}decode(e,t,r){const i=e.map(o=>this._getCoder(Rr.from(o)));return new Mx(i,"_").decode(this._getReader(qe(t),r))}}const Mz=new Cz;function Pu(n){return An(gr(n))}const Tz="hash/5.7.0";function $T(n){n=atob(n);const e=[];for(let t=0;t<n.length;t++)e.push(n.charCodeAt(t));return qe(e)}function XT(n){n=qe(n);let e="";for(let t=0;t<n.length;t++)e+=String.fromCharCode(n[t]);return btoa(e)}const yme=Object.freeze(Object.defineProperty({__proto__:null,decode:$T,encode:XT},Symbol.toStringTag,{value:"Module"}));function Pz(n,e){e==null&&(e=1);const t=[],r=t.forEach,i=function(s,o){r.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):t.push(a)})};return i(n,e),t}function xme(n){const e={};for(let t=0;t<n.length;t++){const r=n[t];e[r[0]]=r[1]}return e}function bme(n){let e=0;function t(){return n[e++]<<8|n[e++]}let r=t(),i=1,s=[0,1];for(let M=1;M<r;M++)s.push(i+=t());let o=t(),a=e;e+=o;let l=0,u=0;function c(){return l==0&&(u=u<<8|n[e++],l=8),u>>--l&1}const f=31,d=Math.pow(2,f),m=d>>>1,y=m>>1,g=d-1;let v=0;for(let M=0;M<f;M++)v=v<<1|c();let x=[],w=0,b=d;for(;;){let M=Math.floor(((v-w+1)*i-1)/b),I=0,D=r;for(;D-I>1;){let V=I+D>>>1;M<s[V]?D=V:I=V}if(I==0)break;x.push(I);let P=w+Math.floor(b*s[I]/i),O=w+Math.floor(b*s[I+1]/i)-1;for(;((P^O)&m)==0;)v=v<<1&g|c(),P=P<<1&g,O=O<<1&g|1;for(;P&~O&y;)v=v&m|v<<1&g>>>1|c(),P=P<<1^m,O=(O^m)<<1|m|1;w=P,b=1+O-P}let A=r-4;return x.map(M=>{switch(M-A){case 3:return A+65792+(n[a++]<<16|n[a++]<<8|n[a++]);case 2:return A+256+(n[a++]<<8|n[a++]);case 1:return A+n[a++];default:return M-1}})}function wme(n){let e=0;return()=>n[e++]}function _me(n){return wme(bme(n))}function Ame(n){return n&1?~n>>1:n>>1}function Sme(n,e){let t=Array(n);for(let r=0;r<n;r++)t[r]=1+e();return t}function tk(n,e){let t=Array(n);for(let r=0,i=-1;r<n;r++)t[r]=i+=1+e();return t}function Eme(n,e){let t=Array(n);for(let r=0,i=0;r<n;r++)t[r]=i+=Ame(e());return t}function Cb(n,e){let t=tk(n(),n),r=n(),i=tk(r,n),s=Sme(r,n);for(let o=0;o<r;o++)for(let a=0;a<s[o];a++)t.push(i[o]+a);return e?t.map(o=>e[o]):t}function Cme(n){let e=[];for(;;){let t=n();if(t==0)break;e.push(Tme(t,n))}for(;;){let t=n()-1;if(t<0)break;e.push(Pme(t,n))}return xme(Pz(e))}function Mme(n){let e=[];for(;;){let t=n();if(t==0)break;e.push(t)}return e}function Iz(n,e,t){let r=Array(n).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)Eme(n,t).forEach((s,o)=>r[o].push(s));return r}function Tme(n,e){let t=1+e(),r=e(),i=Mme(e),s=Iz(i.length,1+n,e);return Pz(s.map((o,a)=>{const l=o[0],u=o.slice(1);return Array(i[a]).fill(void 0).map((c,f)=>{let d=f*r;return[l+f*t,u.map(m=>m+d)]})}))}function Pme(n,e){let t=1+e();return Iz(t,1+n,e).map(i=>[i[0],i.slice(1)])}function Ime(n){let e=Cb(n).sort((r,i)=>r-i);return t();function t(){let r=[];for(;;){let u=Cb(n,e);if(u.length==0)break;r.push({set:new Set(u),node:t()})}r.sort((u,c)=>c.set.size-u.set.size);let i=n(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,l=i==2;return{branches:r,valid:s,fe0f:o,save:a,check:l}}}function Rme(){return _me($T("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const Ow=Rme(),Bme=new Set(Cb(Ow)),kme=new Set(Cb(Ow)),Nme=Cme(Ow),Lme=Ime(Ow),nk=45,rk=95;function Rz(n){return Eb(n)}function Dme(n){return n.filter(e=>e!=65039)}function Bz(n){for(let e of n.split(".")){let t=Rz(e);try{for(let r=t.lastIndexOf(rk)-1;r>=0;r--)if(t[r]!==rk)throw new Error("underscore only allowed at start");if(t.length>=4&&t.every(r=>r<128)&&t[2]===nk&&t[3]===nk)throw new Error("invalid label extension")}catch(r){throw new Error(`Invalid label "${e}": ${r.message}`)}}return n}function Ome(n){return Bz(Fme(n,Dme))}function Fme(n,e){let t=Rz(n).reverse(),r=[];for(;t.length;){let i=zme(t);if(i){r.push(...e(i));continue}let s=t.pop();if(Bme.has(s)){r.push(s);continue}if(kme.has(s))continue;let o=Nme[s];if(o){r.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return Bz(Ume(String.fromCodePoint(...r)))}function Ume(n){return n.normalize("NFC")}function zme(n,e){var t;let r=Lme,i,s,o=[],a=n.length;for(e&&(e.length=0);a;){let l=n[--a];if(r=(t=r.branches.find(u=>u.set.has(l)))===null||t===void 0?void 0:t.node,!r)break;if(r.save)s=l;else if(r.check&&l===s)break;o.push(l),r.fe0f&&(o.push(65039),a>0&&n[a-1]==65039&&a--),r.valid&&(i=o.slice(),r.valid==2&&i.splice(1,1),e&&e.push(...n.slice(a).reverse()),n.length=a)}return i}const Gme=new se(Tz),kz=new Uint8Array(32);kz.fill(0);function ik(n){if(n.length===0)throw new Error("invalid ENS name; empty component");return n}function Fw(n){const e=gr(Ome(n)),t=[];if(n.length===0)return t;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(t.push(ik(e.slice(r,i))),r=i+1);if(r>=e.length)throw new Error("invalid ENS name; empty component");return t.push(ik(e.slice(r))),t}function Hme(n){return Fw(n).map(e=>lc(e)).join(".")}function jme(n){try{return Fw(n).length!==0}catch{}return!1}function lm(n){typeof n!="string"&&Gme.throwArgumentError("invalid ENS name; not a string","name",n);let e=kz;const t=Fw(n);for(;t.length;)e=An(Pn([e,An(t.pop())]));return Je(e)}function Nz(n){return Je(Pn(Fw(n).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"}const Lz=`Ethereum Signed Message:
`;function YT(n){return typeof n=="string"&&(n=gr(n)),An(Pn([gr(Lz),gr(String(n.length)),n]))}var Vme=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const qn=new se(Tz),Dz=new Uint8Array(32);Dz.fill(0);const Wme=We.from(-1),Oz=We.from(0),Fz=We.from(1),qme=We.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Kme(n){const e=qe(n),t=e.length%32;return t?Di([e,Dz.slice(t)]):Je(e)}const Jme=In(Fz.toHexString(),32),$me=In(Oz.toHexString(),32),sk={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Y3=["name","version","chainId","verifyingContract","salt"];function ok(n){return function(e){return typeof e!="string"&&qn.throwArgumentError(`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,e),e}}const Xme={name:ok("name"),version:ok("version"),chainId:function(n){try{return We.from(n).toString()}catch{}return qn.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",n)},verifyingContract:function(n){try{return bn(n).toLowerCase()}catch{}return qn.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){try{const e=qe(n);if(e.length!==32)throw new Error("bad length");return Je(e)}catch{}return qn.throwArgumentError('invalid domain value "salt"',"domain.salt",n)}};function Q3(n){{const e=n.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",r=parseInt(e[2]||"256");(r%8!==0||r>256||e[2]&&e[2]!==String(r))&&qn.throwArgumentError("invalid numeric width","type",n);const i=qme.mask(t?r-1:r),s=t?i.add(Fz).mul(Wme):Oz;return function(o){const a=We.from(o);return(a.lt(s)||a.gt(i))&&qn.throwArgumentError(`value out-of-bounds for ${n}`,"value",o),In(a.toTwos(256).toHexString(),32)}}}{const e=n.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return(t===0||t>32||e[1]!==String(t))&&qn.throwArgumentError("invalid bytes width","type",n),function(r){return qe(r).length!==t&&qn.throwArgumentError(`invalid length for ${n}`,"value",r),Kme(r)}}}switch(n){case"address":return function(e){return In(bn(e),32)};case"bool":return function(e){return e?Jme:$me};case"bytes":return function(e){return An(e)};case"string":return function(e){return Pu(e)}}return null}function ak(n,e){return`${n}(${e.map(({name:t,type:r})=>r+" "+t).join(",")})`}class Qr{constructor(e){Pe(this,"types",Object.freeze(Ui(e))),Pe(this,"_encoderCache",{}),Pe(this,"_types",{});const t={},r={},i={};Object.keys(e).forEach(a=>{t[a]={},r[a]=[],i[a]={}});for(const a in e){const l={};e[a].forEach(u=>{l[u.name]&&qn.throwArgumentError(`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(a)}`,"types",e),l[u.name]=!0;const c=u.type.match(/^([^\x5b]*)(\x5b|$)/)[1];c===a&&qn.throwArgumentError(`circular type reference to ${JSON.stringify(c)}`,"types",e),!Q3(c)&&(r[c]||qn.throwArgumentError(`unknown type ${JSON.stringify(c)}`,"types",e),r[c].push(a),t[a][c]=!0)})}const s=Object.keys(r).filter(a=>r[a].length===0);s.length===0?qn.throwArgumentError("missing primary type","types",e):s.length>1&&qn.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),Pe(this,"primaryType",s[0]);function o(a,l){l[a]&&qn.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),l[a]=!0,Object.keys(t[a]).forEach(u=>{!r[u]||(o(u,l),Object.keys(l).forEach(c=>{i[c][u]=!0}))}),delete l[a]}o(this.primaryType,{});for(const a in i){const l=Object.keys(i[a]);l.sort(),this._types[a]=ak(a,e[a])+l.map(u=>ak(u,e[u])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const i=Q3(e);if(i)return i}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const i=t[1],s=this.getEncoder(i),o=parseInt(t[3]);return a=>{o>=0&&a.length!==o&&qn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let l=a.map(s);return this._types[i]&&(l=l.map(An)),An(Di(l))}}const r=this.types[e];if(r){const i=Pu(this._types[e]);return s=>{const o=r.map(({name:a,type:l})=>{const u=this.getEncoder(l)(s[a]);return this._types[l]?An(u):u});return o.unshift(i),Di(o)}}return qn.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||qn.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return An(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(Q3(e))return r(e,t);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&t.length!==a&&qn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(l=>this._visit(o,l,r))}const s=this.types[e];return s?s.reduce((o,{name:a,type:l})=>(o[a]=this._visit(l,t[a],r),o),{}):qn.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Qr(e)}static getPrimaryType(e){return Qr.from(e).primaryType}static hashStruct(e,t,r){return Qr.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){const i=sk[r];i||qn.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:i})}return t.sort((r,i)=>Y3.indexOf(r.name)-Y3.indexOf(i.name)),Qr.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return Di(["0x1901",Qr.hashDomain(e),Qr.from(t).hash(r)])}static hash(e,t,r){return An(Qr.encode(e,t,r))}static resolveNames(e,t,r,i){return Vme(this,void 0,void 0,function*(){e=Bn(e);const s={};e.verifyingContract&&!Ft(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Qr.from(t);o.visit(r,(a,l)=>(a==="address"&&!Ft(l,20)&&(s[l]="0x"),l));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=o.visit(r,(a,l)=>a==="address"&&s[l]?s[l]:l),{domain:e,value:r}})}static getPayload(e,t,r){Qr.hashDomain(e);const i={},s=[];Y3.forEach(l=>{const u=e[l];u!=null&&(i[l]=Xme[l](u),s.push({name:l,type:sk[l]}))});const o=Qr.from(t),a=Bn(t);return a.EIP712Domain?qn.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):a.EIP712Domain=s,o.encode(r),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(r,(l,u)=>{if(l.match(/^bytes(\d*)/))return Je(qe(u));if(l.match(/^u?int/))return We.from(u).toString();switch(l){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return typeof u!="string"&&qn.throwArgumentError("invalid string","value",u),u}return qn.throwArgumentError("unsupported type","type",l)})}}}const Yme=Object.freeze(Object.defineProperty({__proto__:null,id:Pu,dnsEncode:Nz,namehash:lm,isValidName:jme,ensNormalize:Hme,messagePrefix:Lz,hashMessage:YT,_TypedDataEncoder:Qr},Symbol.toStringTag,{value:"Module"})),Wn=new se(Yg);class Uz extends ac{}class zz extends ac{}class Qme extends ac{}class Mb extends ac{static isIndexed(e){return!!(e&&e._isIndexed)}}const Zme={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function lk(n,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${n}`);return t.error=e,t}class vC{constructor(e){let t=[];typeof e=="string"?t=JSON.parse(e):t=e,Pe(this,"fragments",t.map(r=>ga.from(r)).filter(r=>r!=null)),Pe(this,"_abiCoder",ni(new.target,"getAbiCoder")()),Pe(this,"functions",{}),Pe(this,"errors",{}),Pe(this,"events",{}),Pe(this,"structs",{}),this.fragments.forEach(r=>{let i=null;switch(r.type){case"constructor":if(this.deploy){Wn.warn("duplicate definition - constructor");return}Pe(this,"deploy",r);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=r.format();if(i[s]){Wn.warn("duplicate definition - "+s);return}i[s]=r}),this.deploy||Pe(this,"deploy",Lo.from({payable:!1,type:"constructor"})),Pe(this,"_isInterface",!0)}format(e){e||(e=an.full),e===an.sighash&&Wn.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map(r=>r.format(e));return e===an.json?JSON.stringify(t.map(r=>JSON.parse(r))):t}static getAbiCoder(){return Mz}static getAddress(e){return bn(e)}static getSighash(e){return fr(Pu(e.format()),0,4)}static getEventTopic(e){return Pu(e.format())}getFunction(e){if(Ft(e)){for(const r in this.functions)if(e===this.getSighash(r))return this.functions[r];Wn.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const r=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===r);return i.length===0?Wn.throwArgumentError("no matching function","name",r):i.length>1&&Wn.throwArgumentError("multiple matching functions","name",r),this.functions[i[0]]}const t=this.functions[Do.fromString(e).format()];return t||Wn.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(Ft(e)){const r=e.toLowerCase();for(const i in this.events)if(r===this.getEventTopic(i))return this.events[i];Wn.throwArgumentError("no matching event","topichash",r)}if(e.indexOf("(")===-1){const r=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===r);return i.length===0?Wn.throwArgumentError("no matching event","name",r):i.length>1&&Wn.throwArgumentError("multiple matching events","name",r),this.events[i[0]]}const t=this.events[pa.fromString(e).format()];return t||Wn.throwArgumentError("no matching event","signature",e),t}getError(e){if(Ft(e)){const r=ni(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===r(s))return this.errors[i]}Wn.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const r=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===r);return i.length===0?Wn.throwArgumentError("no matching error","name",r):i.length>1&&Wn.throwArgumentError("multiple matching errors","name",r),this.errors[i[0]]}const t=this.errors[Do.fromString(e).format()];return t||Wn.throwArgumentError("no matching error","signature",e),t}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch{throw t}}return ni(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),ni(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){typeof e=="string"&&(e=this.getError(e));const r=qe(t);return Je(r.slice(0,4))!==this.getSighash(e)&&Wn.throwArgumentError(`data signature does not match error ${e.name}.`,"data",Je(r)),this._decodeParams(e.inputs,r.slice(4))}encodeErrorResult(e,t){return typeof e=="string"&&(e=this.getError(e)),Je(Pn([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){typeof e=="string"&&(e=this.getFunction(e));const r=qe(t);return Je(r.slice(0,4))!==this.getSighash(e)&&Wn.throwArgumentError(`data signature does not match function ${e.name}.`,"data",Je(r)),this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,t){return typeof e=="string"&&(e=this.getFunction(e)),Je(Pn([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){typeof e=="string"&&(e=this.getFunction(e));let r=qe(t),i=null,s="",o=null,a=null,l=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch{}break;case 4:{const u=Je(r.slice(0,4)),c=Zme[u];if(c)o=this._abiCoder.decode(c.inputs,r.slice(4)),a=c.name,l=c.signature,c.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const f=this.getError(u);o=this._abiCoder.decode(f.inputs,r.slice(4)),a=f.name,l=f.format()}catch{}break}}return Wn.throwError("call revert exception"+s,se.errors.CALL_EXCEPTION,{method:e.format(),data:Je(t),errorArgs:o,errorName:a,errorSignature:l,reason:i})}encodeFunctionResult(e,t){return typeof e=="string"&&(e=this.getFunction(e)),Je(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){typeof e=="string"&&(e=this.getEvent(e)),t.length>e.inputs.length&&Wn.throwError("too many arguments for "+e.format(),se.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let r=[];e.anonymous||r.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?Pu(o):s.type==="bytes"?An(Je(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=We.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),In(Je(o),32));for(t.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&Wn.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?Wn.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?r.push(s.map(l=>i(a,l))):r.push(i(a,s))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,t){typeof e=="string"&&(e=this.getEvent(e));const r=[],i=[],s=[];return e.anonymous||r.push(this.getEventTopic(e)),t.length!==e.inputs.length&&Wn.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((o,a)=>{const l=t[a];if(o.indexed)if(o.type==="string")r.push(Pu(l));else if(o.type==="bytes")r.push(An(l));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(this._abiCoder.encode([o.type],[l]))}else i.push(o),s.push(l)}),{data:this._abiCoder.encode(i,s),topics:r}}decodeEventLog(e,t,r){if(typeof e=="string"&&(e=this.getEvent(e)),r!=null&&!e.anonymous){let d=this.getEventTopic(e);(!Ft(r[0],32)||r[0].toLowerCase()!==d)&&Wn.throwError("fragment/topic mismatch",se.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:d,value:r[0]}),r=r.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((d,m)=>{d.indexed?d.type==="string"||d.type==="bytes"||d.baseType==="tuple"||d.baseType==="array"?(i.push(Rr.fromObject({type:"bytes32",name:d.name})),o.push(!0)):(i.push(d),o.push(!1)):(s.push(d),o.push(!1))});let a=r!=null?this._abiCoder.decode(i,Pn(r)):null,l=this._abiCoder.decode(s,t,!0),u=[],c=0,f=0;e.inputs.forEach((d,m)=>{if(d.indexed)if(a==null)u[m]=new Mb({_isIndexed:!0,hash:null});else if(o[m])u[m]=new Mb({_isIndexed:!0,hash:a[f++]});else try{u[m]=a[f++]}catch(y){u[m]=y}else try{u[m]=l[c++]}catch(y){u[m]=y}if(d.name&&u[d.name]==null){const y=u[m];y instanceof Error?Object.defineProperty(u,d.name,{enumerable:!0,get:()=>{throw lk(`property ${JSON.stringify(d.name)}`,y)}}):u[d.name]=y}});for(let d=0;d<u.length;d++){const m=u[d];m instanceof Error&&Object.defineProperty(u,d,{enumerable:!0,get:()=>{throw lk(`index ${d}`,m)}})}return Object.freeze(u)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new zz({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:We.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new Uz({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=Je(e);let r=this.getError(t.substring(0,10).toLowerCase());return r?new Qme({args:this._abiCoder.decode(r.inputs,"0x"+t.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const ege=Object.freeze(Object.defineProperty({__proto__:null,ConstructorFragment:Lo,ErrorFragment:al,EventFragment:pa,Fragment:ga,FunctionFragment:Do,ParamType:Rr,FormatTypes:an,AbiCoder:Cz,defaultAbiCoder:Mz,Interface:vC,Indexed:Mb,checkResultErrors:cz,LogDescription:Uz,TransactionDescription:zz},Symbol.toStringTag,{value:"Module"})),tge="abstract-provider/5.7.0";var nge=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const rge=new se(tge);class ige extends ac{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class Kf{constructor(){rge.checkAbstract(new.target,Kf),Pe(this,"_isProvider",!0)}getFeeData(){return nge(this,void 0,void 0,function*(){const{block:e,gasPrice:t}=yield nr({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let r=null,i=null,s=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,s=We.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:r,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:t}})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}const sge="abstract-signer/5.7.0";var So=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const Ys=new se(sge),oge=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],age=[se.errors.INSUFFICIENT_FUNDS,se.errors.NONCE_EXPIRED,se.errors.REPLACEMENT_UNDERPRICED];class uc{constructor(){Ys.checkAbstract(new.target,uc),Pe(this,"_isSigner",!0)}getBalance(e){return So(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return So(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return So(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const t=yield nr(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return So(this,void 0,void 0,function*(){this._checkProvider("call");const r=yield nr(this.checkTransaction(e));return yield this.provider.call(r,t)})}sendTransaction(e){return So(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),r=yield this.signTransaction(t);return yield this.provider.sendTransaction(r)})}getChainId(){return So(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return So(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return So(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return So(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const r in e)oge.indexOf(r)===-1&&Ys.throwArgumentError("invalid transaction key: "+r,"transaction",e);const t=Bn(e);return t.from==null?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(r=>(r[0].toLowerCase()!==r[1].toLowerCase()&&Ys.throwArgumentError("from address mismatch","transaction",e),r[0])),t}populateTransaction(e){return So(this,void 0,void 0,function*(){const t=yield nr(this.checkTransaction(e));t.to!=null&&(t.to=Promise.resolve(t.to).then(i=>So(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&Ys.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),t.to.catch(i=>{}));const r=t.maxFeePerGas!=null||t.maxPriorityFeePerGas!=null;if(t.gasPrice!=null&&(t.type===2||r)?Ys.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(t.type===0||t.type===1)&&r&&Ys.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(t.type===2||t.type==null)&&t.maxFeePerGas!=null&&t.maxPriorityFeePerGas!=null)t.type=2;else if(t.type===0||t.type===1)t.gasPrice==null&&(t.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(t.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(t.type=2,t.gasPrice!=null){const s=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=s,t.maxPriorityFeePerGas=s}else t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(r&&Ys.throwError("network does not support EIP-1559",se.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),t.gasPrice==null&&(t.gasPrice=i.gasPrice),t.type=0):Ys.throwError("failed to get consistent fee data",se.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else t.type===2&&(t.maxFeePerGas==null&&(t.maxFeePerGas=i.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return t.nonce==null&&(t.nonce=this.getTransactionCount("pending")),t.gasLimit==null&&(t.gasLimit=this.estimateGas(t).catch(i=>{if(age.indexOf(i.code)>=0)throw i;return Ys.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",se.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:t})})),t.chainId==null?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Ys.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield nr(t)})}_checkProvider(e){this.provider||Ys.throwError("missing provider",se.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class Uw extends uc{constructor(e,t){super(),Pe(this,"address",e),Pe(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{Ys.throwError(e,se.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new Uw(this.address,e)}}const lge=Object.freeze(Object.defineProperty({__proto__:null,Signer:uc,VoidSigner:Uw},Symbol.toStringTag,{value:"Module"}));var Ni={},Yt={},Qg=Gz;function Gz(n,e){if(!n)throw new Error(e||"Assertion failed")}Gz.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var yC={exports:{}};typeof Object.create=="function"?yC.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:yC.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var uge=Qg,cge=yC.exports;Yt.inherits=cge;function fge(n,e){return(n.charCodeAt(e)&64512)!==55296||e<0||e+1>=n.length?!1:(n.charCodeAt(e+1)&64512)===56320}function dge(n,e){if(Array.isArray(n))return n.slice();if(!n)return[];var t=[];if(typeof n=="string")if(e){if(e==="hex")for(n=n.replace(/[^a-z0-9]+/ig,""),n.length%2!==0&&(n="0"+n),i=0;i<n.length;i+=2)t.push(parseInt(n[i]+n[i+1],16))}else for(var r=0,i=0;i<n.length;i++){var s=n.charCodeAt(i);s<128?t[r++]=s:s<2048?(t[r++]=s>>6|192,t[r++]=s&63|128):fge(n,i)?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),t[r++]=s>>18|240,t[r++]=s>>12&63|128,t[r++]=s>>6&63|128,t[r++]=s&63|128):(t[r++]=s>>12|224,t[r++]=s>>6&63|128,t[r++]=s&63|128)}else for(i=0;i<n.length;i++)t[i]=n[i]|0;return t}Yt.toArray=dge;function hge(n){for(var e="",t=0;t<n.length;t++)e+=jz(n[t].toString(16));return e}Yt.toHex=hge;function Hz(n){var e=n>>>24|n>>>8&65280|n<<8&16711680|(n&255)<<24;return e>>>0}Yt.htonl=Hz;function pge(n,e){for(var t="",r=0;r<n.length;r++){var i=n[r];e==="little"&&(i=Hz(i)),t+=Vz(i.toString(16))}return t}Yt.toHex32=pge;function jz(n){return n.length===1?"0"+n:n}Yt.zero2=jz;function Vz(n){return n.length===7?"0"+n:n.length===6?"00"+n:n.length===5?"000"+n:n.length===4?"0000"+n:n.length===3?"00000"+n:n.length===2?"000000"+n:n.length===1?"0000000"+n:n}Yt.zero8=Vz;function mge(n,e,t,r){var i=t-e;uge(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var l;r==="big"?l=n[a]<<24|n[a+1]<<16|n[a+2]<<8|n[a+3]:l=n[a+3]<<24|n[a+2]<<16|n[a+1]<<8|n[a],s[o]=l>>>0}return s}Yt.join32=mge;function gge(n,e){for(var t=new Array(n.length*4),r=0,i=0;r<n.length;r++,i+=4){var s=n[r];e==="big"?(t[i]=s>>>24,t[i+1]=s>>>16&255,t[i+2]=s>>>8&255,t[i+3]=s&255):(t[i+3]=s>>>24,t[i+2]=s>>>16&255,t[i+1]=s>>>8&255,t[i]=s&255)}return t}Yt.split32=gge;function vge(n,e){return n>>>e|n<<32-e}Yt.rotr32=vge;function yge(n,e){return n<<e|n>>>32-e}Yt.rotl32=yge;function xge(n,e){return n+e>>>0}Yt.sum32=xge;function bge(n,e,t){return n+e+t>>>0}Yt.sum32_3=bge;function wge(n,e,t,r){return n+e+t+r>>>0}Yt.sum32_4=wge;function _ge(n,e,t,r,i){return n+e+t+r+i>>>0}Yt.sum32_5=_ge;function Age(n,e,t,r){var i=n[e],s=n[e+1],o=r+s>>>0,a=(o<r?1:0)+t+i;n[e]=a>>>0,n[e+1]=o}Yt.sum64=Age;function Sge(n,e,t,r){var i=e+r>>>0,s=(i<e?1:0)+n+t;return s>>>0}Yt.sum64_hi=Sge;function Ege(n,e,t,r){var i=e+r;return i>>>0}Yt.sum64_lo=Ege;function Cge(n,e,t,r,i,s,o,a){var l=0,u=e;u=u+r>>>0,l+=u<e?1:0,u=u+s>>>0,l+=u<s?1:0,u=u+a>>>0,l+=u<a?1:0;var c=n+t+i+o+l;return c>>>0}Yt.sum64_4_hi=Cge;function Mge(n,e,t,r,i,s,o,a){var l=e+r+s+a;return l>>>0}Yt.sum64_4_lo=Mge;function Tge(n,e,t,r,i,s,o,a,l,u){var c=0,f=e;f=f+r>>>0,c+=f<e?1:0,f=f+s>>>0,c+=f<s?1:0,f=f+a>>>0,c+=f<a?1:0,f=f+u>>>0,c+=f<u?1:0;var d=n+t+i+o+l+c;return d>>>0}Yt.sum64_5_hi=Tge;function Pge(n,e,t,r,i,s,o,a,l,u){var c=e+r+s+a+u;return c>>>0}Yt.sum64_5_lo=Pge;function Ige(n,e,t){var r=e<<32-t|n>>>t;return r>>>0}Yt.rotr64_hi=Ige;function Rge(n,e,t){var r=n<<32-t|e>>>t;return r>>>0}Yt.rotr64_lo=Rge;function Bge(n,e,t){return n>>>t}Yt.shr64_hi=Bge;function kge(n,e,t){var r=n<<32-t|e>>>t;return r>>>0}Yt.shr64_lo=kge;var bp={},uk=Yt,Nge=Qg;function zw(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}bp.BlockHash=zw;zw.prototype.update=function(e,t){if(e=uk.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=uk.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};zw.prototype.digest=function(e){return this.update(this._pad()),Nge(this.pending===null),this._digest(e)};zw.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=new Array(r+this.padLength);i[0]=128;for(var s=1;s<r;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var wp={},Da={},Lge=Yt,Ea=Lge.rotr32;function Dge(n,e,t,r){if(n===0)return Wz(e,t,r);if(n===1||n===3)return Kz(e,t,r);if(n===2)return qz(e,t,r)}Da.ft_1=Dge;function Wz(n,e,t){return n&e^~n&t}Da.ch32=Wz;function qz(n,e,t){return n&e^n&t^e&t}Da.maj32=qz;function Kz(n,e,t){return n^e^t}Da.p32=Kz;function Oge(n){return Ea(n,2)^Ea(n,13)^Ea(n,22)}Da.s0_256=Oge;function Fge(n){return Ea(n,6)^Ea(n,11)^Ea(n,25)}Da.s1_256=Fge;function Uge(n){return Ea(n,7)^Ea(n,18)^n>>>3}Da.g0_256=Uge;function zge(n){return Ea(n,17)^Ea(n,19)^n>>>10}Da.g1_256=zge;var Kh=Yt,Gge=bp,Hge=Da,Z3=Kh.rotl32,x0=Kh.sum32,jge=Kh.sum32_5,Vge=Hge.ft_1,Jz=Gge.BlockHash,Wge=[1518500249,1859775393,2400959708,3395469782];function Ia(){if(!(this instanceof Ia))return new Ia;Jz.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Kh.inherits(Ia,Jz);var qge=Ia;Ia.blockSize=512;Ia.outSize=160;Ia.hmacStrength=80;Ia.padLength=64;Ia.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=Z3(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],u=this.h[4];for(i=0;i<r.length;i++){var c=~~(i/20),f=jge(Z3(s,5),Vge(c,o,a,l),u,r[i],Wge[c]);u=l,l=a,a=Z3(o,30),o=s,s=f}this.h[0]=x0(this.h[0],s),this.h[1]=x0(this.h[1],o),this.h[2]=x0(this.h[2],a),this.h[3]=x0(this.h[3],l),this.h[4]=x0(this.h[4],u)};Ia.prototype._digest=function(e){return e==="hex"?Kh.toHex32(this.h,"big"):Kh.split32(this.h,"big")};var Jh=Yt,Kge=bp,_p=Da,Jge=Qg,Eo=Jh.sum32,$ge=Jh.sum32_4,Xge=Jh.sum32_5,Yge=_p.ch32,Qge=_p.maj32,Zge=_p.s0_256,eve=_p.s1_256,tve=_p.g0_256,nve=_p.g1_256,$z=Kge.BlockHash,rve=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ra(){if(!(this instanceof Ra))return new Ra;$z.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=rve,this.W=new Array(64)}Jh.inherits(Ra,$z);var Xz=Ra;Ra.blockSize=512;Ra.outSize=256;Ra.hmacStrength=192;Ra.padLength=64;Ra.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=$ge(nve(r[i-2]),r[i-7],tve(r[i-15]),r[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],u=this.h[4],c=this.h[5],f=this.h[6],d=this.h[7];for(Jge(this.k.length===r.length),i=0;i<r.length;i++){var m=Xge(d,eve(u),Yge(u,c,f),this.k[i],r[i]),y=Eo(Zge(s),Qge(s,o,a));d=f,f=c,c=u,u=Eo(l,m),l=a,a=o,o=s,s=Eo(m,y)}this.h[0]=Eo(this.h[0],s),this.h[1]=Eo(this.h[1],o),this.h[2]=Eo(this.h[2],a),this.h[3]=Eo(this.h[3],l),this.h[4]=Eo(this.h[4],u),this.h[5]=Eo(this.h[5],c),this.h[6]=Eo(this.h[6],f),this.h[7]=Eo(this.h[7],d)};Ra.prototype._digest=function(e){return e==="hex"?Jh.toHex32(this.h,"big"):Jh.split32(this.h,"big")};var xC=Yt,Yz=Xz;function Tl(){if(!(this instanceof Tl))return new Tl;Yz.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}xC.inherits(Tl,Yz);var ive=Tl;Tl.blockSize=512;Tl.outSize=224;Tl.hmacStrength=192;Tl.padLength=64;Tl.prototype._digest=function(e){return e==="hex"?xC.toHex32(this.h.slice(0,7),"big"):xC.split32(this.h.slice(0,7),"big")};var as=Yt,sve=bp,ove=Qg,Ca=as.rotr64_hi,Ma=as.rotr64_lo,Qz=as.shr64_hi,Zz=as.shr64_lo,fu=as.sum64,eA=as.sum64_hi,tA=as.sum64_lo,ave=as.sum64_4_hi,lve=as.sum64_4_lo,uve=as.sum64_5_hi,cve=as.sum64_5_lo,eG=sve.BlockHash,fve=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function qo(){if(!(this instanceof qo))return new qo;eG.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=fve,this.W=new Array(160)}as.inherits(qo,eG);var tG=qo;qo.blockSize=1024;qo.outSize=512;qo.hmacStrength=192;qo.padLength=128;qo.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var s=_ve(r[i-4],r[i-3]),o=Ave(r[i-4],r[i-3]),a=r[i-14],l=r[i-13],u=bve(r[i-30],r[i-29]),c=wve(r[i-30],r[i-29]),f=r[i-32],d=r[i-31];r[i]=ave(s,o,a,l,u,c,f,d),r[i+1]=lve(s,o,a,l,u,c,f,d)}};qo.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],l=this.h[4],u=this.h[5],c=this.h[6],f=this.h[7],d=this.h[8],m=this.h[9],y=this.h[10],g=this.h[11],v=this.h[12],x=this.h[13],w=this.h[14],b=this.h[15];ove(this.k.length===r.length);for(var A=0;A<r.length;A+=2){var M=w,I=b,D=yve(d,m),P=xve(d,m),O=dve(d,m,y,g,v),V=hve(d,m,y,g,v,x),q=this.k[A],ne=this.k[A+1],H=r[A],_=r[A+1],T=uve(M,I,D,P,O,V,q,ne,H,_),k=cve(M,I,D,P,O,V,q,ne,H,_);M=gve(i,s),I=vve(i,s),D=pve(i,s,o,a,l),P=mve(i,s,o,a,l,u);var U=eA(M,I,D,P),L=tA(M,I,D,P);w=v,b=x,v=y,x=g,y=d,g=m,d=eA(c,f,T,k),m=tA(f,f,T,k),c=l,f=u,l=o,u=a,o=i,a=s,i=eA(T,k,U,L),s=tA(T,k,U,L)}fu(this.h,0,i,s),fu(this.h,2,o,a),fu(this.h,4,l,u),fu(this.h,6,c,f),fu(this.h,8,d,m),fu(this.h,10,y,g),fu(this.h,12,v,x),fu(this.h,14,w,b)};qo.prototype._digest=function(e){return e==="hex"?as.toHex32(this.h,"big"):as.split32(this.h,"big")};function dve(n,e,t,r,i){var s=n&t^~n&i;return s<0&&(s+=4294967296),s}function hve(n,e,t,r,i,s){var o=e&r^~e&s;return o<0&&(o+=4294967296),o}function pve(n,e,t,r,i){var s=n&t^n&i^t&i;return s<0&&(s+=4294967296),s}function mve(n,e,t,r,i,s){var o=e&r^e&s^r&s;return o<0&&(o+=4294967296),o}function gve(n,e){var t=Ca(n,e,28),r=Ca(e,n,2),i=Ca(e,n,7),s=t^r^i;return s<0&&(s+=4294967296),s}function vve(n,e){var t=Ma(n,e,28),r=Ma(e,n,2),i=Ma(e,n,7),s=t^r^i;return s<0&&(s+=4294967296),s}function yve(n,e){var t=Ca(n,e,14),r=Ca(n,e,18),i=Ca(e,n,9),s=t^r^i;return s<0&&(s+=4294967296),s}function xve(n,e){var t=Ma(n,e,14),r=Ma(n,e,18),i=Ma(e,n,9),s=t^r^i;return s<0&&(s+=4294967296),s}function bve(n,e){var t=Ca(n,e,1),r=Ca(n,e,8),i=Qz(n,e,7),s=t^r^i;return s<0&&(s+=4294967296),s}function wve(n,e){var t=Ma(n,e,1),r=Ma(n,e,8),i=Zz(n,e,7),s=t^r^i;return s<0&&(s+=4294967296),s}function _ve(n,e){var t=Ca(n,e,19),r=Ca(e,n,29),i=Qz(n,e,6),s=t^r^i;return s<0&&(s+=4294967296),s}function Ave(n,e){var t=Ma(n,e,19),r=Ma(e,n,29),i=Zz(n,e,6),s=t^r^i;return s<0&&(s+=4294967296),s}var bC=Yt,nG=tG;function Pl(){if(!(this instanceof Pl))return new Pl;nG.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}bC.inherits(Pl,nG);var Sve=Pl;Pl.blockSize=1024;Pl.outSize=384;Pl.hmacStrength=192;Pl.padLength=128;Pl.prototype._digest=function(e){return e==="hex"?bC.toHex32(this.h.slice(0,12),"big"):bC.split32(this.h.slice(0,12),"big")};wp.sha1=qge;wp.sha224=ive;wp.sha256=Xz;wp.sha384=Sve;wp.sha512=tG;var rG={},Df=Yt,Eve=bp,Px=Df.rotl32,ck=Df.sum32,b0=Df.sum32_3,fk=Df.sum32_4,iG=Eve.BlockHash;function Ba(){if(!(this instanceof Ba))return new Ba;iG.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Df.inherits(Ba,iG);rG.ripemd160=Ba;Ba.blockSize=512;Ba.outSize=160;Ba.hmacStrength=192;Ba.padLength=64;Ba.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],l=r,u=i,c=s,f=o,d=a,m=0;m<80;m++){var y=ck(Px(fk(r,dk(m,i,s,o),e[Tve[m]+t],Cve(m)),Ive[m]),a);r=a,a=o,o=Px(s,10),s=i,i=y,y=ck(Px(fk(l,dk(79-m,u,c,f),e[Pve[m]+t],Mve(m)),Rve[m]),d),l=d,d=f,f=Px(c,10),c=u,u=y}y=b0(this.h[1],s,f),this.h[1]=b0(this.h[2],o,d),this.h[2]=b0(this.h[3],a,l),this.h[3]=b0(this.h[4],r,u),this.h[4]=b0(this.h[0],i,c),this.h[0]=y};Ba.prototype._digest=function(e){return e==="hex"?Df.toHex32(this.h,"little"):Df.split32(this.h,"little")};function dk(n,e,t,r){return n<=15?e^t^r:n<=31?e&t|~e&r:n<=47?(e|~t)^r:n<=63?e&r|t&~r:e^(t|~r)}function Cve(n){return n<=15?0:n<=31?1518500249:n<=47?1859775393:n<=63?2400959708:2840853838}function Mve(n){return n<=15?1352829926:n<=31?1548603684:n<=47?1836072691:n<=63?2053994217:0}var Tve=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Pve=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ive=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Rve=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Bve=Yt,kve=Qg;function $h(n,e,t){if(!(this instanceof $h))return new $h(n,e,t);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(Bve.toArray(e,t))}var Nve=$h;$h.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),kve(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)};$h.prototype.update=function(e,t){return this.inner.update(e,t),this};$h.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(n){var e=n;e.utils=Yt,e.common=bp,e.sha=wp,e.ripemd=rG,e.hmac=Nve,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(Ni);function Ap(n,e,t){return t={path:e,exports:{},require:function(r,i){return Lve(r,i??t.path)}},n(t,t.exports),t.exports}function Lve(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var QT=sG;function sG(n,e){if(!n)throw new Error(e||"Assertion failed")}sG.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var zo=Ap(function(n,e){var t=e;function r(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var l=[];if(typeof o!="string"){for(var u=0;u<o.length;u++)l[u]=o[u]|0;return l}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var u=0;u<o.length;u+=2)l.push(parseInt(o[u]+o[u+1],16))}else for(var u=0;u<o.length;u++){var c=o.charCodeAt(u),f=c>>8,d=c&255;f?l.push(f,d):l.push(d)}return l}t.toArray=r;function i(o){return o.length===1?"0"+o:o}t.zero2=i;function s(o){for(var a="",l=0;l<o.length;l++)a+=i(o[l].toString(16));return a}t.toHex=s,t.encode=function(a,l){return l==="hex"?s(a):a}}),Ls=Ap(function(n,e){var t=e;t.assert=QT,t.toArray=zo.toArray,t.zero2=zo.zero2,t.toHex=zo.toHex,t.encode=zo.encode;function r(l,u,c){var f=new Array(Math.max(l.bitLength(),c)+1);f.fill(0);for(var d=1<<u+1,m=l.clone(),y=0;y<f.length;y++){var g,v=m.andln(d-1);m.isOdd()?(v>(d>>1)-1?g=(d>>1)-v:g=v,m.isubn(g)):g=0,f[y]=g,m.iushrn(1)}return f}t.getNAF=r;function i(l,u){var c=[[],[]];l=l.clone(),u=u.clone();for(var f=0,d=0,m;l.cmpn(-f)>0||u.cmpn(-d)>0;){var y=l.andln(3)+f&3,g=u.andln(3)+d&3;y===3&&(y=-1),g===3&&(g=-1);var v;(y&1)===0?v=0:(m=l.andln(7)+f&7,(m===3||m===5)&&g===2?v=-y:v=y),c[0].push(v);var x;(g&1)===0?x=0:(m=u.andln(7)+d&7,(m===3||m===5)&&y===2?x=-g:x=g),c[1].push(x),2*f===v+1&&(f=1-f),2*d===x+1&&(d=1-d),l.iushrn(1),u.iushrn(1)}return c}t.getJSF=i;function s(l,u,c){var f="_"+u;l.prototype[u]=function(){return this[f]!==void 0?this[f]:this[f]=c.call(this)}}t.cachedProperty=s;function o(l){return typeof l=="string"?t.toArray(l,"hex"):l}t.parseBytes=o;function a(l){return new Ot(l,"hex","le")}t.intFromLE=a}),Tb=Ls.getNAF,Dve=Ls.getJSF,Pb=Ls.assert;function cc(n,e){this.type=n,this.p=new Ot(e.p,16),this.red=e.prime?Ot.red(e.prime):Ot.mont(this.p),this.zero=new Ot(0).toRed(this.red),this.one=new Ot(1).toRed(this.red),this.two=new Ot(2).toRed(this.red),this.n=e.n&&new Ot(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Jf=cc;cc.prototype.point=function(){throw new Error("Not implemented")};cc.prototype.validate=function(){throw new Error("Not implemented")};cc.prototype._fixedNafMul=function(e,t){Pb(e.precomputed);var r=e._getDoubles(),i=Tb(t,1,this._bitLength),s=(1<<r.step+1)-(r.step%2===0?2:1);s/=3;var o=[],a,l;for(a=0;a<i.length;a+=r.step){l=0;for(var u=a+r.step-1;u>=a;u--)l=(l<<1)+i[u];o.push(l)}for(var c=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=s;d>0;d--){for(a=0;a<o.length;a++)l=o[a],l===d?f=f.mixedAdd(r.points[a]):l===-d&&(f=f.mixedAdd(r.points[a].neg()));c=c.add(f)}return c.toP()};cc.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var s=i.points,o=Tb(t,r,this._bitLength),a=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var u=0;l>=0&&o[l]===0;l--)u++;if(l>=0&&u++,a=a.dblp(u),l<0)break;var c=o[l];Pb(c!==0),e.type==="affine"?c>0?a=a.mixedAdd(s[c-1>>1]):a=a.mixedAdd(s[-c-1>>1].neg()):c>0?a=a.add(s[c-1>>1]):a=a.add(s[-c-1>>1].neg())}return e.type==="affine"?a.toP():a};cc.prototype._wnafMulAdd=function(e,t,r,i,s){var o=this._wnafT1,a=this._wnafT2,l=this._wnafT3,u=0,c,f,d;for(c=0;c<i;c++){d=t[c];var m=d._getNAFPoints(e);o[c]=m.wnd,a[c]=m.points}for(c=i-1;c>=1;c-=2){var y=c-1,g=c;if(o[y]!==1||o[g]!==1){l[y]=Tb(r[y],o[y],this._bitLength),l[g]=Tb(r[g],o[g],this._bitLength),u=Math.max(l[y].length,u),u=Math.max(l[g].length,u);continue}var v=[t[y],null,null,t[g]];t[y].y.cmp(t[g].y)===0?(v[1]=t[y].add(t[g]),v[2]=t[y].toJ().mixedAdd(t[g].neg())):t[y].y.cmp(t[g].y.redNeg())===0?(v[1]=t[y].toJ().mixedAdd(t[g]),v[2]=t[y].add(t[g].neg())):(v[1]=t[y].toJ().mixedAdd(t[g]),v[2]=t[y].toJ().mixedAdd(t[g].neg()));var x=[-3,-1,-5,-7,0,7,5,1,3],w=Dve(r[y],r[g]);for(u=Math.max(w[0].length,u),l[y]=new Array(u),l[g]=new Array(u),f=0;f<u;f++){var b=w[0][f]|0,A=w[1][f]|0;l[y][f]=x[(b+1)*3+(A+1)],l[g][f]=0,a[y]=v}}var M=this.jpoint(null,null,null),I=this._wnafT4;for(c=u;c>=0;c--){for(var D=0;c>=0;){var P=!0;for(f=0;f<i;f++)I[f]=l[f][c]|0,I[f]!==0&&(P=!1);if(!P)break;D++,c--}if(c>=0&&D++,M=M.dblp(D),c<0)break;for(f=0;f<i;f++){var O=I[f];O!==0&&(O>0?d=a[f][O-1>>1]:O<0&&(d=a[f][-O-1>>1].neg()),d.type==="affine"?M=M.mixedAdd(d):M=M.add(d))}}for(c=0;c<i;c++)a[c]=null;return s?M:M.toP()};function mo(n,e){this.curve=n,this.type=e,this.precomputed=null}cc.BasePoint=mo;mo.prototype.eq=function(){throw new Error("Not implemented")};mo.prototype.validate=function(){return this.curve.validate(this)};cc.prototype.decodePoint=function(e,t){e=Ls.toArray(e,t);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?Pb(e[e.length-1]%2===0):e[0]===7&&Pb(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")};mo.prototype.encodeCompressed=function(e){return this.encode(e,!0)};mo.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))};mo.prototype.encode=function(e,t){return Ls.encode(this._encode(t),e)};mo.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};mo.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};mo.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,s=0;s<t;s+=e){for(var o=0;o<e;o++)i=i.dbl();r.push(i)}return{step:e,points:r}};mo.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),s=1;s<r;s++)t[s]=t[s-1].add(i);return{wnd:e,points:t}};mo.prototype._getBeta=function(){return null};mo.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var ZT=Ap(function(n){typeof Object.create=="function"?n.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}}),Ove=Ls.assert;function go(n){Jf.call(this,"short",n),this.a=new Ot(n.a,16).toRed(this.red),this.b=new Ot(n.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(n),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}ZT(go,Jf);var Fve=go;go.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,r;if(e.beta)t=new Ot(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)r=new Ot(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))===0?r=s[0]:(r=s[1],Ove(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new Ot(a.a,16),b:new Ot(a.b,16)}}):o=this._getEndoBasis(r),{beta:t,lambda:r,basis:o}}};go.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Ot.mont(e),r=new Ot(2).toRed(t).redInvm(),i=r.redNeg(),s=new Ot(3).toRed(t).redNeg().redSqrt().redMul(r),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};go.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),s=new Ot(1),o=new Ot(0),a=new Ot(0),l=new Ot(1),u,c,f,d,m,y,g,v=0,x,w;r.cmpn(0)!==0;){var b=i.div(r);x=i.sub(b.mul(r)),w=a.sub(b.mul(s));var A=l.sub(b.mul(o));if(!f&&x.cmp(t)<0)u=g.neg(),c=s,f=x.neg(),d=w;else if(f&&++v===2)break;g=x,i=r,r=x,a=s,s=w,l=o,o=A}m=x.neg(),y=w;var M=f.sqr().add(d.sqr()),I=m.sqr().add(y.sqr());return I.cmp(M)>=0&&(m=u,y=c),f.negative&&(f=f.neg(),d=d.neg()),m.negative&&(m=m.neg(),y=y.neg()),[{a:f,b:d},{a:m,b:y}]};go.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],s=i.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),a=s.mul(r.a),l=o.mul(i.a),u=s.mul(r.b),c=o.mul(i.b),f=e.sub(a).sub(l),d=u.add(c).neg();return{k1:f,k2:d}};go.prototype.pointFromX=function(e,t){e=new Ot(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(t&&!s||!t&&s)&&(i=i.redNeg()),this.point(e,i)};go.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(s).cmpn(0)===0};go.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),l=e[o],u=l._getBeta();a.k1.negative&&(a.k1.ineg(),l=l.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),i[o*2]=l,i[o*2+1]=u,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var c=this._wnafMulAdd(1,i,s,o*2,r),f=0;f<o*2;f++)i[f]=null,s[f]=null;return c};function Kr(n,e,t,r){Jf.BasePoint.call(this,n,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ot(e,16),this.y=new Ot(t,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}ZT(Kr,Jf.BasePoint);go.prototype.point=function(e,t,r){return new Kr(this,e,t,r)};go.prototype.pointFromJSON=function(e,t){return Kr.fromJSON(this,e,t)};Kr.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(s){return r.point(s.x.redMul(r.endo.beta),s.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}};Kr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Kr.fromJSON=function(e,t,r){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function s(a){return e.point(a[0],a[1],r)}var o=t[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Kr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Kr.prototype.isInfinity=function(){return this.inf};Kr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)};Kr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),s=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Kr.prototype.getX=function(){return this.x.fromRed()};Kr.prototype.getY=function(){return this.y.fromRed()};Kr.prototype.mul=function(e){return e=new Ot(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Kr.prototype.mulAdd=function(e,t,r){var i=[this,t],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Kr.prototype.jmulAdd=function(e,t,r){var i=[this,t],s=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Kr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Kr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(s){return s.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t};Kr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function li(n,e,t,r){Jf.BasePoint.call(this,n,"jacobian"),e===null&&t===null&&r===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ot(0)):(this.x=new Ot(e,16),this.y=new Ot(t,16),this.z=new Ot(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}ZT(li,Jf.BasePoint);go.prototype.jpoint=function(e,t,r){return new li(this,e,t,r)};li.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)};li.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};li.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),s=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),l=i.redSub(s),u=o.redSub(a);if(l.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=l.redSqr(),f=c.redMul(l),d=i.redMul(c),m=u.redSqr().redIAdd(f).redISub(d).redISub(d),y=u.redMul(d.redISub(m)).redISub(o.redMul(f)),g=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(m,y,g)};li.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),s=this.y,o=e.y.redMul(t).redMul(this.z),a=r.redSub(i),l=s.redSub(o);if(a.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),f=r.redMul(u),d=l.redSqr().redIAdd(c).redISub(f).redISub(f),m=l.redMul(f.redISub(d)).redISub(s.redMul(c)),y=this.z.redMul(a);return this.curve.jpoint(d,m,y)};li.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,l=this.z,u=l.redSqr().redSqr(),c=a.redAdd(a);for(t=0;t<e;t++){var f=o.redSqr(),d=c.redSqr(),m=d.redSqr(),y=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(u)),g=o.redMul(d),v=y.redSqr().redISub(g.redAdd(g)),x=g.redISub(v),w=y.redMul(x);w=w.redIAdd(w).redISub(m);var b=c.redMul(l);t+1<e&&(u=u.redMul(m)),o=v,l=b,c=w}return this.curve.jpoint(o,c.redMul(s),l)};li.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};li.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i),u=l.redSqr().redISub(a).redISub(a),c=o.redIAdd(o);c=c.redIAdd(c),c=c.redIAdd(c),e=u,t=l.redMul(a.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),m=d.redSqr(),y=this.x.redAdd(d).redSqr().redISub(f).redISub(m);y=y.redIAdd(y);var g=f.redAdd(f).redIAdd(f),v=g.redSqr(),x=m.redIAdd(m);x=x.redIAdd(x),x=x.redIAdd(x),e=v.redISub(y).redISub(y),t=g.redMul(y.redISub(e)).redISub(x),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)};li.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),u=l.redSqr().redISub(a).redISub(a);e=u;var c=o.redIAdd(o);c=c.redIAdd(c),c=c.redIAdd(c),t=l.redMul(a.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),m=this.x.redMul(d),y=this.x.redSub(f).redMul(this.x.redAdd(f));y=y.redAdd(y).redIAdd(y);var g=m.redIAdd(m);g=g.redIAdd(g);var v=g.redAdd(g);e=y.redSqr().redISub(v),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var x=d.redSqr();x=x.redIAdd(x),x=x.redIAdd(x),x=x.redIAdd(x),t=y.redMul(g.redISub(e)).redISub(x)}return this.curve.jpoint(e,t,r)};li.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,s=i.redSqr().redSqr(),o=t.redSqr(),a=r.redSqr(),l=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),u=t.redAdd(t);u=u.redIAdd(u);var c=u.redMul(a),f=l.redSqr().redISub(c.redAdd(c)),d=c.redISub(f),m=a.redSqr();m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var y=l.redMul(d).redISub(m),g=r.redAdd(r).redMul(i);return this.curve.jpoint(f,y,g)};li.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var l=a.redSqr(),u=i.redIAdd(i);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var c=s.redIAdd(a).redSqr().redISub(o).redISub(l).redISub(u),f=t.redMul(c);f=f.redIAdd(f),f=f.redIAdd(f);var d=this.x.redMul(l).redISub(f);d=d.redIAdd(d),d=d.redIAdd(d);var m=this.y.redMul(c.redMul(u.redISub(c)).redISub(a.redMul(l)));m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var y=this.z.redAdd(a).redSqr().redISub(r).redISub(l);return this.curve.jpoint(d,m,y)};li.prototype.mul=function(e,t){return e=new Ot(e,t),this.curve._wnafMul(this,e)};li.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),s=r.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};li.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(s),this.x.cmp(r)===0)return!0}};li.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};li.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var _1=Ap(function(n,e){var t=e;t.base=Jf,t.short=Fve,t.mont=null,t.edwards=null}),A1=Ap(function(n,e){var t=e,r=Ls.assert;function i(a){a.type==="short"?this.curve=new _1.short(a):a.type==="edwards"?this.curve=new _1.edwards(a):this.curve=new _1.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,r(this.g.validate(),"Invalid curve"),r(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=i;function s(a,l){Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){var u=new i(l);return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,value:u}),u}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ni.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ni.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ni.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ni.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ni.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ni.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ni.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ni.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function Qu(n){if(!(this instanceof Qu))return new Qu(n);this.hash=n.hash,this.predResist=!!n.predResist,this.outLen=this.hash.outSize,this.minEntropy=n.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=zo.toArray(n.entropy,n.entropyEnc||"hex"),t=zo.toArray(n.nonce,n.nonceEnc||"hex"),r=zo.toArray(n.pers,n.persEnc||"hex");QT(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,r)}var oG=Qu;Qu.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Qu.prototype._hmac=function(){return new Ni.hmac(this.hash,this.K)};Qu.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Qu.prototype.reseed=function(e,t,r,i){typeof t!="string"&&(i=r,r=t,t=null),e=zo.toArray(e,t),r=zo.toArray(r,i),QT(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1};Qu.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=r,r=t,t=null),r&&(r=zo.toArray(r,i||"hex"),this._update(r));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(r),this._reseed++,zo.encode(o,t)};var wC=Ls.assert;function Ei(n,e){this.ec=n,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var e4=Ei;Ei.fromPublic=function(e,t,r){return t instanceof Ei?t:new Ei(e,{pub:t,pubEnc:r})};Ei.fromPrivate=function(e,t,r){return t instanceof Ei?t:new Ei(e,{priv:t,privEnc:r})};Ei.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ei.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};Ei.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Ei.prototype._importPrivate=function(e,t){this.priv=new Ot(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};Ei.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?wC(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&wC(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};Ei.prototype.derive=function(e){return e.validate()||wC(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Ei.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)};Ei.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};Ei.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Uve=Ls.assert;function Gw(n,e){if(n instanceof Gw)return n;this._importDER(n,e)||(Uve(n.r&&n.s,"Signature without r or s"),this.r=new Ot(n.r,16),this.s=new Ot(n.s,16),n.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=n.recoveryParam)}var Hw=Gw;function zve(){this.place=0}function nA(n,e){var t=n[e.place++];if(!(t&128))return t;var r=t&15;if(r===0||r>4)return!1;for(var i=0,s=0,o=e.place;s<r;s++,o++)i<<=8,i|=n[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function hk(n){for(var e=0,t=n.length-1;!n[e]&&!(n[e+1]&128)&&e<t;)e++;return e===0?n:n.slice(e)}Gw.prototype._importDER=function(e,t){e=Ls.toArray(e,t);var r=new zve;if(e[r.place++]!==48)return!1;var i=nA(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var s=nA(e,r);if(s===!1)return!1;var o=e.slice(r.place,s+r.place);if(r.place+=s,e[r.place++]!==2)return!1;var a=nA(e,r);if(a===!1||e.length!==a+r.place)return!1;var l=e.slice(r.place,a+r.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new Ot(o),this.s=new Ot(l),this.recoveryParam=null,!0};function rA(n,e){if(e<128){n.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(n.push(t|128);--t;)n.push(e>>>(t<<3)&255);n.push(e)}Gw.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),r[0]&128&&(r=[0].concat(r)),t=hk(t),r=hk(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];rA(i,t.length),i=i.concat(t),i.push(2),rA(i,r.length);var s=i.concat(r),o=[48];return rA(o,s.length),o=o.concat(s),Ls.encode(o,e)};var Gve=function(){throw new Error("unsupported")},aG=Ls.assert;function ho(n){if(!(this instanceof ho))return new ho(n);typeof n=="string"&&(aG(Object.prototype.hasOwnProperty.call(A1,n),"Unknown curve "+n),n=A1[n]),n instanceof A1.PresetCurve&&(n={curve:n}),this.curve=n.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=n.curve.g,this.g.precompute(n.curve.n.bitLength()+1),this.hash=n.hash||n.curve.hash}var Hve=ho;ho.prototype.keyPair=function(e){return new e4(this,e)};ho.prototype.keyFromPrivate=function(e,t){return e4.fromPrivate(this,e,t)};ho.prototype.keyFromPublic=function(e,t){return e4.fromPublic(this,e,t)};ho.prototype.genKeyPair=function(e){e||(e={});for(var t=new oG({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Gve(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new Ot(2));;){var s=new Ot(t.generate(r));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};ho.prototype._truncateToN=function(e,t){var r=e.byteLength()*8-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};ho.prototype.sign=function(e,t,r,i){typeof r=="object"&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new Ot(e,16));for(var s=this.n.byteLength(),o=t.getPrivate().toArray("be",s),a=e.toArray("be",s),l=new oG({hash:this.hash,entropy:o,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new Ot(1)),c=0;;c++){var f=i.k?i.k(c):new Ot(l.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(u)>=0)){var d=this.g.mul(f);if(!d.isInfinity()){var m=d.getX(),y=m.umod(this.n);if(y.cmpn(0)!==0){var g=f.invm(this.n).mul(y.mul(t.getPrivate()).iadd(e));if(g=g.umod(this.n),g.cmpn(0)!==0){var v=(d.getY().isOdd()?1:0)|(m.cmp(y)!==0?2:0);return i.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),v^=1),new Hw({r:y,s:g,recoveryParam:v})}}}}}};ho.prototype.verify=function(e,t,r,i){e=this._truncateToN(new Ot(e,16)),r=this.keyFromPublic(r,i),t=new Hw(t,"hex");var s=t.r,o=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),l=a.mul(e).umod(this.n),u=a.mul(s).umod(this.n),c;return this.curve._maxwellTrick?(c=this.g.jmulAdd(l,r.getPublic(),u),c.isInfinity()?!1:c.eqXToP(s)):(c=this.g.mulAdd(l,r.getPublic(),u),c.isInfinity()?!1:c.getX().umod(this.n).cmp(s)===0)};ho.prototype.recoverPubKey=function(n,e,t,r){aG((3&t)===t,"The recovery param is more than two bits"),e=new Hw(e,r);var i=this.n,s=new Ot(n),o=e.r,a=e.s,l=t&1,u=t>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");u?o=this.curve.pointFromX(o.add(this.curve.n),l):o=this.curve.pointFromX(o,l);var c=e.r.invm(i),f=i.sub(s).mul(c).umod(i),d=a.mul(c).umod(i);return this.g.mulAdd(f,o,d)};ho.prototype.getKeyRecoveryParam=function(n,e,t,r){if(e=new Hw(e,r),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(n,e,i)}catch{continue}if(s.eq(t))return i}throw new Error("Unable to find valid recovery factor")};var jve=Ap(function(n,e){var t=e;t.version="6.5.4",t.utils=Ls,t.rand=function(){throw new Error("unsupported")},t.curve=_1,t.curves=A1,t.ec=Hve,t.eddsa=null}),Vve=jve.ec;const Wve="signing-key/5.7.0",_C=new se(Wve);let iA=null;function fa(){return iA||(iA=new Vve("secp256k1")),iA}class vf{constructor(e){Pe(this,"curve","secp256k1"),Pe(this,"privateKey",Je(e)),Ta(this.privateKey)!==32&&_C.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=fa().keyFromPrivate(qe(this.privateKey));Pe(this,"publicKey","0x"+t.getPublic(!1,"hex")),Pe(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),Pe(this,"_isSigningKey",!0)}_addPoint(e){const t=fa().keyFromPublic(qe(this.publicKey)),r=fa().keyFromPublic(qe(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const t=fa().keyFromPrivate(qe(this.privateKey)),r=qe(e);r.length!==32&&_C.throwArgumentError("bad digest length","digest",e);const i=t.sign(r,{canonical:!0});return qf({recoveryParam:i.recoveryParam,r:In("0x"+i.r.toString(16),32),s:In("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const t=fa().keyFromPrivate(qe(this.privateKey)),r=fa().keyFromPublic(qe(t4(e)));return In("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function lG(n,e){const t=qf(e),r={r:qe(t.r),s:qe(t.s)};return"0x"+fa().recoverPubKey(qe(n),r,t.recoveryParam).encode("hex",!1)}function t4(n,e){const t=qe(n);if(t.length===32){const r=new vf(t);return e?"0x"+fa().keyFromPrivate(t).getPublic(!0,"hex"):r.publicKey}else{if(t.length===33)return e?Je(t):"0x"+fa().keyFromPublic(t).getPublic(!1,"hex");if(t.length===65)return e?"0x"+fa().keyFromPublic(t).getPublic(!0,"hex"):Je(t)}return _C.throwArgumentError("invalid public or private key","key","[REDACTED]")}const qve=Object.freeze(Object.defineProperty({__proto__:null,SigningKey:vf,recoverPublicKey:lG,computePublicKey:t4},Symbol.toStringTag,{value:"Module"})),Kve="transactions/5.7.0",Ai=new se(Kve);var AC;(function(n){n[n.legacy=0]="legacy",n[n.eip2930=1]="eip2930",n[n.eip1559=2]="eip1559"})(AC||(AC={}));function n4(n){return n==="0x"?null:bn(n)}function _i(n){return n==="0x"?VT:We.from(n)}const Jve=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],$ve={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function zu(n){const e=t4(n);return bn(fr(An(fr(e,1)),12))}function Zg(n,e){return zu(lG(qe(n),e))}function ys(n,e){const t=Sa(We.from(n).toHexString());return t.length>32&&Ai.throwArgumentError("invalid length for "+e,"transaction:"+e,n),t}function sA(n,e){return{address:bn(n),storageKeys:(e||[]).map((t,r)=>(Ta(t)!==32&&Ai.throwArgumentError("invalid access list storageKey",`accessList[${n}:${r}]`,t),t.toLowerCase()))}}function fc(n){if(Array.isArray(n))return n.map((t,r)=>Array.isArray(t)?(t.length>2&&Ai.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${r}]`,t),sA(t[0],t[1])):sA(t.address,t.storageKeys));const e=Object.keys(n).map(t=>{const r=n[t].reduce((i,s)=>(i[s]=!0,i),{});return sA(t,Object.keys(r).sort())});return e.sort((t,r)=>t.address.localeCompare(r.address)),e}function uG(n){return fc(n).map(e=>[e.address,e.storageKeys])}function cG(n,e){if(n.gasPrice!=null){const r=We.from(n.gasPrice),i=We.from(n.maxFeePerGas||0);r.eq(i)||Ai.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:r,maxFeePerGas:i})}const t=[ys(n.chainId||0,"chainId"),ys(n.nonce||0,"nonce"),ys(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ys(n.maxFeePerGas||0,"maxFeePerGas"),ys(n.gasLimit||0,"gasLimit"),n.to!=null?bn(n.to):"0x",ys(n.value||0,"value"),n.data||"0x",uG(n.accessList||[])];if(e){const r=qf(e);t.push(ys(r.recoveryParam,"recoveryParam")),t.push(Sa(r.r)),t.push(Sa(r.s))}return Di(["0x02",Lf(t)])}function fG(n,e){const t=[ys(n.chainId||0,"chainId"),ys(n.nonce||0,"nonce"),ys(n.gasPrice||0,"gasPrice"),ys(n.gasLimit||0,"gasLimit"),n.to!=null?bn(n.to):"0x",ys(n.value||0,"value"),n.data||"0x",uG(n.accessList||[])];if(e){const r=qf(e);t.push(ys(r.recoveryParam,"recoveryParam")),t.push(Sa(r.r)),t.push(Sa(r.s))}return Di(["0x01",Lf(t)])}function Xve(n,e){GT(n,$ve);const t=[];Jve.forEach(function(o){let a=n[o.name]||[];const l={};o.numeric&&(l.hexPad="left"),a=qe(Je(a,l)),o.length&&a.length!==o.length&&a.length>0&&Ai.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a),o.maxLength&&(a=Sa(a),a.length>o.maxLength&&Ai.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a)),t.push(Je(a))});let r=0;if(n.chainId!=null?(r=n.chainId,typeof r!="number"&&Ai.throwArgumentError("invalid transaction.chainId","transaction",n)):e&&!$g(e)&&e.v>28&&(r=Math.floor((e.v-35)/2)),r!==0&&(t.push(Je(r)),t.push("0x"),t.push("0x")),!e)return Lf(t);const i=qf(e);let s=27+i.recoveryParam;return r!==0?(t.pop(),t.pop(),t.pop(),s+=r*2+8,i.v>28&&i.v!==s&&Ai.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&Ai.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),t.push(Je(s)),t.push(Sa(qe(i.r))),t.push(Sa(qe(i.s))),Lf(t)}function SC(n,e){if(n.type==null||n.type===0)return n.accessList!=null&&Ai.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",n),Xve(n,e);switch(n.type){case 1:return fG(n,e);case 2:return cG(n,e)}return Ai.throwError(`unsupported transaction type: ${n.type}`,se.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:n.type})}function dG(n,e,t){try{const r=_i(e[0]).toNumber();if(r!==0&&r!==1)throw new Error("bad recid");n.v=r}catch{Ai.throwArgumentError("invalid v for transaction type: 1","v",e[0])}n.r=In(e[1],32),n.s=In(e[2],32);try{const r=An(t(n));n.from=Zg(r,{r:n.r,s:n.s,recoveryParam:n.v})}catch{}}function Yve(n){const e=Lw(n.slice(1));e.length!==9&&e.length!==12&&Ai.throwArgumentError("invalid component count for transaction type: 2","payload",Je(n));const t=_i(e[2]),r=_i(e[3]),i={type:2,chainId:_i(e[0]).toNumber(),nonce:_i(e[1]).toNumber(),maxPriorityFeePerGas:t,maxFeePerGas:r,gasPrice:null,gasLimit:_i(e[4]),to:n4(e[5]),value:_i(e[6]),data:e[7],accessList:fc(e[8])};return e.length===9||(i.hash=An(n),dG(i,e.slice(9),cG)),i}function Qve(n){const e=Lw(n.slice(1));e.length!==8&&e.length!==11&&Ai.throwArgumentError("invalid component count for transaction type: 1","payload",Je(n));const t={type:1,chainId:_i(e[0]).toNumber(),nonce:_i(e[1]).toNumber(),gasPrice:_i(e[2]),gasLimit:_i(e[3]),to:n4(e[4]),value:_i(e[5]),data:e[6],accessList:fc(e[7])};return e.length===8||(t.hash=An(n),dG(t,e.slice(8),fG)),t}function Zve(n){const e=Lw(n);e.length!==9&&e.length!==6&&Ai.throwArgumentError("invalid raw transaction","rawTransaction",n);const t={nonce:_i(e[0]).toNumber(),gasPrice:_i(e[1]),gasLimit:_i(e[2]),to:n4(e[3]),value:_i(e[4]),data:e[5],chainId:0};if(e.length===6)return t;try{t.v=We.from(e[6]).toNumber()}catch{return t}if(t.r=In(e[7],32),t.s=In(e[8],32),We.from(t.r).isZero()&&We.from(t.s).isZero())t.chainId=t.v,t.v=0;else{t.chainId=Math.floor((t.v-35)/2),t.chainId<0&&(t.chainId=0);let r=t.v-27;const i=e.slice(0,6);t.chainId!==0&&(i.push(Je(t.chainId)),i.push("0x"),i.push("0x"),r-=t.chainId*2+8);const s=An(Lf(i));try{t.from=Zg(s,{r:Je(t.r),s:Je(t.s),recoveryParam:r})}catch{}t.hash=An(n)}return t.type=null,t}function hG(n){const e=qe(n);if(e[0]>127)return Zve(e);switch(e[0]){case 1:return Qve(e);case 2:return Yve(e)}return Ai.throwError(`unsupported transaction type: ${e[0]}`,se.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const eye=Object.freeze(Object.defineProperty({__proto__:null,get TransactionTypes(){return AC},computeAddress:zu,recoverAddress:Zg,accessListify:fc,serialize:SC,parse:hG},Symbol.toStringTag,{value:"Module"})),tye="contracts/5.7.0";var Zu=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const _n=new se(tye),nye={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function Ib(n,e){return Zu(this,void 0,void 0,function*(){const t=yield e;typeof t!="string"&&_n.throwArgumentError("invalid address or ENS name","name",t);try{return bn(t)}catch{}n||_n.throwError("a provider or signer is needed to resolve ENS names",se.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const r=yield n.resolveName(t);return r==null&&_n.throwArgumentError("resolver or addr is not configured for ENS name","name",t),r})}function um(n,e,t){return Zu(this,void 0,void 0,function*(){return Array.isArray(t)?yield Promise.all(t.map((r,i)=>um(n,Array.isArray(e)?e[i]:e[r.name],r))):t.type==="address"?yield Ib(n,e):t.type==="tuple"?yield um(n,e,t.components):t.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(r=>um(n,r,t.arrayChildren))):Promise.reject(_n.makeError("invalid value for array",se.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function jw(n,e,t){return Zu(this,void 0,void 0,function*(){let r={};t.length===e.inputs.length+1&&typeof t[t.length-1]=="object"&&(r=Bn(t.pop())),_n.checkArgumentCount(t.length,e.inputs.length,"passed to contract"),n.signer?r.from?r.from=nr({override:Ib(n.signer,r.from),signer:n.signer.getAddress()}).then(u=>Zu(this,void 0,void 0,function*(){return bn(u.signer)!==u.override&&_n.throwError("Contract with a Signer cannot override from",se.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),u.override})):r.from=n.signer.getAddress():r.from&&(r.from=Ib(n.provider,r.from));const i=yield nr({args:um(n.signer||n.provider,t,e.inputs),address:n.resolvedAddress,overrides:nr(r)||{}}),s=n.interface.encodeFunctionData(e,i.args),o={data:s,to:i.address},a=i.overrides;if(a.nonce!=null&&(o.nonce=We.from(a.nonce).toNumber()),a.gasLimit!=null&&(o.gasLimit=We.from(a.gasLimit)),a.gasPrice!=null&&(o.gasPrice=We.from(a.gasPrice)),a.maxFeePerGas!=null&&(o.maxFeePerGas=We.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=We.from(a.maxPriorityFeePerGas)),a.from!=null&&(o.from=a.from),a.type!=null&&(o.type=a.type),a.accessList!=null&&(o.accessList=fc(a.accessList)),o.gasLimit==null&&e.gas!=null){let u=21e3;const c=qe(s);for(let f=0;f<c.length;f++)u+=4,c[f]&&(u+=64);o.gasLimit=We.from(e.gas).add(u)}if(a.value){const u=We.from(a.value);!u.isZero()&&!e.payable&&_n.throwError("non-payable method cannot override value",se.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:r.value}),o.value=u}a.customData&&(o.customData=Bn(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete r.nonce,delete r.gasLimit,delete r.gasPrice,delete r.from,delete r.value,delete r.type,delete r.accessList,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.customData,delete r.ccipReadEnabled;const l=Object.keys(r).filter(u=>r[u]!=null);return l.length&&_n.throwError(`cannot override ${l.map(u=>JSON.stringify(u)).join(",")}`,se.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:l}),o})}function rye(n,e){return function(...t){return jw(n,e,t)}}function iye(n,e){const t=n.signer||n.provider;return function(...r){return Zu(this,void 0,void 0,function*(){t||_n.throwError("estimate require a provider or signer",se.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield jw(n,e,r);return yield t.estimateGas(i)})}}function pG(n,e){const t=e.wait.bind(e);e.wait=r=>t(r).then(i=>(i.events=i.logs.map(s=>{let o=Ui(s),a=null;try{a=n.interface.parseLog(s)}catch{}return a&&(o.args=a.args,o.decode=(l,u)=>n.interface.decodeEventLog(a.eventFragment,l,u),o.event=a.name,o.eventSignature=a.signature),o.removeListener=()=>n.provider,o.getBlock=()=>n.provider.getBlock(i.blockHash),o.getTransaction=()=>n.provider.getTransaction(i.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(i),o}),i))}function mG(n,e,t){const r=n.signer||n.provider;return function(...i){return Zu(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const l=Bn(i.pop());l.blockTag!=null&&(s=yield l.blockTag),delete l.blockTag,i.push(l)}n.deployTransaction!=null&&(yield n._deployed(s));const o=yield jw(n,e,i),a=yield r.call(o,s);try{let l=n.interface.decodeFunctionResult(e,a);return t&&e.outputs.length===1&&(l=l[0]),l}catch(l){throw l.code===se.errors.CALL_EXCEPTION&&(l.address=n.address,l.args=i,l.transaction=o),l}})}}function sye(n,e){return function(...t){return Zu(this,void 0,void 0,function*(){n.signer||_n.throwError("sending a transaction requires a signer",se.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),n.deployTransaction!=null&&(yield n._deployed());const r=yield jw(n,e,t),i=yield n.signer.sendTransaction(r);return pG(n,i),i})}}function pk(n,e,t){return e.constant?mG(n,e,t):sye(n,e)}function gG(n){return n.address&&(n.topics==null||n.topics.length===0)?"*":(n.address||"*")+"@"+(n.topics?n.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class cg{constructor(e,t){Pe(this,"tag",e),Pe(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(r=>t||r.listener!==e?!0:(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter(r=>{const i=e.slice();return setTimeout(()=>{r.listener.apply(this,i)},0),!r.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class oye extends cg{constructor(){super("error",null)}}class mk extends cg{constructor(e,t,r,i){const s={address:e};let o=t.getEventTopic(r);i?(o!==i[0]&&_n.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[o],super(gG(s),s),Pe(this,"address",e),Pe(this,"interface",t),Pe(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(t,r)=>this.interface.decodeEventLog(this.fragment,t,r);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=cz(e.args);if(t.length)throw t[0].error;const r=(e.args||[]).slice();return r.push(e),r}}class gk extends cg{constructor(e,t){super("*",{address:e}),Pe(this,"address",e),Pe(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(r,i)=>this.interface.decodeEventLog(t.eventFragment,r,i),e.args=t.args}catch{}}}class vG{constructor(e,t,r){Pe(this,"interface",ni(new.target,"getInterface")(t)),r==null?(Pe(this,"provider",null),Pe(this,"signer",null)):uc.isSigner(r)?(Pe(this,"provider",r.provider||null),Pe(this,"signer",r)):Kf.isProvider(r)?(Pe(this,"provider",r),Pe(this,"signer",null)):_n.throwArgumentError("invalid signer or provider","signerOrProvider",r),Pe(this,"callStatic",{}),Pe(this,"estimateGas",{}),Pe(this,"functions",{}),Pe(this,"populateTransaction",{}),Pe(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(a=>{const l=this.interface.events[a];Pe(this.filters,a,(...u)=>({address:this.address,topics:this.interface.encodeFilterTopics(l,u)})),o[l.name]||(o[l.name]=[]),o[l.name].push(a)}),Object.keys(o).forEach(a=>{const l=o[a];l.length===1?Pe(this.filters,a,this.filters[l[0]]):_n.warn(`Duplicate definition of ${a} (${l.join(", ")})`)})}if(Pe(this,"_runningEvents",{}),Pe(this,"_wrappedEmits",{}),e==null&&_n.throwArgumentError("invalid contract address or ENS name","addressOrName",e),Pe(this,"address",e),this.provider)Pe(this,"resolvedAddress",Ib(this.provider,e));else try{Pe(this,"resolvedAddress",Promise.resolve(bn(e)))}catch{_n.throwError("provider is required to use ENS name as contract address",se.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const i={},s={};Object.keys(this.interface.functions).forEach(o=>{const a=this.interface.functions[o];if(s[o]){_n.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}s[o]=!0;{const l=a.name;i[`%${l}`]||(i[`%${l}`]=[]),i[`%${l}`].push(o)}this[o]==null&&Pe(this,o,pk(this,a,!0)),this.functions[o]==null&&Pe(this.functions,o,pk(this,a,!1)),this.callStatic[o]==null&&Pe(this.callStatic,o,mG(this,a,!0)),this.populateTransaction[o]==null&&Pe(this.populateTransaction,o,rye(this,a)),this.estimateGas[o]==null&&Pe(this.estimateGas,o,iye(this,a))}),Object.keys(i).forEach(o=>{const a=i[o];if(a.length>1)return;o=o.substring(1);const l=a[0];try{this[o]==null&&Pe(this,o,this[l])}catch{}this.functions[o]==null&&Pe(this.functions,o,this.functions[l]),this.callStatic[o]==null&&Pe(this.callStatic,o,this.callStatic[l]),this.populateTransaction[o]==null&&Pe(this.populateTransaction,o,this.populateTransaction[l]),this.estimateGas[o]==null&&Pe(this.estimateGas,o,this.estimateGas[l])})}static getContractAddress(e){return Dw(e)}static getInterface(e){return vC.isInterface(e)?e:new vC(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(t=>(t==="0x"&&_n.throwError("contract not deployed",se.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||_n.throwError("sending a transactions require a signer",se.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=Bn(e||{});return["from","to"].forEach(function(r){t[r]!=null&&_n.throwError("cannot override "+r,se.errors.UNSUPPORTED_OPERATION,{operation:r})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){typeof e=="string"&&(e=new Uw(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&Pe(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Mb.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new oye);if(e==="event")return this._normalizeRunningEvent(new cg("event",null));if(e==="*")return this._normalizeRunningEvent(new gk(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new mk(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const r=e.topics[0];if(typeof r!="string")throw new Error("invalid topic");const i=this.interface.getEvent(r);return this._normalizeRunningEvent(new mk(this.address,this.interface,i,e.topics))}catch{}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new cg(gG(t),t))}return this._normalizeRunningEvent(new gk(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,r){const i=Ui(t);return i.removeListener=()=>{!r||(e.removeListener(r),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(t.blockHash),i.getTransaction=()=>this.provider.getTransaction(t.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(i),i}_addEventListener(e,t,r){if(this.provider||_n.throwError("events require a provider or a signer with a provider",se.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let o=this._wrapEvent(e,s,t);if(o.decodeError==null)try{const a=e.getEmit(o);this.emit(e.filter,...a)}catch(a){o.decodeError=a.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,t,r){const i=this._getRunningEvent(e),s=Bn(i.filter);return typeof t=="string"&&Ft(t,32)?(r!=null&&_n.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),s.blockHash=t):(s.fromBlock=t??0,s.toBlock=r??"latest"),this.provider.getLogs(s).then(o=>o.map(a=>this._wrapEvent(i,a,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const r=this._getRunningEvent(e),i=r.run(t)>0;return this._checkRunningEvents(r),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((t,r)=>t+this._runningEvents[r].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const t=[];for(let r in this._runningEvents)this._runningEvents[r].listeners().forEach(i=>{t.push(i)});return t}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const r in this._runningEvents){const i=this._runningEvents[r];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const r=this._getRunningEvent(e);return r.removeListener(t),this._checkRunningEvents(r),this}removeListener(e,t){return this.off(e,t)}}class Rb extends vG{}class aye{constructor(e,t,r){let i=null;typeof t=="string"?i=t:oc(t)?i=Je(t):t&&typeof t.object=="string"?i=t.object:i="!",i.substring(0,2)!=="0x"&&(i="0x"+i),(!Ft(i)||i.length%2)&&_n.throwArgumentError("invalid bytecode","bytecode",t),r&&!uc.isSigner(r)&&_n.throwArgumentError("invalid signer","signer",r),Pe(this,"bytecode",i),Pe(this,"interface",ni(new.target,"getInterface")(e)),Pe(this,"signer",r||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){t=Bn(e.pop());for(const r in t)if(!nye[r])throw new Error("unknown transaction override "+r)}return["data","from","to"].forEach(r=>{t[r]!=null&&_n.throwError("cannot override "+r,se.errors.UNSUPPORTED_OPERATION,{operation:r})}),t.value&&!We.from(t.value).isZero()&&!this.interface.deploy.payable&&_n.throwError("non-payable constructor cannot override value",se.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value}),_n.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=Je(Pn([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return Zu(this,void 0,void 0,function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),_n.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const r=yield um(this.signer,e,this.interface.deploy.inputs);r.push(t);const i=this.getDeployTransaction(...r),s=yield this.signer.sendTransaction(i),o=ni(this.constructor,"getContractAddress")(s),a=ni(this.constructor,"getContract")(o,this.interface,this.signer);return pG(a,s),Pe(a,"deployTransaction",s),a})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){e==null&&_n.throwError("missing compiler output",se.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));const r=e.abi;let i=null;return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(r,i,t)}static getInterface(e){return Rb.getInterface(e)}static getContractAddress(e){return Dw(e)}static getContract(e,t,r){return new Rb(e,t,r)}}const lye=Object.freeze(Object.defineProperty({__proto__:null,BaseContract:vG,Contract:Rb,ContractFactory:aye},Symbol.toStringTag,{value:"Module"}));class r4{constructor(e){Pe(this,"alphabet",e),Pe(this,"base",e.length),Pe(this,"_alphabetMap",{}),Pe(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=qe(e);if(t.length===0)return"";let r=[0];for(let s=0;s<t.length;++s){let o=t[s];for(let a=0;a<r.length;++a)o+=r[a]<<8,r[a]=o%this.base,o=o/this.base|0;for(;o>0;)r.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;t[s]===0&&s<t.length-1;++s)i+=this._leader;for(let s=r.length-1;s>=0;--s)i+=this.alphabet[r[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let t=[];if(e.length===0)return new Uint8Array(t);t.push(0);for(let r=0;r<e.length;r++){let i=this._alphabetMap[e[r]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<t.length;++o)s+=t[o]*this.base,t[o]=s&255,s>>=8;for(;s>0;)t.push(s&255),s>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)t.push(0);return qe(new Uint8Array(t.reverse()))}}const uye=new r4("abcdefghijklmnopqrstuvwxyz234567"),Xh=new r4("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),cye=Object.freeze(Object.defineProperty({__proto__:null,BaseX:r4,Base32:uye,Base58:Xh},Symbol.toStringTag,{value:"Module"}));var Yh;(function(n){n.sha256="sha256",n.sha512="sha512"})(Yh||(Yh={}));const fye="sha2/5.7.0",dye=new se(fye);function yG(n){return"0x"+Ni.ripemd160().update(qe(n)).digest("hex")}function Il(n){return"0x"+Ni.sha256().update(qe(n)).digest("hex")}function hye(n){return"0x"+Ni.sha512().update(qe(n)).digest("hex")}function fg(n,e,t){return Yh[n]||dye.throwError("unsupported algorithm "+n,se.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:n}),"0x"+Ni.hmac(Ni[n],qe(e)).update(qe(t)).digest("hex")}const pye=Object.freeze(Object.defineProperty({__proto__:null,computeHmac:fg,ripemd160:yG,sha256:Il,sha512:hye,get SupportedAlgorithm(){return Yh}},Symbol.toStringTag,{value:"Module"}));function i4(n,e,t,r,i){n=qe(n),e=qe(e);let s,o=1;const a=new Uint8Array(r),l=new Uint8Array(e.length+4);l.set(e);let u,c;for(let f=1;f<=o;f++){l[e.length]=f>>24&255,l[e.length+1]=f>>16&255,l[e.length+2]=f>>8&255,l[e.length+3]=f&255;let d=qe(fg(i,n,l));s||(s=d.length,c=new Uint8Array(s),o=Math.ceil(r/s),u=r-(o-1)*s),c.set(d);for(let g=1;g<t;g++){d=qe(fg(i,n,d));for(let v=0;v<s;v++)c[v]^=d[v]}const m=(f-1)*s,y=f===o?u:s;a.set(qe(c).slice(0,y),m)}return Je(a)}const mye="wordlists/5.7.0",xG=new se(mye);class Sp{constructor(e){xG.checkAbstract(new.target,Sp),Pe(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let r=0;r<2048;r++){const i=e.getWord(r);if(r!==e.getWordIndex(i))return"0x";t.push(i)}return Pu(t.join(`
`)+`
`)}static register(e,t){t||(t=e.locale)}}const gye="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let cm=null;function vk(n){if(cm==null&&(cm=gye.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Sp.check(n)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw cm=null,new Error("BIP39 Wordlist for en (English) FAILED")}class vye extends Sp{constructor(){super("en")}getWord(e){return vk(this),cm[e]}getWordIndex(e){return vk(this),cm.indexOf(e)}}const bG=new vye;Sp.register(bG);const EC={en:bG},yye=Object.freeze(Object.defineProperty({__proto__:null,logger:xG,Wordlist:Sp,wordlists:EC},Symbol.toStringTag,{value:"Module"})),xye="hdnode/5.7.0",dg=new se(xye),bye=We.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),wye=gr("Bitcoin seed"),Ld=2147483648;function wG(n){return(1<<n)-1<<8-n}function _ye(n){return(1<<n)-1}function Ix(n){return In(Je(n),32)}function yk(n){return Xh.encode(Pn([n,fr(Il(Il(n)),0,4)]))}function s4(n){if(n==null)return EC.en;if(typeof n=="string"){const e=EC[n];return e==null&&dg.throwArgumentError("unknown locale","wordlist",n),e}return n}const Pd={},Qh="m/44'/60'/0'/0/0";class xs{constructor(e,t,r,i,s,o,a,l){if(e!==Pd)throw new Error("HDNode constructor cannot be called directly");if(t){const u=new vf(t);Pe(this,"privateKey",u.privateKey),Pe(this,"publicKey",u.compressedPublicKey)}else Pe(this,"privateKey",null),Pe(this,"publicKey",Je(r));Pe(this,"parentFingerprint",i),Pe(this,"fingerprint",fr(yG(Il(this.publicKey)),0,4)),Pe(this,"address",zu(this.publicKey)),Pe(this,"chainCode",s),Pe(this,"index",o),Pe(this,"depth",a),l==null?(Pe(this,"mnemonic",null),Pe(this,"path",null)):typeof l=="string"?(Pe(this,"mnemonic",null),Pe(this,"path",l)):(Pe(this,"mnemonic",l),Pe(this,"path",l.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return yk(Pn([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",Je(this.depth),this.parentFingerprint,In(Je(this.index),4),this.chainCode,this.privateKey!=null?Pn(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new xs(Pd,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&~Ld));const r=new Uint8Array(37);if(e&Ld){if(!this.privateKey)throw new Error("cannot derive child of neutered node");r.set(qe(this.privateKey),1),t&&(t+="'")}else r.set(qe(this.publicKey));for(let f=24;f>=0;f-=8)r[33+(f>>3)]=e>>24-f&255;const i=qe(fg(Yh.sha512,this.chainCode,r)),s=i.slice(0,32),o=i.slice(32);let a=null,l=null;this.privateKey?a=Ix(We.from(s).add(this.privateKey).mod(bye)):l=new vf(Je(s))._addPoint(this.publicKey);let u=t;const c=this.mnemonic;return c&&(u=Object.freeze({phrase:c.phrase,path:t,locale:c.locale||"en"})),new xs(Pd,a,l,this.fingerprint,Ix(o),e,this.depth+1,u)}derivePath(e){const t=e.split("/");if(t.length===0||t[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);t[0]==="m"&&t.shift();let r=this;for(let i=0;i<t.length;i++){const s=t[i];if(s.match(/^[0-9]+'$/)){const o=parseInt(s.substring(0,s.length-1));if(o>=Ld)throw new Error("invalid path index - "+s);r=r._derive(Ld+o)}else if(s.match(/^[0-9]+$/)){const o=parseInt(s);if(o>=Ld)throw new Error("invalid path index - "+s);r=r._derive(o)}else throw new Error("invalid path component - "+s)}return r}static _fromSeed(e,t){const r=qe(e);if(r.length<16||r.length>64)throw new Error("invalid seed");const i=qe(fg(Yh.sha512,wye,r));return new xs(Pd,Ix(i.slice(0,32)),null,"0x00000000",Ix(i.slice(32)),0,0,t)}static fromMnemonic(e,t,r){return r=s4(r),e=Ww(Vw(e,r),r),xs._fromSeed(_G(e,t),{phrase:e,path:"m",locale:r.locale})}static fromSeed(e){return xs._fromSeed(e,null)}static fromExtendedKey(e){const t=Xh.decode(e);(t.length!==82||yk(t.slice(0,78))!==e)&&dg.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const r=t[4],i=Je(t.slice(5,9)),s=parseInt(Je(t.slice(9,13)).substring(2),16),o=Je(t.slice(13,45)),a=t.slice(45,78);switch(Je(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new xs(Pd,null,Je(a),i,o,s,r,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new xs(Pd,Je(a.slice(1)),null,i,o,s,r,null)}return dg.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function _G(n,e){e||(e="");const t=gr("mnemonic"+e,Pa.NFKD);return i4(gr(n,Pa.NFKD),t,2048,64,"sha512")}function Vw(n,e){e=s4(e),dg.checkNormalize();const t=e.split(n);if(t.length%3!==0)throw new Error("invalid mnemonic");const r=qe(new Uint8Array(Math.ceil(11*t.length/8)));let i=0;for(let u=0;u<t.length;u++){let c=e.getWordIndex(t[u].normalize("NFKD"));if(c===-1)throw new Error("invalid mnemonic");for(let f=0;f<11;f++)c&1<<10-f&&(r[i>>3]|=1<<7-i%8),i++}const s=32*t.length/3,o=t.length/3,a=wG(o);if((qe(Il(r.slice(0,s/8)))[0]&a)!==(r[r.length-1]&a))throw new Error("invalid checksum");return Je(r.slice(0,s/8))}function Ww(n,e){if(e=s4(e),n=qe(n),n.length%4!==0||n.length<16||n.length>32)throw new Error("invalid entropy");const t=[0];let r=11;for(let o=0;o<n.length;o++)r>8?(t[t.length-1]<<=8,t[t.length-1]|=n[o],r-=8):(t[t.length-1]<<=r,t[t.length-1]|=n[o]>>8-r,t.push(n[o]&_ye(8-r)),r+=3);const i=n.length/4,s=qe(Il(n))[0]&wG(i);return t[t.length-1]<<=i,t[t.length-1]|=s>>8-i,e.join(t.map(o=>e.getWord(o)))}function Aye(n,e){try{return Vw(n,e),!0}catch{}return!1}function Sye(n){return(typeof n!="number"||n<0||n>=Ld||n%1)&&dg.throwArgumentError("invalid account index","index",n),`m/44'/60'/${n}'/0/0`}const Eye=Object.freeze(Object.defineProperty({__proto__:null,defaultPath:Qh,HDNode:xs,mnemonicToSeed:_G,mnemonicToEntropy:Vw,entropyToMnemonic:Ww,isValidMnemonic:Aye,getAccountPath:Sye},Symbol.toStringTag,{value:"Module"})),Cye="random/5.7.0",CC=new se(Cye);function Mye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const xk=Mye();let S1=xk.crypto||xk.msCrypto;(!S1||!S1.getRandomValues)&&(CC.warn("WARNING: Missing strong random number source"),S1={getRandomValues:function(n){return CC.throwError("no secure random source avaialble",se.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function ih(n){(n<=0||n>1024||n%1||n!=n)&&CC.throwArgumentError("invalid length","length",n);const e=new Uint8Array(n);return S1.getRandomValues(e),qe(e)}function AG(n){n=n.slice();for(let e=n.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1)),r=n[e];n[e]=n[t],n[t]=r}return n}const Tye=Object.freeze(Object.defineProperty({__proto__:null,randomBytes:ih,shuffled:AG},Symbol.toStringTag,{value:"Module"}));var SG={exports:{}};(function(n,e){(function(t){function r(B){return parseInt(B)===B}function i(B){if(!r(B.length))return!1;for(var E=0;E<B.length;E++)if(!r(B[E])||B[E]<0||B[E]>255)return!1;return!0}function s(B,E){if(B.buffer&&ArrayBuffer.isView(B)&&B.name==="Uint8Array")return E&&(B.slice?B=B.slice():B=Array.prototype.slice.call(B)),B;if(Array.isArray(B)){if(!i(B))throw new Error("Array contains invalid value: "+B);return new Uint8Array(B)}if(r(B.length)&&i(B))return new Uint8Array(B);throw new Error("unsupported array-like object")}function o(B){return new Uint8Array(B)}function a(B,E,j,X,N){(X!=null||N!=null)&&(B.slice?B=B.slice(X,N):B=Array.prototype.slice.call(B,X,N)),E.set(B,j)}var l=function(){function B(j){var X=[],N=0;for(j=encodeURI(j);N<j.length;){var K=j.charCodeAt(N++);K===37?(X.push(parseInt(j.substr(N,2),16)),N+=2):X.push(K)}return s(X)}function E(j){for(var X=[],N=0;N<j.length;){var K=j[N];K<128?(X.push(String.fromCharCode(K)),N++):K>191&&K<224?(X.push(String.fromCharCode((K&31)<<6|j[N+1]&63)),N+=2):(X.push(String.fromCharCode((K&15)<<12|(j[N+1]&63)<<6|j[N+2]&63)),N+=3)}return X.join("")}return{toBytes:B,fromBytes:E}}(),u=function(){function B(X){for(var N=[],K=0;K<X.length;K+=2)N.push(parseInt(X.substr(K,2),16));return N}var E="0123456789abcdef";function j(X){for(var N=[],K=0;K<X.length;K++){var oe=X[K];N.push(E[(oe&240)>>4]+E[oe&15])}return N.join("")}return{toBytes:B,fromBytes:j}}(),c={16:10,24:12,32:14},f=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],d=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],m=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],y=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],g=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],v=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],x=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],w=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],b=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],A=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],M=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],I=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],D=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],P=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],O=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function V(B){for(var E=[],j=0;j<B.length;j+=4)E.push(B[j]<<24|B[j+1]<<16|B[j+2]<<8|B[j+3]);return E}var q=function(B){if(!(this instanceof q))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:s(B,!0)}),this._prepare()};q.prototype._prepare=function(){var B=c[this.key.length];if(B==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var E=0;E<=B;E++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var j=(B+1)*4,X=this.key.length/4,N=V(this.key),K,E=0;E<X;E++)K=E>>2,this._Ke[K][E%4]=N[E],this._Kd[B-K][E%4]=N[E];for(var oe=0,ie=X,fe;ie<j;){if(fe=N[X-1],N[0]^=d[fe>>16&255]<<24^d[fe>>8&255]<<16^d[fe&255]<<8^d[fe>>24&255]^f[oe]<<24,oe+=1,X!=8)for(var E=1;E<X;E++)N[E]^=N[E-1];else{for(var E=1;E<X/2;E++)N[E]^=N[E-1];fe=N[X/2-1],N[X/2]^=d[fe&255]^d[fe>>8&255]<<8^d[fe>>16&255]<<16^d[fe>>24&255]<<24;for(var E=X/2+1;E<X;E++)N[E]^=N[E-1]}for(var E=0,ce,Ee;E<X&&ie<j;)ce=ie>>2,Ee=ie%4,this._Ke[ce][Ee]=N[E],this._Kd[B-ce][Ee]=N[E++],ie++}for(var ce=1;ce<B;ce++)for(var Ee=0;Ee<4;Ee++)fe=this._Kd[ce][Ee],this._Kd[ce][Ee]=I[fe>>24&255]^D[fe>>16&255]^P[fe>>8&255]^O[fe&255]},q.prototype.encrypt=function(B){if(B.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var E=this._Ke.length-1,j=[0,0,0,0],X=V(B),N=0;N<4;N++)X[N]^=this._Ke[0][N];for(var K=1;K<E;K++){for(var N=0;N<4;N++)j[N]=y[X[N]>>24&255]^g[X[(N+1)%4]>>16&255]^v[X[(N+2)%4]>>8&255]^x[X[(N+3)%4]&255]^this._Ke[K][N];X=j.slice()}for(var oe=o(16),ie,N=0;N<4;N++)ie=this._Ke[E][N],oe[4*N]=(d[X[N]>>24&255]^ie>>24)&255,oe[4*N+1]=(d[X[(N+1)%4]>>16&255]^ie>>16)&255,oe[4*N+2]=(d[X[(N+2)%4]>>8&255]^ie>>8)&255,oe[4*N+3]=(d[X[(N+3)%4]&255]^ie)&255;return oe},q.prototype.decrypt=function(B){if(B.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var E=this._Kd.length-1,j=[0,0,0,0],X=V(B),N=0;N<4;N++)X[N]^=this._Kd[0][N];for(var K=1;K<E;K++){for(var N=0;N<4;N++)j[N]=w[X[N]>>24&255]^b[X[(N+3)%4]>>16&255]^A[X[(N+2)%4]>>8&255]^M[X[(N+1)%4]&255]^this._Kd[K][N];X=j.slice()}for(var oe=o(16),ie,N=0;N<4;N++)ie=this._Kd[E][N],oe[4*N]=(m[X[N]>>24&255]^ie>>24)&255,oe[4*N+1]=(m[X[(N+3)%4]>>16&255]^ie>>16)&255,oe[4*N+2]=(m[X[(N+2)%4]>>8&255]^ie>>8)&255,oe[4*N+3]=(m[X[(N+1)%4]&255]^ie)&255;return oe};var ne=function(B){if(!(this instanceof ne))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new q(B)};ne.prototype.encrypt=function(B){if(B=s(B),B.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var E=o(B.length),j=o(16),X=0;X<B.length;X+=16)a(B,j,0,X,X+16),j=this._aes.encrypt(j),a(j,E,X);return E},ne.prototype.decrypt=function(B){if(B=s(B),B.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var E=o(B.length),j=o(16),X=0;X<B.length;X+=16)a(B,j,0,X,X+16),j=this._aes.decrypt(j),a(j,E,X);return E};var H=function(B,E){if(!(this instanceof H))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!E)E=o(16);else if(E.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=s(E,!0),this._aes=new q(B)};H.prototype.encrypt=function(B){if(B=s(B),B.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var E=o(B.length),j=o(16),X=0;X<B.length;X+=16){a(B,j,0,X,X+16);for(var N=0;N<16;N++)j[N]^=this._lastCipherblock[N];this._lastCipherblock=this._aes.encrypt(j),a(this._lastCipherblock,E,X)}return E},H.prototype.decrypt=function(B){if(B=s(B),B.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var E=o(B.length),j=o(16),X=0;X<B.length;X+=16){a(B,j,0,X,X+16),j=this._aes.decrypt(j);for(var N=0;N<16;N++)E[X+N]=j[N]^this._lastCipherblock[N];a(B,this._lastCipherblock,0,X,X+16)}return E};var _=function(B,E,j){if(!(this instanceof _))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!E)E=o(16);else if(E.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");j||(j=1),this.segmentSize=j,this._shiftRegister=s(E,!0),this._aes=new q(B)};_.prototype.encrypt=function(B){if(B.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var E=s(B,!0),j,X=0;X<E.length;X+=this.segmentSize){j=this._aes.encrypt(this._shiftRegister);for(var N=0;N<this.segmentSize;N++)E[X+N]^=j[N];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(E,this._shiftRegister,16-this.segmentSize,X,X+this.segmentSize)}return E},_.prototype.decrypt=function(B){if(B.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var E=s(B,!0),j,X=0;X<E.length;X+=this.segmentSize){j=this._aes.encrypt(this._shiftRegister);for(var N=0;N<this.segmentSize;N++)E[X+N]^=j[N];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(B,this._shiftRegister,16-this.segmentSize,X,X+this.segmentSize)}return E};var T=function(B,E){if(!(this instanceof T))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!E)E=o(16);else if(E.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=s(E,!0),this._lastPrecipherIndex=16,this._aes=new q(B)};T.prototype.encrypt=function(B){for(var E=s(B,!0),j=0;j<E.length;j++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),E[j]^=this._lastPrecipher[this._lastPrecipherIndex++];return E},T.prototype.decrypt=T.prototype.encrypt;var k=function(B){if(!(this instanceof k))throw Error("Counter must be instanitated with `new`");B!==0&&!B&&(B=1),typeof B=="number"?(this._counter=o(16),this.setValue(B)):this.setBytes(B)};k.prototype.setValue=function(B){if(typeof B!="number"||parseInt(B)!=B)throw new Error("invalid counter value (must be an integer)");for(var E=15;E>=0;--E)this._counter[E]=B%256,B=B>>8},k.prototype.setBytes=function(B){if(B=s(B,!0),B.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=B},k.prototype.increment=function(){for(var B=15;B>=0;B--)if(this._counter[B]===255)this._counter[B]=0;else{this._counter[B]++;break}};var U=function(B,E){if(!(this instanceof U))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",E instanceof k||(E=new k(E)),this._counter=E,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new q(B)};U.prototype.encrypt=function(B){for(var E=s(B,!0),j=0;j<E.length;j++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),E[j]^=this._remainingCounter[this._remainingCounterIndex++];return E},U.prototype.decrypt=U.prototype.encrypt;function L(B){B=s(B,!0);var E=16-B.length%16,j=o(B.length+E);a(B,j);for(var X=B.length;X<j.length;X++)j[X]=E;return j}function F(B){if(B=s(B,!0),B.length<16)throw new Error("PKCS#7 invalid length");var E=B[B.length-1];if(E>16)throw new Error("PKCS#7 padding byte out of range");for(var j=B.length-E,X=0;X<E;X++)if(B[j+X]!==E)throw new Error("PKCS#7 invalid padding byte");var N=o(j);return a(B,N,0,0,j),N}var z={AES:q,Counter:k,ModeOfOperation:{ecb:ne,cbc:H,cfb:_,ofb:T,ctr:U},utils:{hex:u,utf8:l},padding:{pkcs7:{pad:L,strip:F}},_arrayTest:{coerceArray:s,createArray:o,copyArray:a}};n.exports=z})()})(SG);const va=SG.exports,EG="json-wallets/5.7.0";function yf(n){return typeof n=="string"&&n.substring(0,2)!=="0x"&&(n="0x"+n),qe(n)}function w0(n,e){for(n=String(n);n.length<e;)n="0"+n;return n}function o4(n){return typeof n=="string"?gr(n,Pa.NFKC):qe(n)}function cr(n,e){let t=n;const r=e.toLowerCase().split("/");for(let i=0;i<r.length;i++){let s=null;for(const o in t)if(o.toLowerCase()===r[i]){s=t[o];break}if(s===null)return null;t=s}return t}function Pye(n){const e=qe(n);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=Je(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const Iye=new se(EG);class Rye extends ac{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function a4(n,e){const t=JSON.parse(n);e=o4(e);const r=bn(cr(t,"ethaddr")),i=yf(cr(t,"encseed"));(!i||i.length%16!==0)&&Iye.throwArgumentError("invalid encseed","json",n);const s=qe(i4(e,e,2e3,32,"sha256")).slice(0,16),o=i.slice(0,16),a=i.slice(16),l=new va.ModeOfOperation.cbc(s,o),u=va.padding.pkcs7.strip(qe(l.decrypt(a)));let c="";for(let m=0;m<u.length;m++)c+=String.fromCharCode(u[m]);const f=gr(c),d=An(f);return new Rye({_isCrowdsaleAccount:!0,address:r,privateKey:d})}function qw(n){let e=null;try{e=JSON.parse(n)}catch{return!1}return e.encseed&&e.ethaddr}function Kw(n){let e=null;try{e=JSON.parse(n)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function Bye(n){if(qw(n))try{return bn(JSON.parse(n).ethaddr)}catch{return null}if(Kw(n))try{return bn(JSON.parse(n).address)}catch{return null}return null}var CG={exports:{}};(function(n,e){(function(t){function i(g){const v=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let x=1779033703,w=3144134277,b=1013904242,A=2773480762,M=1359893119,I=2600822924,D=528734635,P=1541459225;const O=new Uint32Array(64);function V(U){let L=0,F=U.length;for(;F>=64;){let z=x,B=w,E=b,j=A,X=M,N=I,K=D,oe=P,ie,fe,ce,Ee,ae;for(fe=0;fe<16;fe++)ce=L+fe*4,O[fe]=(U[ce]&255)<<24|(U[ce+1]&255)<<16|(U[ce+2]&255)<<8|U[ce+3]&255;for(fe=16;fe<64;fe++)ie=O[fe-2],Ee=(ie>>>17|ie<<32-17)^(ie>>>19|ie<<32-19)^ie>>>10,ie=O[fe-15],ae=(ie>>>7|ie<<32-7)^(ie>>>18|ie<<32-18)^ie>>>3,O[fe]=(Ee+O[fe-7]|0)+(ae+O[fe-16]|0)|0;for(fe=0;fe<64;fe++)Ee=(((X>>>6|X<<32-6)^(X>>>11|X<<32-11)^(X>>>25|X<<32-25))+(X&N^~X&K)|0)+(oe+(v[fe]+O[fe]|0)|0)|0,ae=((z>>>2|z<<32-2)^(z>>>13|z<<32-13)^(z>>>22|z<<32-22))+(z&B^z&E^B&E)|0,oe=K,K=N,N=X,X=j+Ee|0,j=E,E=B,B=z,z=Ee+ae|0;x=x+z|0,w=w+B|0,b=b+E|0,A=A+j|0,M=M+X|0,I=I+N|0,D=D+K|0,P=P+oe|0,L+=64,F-=64}}V(g);let q,ne=g.length%64,H=g.length/536870912|0,_=g.length<<3,T=ne<56?56:120,k=g.slice(g.length-ne,g.length);for(k.push(128),q=ne+1;q<T;q++)k.push(0);return k.push(H>>>24&255),k.push(H>>>16&255),k.push(H>>>8&255),k.push(H>>>0&255),k.push(_>>>24&255),k.push(_>>>16&255),k.push(_>>>8&255),k.push(_>>>0&255),V(k),[x>>>24&255,x>>>16&255,x>>>8&255,x>>>0&255,w>>>24&255,w>>>16&255,w>>>8&255,w>>>0&255,b>>>24&255,b>>>16&255,b>>>8&255,b>>>0&255,A>>>24&255,A>>>16&255,A>>>8&255,A>>>0&255,M>>>24&255,M>>>16&255,M>>>8&255,M>>>0&255,I>>>24&255,I>>>16&255,I>>>8&255,I>>>0&255,D>>>24&255,D>>>16&255,D>>>8&255,D>>>0&255,P>>>24&255,P>>>16&255,P>>>8&255,P>>>0&255]}function s(g,v,x){g=g.length<=64?g:i(g);const w=64+v.length+4,b=new Array(w),A=new Array(64);let M,I=[];for(M=0;M<64;M++)b[M]=54;for(M=0;M<g.length;M++)b[M]^=g[M];for(M=0;M<v.length;M++)b[64+M]=v[M];for(M=w-4;M<w;M++)b[M]=0;for(M=0;M<64;M++)A[M]=92;for(M=0;M<g.length;M++)A[M]^=g[M];function D(){for(let P=w-1;P>=w-4;P--){if(b[P]++,b[P]<=255)return;b[P]=0}}for(;x>=32;)D(),I=I.concat(i(A.concat(i(b)))),x-=32;return x>0&&(D(),I=I.concat(i(A.concat(i(b))).slice(0,x))),I}function o(g,v,x,w,b){let A;for(c(g,(2*x-1)*16,b,0,16),A=0;A<2*x;A++)u(g,A*16,b,16),l(b,w),c(b,0,g,v+A*16,16);for(A=0;A<x;A++)c(g,v+A*2*16,g,A*16,16);for(A=0;A<x;A++)c(g,v+(A*2+1)*16,g,(A+x)*16,16)}function a(g,v){return g<<v|g>>>32-v}function l(g,v){c(g,0,v,0,16);for(let x=8;x>0;x-=2)v[4]^=a(v[0]+v[12],7),v[8]^=a(v[4]+v[0],9),v[12]^=a(v[8]+v[4],13),v[0]^=a(v[12]+v[8],18),v[9]^=a(v[5]+v[1],7),v[13]^=a(v[9]+v[5],9),v[1]^=a(v[13]+v[9],13),v[5]^=a(v[1]+v[13],18),v[14]^=a(v[10]+v[6],7),v[2]^=a(v[14]+v[10],9),v[6]^=a(v[2]+v[14],13),v[10]^=a(v[6]+v[2],18),v[3]^=a(v[15]+v[11],7),v[7]^=a(v[3]+v[15],9),v[11]^=a(v[7]+v[3],13),v[15]^=a(v[11]+v[7],18),v[1]^=a(v[0]+v[3],7),v[2]^=a(v[1]+v[0],9),v[3]^=a(v[2]+v[1],13),v[0]^=a(v[3]+v[2],18),v[6]^=a(v[5]+v[4],7),v[7]^=a(v[6]+v[5],9),v[4]^=a(v[7]+v[6],13),v[5]^=a(v[4]+v[7],18),v[11]^=a(v[10]+v[9],7),v[8]^=a(v[11]+v[10],9),v[9]^=a(v[8]+v[11],13),v[10]^=a(v[9]+v[8],18),v[12]^=a(v[15]+v[14],7),v[13]^=a(v[12]+v[15],9),v[14]^=a(v[13]+v[12],13),v[15]^=a(v[14]+v[13],18);for(let x=0;x<16;++x)g[x]+=v[x]}function u(g,v,x,w){for(let b=0;b<w;b++)x[b]^=g[v+b]}function c(g,v,x,w,b){for(;b--;)x[w++]=g[v++]}function f(g){if(!g||typeof g.length!="number")return!1;for(let v=0;v<g.length;v++){const x=g[v];if(typeof x!="number"||x%1||x<0||x>=256)return!1}return!0}function d(g,v){if(typeof g!="number"||g%1)throw new Error("invalid "+v);return g}function m(g,v,x,w,b,A,M){if(x=d(x,"N"),w=d(w,"r"),b=d(b,"p"),A=d(A,"dkLen"),x===0||(x&x-1)!==0)throw new Error("N must be power of 2");if(x>2147483647/128/w)throw new Error("N too large");if(w>2147483647/128/b)throw new Error("r too large");if(!f(g))throw new Error("password must be an array or buffer");if(g=Array.prototype.slice.call(g),!f(v))throw new Error("salt must be an array or buffer");v=Array.prototype.slice.call(v);let I=s(g,v,b*128*w);const D=new Uint32Array(b*32*w);for(let X=0;X<D.length;X++){const N=X*4;D[X]=(I[N+3]&255)<<24|(I[N+2]&255)<<16|(I[N+1]&255)<<8|(I[N+0]&255)<<0}const P=new Uint32Array(64*w),O=new Uint32Array(32*w*x),V=32*w,q=new Uint32Array(16),ne=new Uint32Array(16),H=b*x*2;let _=0,T=null,k=!1,U=0,L=0,F,z;const B=M?parseInt(1e3/w):4294967295,E=typeof setImmediate<"u"?setImmediate:setTimeout,j=function(){if(k)return M(new Error("cancelled"),_/H);let X;switch(U){case 0:z=L*32*w,c(D,z,P,0,V),U=1,F=0;case 1:X=x-F,X>B&&(X=B);for(let K=0;K<X;K++)c(P,0,O,(F+K)*V,V),o(P,V,w,q,ne);if(F+=X,_+=X,M){const K=parseInt(1e3*_/H);if(K!==T){if(k=M(null,_/H),k)break;T=K}}if(F<x)break;F=0,U=2;case 2:X=x-F,X>B&&(X=B);for(let K=0;K<X;K++){const oe=(2*w-1)*16,ie=P[oe]&x-1;u(O,ie*V,P,V),o(P,V,w,q,ne)}if(F+=X,_+=X,M){const K=parseInt(1e3*_/H);if(K!==T){if(k=M(null,_/H),k)break;T=K}}if(F<x)break;if(c(P,0,D,z,V),L++,L<b){U=0;break}I=[];for(let K=0;K<D.length;K++)I.push(D[K]>>0&255),I.push(D[K]>>8&255),I.push(D[K]>>16&255),I.push(D[K]>>24&255);const N=s(g,I,A);return M&&M(null,1,N),N}M&&E(j)};if(!M)for(;;){const X=j();if(X!=null)return X}j()}const y={scrypt:function(g,v,x,w,b,A,M){return new Promise(function(I,D){let P=0;M&&M(0),m(g,v,x,w,b,A,function(O,V,q){if(O)D(O);else if(q)M&&P!==1&&M(1),I(new Uint8Array(q));else if(M&&V!==P)return P=V,M(V)})})},syncScrypt:function(g,v,x,w,b,A){return new Uint8Array(m(g,v,x,w,b,A))}};n.exports=y})()})(CG);const l4=CG.exports;var kye=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const MC=new se(EG);function bk(n){return n!=null&&n.mnemonic&&n.mnemonic.phrase}class Nye extends ac{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function Lye(n,e,t){if(cr(n,"crypto/cipher")==="aes-128-ctr"){const i=yf(cr(n,"crypto/cipherparams/iv")),s=new va.Counter(i),o=new va.ModeOfOperation.ctr(e,s);return qe(o.decrypt(t))}return null}function MG(n,e){const t=yf(cr(n,"crypto/ciphertext"));if(Je(An(Pn([e.slice(16,32),t]))).substring(2)!==cr(n,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=Lye(n,e.slice(0,16),t);i||MC.throwError("unsupported cipher",se.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),o=zu(i);if(n.address){let l=n.address.toLowerCase();if(l.substring(0,2)!=="0x"&&(l="0x"+l),bn(l)!==o)throw new Error("address mismatch")}const a={_isKeystoreAccount:!0,address:o,privateKey:Je(i)};if(cr(n,"x-ethers/version")==="0.1"){const l=yf(cr(n,"x-ethers/mnemonicCiphertext")),u=yf(cr(n,"x-ethers/mnemonicCounter")),c=new va.Counter(u),f=new va.ModeOfOperation.ctr(s,c),d=cr(n,"x-ethers/path")||Qh,m=cr(n,"x-ethers/locale")||"en",y=qe(f.decrypt(l));try{const g=Ww(y,m),v=xs.fromMnemonic(g,null,m).derivePath(d);if(v.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=v.mnemonic}catch(g){if(g.code!==se.errors.INVALID_ARGUMENT||g.argument!=="wordlist")throw g}}return new Nye(a)}function TG(n,e,t,r,i){return qe(i4(n,e,t,r,i))}function Dye(n,e,t,r,i){return Promise.resolve(TG(n,e,t,r,i))}function PG(n,e,t,r,i){const s=o4(e),o=cr(n,"crypto/kdf");if(o&&typeof o=="string"){const a=function(l,u){return MC.throwArgumentError("invalid key-derivation function parameters",l,u)};if(o.toLowerCase()==="scrypt"){const l=yf(cr(n,"crypto/kdfparams/salt")),u=parseInt(cr(n,"crypto/kdfparams/n")),c=parseInt(cr(n,"crypto/kdfparams/r")),f=parseInt(cr(n,"crypto/kdfparams/p"));(!u||!c||!f)&&a("kdf",o),(u&u-1)!==0&&a("N",u);const d=parseInt(cr(n,"crypto/kdfparams/dklen"));return d!==32&&a("dklen",d),r(s,l,u,c,f,64,i)}else if(o.toLowerCase()==="pbkdf2"){const l=yf(cr(n,"crypto/kdfparams/salt"));let u=null;const c=cr(n,"crypto/kdfparams/prf");c==="hmac-sha256"?u="sha256":c==="hmac-sha512"?u="sha512":a("prf",c);const f=parseInt(cr(n,"crypto/kdfparams/c")),d=parseInt(cr(n,"crypto/kdfparams/dklen"));return d!==32&&a("dklen",d),t(s,l,f,d,u)}}return MC.throwArgumentError("unsupported key-derivation function","kdf",o)}function IG(n,e){const t=JSON.parse(n),r=PG(t,e,TG,l4.syncScrypt);return MG(t,r)}function RG(n,e,t){return kye(this,void 0,void 0,function*(){const r=JSON.parse(n),i=yield PG(r,e,Dye,l4.scrypt,t);return MG(r,i)})}function BG(n,e,t,r){try{if(bn(n.address)!==zu(n.privateKey))throw new Error("address/privateKey mismatch");if(bk(n)){const v=n.mnemonic;if(xs.fromMnemonic(v.phrase,null,v.locale).derivePath(v.path||Qh).privateKey!=n.privateKey)throw new Error("mnemonic mismatch")}}catch(v){return Promise.reject(v)}typeof t=="function"&&!r&&(r=t,t={}),t||(t={});const i=qe(n.privateKey),s=o4(e);let o=null,a=null,l=null;if(bk(n)){const v=n.mnemonic;o=qe(Vw(v.phrase,v.locale||"en")),a=v.path||Qh,l=v.locale||"en"}let u=t.client;u||(u="ethers.js");let c=null;t.salt?c=qe(t.salt):c=ih(32);let f=null;if(t.iv){if(f=qe(t.iv),f.length!==16)throw new Error("invalid iv")}else f=ih(16);let d=null;if(t.uuid){if(d=qe(t.uuid),d.length!==16)throw new Error("invalid uuid")}else d=ih(16);let m=1<<17,y=8,g=1;return t.scrypt&&(t.scrypt.N&&(m=t.scrypt.N),t.scrypt.r&&(y=t.scrypt.r),t.scrypt.p&&(g=t.scrypt.p)),l4.scrypt(s,c,m,y,g,64,r).then(v=>{v=qe(v);const x=v.slice(0,16),w=v.slice(16,32),b=v.slice(32,64),A=new va.Counter(f),M=new va.ModeOfOperation.ctr(x,A),I=qe(M.encrypt(i)),D=An(Pn([w,I])),P={address:n.address.substring(2).toLowerCase(),id:Pye(d),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:Je(f).substring(2)},ciphertext:Je(I).substring(2),kdf:"scrypt",kdfparams:{salt:Je(c).substring(2),n:m,dklen:32,p:g,r:y},mac:D.substring(2)}};if(o){const O=ih(16),V=new va.Counter(O),q=new va.ModeOfOperation.ctr(b,V),ne=qe(q.encrypt(o)),H=new Date,_=H.getUTCFullYear()+"-"+w0(H.getUTCMonth()+1,2)+"-"+w0(H.getUTCDate(),2)+"T"+w0(H.getUTCHours(),2)+"-"+w0(H.getUTCMinutes(),2)+"-"+w0(H.getUTCSeconds(),2)+".0Z";P["x-ethers"]={client:u,gethFilename:"UTC--"+_+"--"+P.address,mnemonicCounter:Je(O).substring(2),mnemonicCiphertext:Je(ne).substring(2),path:a,locale:l,version:"0.1"}}return JSON.stringify(P)})}function kG(n,e,t){if(qw(n)){t&&t(0);const r=a4(n,e);return t&&t(1),Promise.resolve(r)}return Kw(n)?RG(n,e,t):Promise.reject(new Error("invalid JSON wallet"))}function NG(n,e){if(qw(n))return a4(n,e);if(Kw(n))return IG(n,e);throw new Error("invalid JSON wallet")}const Oye=Object.freeze(Object.defineProperty({__proto__:null,decryptCrowdsale:a4,decryptKeystore:RG,decryptKeystoreSync:IG,encryptKeystore:BG,isCrowdsaleWallet:qw,isKeystoreWallet:Kw,getJsonWalletAddress:Bye,decryptJsonWallet:kG,decryptJsonWalletSync:NG},Symbol.toStringTag,{value:"Module"})),Fye="wallet/5.7.0";var wk=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const Id=new se(Fye);function Uye(n){return n!=null&&Ft(n.privateKey,32)&&n.address!=null}function zye(n){const e=n.mnemonic;return e&&e.phrase}class jc extends uc{constructor(e,t){if(super(),Uye(e)){const r=new vf(e.privateKey);if(Pe(this,"_signingKey",()=>r),Pe(this,"address",zu(this.publicKey)),this.address!==bn(e.address)&&Id.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),zye(e)){const i=e.mnemonic;Pe(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||Qh,locale:i.locale||"en"}));const s=this.mnemonic,o=xs.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);zu(o.privateKey)!==this.address&&Id.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else Pe(this,"_mnemonic",()=>null)}else{if(vf.isSigningKey(e))e.curve!=="secp256k1"&&Id.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),Pe(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const r=new vf(e);Pe(this,"_signingKey",()=>r)}Pe(this,"_mnemonic",()=>null),Pe(this,"address",zu(this.publicKey))}t&&!Kf.isProvider(t)&&Id.throwArgumentError("invalid provider","provider",t),Pe(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new jc(this,e)}signTransaction(e){return nr(e).then(t=>{t.from!=null&&(bn(t.from)!==this.address&&Id.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const r=this._signingKey().signDigest(An(SC(t)));return SC(t,r)})}signMessage(e){return wk(this,void 0,void 0,function*(){return pC(this._signingKey().signDigest(YT(e)))})}_signTypedData(e,t,r){return wk(this,void 0,void 0,function*(){const i=yield Qr.resolveNames(e,t,r,s=>(this.provider==null&&Id.throwError("cannot resolve ENS names without a provider",se.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:s}),this.provider.resolveName(s)));return pC(this._signingKey().signDigest(Qr.hash(i.domain,t,i.value)))})}encrypt(e,t,r){if(typeof t=="function"&&!r&&(r=t,t={}),r&&typeof r!="function")throw new Error("invalid callback");return t||(t={}),BG(this,e,t,r)}static createRandom(e){let t=ih(16);e||(e={}),e.extraEntropy&&(t=qe(fr(An(Pn([t,e.extraEntropy])),0,16)));const r=Ww(t,e.locale);return jc.fromMnemonic(r,e.path,e.locale)}static fromEncryptedJson(e,t,r){return kG(e,t,r).then(i=>new jc(i))}static fromEncryptedJsonSync(e,t){return new jc(NG(e,t))}static fromMnemonic(e,t,r){return t||(t=Qh),new jc(xs.fromMnemonic(e,null,r).derivePath(t))}}function Gye(n,e){return Zg(YT(n),e)}function Hye(n,e,t,r){return Zg(Qr.hash(n,e,t),r)}const jye=Object.freeze(Object.defineProperty({__proto__:null,Wallet:jc,verifyMessage:Gye,verifyTypedData:Hye},Symbol.toStringTag,{value:"Module"})),Vye="networks/5.7.1",_k=new se(Vye);function Wye(n){return n&&typeof n.renetwork=="function"}function il(n){const e=function(t,r){r==null&&(r={});const i=[];if(t.InfuraProvider&&r.infura!=="-")try{i.push(new t.InfuraProvider(n,r.infura))}catch{}if(t.EtherscanProvider&&r.etherscan!=="-")try{i.push(new t.EtherscanProvider(n,r.etherscan))}catch{}if(t.AlchemyProvider&&r.alchemy!=="-")try{i.push(new t.AlchemyProvider(n,r.alchemy))}catch{}if(t.PocketProvider&&r.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new t.PocketProvider(n,r.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(t.CloudflareProvider&&r.cloudflare!=="-")try{i.push(new t.CloudflareProvider(n))}catch{}if(t.AnkrProvider&&r.ankr!=="-")try{const s=["ropsten"],o=new t.AnkrProvider(n,r.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(i.length===0)return null;if(t.FallbackProvider){let s=1;return r.quorum!=null?s=r.quorum:n==="homestead"&&(s=2),new t.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(t){return il(t)},e}function Bb(n,e){const t=function(r,i){return r.JsonRpcProvider?new r.JsonRpcProvider(n,e):null};return t.renetwork=function(r){return Bb(n,r)},t}const Ak={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:il("homestead")},Sk={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:il("ropsten")},Ek={chainId:63,name:"classicMordor",_defaultProvider:Bb("https://www.ethercluster.com/mordor","classicMordor")},Rx={unspecified:{chainId:0,name:"unspecified"},homestead:Ak,mainnet:Ak,morden:{chainId:2,name:"morden"},ropsten:Sk,testnet:Sk,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:il("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:il("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:il("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:il("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:Bb("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Ek,classicTestnet:Ek,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Bb("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:il("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:il("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function u4(n){if(n==null)return null;if(typeof n=="number"){for(const r in Rx){const i=Rx[r];if(i.chainId===n)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:n,name:"unknown"}}if(typeof n=="string"){const r=Rx[n];return r==null?null:{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress,_defaultProvider:r._defaultProvider||null}}const e=Rx[n.name];if(!e)return typeof n.chainId!="number"&&_k.throwArgumentError("invalid network chainId","network",n),n;n.chainId!==0&&n.chainId!==e.chainId&&_k.throwArgumentError("network chainId mismatch","network",n);let t=n._defaultProvider||null;return t==null&&e._defaultProvider&&(Wye(e._defaultProvider)?t=e._defaultProvider.renetwork(n):t=e._defaultProvider),{name:n.name,chainId:e.chainId,ensAddress:n.ensAddress||e.ensAddress||null,_defaultProvider:t}}const qye="web/5.7.1";var Kye=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};function Jye(n,e){return Kye(this,void 0,void 0,function*(){e==null&&(e={});const t={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(t.mode="cors",t.cache="no-cache",t.credentials="same-origin",t.redirect="follow",t.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(t.mode=o.mode),o.cache&&(t.cache=o.cache),o.credentials&&(t.credentials=o.credentials),o.redirect&&(t.redirect=o.redirect),o.referrer&&(t.referrer=o.referrer)}const r=yield fetch(n,t),i=yield r.arrayBuffer(),s={};return r.headers.forEach?r.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):r.headers.keys().forEach(o=>{s[o.toLowerCase()]=r.headers.get(o)}),{headers:s,statusCode:r.status,statusMessage:r.statusText,body:qe(new Uint8Array(i))}})}var $ye=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const Co=new se(qye);function Ck(n){return new Promise(e=>{setTimeout(e,n)})}function du(n,e){if(n==null)return null;if(typeof n=="string")return n;if($g(n)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return lc(n)}catch{}return Je(n)}return n}function Xye(n){return gr(n.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function LG(n,e,t){const r=typeof n=="object"&&n.throttleLimit!=null?n.throttleLimit:12;Co.assertArgument(r>0&&r%1===0,"invalid connection throttle limit","connection.throttleLimit",r);const i=typeof n=="object"?n.throttleCallback:null,s=typeof n=="object"&&typeof n.throttleSlotInterval=="number"?n.throttleSlotInterval:100;Co.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof n=="object"?!!n.errorPassThrough:!1,a={};let l=null;const u={method:"GET"};let c=!1,f=2*60*1e3;if(typeof n=="string")l=n;else if(typeof n=="object"){if((n==null||n.url==null)&&Co.throwArgumentError("missing URL","connection.url",n),l=n.url,typeof n.timeout=="number"&&n.timeout>0&&(f=n.timeout),n.headers)for(const x in n.headers)a[x.toLowerCase()]={key:x,value:String(n.headers[x])},["if-none-match","if-modified-since"].indexOf(x.toLowerCase())>=0&&(c=!0);if(u.allowGzip=!!n.allowGzip,n.user!=null&&n.password!=null){l.substring(0,6)!=="https:"&&n.allowInsecureAuthentication!==!0&&Co.throwError("basic authentication requires a secure https url",se.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:n.user,password:"[REDACTED]"});const x=n.user+":"+n.password;a.authorization={key:"Authorization",value:"Basic "+XT(gr(x))}}n.skipFetchSetup!=null&&(u.skipFetchSetup=!!n.skipFetchSetup),n.fetchOptions!=null&&(u.fetchOptions=Bn(n.fetchOptions))}const d=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),m=l?l.match(d):null;if(m)try{const x={statusCode:200,statusMessage:"OK",headers:{"content-type":m[1]||"text/plain"},body:m[2]?$T(m[3]):Xye(m[3])};let w=x.body;return t&&(w=t(x.body,x)),Promise.resolve(w)}catch(x){Co.throwError("processing response error",se.errors.SERVER_ERROR,{body:du(m[1],m[2]),error:x,requestBody:null,requestMethod:"GET",url:l})}e&&(u.method="POST",u.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const y={};Object.keys(a).forEach(x=>{const w=a[x];y[w.key]=w.value}),u.headers=y;const g=function(){let x=null;return{promise:new Promise(function(A,M){f&&(x=setTimeout(()=>{x!=null&&(x=null,M(Co.makeError("timeout",se.errors.TIMEOUT,{requestBody:du(u.body,y["content-type"]),requestMethod:u.method,timeout:f,url:l})))},f))}),cancel:function(){x!=null&&(clearTimeout(x),x=null)}}}(),v=function(){return $ye(this,void 0,void 0,function*(){for(let x=0;x<r;x++){let w=null;try{if(w=yield Jye(l,u),x<r){if(w.statusCode===301||w.statusCode===302){const A=w.headers.location||"";if(u.method==="GET"&&A.match(/^https:/)){l=w.headers.location;continue}}else if(w.statusCode===429){let A=!0;if(i&&(A=yield i(x,l)),A){let M=0;const I=w.headers["retry-after"];typeof I=="string"&&I.match(/^[1-9][0-9]*$/)?M=parseInt(I)*1e3:M=s*parseInt(String(Math.random()*Math.pow(2,x))),yield Ck(M);continue}}}}catch(A){w=A.response,w==null&&(g.cancel(),Co.throwError("missing response",se.errors.SERVER_ERROR,{requestBody:du(u.body,y["content-type"]),requestMethod:u.method,serverError:A,url:l}))}let b=w.body;if(c&&w.statusCode===304?b=null:!o&&(w.statusCode<200||w.statusCode>=300)&&(g.cancel(),Co.throwError("bad response",se.errors.SERVER_ERROR,{status:w.statusCode,headers:w.headers,body:du(b,w.headers?w.headers["content-type"]:null),requestBody:du(u.body,y["content-type"]),requestMethod:u.method,url:l})),t)try{const A=yield t(b,w);return g.cancel(),A}catch(A){if(A.throttleRetry&&x<r){let M=!0;if(i&&(M=yield i(x,l)),M){const I=s*parseInt(String(Math.random()*Math.pow(2,x)));yield Ck(I);continue}}g.cancel(),Co.throwError("processing response error",se.errors.SERVER_ERROR,{body:du(b,w.headers?w.headers["content-type"]:null),error:A,requestBody:du(u.body,y["content-type"]),requestMethod:u.method,url:l})}return g.cancel(),b}return Co.throwError("failed response",se.errors.SERVER_ERROR,{requestBody:du(u.body,y["content-type"]),requestMethod:u.method,url:l})})}();return Promise.race([g.promise,v])}function Ep(n,e,t){let r=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(lc(s))}catch(l){Co.throwError("invalid JSON",se.errors.SERVER_ERROR,{body:s,error:l})}return t&&(a=t(a,o)),a},i=null;if(e!=null){i=gr(e);const s=typeof n=="string"?{url:n}:Bn(n);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=Bn(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},n=s}return LG(n,i,r)}function rf(n,e){return e||(e={}),e=Bn(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(t,r){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&r(new Error("timeout"))},e.timeout));const a=e.retryLimit;let l=0;function u(){return n().then(function(c){if(c!==void 0)o()&&t(c);else if(e.oncePoll)e.oncePoll.once("poll",u);else if(e.onceBlock)e.onceBlock.once("block",u);else if(!s){if(l++,l>a){o()&&r(new Error("retry limit reached"));return}let f=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));f<e.floor&&(f=e.floor),f>e.ceiling&&(f=e.ceiling),setTimeout(u,f)}return null},function(c){o()&&r(c)})}u()})}const Yye=Object.freeze(Object.defineProperty({__proto__:null,_fetchData:LG,fetchJson:Ep,poll:rf},Symbol.toStringTag,{value:"Module"}));var kb="qpzry9x8gf2tvdw0s3jn54khce6mua7l",TC={};for(var Bx=0;Bx<kb.length;Bx++){var oA=kb.charAt(Bx);if(TC[oA]!==void 0)throw new TypeError(oA+" is ambiguous");TC[oA]=Bx}function wh(n){var e=n>>25;return(n&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function DG(n){for(var e=1,t=0;t<n.length;++t){var r=n.charCodeAt(t);if(r<33||r>126)return"Invalid prefix ("+n+")";e=wh(e)^r>>5}for(e=wh(e),t=0;t<n.length;++t){var i=n.charCodeAt(t);e=wh(e)^i&31}return e}function Qye(n,e,t){if(t=t||90,n.length+7+e.length>t)throw new TypeError("Exceeds length limit");n=n.toLowerCase();var r=DG(n);if(typeof r=="string")throw new Error(r);for(var i=n+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5!==0)throw new Error("Non 5-bit word");r=wh(r)^o,i+=kb.charAt(o)}for(s=0;s<6;++s)r=wh(r);for(r^=1,s=0;s<6;++s){var a=r>>(5-s)*5&31;i+=kb.charAt(a)}return i}function OG(n,e){if(e=e||90,n.length<8)return n+" too short";if(n.length>e)return"Exceeds length limit";var t=n.toLowerCase(),r=n.toUpperCase();if(n!==t&&n!==r)return"Mixed-case string "+n;n=t;var i=n.lastIndexOf("1");if(i===-1)return"No separator character for "+n;if(i===0)return"Missing prefix for "+n;var s=n.slice(0,i),o=n.slice(i+1);if(o.length<6)return"Data too short";var a=DG(s);if(typeof a=="string")return a;for(var l=[],u=0;u<o.length;++u){var c=o.charAt(u),f=TC[c];if(f===void 0)return"Unknown character "+c;a=wh(a)^f,!(u+6>=o.length)&&l.push(f)}return a!==1?"Invalid checksum for "+n:{prefix:s,words:l}}function Zye(){var n=OG.apply(null,arguments);if(typeof n=="object")return n}function exe(n){var e=OG.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function Jw(n,e,t,r){for(var i=0,s=0,o=(1<<t)-1,a=[],l=0;l<n.length;++l)for(i=i<<e|n[l],s+=e;s>=t;)s-=t,a.push(i>>s&o);if(r)s>0&&a.push(i<<t-s&o);else{if(s>=e)return"Excess padding";if(i<<t-s&o)return"Non-zero padding"}return a}function txe(n){var e=Jw(n,8,5,!0);if(Array.isArray(e))return e}function nxe(n){var e=Jw(n,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function rxe(n){var e=Jw(n,5,8,!1);if(Array.isArray(e))return e}function ixe(n){var e=Jw(n,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var Mk={decodeUnsafe:Zye,decode:exe,encode:Qye,toWordsUnsafe:txe,toWords:nxe,fromWordsUnsafe:rxe,fromWords:ixe};const Ti="providers/5.7.2",_0=new se(Ti);class dt{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),r=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),l=this.number.bind(this),u=this.type.bind(this),c=f=>this.data(f,!0);return e.transaction={hash:o,type:u,accessList:dt.allowNull(this.accessList.bind(this),null),blockHash:dt.allowNull(o,null),blockNumber:dt.allowNull(l,null),transactionIndex:dt.allowNull(l,null),confirmations:dt.allowNull(l,null),from:t,gasPrice:dt.allowNull(r),maxPriorityFeePerGas:dt.allowNull(r),maxFeePerGas:dt.allowNull(r),gasLimit:r,to:dt.allowNull(t,null),value:r,nonce:l,data:s,r:dt.allowNull(this.uint256),s:dt.allowNull(this.uint256),v:dt.allowNull(l),creates:dt.allowNull(t,null),raw:dt.allowNull(s)},e.transactionRequest={from:dt.allowNull(t),nonce:dt.allowNull(l),gasLimit:dt.allowNull(r),gasPrice:dt.allowNull(r),maxPriorityFeePerGas:dt.allowNull(r),maxFeePerGas:dt.allowNull(r),to:dt.allowNull(t),value:dt.allowNull(r),data:dt.allowNull(c),type:dt.allowNull(l),accessList:dt.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:o,address:t,topics:dt.arrayOf(o),data:s,logIndex:l,blockHash:o},e.receipt={to:dt.allowNull(this.address,null),from:dt.allowNull(this.address,null),contractAddress:dt.allowNull(t,null),transactionIndex:l,root:dt.allowNull(a),gasUsed:r,logsBloom:dt.allowNull(s),blockHash:o,transactionHash:o,logs:dt.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:dt.allowNull(l,null),cumulativeGasUsed:r,effectiveGasPrice:dt.allowNull(r),status:dt.allowNull(l),type:u},e.block={hash:dt.allowNull(o),parentHash:o,number:l,timestamp:l,nonce:dt.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:dt.allowNull(t),extraData:s,transactions:dt.allowNull(dt.arrayOf(o)),baseFeePerGas:dt.allowNull(r)},e.blockWithTransactions=Bn(e.block),e.blockWithTransactions.transactions=dt.allowNull(dt.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:dt.allowNull(i,void 0),toBlock:dt.allowNull(i,void 0),blockHash:dt.allowNull(o,void 0),address:dt.allowNull(t,void 0),topics:dt.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:dt.allowNull(l),blockHash:dt.allowNull(o),transactionIndex:l,removed:dt.allowNull(this.boolean.bind(this)),address:t,data:dt.allowFalsish(s,"0x"),topics:dt.arrayOf(o),transactionHash:o,logIndex:l},e}accessList(e){return fc(e||[])}number(e){return e==="0x"?0:We.from(e).toNumber()}type(e){return e==="0x"||e==null?0:We.from(e).toNumber()}bigNumber(e){return We.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return typeof e=="string"&&(!t&&e.substring(0,2)!=="0x"&&(e="0x"+e),Ft(e))?e.toLowerCase():_0.throwArgumentError("invalid hash","value",e)}data(e,t){const r=this.hex(e,t);if(r.length%2!==0)throw new Error("invalid data; odd-length - "+e);return r}address(e){return bn(e)}callAddress(e){if(!Ft(e,32))return null;const t=bn(fr(e,12));return t===yz?null:t}contractAddress(e){return Dw(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||Ft(e))return Xg(e);throw new Error("invalid blockTag")}hash(e,t){const r=this.hex(e,t);return Ta(r)!==32?_0.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(e==null)return null;const t=We.from(e);try{return t.toNumber()}catch{}return null}uint256(e){if(!Ft(e))throw new Error("invalid uint256");return In(e,32)}_block(e,t){e.author!=null&&e.miner==null&&(e.miner=e.author);const r=e._difficulty!=null?e._difficulty:e.difficulty,i=dt.check(t,e);return i._difficulty=r==null?null:We.from(r),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return dt.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&We.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const t=dt.check(this.formats.transaction,e);if(e.chainId!=null){let r=e.chainId;Ft(r)&&(r=We.from(r).toNumber()),t.chainId=r}else{let r=e.networkId;r==null&&t.v==null&&(r=e.chainId),Ft(r)&&(r=We.from(r).toNumber()),typeof r!="number"&&t.v!=null&&(r=(t.v-35)/2,r<0&&(r=0),r=parseInt(r)),typeof r!="number"&&(r=0),t.chainId=r}return t.blockHash&&t.blockHash.replace(/0/g,"")==="x"&&(t.blockHash=null),t}transaction(e){return hG(e)}receiptLog(e){return dt.check(this.formats.receiptLog,e)}receipt(e){const t=dt.check(this.formats.receipt,e);if(t.root!=null)if(t.root.length<=4){const r=We.from(t.root).toNumber();r===0||r===1?(t.status!=null&&t.status!==r&&_0.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=r,delete t.root):_0.throwArgumentError("invalid alt-root-status","value.root",t.root)}else t.root.length!==66&&_0.throwArgumentError("invalid root hash","value.root",t.root);return t.status!=null&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(t=>this.topics(t)):e!=null?this.hash(e,!0):null}filter(e){return dt.check(this.formats.filter,e)}filterLog(e){return dt.check(this.formats.filterLog,e)}static check(e,t){const r={};for(const i in e)try{const s=e[i](t[i]);s!==void 0&&(r[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=t[i],s}return r}static allowNull(e,t){return function(r){return r==null?t:e(r)}}static allowFalsish(e,t){return function(r){return r?e(r):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const r=[];return t.forEach(function(i){r.push(e(i))}),r}}}function FG(n){return n&&typeof n.isCommunityResource=="function"}function PC(n){return FG(n)&&n.isCommunityResource()}let Tk=!1;function ev(){Tk||(Tk=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var Rt=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const Kt=new se(Ti),sxe=10;function Pk(n){return n==null?"null":(Ta(n)!==32&&Kt.throwArgumentError("invalid topic","topic",n),n.toLowerCase())}function Ik(n){for(n=n.slice();n.length>0&&n[n.length-1]==null;)n.pop();return n.map(e=>{if(Array.isArray(e)){const t={};e.forEach(i=>{t[Pk(i)]=!0});const r=Object.keys(t);return r.sort(),r.join("|")}else return Pk(e)}).join("&")}function oxe(n){return n===""?[]:n.split(/&/g).map(e=>{if(e==="")return[];const t=e.split("|").map(r=>r==="null"?null:r);return t.length===1?t[0]:t})}function Rd(n){if(typeof n=="string"){if(n=n.toLowerCase(),Ta(n)===32)return"tx:"+n;if(n.indexOf(":")===-1)return n}else{if(Array.isArray(n))return"filter:*:"+Ik(n);if(ige.isForkEvent(n))throw Kt.warn("not implemented"),new Error("not implemented");if(n&&typeof n=="object")return"filter:"+(n.address||"*")+":"+Ik(n.topics||[])}throw new Error("invalid event - "+n)}function A0(){return new Date().getTime()}function Rk(n){return new Promise(e=>{setTimeout(e,n)})}const axe=["block","network","pending","poll"];class lxe{constructor(e,t,r){Pe(this,"tag",e),Pe(this,"listener",t),Pe(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const t=e[1],r=oxe(e[2]),i={};return r.length>0&&(i.topics=r),t&&t!=="*"&&(i.address=t),i}pollable(){return this.tag.indexOf(":")>=0||axe.indexOf(this.tag)>=0}}const uxe={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function aA(n){return In(We.from(n).toHexString(),32)}function Bk(n){return Xh.encode(Pn([n,fr(Il(Il(n)),0,4)]))}const UG=new RegExp("^(ipfs)://(.*)$","i"),kk=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),UG,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function E1(n,e){try{return lc(hg(n,e))}catch{}return null}function hg(n,e){if(n==="0x")return null;const t=We.from(fr(n,e,e+32)).toNumber(),r=We.from(fr(n,t,t+32)).toNumber();return fr(n,t+32,t+32+r)}function lA(n){return n.match(/^ipfs:\/\/ipfs\//i)?n=n.substring(12):n.match(/^ipfs:\/\//i)?n=n.substring(7):Kt.throwArgumentError("unsupported IPFS format","link",n),`https://gateway.ipfs.io/ipfs/${n}`}function Nk(n){const e=qe(n);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function cxe(n){if(n.length%32===0)return n;const e=new Uint8Array(Math.ceil(n.length/32)*32);return e.set(n),e}function zG(n){const e=[];let t=0;for(let r=0;r<n.length;r++)e.push(null),t+=32;for(let r=0;r<n.length;r++){const i=qe(n[r]);e[r]=Nk(t),e.push(Nk(i.length)),e.push(cxe(i)),t+=32+Math.ceil(i.length/32)*32}return Di(e)}class IC{constructor(e,t,r,i){Pe(this,"provider",e),Pe(this,"name",r),Pe(this,"address",e.formatter.address(t)),Pe(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>We.from(e).eq(1)).catch(e=>{if(e.code===se.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return Rt(this,void 0,void 0,function*(){const r={to:this.address,ccipReadEnabled:!0,data:Di([e,lm(this.name),t||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,r.data=Di(["0x9061b923",zG([Nz(this.name),r.data])]));try{let s=yield this.provider.call(r);return qe(s).length%32===4&&Kt.throwError("resolver threw error",se.errors.CALL_EXCEPTION,{transaction:r,data:s}),i&&(s=hg(s,0)),s}catch(s){if(s.code===se.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,t){return Rt(this,void 0,void 0,function*(){const r=yield this._fetch(e,t);return r!=null?hg(r,0):null})}_getAddress(e,t){const r=uxe[String(e)];if(r==null&&Kt.throwError(`unsupported coin type: ${e}`,se.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),r.ilk==="eth")return this.provider.formatter.address(t);const i=qe(t);if(r.p2pkh!=null){const s=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return Bk(Pn([[r.p2pkh],"0x"+s[2]]))}}if(r.p2sh!=null){const s=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return Bk(Pn([[r.p2sh],"0x"+s[2]]))}}if(r.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=Mk.toWords(i.slice(2));return a.unshift(o),Mk.encode(r.prefix,a)}}return null}getAddress(e){return Rt(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===WT?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===se.errors.CALL_EXCEPTION)return null;throw i}const t=yield this._fetchBytes("0xf1cb7e06",aA(e));if(t==null||t==="0x")return null;const r=this._getAddress(e,t);return r==null&&Kt.throwError("invalid or unsupported coin data",se.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),r})}getAvatar(){return Rt(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const t=yield this.getText("avatar");if(t==null)return null;for(let r=0;r<kk.length;r++){const i=t.match(kk[r]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:lA(t)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:t});const a=this._resolvedAddress||(yield this.getAddress()),l=(i[2]||"").split("/");if(l.length!==2)return null;const u=yield this.provider.formatter.address(l[0]),c=In(We.from(l[1]).toHexString(),32);if(s==="erc721"){const g=this.provider.formatter.callAddress(yield this.provider.call({to:u,data:Di(["0x6352211e",c])}));if(a!==g)return null;e.push({type:"owner",content:g})}else if(s==="erc1155"){const g=We.from(yield this.provider.call({to:u,data:Di(["0x00fdd58e",In(a,32),c])}));if(g.isZero())return null;e.push({type:"balance",content:g.toString()})}const f={to:this.provider.formatter.address(l[0]),data:Di([o,c])};let d=E1(yield this.provider.call(f),0);if(d==null)return null;e.push({type:"metadata-url-base",content:d}),s==="erc1155"&&(d=d.replace("{id}",c.substring(2)),e.push({type:"metadata-url-expanded",content:d})),d.match(/^ipfs:/i)&&(d=lA(d)),e.push({type:"metadata-url",content:d});const m=yield Ep(d);if(!m)return null;e.push({type:"metadata",content:JSON.stringify(m)});let y=m.image;if(typeof y!="string")return null;if(!y.match(/^(https:\/\/|data:)/i)){if(y.match(UG)==null)return null;e.push({type:"url-ipfs",content:y}),y=lA(y)}return e.push({type:"url",content:y}),{linkage:e,url:y}}}}}catch{}return null})}getContentHash(){return Rt(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const o=parseInt(t[3],16);if(t[4].length===o*2)return"ipfs://"+Xh.encode("0x"+t[1])}const r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipns://"+Xh.encode("0x"+r[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===34*2){const o={"=":"","+":"-","/":"_"};return"sia://"+XT("0x"+s[1]).replace(/[=+\/]/g,l=>o[l])}return Kt.throwError("invalid or unsupported content hash data",se.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return Rt(this,void 0,void 0,function*(){let t=gr(e);t=Pn([aA(64),aA(t.length),t]),t.length%32!==0&&(t=Pn([t,In("0x",32-e.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",Je(t));return r==null||r==="0x"?null:lc(r)})}}let uA=null,fxe=1;class $w extends Kf{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Pe(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(t=>{}),this._ready().catch(t=>{});else{const t=ni(new.target,"getNetwork")(e);t?(Pe(this,"_network",t),this.emit("network",t,null)):Kt.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Rt(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||Kt.throwError("no network detected",se.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:Pe(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return rf(()=>this._ready().then(e=>e,e=>{if(!(e.code===se.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return uA==null&&(uA=new dt),uA}static getNetwork(e){return u4(e??"homestead")}ccipReadFetch(e,t,r){return Rt(this,void 0,void 0,function*(){if(this.disableCcipRead||r.length===0)return null;const i=e.to.toLowerCase(),s=t.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const l=r[a],u=l.replace("{sender}",i).replace("{data}",s),c=l.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),f=yield Ep({url:u,errorPassThrough:!0},c,(m,y)=>(m.status=y.statusCode,m));if(f.data)return f.data;const d=f.message||"unknown error";if(f.status>=400&&f.status<500)return Kt.throwError(`response not found during CCIP fetch: ${d}`,se.errors.SERVER_ERROR,{url:l,errorMessage:d});o.push(d)}return Kt.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,se.errors.SERVER_ERROR,{urls:r,errorMessages:o})})}_getInternalBlockNumber(e){return Rt(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(A0()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const t=A0(),r=nr({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),s;const o=A0();return i=We.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:t,respTime:o}});return this._internalBlockNumber=r,r.catch(i=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber})}poll(){return Rt(this,void 0,void 0,function*(){const e=fxe++,t=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)Kt.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",Kt.makeError("network block skew detected",se.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let i=this._emitted.block+1;i<=r;i++)this.emit("block",i);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&r-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=r-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});t.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=r-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=r;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(l=>{i._inflight=!1,l.length!==0&&l.forEach(u=>{u.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=u.blockNumber),this._emitted["b:"+u.blockHash]=u.blockNumber,this._emitted["t:"+u.transactionHash]=u.blockNumber,this.emit(s,u)})}).catch(l=>{this.emit("error",l),i._inflight=!1});t.push(a)}break}}}),this._lastBlockNumber=r,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Rt(this,void 0,void 0,function*(){return Kt.throwError("provider does not support network detection",se.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Rt(this,void 0,void 0,function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield Rk(0),this._network;const r=Kt.makeError("underlying network changed",se.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=A0();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(t=>((this._fastBlockNumber==null||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=A0(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,r){return Rt(this,void 0,void 0,function*(){return this._waitForTransaction(e,t??1,r||0,null)})}_waitForTransaction(e,t,r,i){return Rt(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=t?s:new Promise((o,a)=>{const l=[];let u=!1;const c=function(){return u?!0:(u=!0,l.forEach(d=>{d()}),!1)},f=d=>{d.confirmations<t||c()||o(d)};if(this.on(e,f),l.push(()=>{this.removeListener(e,f)}),i){let d=i.startBlock,m=null;const y=g=>Rt(this,void 0,void 0,function*(){u||(yield Rk(1e3),this.getTransactionCount(i.from).then(v=>Rt(this,void 0,void 0,function*(){if(!u){if(v<=i.nonce)d=g;else{{const x=yield this.getTransaction(e);if(x&&x.blockNumber!=null)return}for(m==null&&(m=d-3,m<i.startBlock&&(m=i.startBlock));m<=g;){if(u)return;const x=yield this.getBlockWithTransactions(m);for(let w=0;w<x.transactions.length;w++){const b=x.transactions[w];if(b.hash===e)return;if(b.from===i.from&&b.nonce===i.nonce){if(u)return;const A=yield this.waitForTransaction(b.hash,t);if(c())return;let M="replaced";b.data===i.data&&b.to===i.to&&b.value.eq(i.value)?M="repriced":b.data==="0x"&&b.from===b.to&&b.value.isZero()&&(M="cancelled"),a(Kt.makeError("transaction was replaced",se.errors.TRANSACTION_REPLACED,{cancelled:M==="replaced"||M==="cancelled",reason:M,replacement:this._wrapTransaction(b),hash:e,receipt:A}));return}}m++}}u||this.once("block",y)}}),v=>{u||this.once("block",y)}))});if(u)return;this.once("block",y),l.push(()=>{this.removeListener("block",y)})}if(typeof r=="number"&&r>0){const d=setTimeout(()=>{c()||a(Kt.makeError("timeout exceeded",se.errors.TIMEOUT,{timeout:r}))},r);d.unref&&d.unref(),l.push(()=>{clearTimeout(d)})}})})}getBlockNumber(){return Rt(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Rt(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return We.from(e)}catch(t){return Kt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return Rt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield nr({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getBalance",r);try{return We.from(i)}catch(s){return Kt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"getBalance",params:r,result:i,error:s})}})}getTransactionCount(e,t){return Rt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield nr({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getTransactionCount",r);try{return We.from(i).toNumber()}catch(s){return Kt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:i,error:s})}})}getCode(e,t){return Rt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield nr({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getCode",r);try{return Je(i)}catch(s){return Kt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"getCode",params:r,result:i,error:s})}})}getStorageAt(e,t,r){return Rt(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield nr({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then(o=>Xg(o))}),s=yield this.perform("getStorageAt",i);try{return Je(s)}catch(o){return Kt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,t,r){if(t!=null&&Ta(t)!==32)throw new Error("invalid response - sendTransaction");const i=e;return t!=null&&e.hash!==t&&Kt.throwError("Transaction hash mismatch from Provider.sendTransaction.",se.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),i.wait=(s,o)=>Rt(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&r!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});const l=yield this._waitForTransaction(e.hash,s,o,a);return l==null&&s===0?null:(this._emitted["t:"+e.hash]=l.blockNumber,l.status===0&&Kt.throwError("transaction failed",se.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:l}),l)}),i}sendTransaction(e){return Rt(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then(s=>Je(s)),r=this.formatter.transaction(e);r.confirmations==null&&(r.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(r,s,i)}catch(s){throw s.transaction=r,s.transactionHash=r.hash,s}})}_getTransactionRequest(e){return Rt(this,void 0,void 0,function*(){const t=yield e,r={};return["from","to"].forEach(i=>{t[i]!=null&&(r[i]=Promise.resolve(t[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{t[i]!=null&&(r[i]=Promise.resolve(t[i]).then(s=>s?We.from(s):null))}),["type"].forEach(i=>{t[i]!=null&&(r[i]=Promise.resolve(t[i]).then(s=>s??null))}),t.accessList&&(r.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(i=>{t[i]!=null&&(r[i]=Promise.resolve(t[i]).then(s=>s?Je(s):null))}),this.formatter.transactionRequest(yield nr(r))})}_getFilter(e){return Rt(this,void 0,void 0,function*(){e=yield e;const t={};return e.address!=null&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{e[r]!=null&&(t[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{e[r]!=null&&(t[r]=this._getBlockTag(e[r]))}),this.formatter.filter(yield nr(t))})}_call(e,t,r){return Rt(this,void 0,void 0,function*(){r>=sxe&&Kt.throwError("CCIP read exceeded maximum redirections",se.errors.SERVER_ERROR,{redirects:r,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:t});if(r>=0&&t==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&Ta(s)%32===4)try{const o=fr(s,4),a=fr(o,0,32);We.from(a).eq(i)||Kt.throwError("CCIP Read sender did not match",se.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const l=[],u=We.from(fr(o,32,64)).toNumber(),c=We.from(fr(o,u,u+32)).toNumber(),f=fr(o,u+32);for(let x=0;x<c;x++){const w=E1(f,x*32);w==null&&Kt.throwError("CCIP Read contained corrupt URL string",se.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),l.push(w)}const d=hg(o,64);We.from(fr(o,100,128)).isZero()||Kt.throwError("CCIP Read callback selector included junk",se.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const m=fr(o,96,100),y=hg(o,128),g=yield this.ccipReadFetch(e,d,l);g==null&&Kt.throwError("CCIP Read disabled or provided no URLs",se.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const v={to:i,data:Di([m,zG([g,y])])};return this._call(v,t,r+1)}catch(o){if(o.code===se.errors.SERVER_ERROR)throw o}try{return Je(s)}catch(o){return Kt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:s,error:o})}})}call(e,t){return Rt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield nr({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return Rt(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield nr({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",t);try{return We.from(r)}catch(i){return Kt.throwError("bad result from backend",se.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:r,error:i})}})}_getAddress(e){return Rt(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&Kt.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return t==null&&Kt.throwError("ENS name not configured",se.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return Rt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r=-128;const i={includeTransactions:!!t};if(Ft(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),Ft(i.blockTag)&&(r=parseInt(i.blockTag.substring(2),16))}catch{Kt.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return rf(()=>Rt(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&r>this._emitted.block?null:void 0;if(t){let o=null;for(let l=0;l<s.transactions.length;l++){const u=s.transactions[l];if(u.blockNumber==null)u.confirmations=0;else if(u.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let c=o-u.blockNumber+1;c<=0&&(c=1),u.confirmations=c}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(l=>this._wrapTransaction(l)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Rt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return rf(()=>Rt(this,void 0,void 0,function*(){const r=yield this.perform("getTransaction",t);if(r==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(r);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return Rt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return rf(()=>Rt(this,void 0,void 0,function*(){const r=yield this.perform("getTransactionReceipt",t);if(r==null)return this._emitted["t:"+e]==null?null:void 0;if(r.blockHash==null)return;const i=this.formatter.receipt(r);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return Rt(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield nr({filter:this._getFilter(e)}),r=yield this.perform("getLogs",t);return r.forEach(i=>{i.removed==null&&(i.removed=!1)}),dt.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return Rt(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return Rt(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&Kt.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return Rt(this,void 0,void 0,function*(){let t=e;for(;;){if(t===""||t==="."||e!=="eth"&&t==="eth")return null;const r=yield this._getResolver(t,"getResolver");if(r!=null){const i=new IC(this,r,e);return t!==e&&!(yield i.supportsWildcard())?null:i}t=t.split(".").slice(1).join(".")}})}_getResolver(e,t){return Rt(this,void 0,void 0,function*(){t==null&&(t="ENS");const r=yield this.getNetwork();r.ensAddress||Kt.throwError("network does not support ENS",se.errors.UNSUPPORTED_OPERATION,{operation:t,network:r.name});try{const i=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+lm(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return Rt(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(r){if(Ft(e))throw r}typeof e!="string"&&Kt.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return Rt(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const t=e.substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(t,"lookupAddress");if(r==null)return null;const i=E1(yield this.call({to:r,data:"0x691f3431"+lm(t).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return Rt(this,void 0,void 0,function*(){let t=null;if(Ft(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;t=new IC(this,o,s);try{const a=yield t.getAvatar();if(a)return a.url}catch(a){if(a.code!==se.errors.CALL_EXCEPTION)throw a}try{const a=E1(yield this.call({to:o,data:"0x691f3431"+lm(s).substring(2)}),0);t=yield this.getResolver(a)}catch(a){if(a.code!==se.errors.CALL_EXCEPTION)throw a;return null}}else if(t=yield this.getResolver(e),!t)return null;const r=yield t.getAvatar();return r==null?null:r.url})}perform(e,t){return Kt.throwError(e+" not implemented",se.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_addEventListener(e,t,r){const i=new lxe(Rd(e),t,r);return this._events.push(i),this._startEvent(i),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let r=!1,i=[],s=Rd(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,t)},0),r=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),r}listenerCount(e){if(!e)return this._events.length;let t=Rd(e);return this._events.filter(r=>r.tag===t).length}listeners(e){if(e==null)return this._events.map(r=>r.listener);let t=Rd(e);return this._events.filter(r=>r.tag===t).map(r=>r.listener)}off(e,t){if(t==null)return this.removeAllListeners(e);const r=[];let i=!1,s=Rd(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=t||i?!0:(i=!0,r.push(o),!1)),r.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let t=[];if(e==null)t=this._events,this._events=[];else{const r=Rd(e);this._events=this._events.filter(i=>i.tag!==r?!0:(t.push(i),!1))}return t.forEach(r=>{this._stopEvent(r)}),this}}var nl=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const wr=new se(Ti),dxe=["call","estimateGas"];function fm(n,e){if(n==null)return null;if(typeof n.message=="string"&&n.message.match("reverted")){const t=Ft(n.data)?n.data:null;if(!e||t)return{message:n.message,data:t}}if(typeof n=="object"){for(const t in n){const r=fm(n[t],e);if(r)return r}return null}if(typeof n=="string")try{return fm(JSON.parse(n),e)}catch{}return null}function GG(n,e,t){const r=t.transaction||t.signedTransaction;if(n==="call"){const s=fm(e,!0);if(s)return s.data;wr.throwError("missing revert data in call exception; Transaction reverted without a reason string",se.errors.CALL_EXCEPTION,{data:"0x",transaction:r,error:e})}if(n==="estimateGas"){let s=fm(e.body,!1);s==null&&(s=fm(e,!1)),s&&wr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",se.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:n,transaction:r,error:e})}let i=e.message;throw e.code===se.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&wr.throwError("insufficient funds for intrinsic transaction cost",se.errors.INSUFFICIENT_FUNDS,{error:e,method:n,transaction:r}),i.match(/nonce (is )?too low/i)&&wr.throwError("nonce has already been used",se.errors.NONCE_EXPIRED,{error:e,method:n,transaction:r}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&wr.throwError("replacement fee too low",se.errors.REPLACEMENT_UNDERPRICED,{error:e,method:n,transaction:r}),i.match(/only replay-protected/i)&&wr.throwError("legacy pre-eip-155 transactions not supported",se.errors.UNSUPPORTED_OPERATION,{error:e,method:n,transaction:r}),dxe.indexOf(n)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&wr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",se.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:n,transaction:r}),e}function Lk(n){return new Promise(function(e){setTimeout(e,n)})}function hxe(n){if(n.error){const e=new Error(n.error.message);throw e.code=n.error.code,e.data=n.error.data,e}return n.result}function S0(n){return n&&n.toLowerCase()}const RC={};class c4 extends uc{constructor(e,t,r){if(super(),e!==RC)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Pe(this,"provider",t),r==null&&(r=0),typeof r=="string"?(Pe(this,"_address",this.provider.formatter.address(r)),Pe(this,"_index",null)):typeof r=="number"?(Pe(this,"_index",r),Pe(this,"_address",null)):wr.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return wr.throwError("cannot alter JSON-RPC Signer connection",se.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new pxe(RC,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&wr.throwError("unknown account #"+this._index,se.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Bn(e);const t=this.getAddress().then(r=>(r&&(r=r.toLowerCase()),r));if(e.gasLimit==null){const r=Bn(e);r.from=t,e.gasLimit=this.provider.estimateGas(r)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(r=>nl(this,void 0,void 0,function*(){if(r==null)return null;const i=yield this.provider.resolveName(r);return i==null&&wr.throwArgumentError("provided ENS name resolves to null","tx.to",r),i}))),nr({tx:nr(e),sender:t}).then(({tx:r,sender:i})=>{r.from!=null?r.from.toLowerCase()!==i&&wr.throwArgumentError("from address mismatch","transaction",e):r.from=i;const s=this.provider.constructor.hexlifyTransaction(r,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&wr.throwError("user rejected transaction",se.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:r}),GG("sendTransaction",o,s)))})}signTransaction(e){return wr.throwError("signing transactions is unsupported",se.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return nl(this,void 0,void 0,function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield rf(()=>nl(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(r);if(i!==null)return this.provider._wrapTransaction(i,r,t)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=r,i}})}signMessage(e){return nl(this,void 0,void 0,function*(){const t=typeof e=="string"?gr(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[Je(t),r.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&wr.throwError("user rejected signing",se.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e}),i}})}_legacySignMessage(e){return nl(this,void 0,void 0,function*(){const t=typeof e=="string"?gr(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),Je(t)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&wr.throwError("user rejected signing",se.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e}),i}})}_signTypedData(e,t,r){return nl(this,void 0,void 0,function*(){const i=yield Qr.resolveNames(e,t,r,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(Qr.getPayload(i.domain,t,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&wr.throwError("user rejected signing",se.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:t,value:i.value}}),o}})}unlock(e){return nl(this,void 0,void 0,function*(){const t=this.provider,r=yield this.getAddress();return t.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}}class pxe extends c4{sendTransaction(e){return this.sendUncheckedTransaction(e).then(t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:r=>this.provider.waitForTransaction(t,r)}))}}const mxe={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Of extends $w{constructor(e,t){let r=t;r==null&&(r=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(r),e||(e=ni(this.constructor,"defaultUrl")()),typeof e=="string"?Pe(this,"connection",Object.freeze({url:e})):Pe(this,"connection",Object.freeze(Bn(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return nl(this,void 0,void 0,function*(){yield Lk(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const t=ni(this.constructor,"getNetwork");try{return t(We.from(e).toNumber())}catch(r){return wr.throwError("could not detect network",se.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:r})}}return wr.throwError("could not detect network",se.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new c4(RC,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(t=>this.formatter.address(t)))}send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Ui(r),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=Ep(this.connection,JSON.stringify(r),hxe).then(o=>(this.emit("debug",{action:"response",request:r,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:r,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[S0(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[S0(t.address),t.blockTag]];case"getCode":return["eth_getCode",[S0(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[S0(t.address),In(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[ni(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[ni(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&t.filter.address!=null&&(t.filter.address=S0(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return nl(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=t.transaction;if(i&&i.type!=null&&We.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(t=Bn(t),t.transaction=Bn(i),delete t.transaction.type)}}const r=this.prepareRequest(e,t);r==null&&wr.throwError(e+" not implemented",se.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(i){return GG(e,i,t)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(r){function i(){e.send("eth_getFilterChanges",[r]).then(function(s){if(e._pendingFilter!=t)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(l){return e.emit("pending",l),null})})}),o.then(function(){return Lk(1e3)})}).then(function(){if(e._pendingFilter!=t){e.send("eth_uninstallFilter",[r]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),r}).catch(r=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const r=Bn(mxe);if(t)for(const s in t)t[s]&&(r[s]=!0);GT(e,r);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=Xg(We.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=Je(e[s]))}),e.accessList&&(i.accessList=fc(e.accessList)),i}}let dm=null;try{if(dm=WebSocket,dm==null)throw new Error("inject please")}catch{const e=new se(Ti);dm=function(){e.throwError("WebSockets not supported in this environment",se.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var cA=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const kx=new se(Ti);let gxe=1;class Xw extends Of{constructor(e,t){t==="any"&&kx.throwError("WebSocketProvider does not support 'any' network yet",se.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,t):super("_websocket",t),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?Pe(this,"_websocket",new dm(this.connection.url)):Pe(this,"_websocket",e),Pe(this,"_requests",{}),Pe(this,"_subs",{}),Pe(this,"_subIds",{}),Pe(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(i=>{this.websocket.send(this._requests[i].payload)})},this.websocket.onmessage=i=>{const s=i.data,o=JSON.parse(s);if(o.id!=null){const a=String(o.id),l=this._requests[a];if(delete this._requests[a],o.result!==void 0)l.callback(null,o.result),this.emit("debug",{action:"response",request:JSON.parse(l.payload),response:o.result,provider:this});else{let u=null;o.error?(u=new Error(o.error.message||"unknown error"),Pe(u,"code",o.error.code||null),Pe(u,"response",s)):u=new Error("unknown error"),l.callback(u,void 0),this.emit("debug",{action:"response",error:u,request:JSON.parse(l.payload),provider:this})}}else if(o.method==="eth_subscription"){const a=this._subs[o.params.subscription];a&&a.processFunc(o.params.result)}else console.warn("this should not happen")};const r=setInterval(()=>{this.emit("poll")},1e3);r.unref&&r.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){kx.throwError("cannot reset events block on WebSocketProvider",se.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){kx.throwError("cannot set polling interval on WebSocketProvider",se.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return cA(this,void 0,void 0,function*(){return null})}set polling(e){!e||kx.throwError("cannot set polling on WebSocketProvider",se.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const r=gxe++;return new Promise((i,s)=>{function o(l,u){return l?s(l):i(u)}const a=JSON.stringify({method:e,params:t,id:r,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(a),provider:this}),this._requests[String(r)]={callback:o,payload:a},this._wsReady&&this.websocket.send(a)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,r){return cA(this,void 0,void 0,function*(){let i=this._subIds[e];i==null&&(i=Promise.all(t).then(o=>this.send("eth_subscribe",o)),this._subIds[e]=i);const s=yield i;this._subs[s]={tag:e,processFunc:r}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],t=>{const r=We.from(t.number).toNumber();this._emitted.block=r,this.emit("block",r)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],t=>{this.emit("pending",t)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],t=>{t.removed==null&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))});break;case"tx":{const t=r=>{const i=r.hash;this.getTransactionReceipt(i).then(s=>{!s||this.emit(i,s)})};t(e),this._subscribe("tx",["newHeads"],r=>{this._events.filter(i=>i.type==="tx").forEach(t)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let t=e.tag;if(e.type==="tx"){if(this._events.filter(i=>i.type==="tx").length)return;t="tx"}else if(this.listenerCount(e.event))return;const r=this._subIds[t];!r||(delete this._subIds[t],r.then(i=>{!this._subs[i]||(delete this._subs[i],this.send("eth_unsubscribe",[i]))}))}destroy(){return cA(this,void 0,void 0,function*(){this.websocket.readyState===dm.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var vxe=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const z0=new se(Ti);class f4 extends Of{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return vxe(this,void 0,void 0,function*(){let t=this.network;return t==null&&(t=yield e.detectNetwork.call(this),t||z0.throwError("no network detected",se.errors.UNKNOWN_ERROR,{}),this._network==null&&(Pe(this,"_network",t),this.emit("network",t,null))),t})}}class Vl extends f4{constructor(e,t){z0.checkAbstract(new.target,Vl),e=ni(new.target,"getNetwork")(e),t=ni(new.target,"getApiKey")(t);const r=ni(new.target,"getUrl")(e,t);super(r,e),typeof t=="string"?Pe(this,"apiKey",t):t!=null&&Object.keys(t).forEach(i=>{Pe(this,i,t[i])})}_startPending(){z0.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return z0.throwError("API provider does not support signing",se.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return z0.throwError("not implemented; sub-classes must override getUrl",se.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const Dk=new se(Ti),C1="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class d4 extends Xw{constructor(e,t){const r=new Yw(e,t),i=r.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(i,r.network),Pe(this,"apiKey",r.apiKey)}isCommunityResource(){return this.apiKey===C1}}class Yw extends Vl{static getWebSocketProvider(e,t){return new d4(e,t)}static getApiKey(e){return e==null?C1:(e&&typeof e!="string"&&Dk.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.g.alchemy.com/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":r="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":r="arb-goerli.g.alchemy.com/v2/";break;case"optimism":r="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":r="opt-goerli.g.alchemy.com/v2/";break;default:Dk.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+r+t,throttleCallback:(i,s)=>(t===C1&&ev(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===C1}}const yxe=new se(Ti),Nx="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function xxe(n){switch(n){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return yxe.throwArgumentError("unsupported network","name",n)}class HG extends Vl{isCommunityResource(){return this.apiKey===Nx}static getApiKey(e){return e??Nx}static getUrl(e,t){t==null&&(t=Nx);const r={allowGzip:!0,url:"https://"+xxe(e.name)+t,throttleCallback:(i,s)=>(t.apiKey===Nx&&ev(),Promise.resolve(!0))};return t.projectSecret!=null&&(r.user="",r.password=t.projectSecret),r}}var bxe=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const Ok=new se(Ti);class jG extends Vl{static getApiKey(e){return e!=null&&Ok.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="https://cloudflare-eth.com/";break;default:Ok.throwArgumentError("unsupported network","network",arguments[0])}return r}perform(e,t){const r=Object.create(null,{perform:{get:()=>super.perform}});return bxe(this,void 0,void 0,function*(){return e==="getBlockNumber"?(yield r.perform.call(this,"getBlock",{blockTag:"latest"})).number:r.perform.call(this,e,t)})}}var Lx=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const _u=new se(Ti);function Fk(n){const e={};for(let t in n){if(n[t]==null)continue;let r=n[t];t==="type"&&r===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[t]?r=Xg(Je(r)):t==="accessList"?r="["+fc(r).map(i=>`{address:"${i.address}",storageKeys:["${i.storageKeys.join('","')}"]}`).join(",")+"]":r=Je(r),e[t]=r)}return e}function wxe(n){if(n.status==0&&(n.message==="No records found"||n.message==="No transactions found"))return n.result;if(n.status!=1||typeof n.message!="string"||!n.message.match(/^OK/)){const e=new Error("invalid response");throw e.result=JSON.stringify(n),(n.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return n.result}function Uk(n){if(n&&n.status==0&&n.message=="NOTOK"&&(n.result||"").toLowerCase().indexOf("rate limit")>=0){const e=new Error("throttled response");throw e.result=JSON.stringify(n),e.throttleRetry=!0,e}if(n.jsonrpc!="2.0"){const e=new Error("invalid response");throw e.result=JSON.stringify(n),e}if(n.error){const e=new Error(n.error.message||"unknown error");throw n.error.code&&(e.code=n.error.code),n.error.data&&(e.data=n.error.data),e}return n.result}function zk(n){if(n==="pending")throw new Error("pending not supported");return n==="latest"?n:parseInt(n.substring(2),16)}function fA(n,e,t){if(n==="call"&&e.code===se.errors.SERVER_ERROR){const i=e.error;if(i&&(i.message.match(/reverted/i)||i.message.match(/VM execution error/i))){let s=i.data;if(s&&(s="0x"+s.replace(/^.*0x/i,"")),Ft(s))return s;_u.throwError("missing revert data in call exception",se.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}let r=e.message;throw e.code===se.errors.SERVER_ERROR&&(e.error&&typeof e.error.message=="string"?r=e.error.message:typeof e.body=="string"?r=e.body:typeof e.responseText=="string"&&(r=e.responseText)),r=(r||"").toLowerCase(),r.match(/insufficient funds/)&&_u.throwError("insufficient funds for intrinsic transaction cost",se.errors.INSUFFICIENT_FUNDS,{error:e,method:n,transaction:t}),r.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&_u.throwError("nonce has already been used",se.errors.NONCE_EXPIRED,{error:e,method:n,transaction:t}),r.match(/another transaction with same nonce/)&&_u.throwError("replacement fee too low",se.errors.REPLACEMENT_UNDERPRICED,{error:e,method:n,transaction:t}),r.match(/execution failed due to an exception|execution reverted/)&&_u.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",se.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:n,transaction:t}),e}class VG extends $w{constructor(e,t){super(e),Pe(this,"baseUrl",this.getBaseUrl()),Pe(this,"apiKey",t||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return _u.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,t){const r=Object.keys(t).reduce((s,o)=>{const a=t[o];return a!=null&&(s+=`&${o}=${a}`),s},""),i=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${r}${i}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,r){return Lx(this,void 0,void 0,function*(){const i=r?this.getPostUrl():this.getUrl(e,t),s=r?this.getPostData(e,t):null,o=e==="proxy"?Uk:wxe;this.emit("debug",{action:"request",request:i,provider:this});const a={url:i,throttleSlotInterval:1e3,throttleCallback:(c,f)=>(this.isCommunityResource()&&ev(),Promise.resolve(!0))};let l=null;s&&(a.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},l=Object.keys(s).map(c=>`${c}=${s[c]}`).join("&"));const u=yield Ep(a,l,o||Uk);return this.emit("debug",{action:"response",request:i,response:Ui(u),provider:this}),u})}detectNetwork(){return Lx(this,void 0,void 0,function*(){return this.network})}perform(e,t){const r=Object.create(null,{perform:{get:()=>super.perform}});return Lx(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch(i=>fA("sendTransaction",i,t.signedTransaction));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if(t.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const i=Fk(t.transaction);i.module="proxy",i.action="eth_call";try{return yield this.fetch("proxy",i,!0)}catch(s){return fA("call",s,t.transaction)}}case"estimateGas":{const i=Fk(t.transaction);i.module="proxy",i.action="eth_estimateGas";try{return yield this.fetch("proxy",i,!0)}catch(s){return fA("estimateGas",s,t.transaction)}}case"getLogs":{const i={action:"getLogs"};if(t.filter.fromBlock&&(i.fromBlock=zk(t.filter.fromBlock)),t.filter.toBlock&&(i.toBlock=zk(t.filter.toBlock)),t.filter.address&&(i.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&_u.throwError("unsupported topic count",se.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),t.filter.topics.length===1)){const a=t.filter.topics[0];(typeof a!="string"||a.length!==66)&&_u.throwError("unsupported topic format",se.errors.UNSUPPORTED_OPERATION,{topic0:a}),i.topic0=a}const s=yield this.fetch("logs",i);let o={};for(let a=0;a<s.length;a++){const l=s[a];if(l.blockHash==null){if(o[l.blockNumber]==null){const u=yield this.getBlock(l.blockNumber);u&&(o[l.blockNumber]=u.hash)}l.blockHash=o[l.blockNumber]}}return s}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return r.perform.call(this,e,t)})}getHistory(e,t,r){return Lx(this,void 0,void 0,function*(){const i={action:"txlist",address:yield this.resolveName(e),startblock:t??0,endblock:r??99999999,sort:"asc"};return(yield this.fetch("account",i)).map(o=>{["contractAddress","to"].forEach(function(l){o[l]==""&&delete o[l]}),o.creates==null&&o.contractAddress!=null&&(o.creates=o.contractAddress);const a=this.formatter.transactionResponse(o);return o.timeStamp&&(a.timestamp=parseInt(o.timeStamp)),a})})}isCommunityResource(){return this.apiKey==null}}var Nb=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const Vc=new se(Ti);function Dx(){return new Date().getTime()}function Gk(n){let e=null;for(let t=0;t<n.length;t++){const r=n[t];if(r==null)return null;e?e.name===r.name&&e.chainId===r.chainId&&(e.ensAddress===r.ensAddress||e.ensAddress==null&&r.ensAddress==null)||Vc.throwArgumentError("provider mismatch","networks",n):e=r}return e}function Hk(n,e){n=n.slice().sort();const t=Math.floor(n.length/2);if(n.length%2)return n[t];const r=n[t-1],i=n[t];return e!=null&&Math.abs(r-i)>e?null:(r+i)/2}function sh(n){if(n===null)return"null";if(typeof n=="number"||typeof n=="boolean")return JSON.stringify(n);if(typeof n=="string")return n;if(We.isBigNumber(n))return n.toString();if(Array.isArray(n))return JSON.stringify(n.map(e=>sh(e)));if(typeof n=="object"){const e=Object.keys(n);return e.sort(),"{"+e.map(t=>{let r=n[t];return typeof r=="function"?r="[function]":r=sh(r),JSON.stringify(t)+":"+r}).join(",")+"}"}throw new Error("unknown value type: "+typeof n)}let _xe=1;function jk(n){let e=null,t=null,r=new Promise(o=>{e=function(){t&&(clearTimeout(t),t=null),o()},t=setTimeout(e,n)});const i=o=>(r=r.then(o),r);function s(){return r}return{cancel:e,getPromise:s,wait:i}}const Axe=[se.errors.CALL_EXCEPTION,se.errors.INSUFFICIENT_FUNDS,se.errors.NONCE_EXPIRED,se.errors.REPLACEMENT_UNDERPRICED,se.errors.UNPREDICTABLE_GAS_LIMIT],Sxe=["address","args","errorArgs","errorSignature","method","transaction"];function Ox(n,e){const t={weight:n.weight};return Object.defineProperty(t,"provider",{get:()=>n.provider}),n.start&&(t.start=n.start),e&&(t.duration=e-n.start),n.done&&(n.error?t.error=n.error:t.result=n.result||null),t}function Exe(n,e){return function(t){const r={};t.forEach(s=>{const o=n(s.result);r[o]||(r[o]={count:0,result:s.result}),r[o].count++});const i=Object.keys(r);for(let s=0;s<i.length;s++){const o=r[i[s]];if(o.count>=e)return o.result}}}function Cxe(n,e,t){let r=sh;switch(e){case"getBlockNumber":return function(i){const s=i.map(a=>a.result);let o=Hk(i.map(a=>a.result),2);if(o!=null)return o=Math.ceil(o),s.indexOf(o+1)>=0&&o++,o>=n._highestBlockNumber&&(n._highestBlockNumber=o),n._highestBlockNumber};case"getGasPrice":return function(i){const s=i.map(o=>o.result);return s.sort(),s[Math.floor(s.length/2)]};case"getEtherPrice":return function(i){return Hk(i.map(s=>s.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":r=function(i){return i==null?null:(i=Bn(i),i.confirmations=-1,sh(i))};break;case"getBlock":t.includeTransactions?r=function(i){return i==null?null:(i=Bn(i),i.transactions=i.transactions.map(s=>(s=Bn(s),s.confirmations=-1,s)),sh(i))}:r=function(i){return i==null?null:sh(i)};break;default:throw new Error("unknown method: "+e)}return Exe(r,n.quorum)}function E0(n,e){return Nb(this,void 0,void 0,function*(){const t=n.provider;return t.blockNumber!=null&&t.blockNumber>=e||e===-1?t:rf(()=>new Promise((r,i)=>{setTimeout(function(){return t.blockNumber>=e?r(t):n.cancelled?r(null):r(void 0)},0)}),{oncePoll:t})})}function Mxe(n,e,t,r){return Nb(this,void 0,void 0,function*(){let i=n.provider;switch(t){case"getBlockNumber":case"getGasPrice":return i[t]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return r.blockTag&&Ft(r.blockTag)&&(i=yield E0(n,e)),i[t](r.address,r.blockTag||"latest");case"getStorageAt":return r.blockTag&&Ft(r.blockTag)&&(i=yield E0(n,e)),i.getStorageAt(r.address,r.position,r.blockTag||"latest");case"getBlock":return r.blockTag&&Ft(r.blockTag)&&(i=yield E0(n,e)),i[r.includeTransactions?"getBlockWithTransactions":"getBlock"](r.blockTag||r.blockHash);case"call":case"estimateGas":return r.blockTag&&Ft(r.blockTag)&&(i=yield E0(n,e)),t==="call"&&r.blockTag?i[t](r.transaction,r.blockTag):i[t](r.transaction);case"getTransaction":case"getTransactionReceipt":return i[t](r.transactionHash);case"getLogs":{let s=r.filter;return(s.fromBlock&&Ft(s.fromBlock)||s.toBlock&&Ft(s.toBlock))&&(i=yield E0(n,e)),i.getLogs(s)}}return Vc.throwError("unknown method error",se.errors.UNKNOWN_ERROR,{method:t,params:r})})}class h4 extends $w{constructor(e,t){e.length===0&&Vc.throwArgumentError("missing providers","providers",e);const r=e.map((o,a)=>{if(Kf.isProvider(o)){const c=PC(o)?2e3:750;return Object.freeze({provider:o,weight:1,stallTimeout:c,priority:1})}const l=Bn(o);l.priority==null&&(l.priority=1),l.stallTimeout==null&&(l.stallTimeout=PC(o)?2e3:750),l.weight==null&&(l.weight=1);const u=l.weight;return(u%1||u>512||u<1)&&Vc.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${a}].weight`,u),Object.freeze(l)}),i=r.reduce((o,a)=>o+a.weight,0);t==null?t=i/2:t>i&&Vc.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let s=Gk(r.map(o=>o.provider.network));s==null&&(s=new Promise((o,a)=>{setTimeout(()=>{this.detectNetwork().then(o,a)},0)})),super(s),Pe(this,"providerConfigs",Object.freeze(r)),Pe(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return Nb(this,void 0,void 0,function*(){const e=yield Promise.all(this.providerConfigs.map(t=>t.provider.getNetwork()));return Gk(e)})}perform(e,t){return Nb(this,void 0,void 0,function*(){if(e==="sendTransaction"){const l=yield Promise.all(this.providerConfigs.map(u=>u.provider.sendTransaction(t.signedTransaction).then(c=>c.hash,c=>c)));for(let u=0;u<l.length;u++){const c=l[u];if(typeof c=="string")return c}throw l[0]}this._highestBlockNumber===-1&&e!=="getBlockNumber"&&(yield this.getBlockNumber());const r=Cxe(this,e,t),i=AG(this.providerConfigs.map(Bn));i.sort((l,u)=>l.priority-u.priority);const s=this._highestBlockNumber;let o=0,a=!0;for(;;){const l=Dx();let u=i.filter(m=>m.runner&&l-m.start<m.stallTimeout).reduce((m,y)=>m+y.weight,0);for(;u<this.quorum&&o<i.length;){const m=i[o++],y=_xe++;m.start=Dx(),m.staller=jk(m.stallTimeout),m.staller.wait(()=>{m.staller=null}),m.runner=Mxe(m,s,e,t).then(g=>{m.done=!0,m.result=g,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:y,backend:Ox(m,Dx()),request:{method:e,params:Ui(t)},provider:this})},g=>{m.done=!0,m.error=g,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:y,backend:Ox(m,Dx()),request:{method:e,params:Ui(t)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:y,backend:Ox(m,null),request:{method:e,params:Ui(t)},provider:this}),u+=m.weight}const c=[];i.forEach(m=>{m.done||!m.runner||(c.push(m.runner),m.staller&&c.push(m.staller.getPromise()))}),c.length&&(yield Promise.race(c));const f=i.filter(m=>m.done&&m.error==null);if(f.length>=this.quorum){const m=r(f);if(m!==void 0)return i.forEach(y=>{y.staller&&y.staller.cancel(),y.cancelled=!0}),m;a||(yield jk(100).getPromise()),a=!1}const d=i.reduce((m,y)=>{if(!y.done||y.error==null)return m;const g=y.error.code;return Axe.indexOf(g)>=0&&(m[g]||(m[g]={error:y.error,weight:0}),m[g].weight+=y.weight),m},{});if(Object.keys(d).forEach(m=>{const y=d[m];if(y.weight<this.quorum)return;i.forEach(x=>{x.staller&&x.staller.cancel(),x.cancelled=!0});const g=y.error,v={};Sxe.forEach(x=>{g[x]!=null&&(v[x]=g[x])}),Vc.throwError(g.reason||g.message,m,v)}),i.filter(m=>!m.done).length===0)break}return i.forEach(l=>{l.staller&&l.staller.cancel(),l.cancelled=!0}),Vc.throwError("failed to meet quorum",se.errors.SERVER_ERROR,{method:e,params:t,results:i.map(l=>Ox(l)),provider:this})})}}const WG=null,M1=new se(Ti),G0="84842078b09946638c03157f83405213";class p4 extends Xw{constructor(e,t){const r=new Qw(e,t),i=r.connection;i.password&&M1.throwError("INFURA WebSocket project secrets unsupported",se.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const s=i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(s,e),Pe(this,"apiKey",r.projectId),Pe(this,"projectId",r.projectId),Pe(this,"projectSecret",r.projectSecret)}isCommunityResource(){return this.projectId===G0}}class Qw extends Vl{static getWebSocketProvider(e,t){return new p4(e,t)}static getApiKey(e){const t={apiKey:G0,projectId:G0,projectSecret:null};return e==null||(typeof e=="string"?t.projectId=e:e.projectSecret!=null?(M1.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),M1.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"goerli":r="goerli.infura.io";break;case"sepolia":r="sepolia.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;case"optimism":r="optimism-mainnet.infura.io";break;case"optimism-goerli":r="optimism-goerli.infura.io";break;case"arbitrum":r="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":r="arbitrum-goerli.infura.io";break;default:M1.throwError("unsupported network",se.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i={allowGzip:!0,url:"https://"+r+"/v3/"+t.projectId,throttleCallback:(s,o)=>(t.projectId===G0&&ev(),Promise.resolve(!0))};return t.projectSecret!=null&&(i.user="",i.password=t.projectSecret),i}isCommunityResource(){return this.projectId===G0}}class Txe extends Of{send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch==null&&(this._pendingBatch=[]);const i={request:r,resolve:null,reject:null},s=new Promise((o,a)=>{i.resolve=o,i.reject=a});return this._pendingBatch.push(i),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{const o=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const a=o.map(l=>l.request);return this.emit("debug",{action:"requestBatch",request:Ui(a),provider:this}),Ep(this.connection,JSON.stringify(a)).then(l=>{this.emit("debug",{action:"response",request:a,response:l,provider:this}),o.forEach((u,c)=>{const f=l[c];if(f.error){const d=new Error(f.error.message);d.code=f.error.code,d.data=f.error.data,u.reject(d)}else u.resolve(f.result)})},l=>{this.emit("debug",{action:"response",error:l,request:a,provider:this}),o.forEach(u=>{u.reject(l)})})},10)),s}}const dA=new se(Ti),Pxe="ETHERS_JS_SHARED";class qG extends Vl{static getApiKey(e){return e&&typeof e!="string"&&dA.throwArgumentError("invalid apiKey","apiKey",e),e||Pxe}static getUrl(e,t){dA.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let r=null;switch(e.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:dA.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+t}}const Vk=new se(Ti),Wk="62e1ad51b37b8e00394bda3b";class KG extends Vl{static getApiKey(e){const t={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return e==null?t.applicationId=Wk:typeof e=="string"?t.applicationId=e:e.applicationSecretKey!=null?(t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey):e.applicationId?t.applicationId=e.applicationId:Vk.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"goerli":r="eth-goerli.gateway.pokt.network";break;case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"kovan":r="poa-kovan.gateway.pokt.network";break;case"matic":r="poly-mainnet.gateway.pokt.network";break;case"maticmum":r="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;default:Vk.throwError("unsupported network",se.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const i=`https://${r}/v1/lb/${t.applicationId}`,s={headers:{},url:i};return t.applicationSecretKey!=null&&(s.user="",s.password=t.applicationSecretKey),s}isCommunityResource(){return this.applicationId===Wk}}const qk=new se(Ti);let Ixe=1;function Kk(n,e){const t="Web3LegacyFetcher";return function(r,i){const s={method:r,params:i,id:Ixe++,jsonrpc:"2.0"};return new Promise((o,a)=>{this.emit("debug",{action:"request",fetcher:t,request:Ui(s),provider:this}),e(s,(l,u)=>{if(l)return this.emit("debug",{action:"response",fetcher:t,error:l,request:s,provider:this}),a(l);if(this.emit("debug",{action:"response",fetcher:t,request:s,response:u,provider:this}),u.error){const c=new Error(u.error.message);return c.code=u.error.code,c.data=u.error.data,a(c)}o(u.result)})})}}function Rxe(n){return function(e,t){t==null&&(t=[]);const r={method:e,params:t};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Ui(r),provider:this}),n.request(r).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:r,error:i,provider:this}),i})}}class Ff extends Of{constructor(e,t){e==null&&qk.throwArgumentError("missing provider","provider",e);let r=null,i=null,s=null;typeof e=="function"?(r="unknown:",i=e):(r=e.host||e.path||"",!r&&e.isMetaMask&&(r="metamask"),s=e,e.request?(r===""&&(r="eip-1193:"),i=Rxe(e)):e.sendAsync?i=Kk(e,e.sendAsync.bind(e)):e.send?i=Kk(e,e.send.bind(e)):qk.throwArgumentError("unsupported provider","provider",e),r||(r="unknown:")),super(r,t),Pe(this,"jsonRpcFetchFunc",i),Pe(this,"provider",s)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}const Jk=new se(Ti);function Bxe(n,e){if(n==null&&(n="homestead"),typeof n=="string"){const r=n.match(/^(ws|http)s?:/i);if(r)switch(r[1].toLowerCase()){case"http":case"https":return new Of(n);case"ws":case"wss":return new Xw(n);default:Jk.throwArgumentError("unsupported URL scheme","network",n)}}const t=u4(n);return(!t||!t._defaultProvider)&&Jk.throwError("unsupported getDefaultProvider network",se.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:n}),t._defaultProvider({FallbackProvider:h4,AlchemyProvider:Yw,AnkrProvider:HG,CloudflareProvider:jG,EtherscanProvider:VG,InfuraProvider:Qw,JsonRpcProvider:Of,NodesmithProvider:qG,PocketProvider:KG,Web3Provider:Ff,IpcProvider:WG},e)}const kxe=Object.freeze(Object.defineProperty({__proto__:null,Provider:Kf,BaseProvider:$w,Resolver:IC,UrlJsonRpcProvider:Vl,FallbackProvider:h4,AlchemyProvider:Yw,AlchemyWebSocketProvider:d4,AnkrProvider:HG,CloudflareProvider:jG,EtherscanProvider:VG,InfuraProvider:Qw,InfuraWebSocketProvider:p4,JsonRpcProvider:Of,JsonRpcBatchProvider:Txe,NodesmithProvider:qG,PocketProvider:KG,StaticJsonRpcProvider:f4,Web3Provider:Ff,WebSocketProvider:Xw,IpcProvider:WG,JsonRpcSigner:c4,getDefaultProvider:Bxe,getNetwork:u4,isCommunityResource:PC,isCommunityResourcable:FG,showThrottleMessage:ev,Formatter:dt},Symbol.toStringTag,{value:"Module"})),Nxe="solidity/5.7.0",Lxe=new RegExp("^bytes([0-9]+)$"),Dxe=new RegExp("^(u?int)([0-9]*)$"),Oxe=new RegExp("^(.*)\\[([0-9]*)\\]$"),Fxe="0000000000000000000000000000000000000000000000000000000000000000",Dd=new se(Nxe);function JG(n,e,t){switch(n){case"address":return t?im(e,32):qe(e);case"string":return gr(e);case"bytes":return qe(e);case"bool":return e=e?"0x01":"0x00",t?im(e,32):qe(e)}let r=n.match(Dxe);if(r){let i=parseInt(r[2]||"256");return(r[2]&&String(i)!==r[2]||i%8!==0||i===0||i>256)&&Dd.throwArgumentError("invalid number type","type",n),t&&(i=256),e=We.from(e).toTwos(i),im(e,i/8)}if(r=n.match(Lxe),r){const i=parseInt(r[1]);return(String(i)!==r[1]||i===0||i>32)&&Dd.throwArgumentError("invalid bytes type","type",n),qe(e).byteLength!==i&&Dd.throwArgumentError(`invalid value for ${n}`,"value",e),t?qe((e+Fxe).substring(0,66)):e}if(r=n.match(Oxe),r&&Array.isArray(e)){const i=r[1];parseInt(r[2]||String(e.length))!=e.length&&Dd.throwArgumentError(`invalid array length for ${n}`,"value",e);const o=[];return e.forEach(function(a){o.push(JG(i,a,!0))}),Pn(o)}return Dd.throwArgumentError("invalid type","type",n)}function m4(n,e){n.length!=e.length&&Dd.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const t=[];return n.forEach(function(r,i){t.push(JG(r,e[i]))}),Je(Pn(t))}function Uxe(n,e){return An(m4(n,e))}function zxe(n,e){return Il(m4(n,e))}const Gxe=Object.freeze(Object.defineProperty({__proto__:null,pack:m4,keccak256:Uxe,sha256:zxe},Symbol.toStringTag,{value:"Module"})),Hxe="units/5.7.0",$G=new se(Hxe),XG=["wei","kwei","mwei","gwei","szabo","finney","ether"];function jxe(n){const e=String(n).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||n==="."||n==="-.")&&$G.throwArgumentError("invalid value","value",n);let t=e[0],r="";for(t.substring(0,1)==="-"&&(r="-",t=t.substring(1));t.substring(0,1)==="0";)t=t.substring(1);t===""&&(t="0");let i="";for(e.length===2&&(i="."+(e[1]||"0"));i.length>2&&i[i.length-1]==="0";)i=i.substring(0,i.length-1);const s=[];for(;t.length;)if(t.length<=3){s.unshift(t);break}else{const o=t.length-3;s.unshift(t.substring(o)),t=t.substring(0,o)}return r+s.join(",")+i}function YG(n,e){if(typeof e=="string"){const t=XG.indexOf(e);t!==-1&&(e=3*t)}return am(n,e??18)}function QG(n,e){if(typeof n!="string"&&$G.throwArgumentError("value must be a string","value",n),typeof e=="string"){const t=XG.indexOf(e);t!==-1&&(e=3*t)}return Mo(n,e??18)}function Vxe(n){return YG(n,18)}function Wxe(n){return QG(n,18)}const qxe=Object.freeze(Object.defineProperty({__proto__:null,commify:jxe,formatUnits:YG,parseUnits:QG,formatEther:Vxe,parseEther:Wxe},Symbol.toStringTag,{value:"Module"}));var mr={};const Kxe=Cn(ege),Jxe=Cn(N0e),$xe=Cn(yme),Xxe=Cn(cye),Yxe=Cn(c0e),Qxe=Cn(Yme),Zxe=Cn(Eye),e1e=Cn(Oye),t1e=Cn(E0e),ZG=Cn(l0e),$k=Cn(pye),n1e=Cn(Gxe),r1e=Cn(Tye),i1e=Cn(y0e),s1e=Cn(M0e),o1e=Cn(qve),Xk=Cn(pme),a1e=Cn(eye),l1e=Cn(qxe),eH=Cn(jye),u1e=Cn(Yye);(function(n){var e=Yi&&Yi.__createBinding||(Object.create?function(q,ne,H,_){_===void 0&&(_=H),Object.defineProperty(q,_,{enumerable:!0,get:function(){return ne[H]}})}:function(q,ne,H,_){_===void 0&&(_=H),q[_]=ne[H]}),t=Yi&&Yi.__setModuleDefault||(Object.create?function(q,ne){Object.defineProperty(q,"default",{enumerable:!0,value:ne})}:function(q,ne){q.default=ne}),r=Yi&&Yi.__importStar||function(q){if(q&&q.__esModule)return q;var ne={};if(q!=null)for(var H in q)H!=="default"&&Object.prototype.hasOwnProperty.call(q,H)&&e(ne,q,H);return t(ne,q),ne};Object.defineProperty(n,"__esModule",{value:!0}),n.formatBytes32String=n.Utf8ErrorFuncs=n.toUtf8String=n.toUtf8CodePoints=n.toUtf8Bytes=n._toEscapedUtf8String=n.nameprep=n.hexDataSlice=n.hexDataLength=n.hexZeroPad=n.hexValue=n.hexStripZeros=n.hexConcat=n.isHexString=n.hexlify=n.base64=n.base58=n.TransactionDescription=n.LogDescription=n.Interface=n.SigningKey=n.HDNode=n.defaultPath=n.isBytesLike=n.isBytes=n.zeroPad=n.stripZeros=n.concat=n.arrayify=n.shallowCopy=n.resolveProperties=n.getStatic=n.defineReadOnly=n.deepCopy=n.checkProperties=n.poll=n.fetchJson=n._fetchData=n.RLP=n.Logger=n.checkResultErrors=n.FormatTypes=n.ParamType=n.FunctionFragment=n.EventFragment=n.ErrorFragment=n.ConstructorFragment=n.Fragment=n.defaultAbiCoder=n.AbiCoder=void 0,n.Indexed=n.Utf8ErrorReason=n.UnicodeNormalizationForm=n.SupportedAlgorithm=n.mnemonicToSeed=n.isValidMnemonic=n.entropyToMnemonic=n.mnemonicToEntropy=n.getAccountPath=n.verifyTypedData=n.verifyMessage=n.recoverPublicKey=n.computePublicKey=n.recoverAddress=n.computeAddress=n.getJsonWalletAddress=n.TransactionTypes=n.serializeTransaction=n.parseTransaction=n.accessListify=n.joinSignature=n.splitSignature=n.soliditySha256=n.solidityKeccak256=n.solidityPack=n.shuffled=n.randomBytes=n.sha512=n.sha256=n.ripemd160=n.keccak256=n.computeHmac=n.commify=n.parseUnits=n.formatUnits=n.parseEther=n.formatEther=n.isAddress=n.getCreate2Address=n.getContractAddress=n.getIcapAddress=n.getAddress=n._TypedDataEncoder=n.id=n.isValidName=n.namehash=n.hashMessage=n.dnsEncode=n.parseBytes32String=void 0;var i=Kxe;Object.defineProperty(n,"AbiCoder",{enumerable:!0,get:function(){return i.AbiCoder}}),Object.defineProperty(n,"checkResultErrors",{enumerable:!0,get:function(){return i.checkResultErrors}}),Object.defineProperty(n,"ConstructorFragment",{enumerable:!0,get:function(){return i.ConstructorFragment}}),Object.defineProperty(n,"defaultAbiCoder",{enumerable:!0,get:function(){return i.defaultAbiCoder}}),Object.defineProperty(n,"ErrorFragment",{enumerable:!0,get:function(){return i.ErrorFragment}}),Object.defineProperty(n,"EventFragment",{enumerable:!0,get:function(){return i.EventFragment}}),Object.defineProperty(n,"FormatTypes",{enumerable:!0,get:function(){return i.FormatTypes}}),Object.defineProperty(n,"Fragment",{enumerable:!0,get:function(){return i.Fragment}}),Object.defineProperty(n,"FunctionFragment",{enumerable:!0,get:function(){return i.FunctionFragment}}),Object.defineProperty(n,"Indexed",{enumerable:!0,get:function(){return i.Indexed}}),Object.defineProperty(n,"Interface",{enumerable:!0,get:function(){return i.Interface}}),Object.defineProperty(n,"LogDescription",{enumerable:!0,get:function(){return i.LogDescription}}),Object.defineProperty(n,"ParamType",{enumerable:!0,get:function(){return i.ParamType}}),Object.defineProperty(n,"TransactionDescription",{enumerable:!0,get:function(){return i.TransactionDescription}});var s=Jxe;Object.defineProperty(n,"getAddress",{enumerable:!0,get:function(){return s.getAddress}}),Object.defineProperty(n,"getCreate2Address",{enumerable:!0,get:function(){return s.getCreate2Address}}),Object.defineProperty(n,"getContractAddress",{enumerable:!0,get:function(){return s.getContractAddress}}),Object.defineProperty(n,"getIcapAddress",{enumerable:!0,get:function(){return s.getIcapAddress}}),Object.defineProperty(n,"isAddress",{enumerable:!0,get:function(){return s.isAddress}});var o=r($xe);n.base64=o;var a=Xxe;Object.defineProperty(n,"base58",{enumerable:!0,get:function(){return a.Base58}});var l=Yxe;Object.defineProperty(n,"arrayify",{enumerable:!0,get:function(){return l.arrayify}}),Object.defineProperty(n,"concat",{enumerable:!0,get:function(){return l.concat}}),Object.defineProperty(n,"hexConcat",{enumerable:!0,get:function(){return l.hexConcat}}),Object.defineProperty(n,"hexDataSlice",{enumerable:!0,get:function(){return l.hexDataSlice}}),Object.defineProperty(n,"hexDataLength",{enumerable:!0,get:function(){return l.hexDataLength}}),Object.defineProperty(n,"hexlify",{enumerable:!0,get:function(){return l.hexlify}}),Object.defineProperty(n,"hexStripZeros",{enumerable:!0,get:function(){return l.hexStripZeros}}),Object.defineProperty(n,"hexValue",{enumerable:!0,get:function(){return l.hexValue}}),Object.defineProperty(n,"hexZeroPad",{enumerable:!0,get:function(){return l.hexZeroPad}}),Object.defineProperty(n,"isBytes",{enumerable:!0,get:function(){return l.isBytes}}),Object.defineProperty(n,"isBytesLike",{enumerable:!0,get:function(){return l.isBytesLike}}),Object.defineProperty(n,"isHexString",{enumerable:!0,get:function(){return l.isHexString}}),Object.defineProperty(n,"joinSignature",{enumerable:!0,get:function(){return l.joinSignature}}),Object.defineProperty(n,"zeroPad",{enumerable:!0,get:function(){return l.zeroPad}}),Object.defineProperty(n,"splitSignature",{enumerable:!0,get:function(){return l.splitSignature}}),Object.defineProperty(n,"stripZeros",{enumerable:!0,get:function(){return l.stripZeros}});var u=Qxe;Object.defineProperty(n,"_TypedDataEncoder",{enumerable:!0,get:function(){return u._TypedDataEncoder}}),Object.defineProperty(n,"dnsEncode",{enumerable:!0,get:function(){return u.dnsEncode}}),Object.defineProperty(n,"hashMessage",{enumerable:!0,get:function(){return u.hashMessage}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return u.id}}),Object.defineProperty(n,"isValidName",{enumerable:!0,get:function(){return u.isValidName}}),Object.defineProperty(n,"namehash",{enumerable:!0,get:function(){return u.namehash}});var c=Zxe;Object.defineProperty(n,"defaultPath",{enumerable:!0,get:function(){return c.defaultPath}}),Object.defineProperty(n,"entropyToMnemonic",{enumerable:!0,get:function(){return c.entropyToMnemonic}}),Object.defineProperty(n,"getAccountPath",{enumerable:!0,get:function(){return c.getAccountPath}}),Object.defineProperty(n,"HDNode",{enumerable:!0,get:function(){return c.HDNode}}),Object.defineProperty(n,"isValidMnemonic",{enumerable:!0,get:function(){return c.isValidMnemonic}}),Object.defineProperty(n,"mnemonicToEntropy",{enumerable:!0,get:function(){return c.mnemonicToEntropy}}),Object.defineProperty(n,"mnemonicToSeed",{enumerable:!0,get:function(){return c.mnemonicToSeed}});var f=e1e;Object.defineProperty(n,"getJsonWalletAddress",{enumerable:!0,get:function(){return f.getJsonWalletAddress}});var d=t1e;Object.defineProperty(n,"keccak256",{enumerable:!0,get:function(){return d.keccak256}});var m=ZG;Object.defineProperty(n,"Logger",{enumerable:!0,get:function(){return m.Logger}});var y=$k;Object.defineProperty(n,"computeHmac",{enumerable:!0,get:function(){return y.computeHmac}}),Object.defineProperty(n,"ripemd160",{enumerable:!0,get:function(){return y.ripemd160}}),Object.defineProperty(n,"sha256",{enumerable:!0,get:function(){return y.sha256}}),Object.defineProperty(n,"sha512",{enumerable:!0,get:function(){return y.sha512}});var g=n1e;Object.defineProperty(n,"solidityKeccak256",{enumerable:!0,get:function(){return g.keccak256}}),Object.defineProperty(n,"solidityPack",{enumerable:!0,get:function(){return g.pack}}),Object.defineProperty(n,"soliditySha256",{enumerable:!0,get:function(){return g.sha256}});var v=r1e;Object.defineProperty(n,"randomBytes",{enumerable:!0,get:function(){return v.randomBytes}}),Object.defineProperty(n,"shuffled",{enumerable:!0,get:function(){return v.shuffled}});var x=i1e;Object.defineProperty(n,"checkProperties",{enumerable:!0,get:function(){return x.checkProperties}}),Object.defineProperty(n,"deepCopy",{enumerable:!0,get:function(){return x.deepCopy}}),Object.defineProperty(n,"defineReadOnly",{enumerable:!0,get:function(){return x.defineReadOnly}}),Object.defineProperty(n,"getStatic",{enumerable:!0,get:function(){return x.getStatic}}),Object.defineProperty(n,"resolveProperties",{enumerable:!0,get:function(){return x.resolveProperties}}),Object.defineProperty(n,"shallowCopy",{enumerable:!0,get:function(){return x.shallowCopy}});var w=r(s1e);n.RLP=w;var b=o1e;Object.defineProperty(n,"computePublicKey",{enumerable:!0,get:function(){return b.computePublicKey}}),Object.defineProperty(n,"recoverPublicKey",{enumerable:!0,get:function(){return b.recoverPublicKey}}),Object.defineProperty(n,"SigningKey",{enumerable:!0,get:function(){return b.SigningKey}});var A=Xk;Object.defineProperty(n,"formatBytes32String",{enumerable:!0,get:function(){return A.formatBytes32String}}),Object.defineProperty(n,"nameprep",{enumerable:!0,get:function(){return A.nameprep}}),Object.defineProperty(n,"parseBytes32String",{enumerable:!0,get:function(){return A.parseBytes32String}}),Object.defineProperty(n,"_toEscapedUtf8String",{enumerable:!0,get:function(){return A._toEscapedUtf8String}}),Object.defineProperty(n,"toUtf8Bytes",{enumerable:!0,get:function(){return A.toUtf8Bytes}}),Object.defineProperty(n,"toUtf8CodePoints",{enumerable:!0,get:function(){return A.toUtf8CodePoints}}),Object.defineProperty(n,"toUtf8String",{enumerable:!0,get:function(){return A.toUtf8String}}),Object.defineProperty(n,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return A.Utf8ErrorFuncs}});var M=a1e;Object.defineProperty(n,"accessListify",{enumerable:!0,get:function(){return M.accessListify}}),Object.defineProperty(n,"computeAddress",{enumerable:!0,get:function(){return M.computeAddress}}),Object.defineProperty(n,"parseTransaction",{enumerable:!0,get:function(){return M.parse}}),Object.defineProperty(n,"recoverAddress",{enumerable:!0,get:function(){return M.recoverAddress}}),Object.defineProperty(n,"serializeTransaction",{enumerable:!0,get:function(){return M.serialize}}),Object.defineProperty(n,"TransactionTypes",{enumerable:!0,get:function(){return M.TransactionTypes}});var I=l1e;Object.defineProperty(n,"commify",{enumerable:!0,get:function(){return I.commify}}),Object.defineProperty(n,"formatEther",{enumerable:!0,get:function(){return I.formatEther}}),Object.defineProperty(n,"parseEther",{enumerable:!0,get:function(){return I.parseEther}}),Object.defineProperty(n,"formatUnits",{enumerable:!0,get:function(){return I.formatUnits}}),Object.defineProperty(n,"parseUnits",{enumerable:!0,get:function(){return I.parseUnits}});var D=eH;Object.defineProperty(n,"verifyMessage",{enumerable:!0,get:function(){return D.verifyMessage}}),Object.defineProperty(n,"verifyTypedData",{enumerable:!0,get:function(){return D.verifyTypedData}});var P=u1e;Object.defineProperty(n,"_fetchData",{enumerable:!0,get:function(){return P._fetchData}}),Object.defineProperty(n,"fetchJson",{enumerable:!0,get:function(){return P.fetchJson}}),Object.defineProperty(n,"poll",{enumerable:!0,get:function(){return P.poll}});var O=$k;Object.defineProperty(n,"SupportedAlgorithm",{enumerable:!0,get:function(){return O.SupportedAlgorithm}});var V=Xk;Object.defineProperty(n,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return V.UnicodeNormalizationForm}}),Object.defineProperty(n,"Utf8ErrorReason",{enumerable:!0,get:function(){return V.Utf8ErrorReason}})})(mr);var tH={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,f||l,d),y=t?t+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],m]:l._events[y].push(m):(l._events[y]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(t?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=t?t+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,m=f.length,y=new Array(m);d<m;d++)y[d]=f[d].fn;return y},a.prototype.listenerCount=function(u){var c=t?t+u:u,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,c,f,d,m,y){var g=t?t+u:u;if(!this._events[g])return!1;var v=this._events[g],x=arguments.length,w,b;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,f),!0;case 4:return v.fn.call(v.context,c,f,d),!0;case 5:return v.fn.call(v.context,c,f,d,m),!0;case 6:return v.fn.call(v.context,c,f,d,m,y),!0}for(b=1,w=new Array(x-1);b<x;b++)w[b-1]=arguments[b];v.fn.apply(v.context,w)}else{var A=v.length,M;for(b=0;b<A;b++)switch(v[b].once&&this.removeListener(u,v[b].fn,void 0,!0),x){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,c);break;case 3:v[b].fn.call(v[b].context,c,f);break;case 4:v[b].fn.call(v[b].context,c,f,d);break;default:if(!w)for(M=1,w=new Array(x-1);M<x;M++)w[M-1]=arguments[M];v[b].fn.apply(v[b].context,w)}}return!0},a.prototype.on=function(u,c,f){return s(this,u,c,f,!1)},a.prototype.once=function(u,c,f){return s(this,u,c,f,!0)},a.prototype.removeListener=function(u,c,f,d){var m=t?t+u:u;if(!this._events[m])return this;if(!c)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===c&&(!d||y.once)&&(!f||y.context===f)&&o(this,m);else{for(var g=0,v=[],x=y.length;g<x;g++)(y[g].fn!==c||d&&!y[g].once||f&&y[g].context!==f)&&v.push(y[g]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=t?t+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a})(tH);const c1e=tH.exports,f1e="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC",nH="84842078b09946638c03157f83405213",Ds={mainnet:"https://eth-mainnet.alchemyapi.io/v2",ropsten:"https://eth-ropsten.alchemyapi.io/v2",rinkeby:"https://eth-rinkeby.alchemyapi.io/v2",goerli:"https://eth-goerli.alchemyapi.io/v2",kovan:"https://eth-kovan.alchemyapi.io/v2",optimism:"https://opt-mainnet.g.alchemy.com/v2",optimismKovan:"https://opt-kovan.g.alchemy.com/v2",optimismGoerli:"https://opt-goerli.g.alchemy.com/v2",polygon:"https://polygon-mainnet.g.alchemy.com/v2",polygonMumbai:"https://polygon-mumbai.g.alchemy.com/v2",arbitrum:"https://arb-mainnet.g.alchemy.com/v2",arbitrumRinkeby:"https://arb-rinkeby.g.alchemy.com/v2",arbitrumGoerli:"https://arb-goerli.g.alchemy.com/v2"},ji={mainnet:"https://mainnet.infura.io/v3",ropsten:"https://ropsten.infura.io/v3",rinkeby:"https://rinkeby.infura.io/v3",goerli:"https://goerli.infura.io/v3",kovan:"https://kovan.infura.io/v3",sepolia:"https://sepolia.infura.io/v3",optimism:"https://optimism-mainnet.infura.io/v3",optimismKovan:"https://optimism-kovan.infura.io/v3",optimismGoerli:"https://optimism-goerli.infura.io/v3",polygon:"https://polygon-mainnet.infura.io/v3",polygonMumbai:"https://polygon-mumbai.infura.io/v3",arbitrum:"https://arbitrum-mainnet.infura.io/v3",arbitrumRinkeby:"https://arbitrum-rinkeby.infura.io/v3",arbitrumGoerli:"https://arbitrum-goerli.infura.io/v3"},Sn={mainnet:"https://cloudflare-eth.com",ropsten:"https://rpc.ankr.com/eth_ropsten",rinkeby:"https://rpc.ankr.com/eth_rinkeby",goerli:"https://rpc.ankr.com/eth_goerli",kovan:`${ji.kovan}/${nH}`,sepolia:"https://rpc.sepolia.org",optimism:"https://mainnet.optimism.io",optimismKovan:"https://kovan.optimism.io",optimismGoerli:"https://goerli.optimism.io",polygon:"https://polygon-rpc.com",polygonMumbai:"https://matic-mumbai.chainstacklabs.com",arbitrum:"https://arb1.arbitrum.io/rpc",arbitrumRinkeby:"https://rinkeby.arbitrum.io/rpc",arbitrumGoerli:"https://goerli-rollup.arbitrum.io/rpc"},En={mainnet:{name:"Etherscan",url:"https://etherscan.io"},ropsten:{name:"Etherscan",url:"https://ropsten.etherscan.io"},rinkeby:{name:"Etherscan",url:"https://rinkeby.etherscan.io"},goerli:{name:"Etherscan",url:"https://goerli.etherscan.io"},kovan:{name:"Etherscan",url:"https://kovan.etherscan.io"},sepolia:{name:"Etherscan",url:"https://sepolia.etherscan.io"},optimism:{name:"Etherscan",url:"https://optimistic.etherscan.io"},optimismKovan:{name:"Etherscan",url:"https://kovan-optimistic.etherscan.io"},optimismGoerli:{name:"Etherscan",url:"https://goerli-optimism.etherscan.io"},polygon:{name:"PolygonScan",url:"https://polygonscan.com"},polygonMumbai:{name:"PolygonScan",url:"https://mumbai.polygonscan.com"},arbitrum:{name:"Arbiscan",url:"https://arbiscan.io"},arbitrumRinkeby:{name:"Arbiscan",url:"https://testnet.arbiscan.io"},arbitrumGoerli:{name:"Arbiscan",url:"https://goerli.arbiscan.io"}},ui={mainnet:1,ropsten:3,rinkeby:4,goerli:5,kovan:42,sepolia:11155111,optimism:10,optimismKovan:69,optimismGoerli:420,polygon:137,polygonMumbai:80001,arbitrum:42161,arbitrumRinkeby:421611,arbitrumGoerli:421613,localhost:1337,hardhat:31337,foundry:31337},g4={id:ui.mainnet,name:"Ethereum",network:"homestead",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:Ds.mainnet,default:Sn.mainnet,infura:ji.mainnet,public:Sn.mainnet},blockExplorers:{etherscan:En.mainnet,default:En.mainnet},ens:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},multicall:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}},rH={id:ui.ropsten,name:"Ropsten",network:"ropsten",nativeCurrency:{name:"Ropsten Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:Ds.ropsten,default:Sn.ropsten,infura:ji.ropsten,public:Sn.ropsten},blockExplorers:{etherscan:En.ropsten,default:En.ropsten},ens:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},multicall:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:12063863},testnet:!0},iH={id:ui.rinkeby,name:"Rinkeby",network:"rinkeby",nativeCurrency:{name:"Rinkeby Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:Ds.rinkeby,default:Sn.rinkeby,infura:ji.rinkeby,public:Sn.rinkeby},blockExplorers:{etherscan:En.rinkeby,default:En.rinkeby},ens:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},multicall:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:10299530},testnet:!0},sH={id:ui.goerli,name:"Goerli",network:"goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:Ds.goerli,default:Sn.goerli,infura:ji.goerli,public:Sn.goerli},blockExplorers:{etherscan:En.goerli,default:En.goerli},ens:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},multicall:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6507670},testnet:!0},oH={id:ui.kovan,name:"Kovan",network:"kovan",nativeCurrency:{name:"Kovan Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:Ds.kovan,default:Sn.kovan,infura:ji.kovan,public:Sn.kovan},blockExplorers:{etherscan:En.kovan,default:En.kovan},multicall:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:30285908},testnet:!0},d1e={id:ui.sepolia,name:"Sepolia",network:"sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:Sn.sepolia,infura:ji.sepolia,public:Sn.sepolia},blockExplorers:{etherscan:En.sepolia,default:En.sepolia},multicall:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},testnet:!0},h1e={id:ui.optimism,name:"Optimism",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:Ds.optimism,default:Sn.optimism,infura:ji.optimism,public:Sn.optimism},blockExplorers:{etherscan:En.optimism,default:En.optimism},multicall:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263}},p1e={id:ui.optimismKovan,name:"Optimism Kovan",network:"optimism-kovan",nativeCurrency:{name:"Kovan Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:Ds.optimismKovan,default:Sn.optimismKovan,infura:ji.optimismKovan,public:Sn.optimismKovan},blockExplorers:{etherscan:En.optimismKovan,default:En.optimismKovan},multicall:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1418387},testnet:!0},m1e={id:ui.optimismGoerli,name:"Optimism Goerli",network:"optimism-goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:Ds.optimismGoerli,default:Sn.optimismGoerli,infura:ji.optimismGoerli,public:Sn.optimismGoerli},blockExplorers:{etherscan:En.optimismGoerli,default:En.optimismGoerli},multicall:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:49461},testnet:!0},g1e={id:ui.polygon,name:"Polygon",network:"matic",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{alchemy:Ds.polygon,default:Sn.polygon,infura:ji.polygon,public:Sn.polygon},blockExplorers:{etherscan:En.polygon,default:En.polygon},multicall:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}},v1e={id:ui.polygonMumbai,name:"Polygon Mumbai",network:"maticmum",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{alchemy:Ds.polygonMumbai,default:Sn.polygonMumbai,infura:ji.polygonMumbai,public:Sn.polygonMumbai},blockExplorers:{etherscan:En.polygonMumbai,default:En.polygonMumbai},multicall:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25444704},testnet:!0},y1e={id:ui.arbitrum,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:Ds.arbitrum,default:Sn.arbitrum,infura:ji.arbitrum,public:Sn.arbitrum},blockExplorers:{arbitrum:{name:"Arbitrum Explorer",url:"https://explorer.arbitrum.io"},etherscan:En.arbitrum,default:En.arbitrum},multicall:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}},x1e={id:ui.arbitrumRinkeby,name:"Arbitrum Rinkeby",network:"arbitrum-rinkeby",nativeCurrency:{name:"Arbitrum Rinkeby Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:Ds.arbitrumRinkeby,default:Sn.arbitrumRinkeby,infura:ji.arbitrumRinkeby,public:Sn.arbitrumRinkeby},blockExplorers:{arbitrum:{name:"Arbitrum Explorer",url:"https://rinkeby-explorer.arbitrum.io"},etherscan:En.arbitrumRinkeby,default:En.arbitrumRinkeby},multicall:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:10228837},testnet:!0},b1e={id:ui.arbitrumGoerli,name:"Arbitrum Goerli",network:"arbitrum-goerli",nativeCurrency:{name:"Arbitrum Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:Ds.arbitrumGoerli,default:Sn.arbitrumGoerli,infura:ji.arbitrumGoerli,public:Sn.arbitrumGoerli},blockExplorers:{arbitrum:{name:"Arbitrum Explorer",url:"https://goerli-rollup-explorer.arbitrum.io"},etherscan:En.arbitrumGoerli,default:En.arbitrumGoerli},multicall:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:88114},testnet:!0},w1e={id:ui.localhost,name:"Localhost",network:"localhost",rpcUrls:{default:"http://127.0.0.1:8545"}},_1e={id:ui.hardhat,name:"Hardhat",network:"hardhat",rpcUrls:{default:"http://127.0.0.1:8545"}},A1e={id:ui.foundry,name:"Foundry",network:"foundry",rpcUrls:{default:"http://127.0.0.1:8545"}},hm={mainnet:g4,ropsten:rH,rinkeby:iH,goerli:sH,kovan:oH,sepolia:d1e,optimism:h1e,optimismGoerli:m1e,optimismKovan:p1e,polygon:g1e,polygonMumbai:v1e,arbitrum:y1e,arbitrumGoerli:b1e,arbitrumRinkeby:x1e,localhost:w1e,hardhat:_1e,foundry:A1e},S1e=[g4,rH,iH,sH,oH];function aH(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function pg(n,e){aH(n,e),e.add(n)}function Rl(n,e,t){aH(n,e),e.set(n,t)}function Ct(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function E1e(n,e){return e.get?e.get.call(n):e.value}function lH(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}function Zi(n,e){var t=lH(n,e,"get");return E1e(n,t)}function ec(n,e,t){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return t}function C1e(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}function oo(n,e,t){var r=lH(n,e,"set");return C1e(n,r,t),t}class uH extends Error{constructor(e,t,r,i){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||typeof t!="string")throw new Error('"message" must be a nonempty string.');super(t),Ct(this,"code",void 0),Ct(this,"data",void 0),Ct(this,"internal",void 0),this.code=e,this.data=i,this.internal=r}}class cH extends uH{constructor(e,t,r,i){if(!(Number.isInteger(e)&&e>=1e3&&e<=4999))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r,i)}}class fH extends Error{constructor(){super(...arguments),Ct(this,"name","AddChainError"),Ct(this,"message","Error adding chain")}}class BC extends Error{constructor(e){let{blockNumber:t,chain:r}=e;super(`Chain "${r.name}" does not support multicall${t?` on block ${t}`:""}.`),Ct(this,"name","ChainDoesNotSupportMulticall")}}class dH extends Error{constructor(e){let{chainId:t,connectorId:r}=e;super(`Chain "${t}" not configured for connector "${r}".`),Ct(this,"name","ChainNotConfigured")}}class zc extends Error{constructor(){super(...arguments),Ct(this,"name","ConnectorNotFoundError"),Ct(this,"message","Connector not found")}}class M1e extends Error{constructor(e){var t;let{address:r,chainId:i,functionName:s}=e;const{chains:o,network:a}=Ko(),l=o?.find(c=>{let{id:f}=c;return f===(i||a.chainId)}),u=l==null||(t=l.blockExplorers)===null||t===void 0?void 0:t.default;super([`Function "${s}" on contract "${r}" does not exist.`,...u?["",`${u?.name}: ${u?.url}/address/${r}#readContract`]:[]].join(`
`)),Ct(this,"name","ContractMethodDoesNotExistError")}}class hH extends Error{constructor(e){let{address:t,args:r,chainId:i,functionName:s}=e;super(["Contract read returned an empty response. This could be due to any of the following:",`- The contract does not have the function "${s}",`,"- The parameters passed to the contract function may be invalid, or","- The address is not a contract.","","Config:",JSON.stringify({address:t,abi:"...",functionName:s,chainId:i,args:r},null,2)].join(`
`)),Ct(this,"name","ContractMethodNoResultError")}}class kC extends Error{constructor(e){let{address:t,args:r,chainId:i,functionName:s,errorMessage:o}=e;super(["Contract method reverted with an error.","","Config:",JSON.stringify({address:t,abi:"...",functionName:s,chainId:i,args:r},null,2),"",`Details: ${o}`].join(`
`)),Ct(this,"name","ContractMethodRevertedError")}}class v4 extends Error{constructor(e){let{address:t,args:r,chainId:i,functionName:s,errorMessage:o}=e;super(["Failed to decode contract function result.","","Config:",JSON.stringify({address:t,abi:"...",functionName:s,chainId:i,args:r},null,2),"",`Details: ${o}`].join(`
`)),Ct(this,"name","ContractResultDecodeError")}}class Yk extends Error{constructor(){super(...arguments),Ct(this,"name","ProviderChainsNotFound"),Ct(this,"message",["No chains were found on the wagmi provider. Some functions that require a chain may not work.","","It is recommended to add a list of chains to the provider in `createClient`.","","Example:","","```","import { getDefaultProvider } from 'ethers'","import { chain, createClient } from 'wagmi'","","createClient({","  provider: Object.assign(getDefaultProvider(), { chains: [chain.mainnet] })","})","```"].join(`
`))}}class pH extends uH{constructor(e){super(-32002,"Resource unavailable",e),Ct(this,"name","ResourceUnavailable")}}class y4 extends cH{constructor(e){super(4902,"Error switching chain",e),Ct(this,"name","SwitchChainError")}}class gl extends cH{constructor(e){super(4001,"User rejected request",e),Ct(this,"name","UserRejectedRequestError")}}function T1e(n){var e;if(!n)return"Injected";const t=r=>{if(r.isKuCoinWallet)return"KuCoin Wallet";if(r.isAvalanche)return"Core Wallet";if(r.isBitKeep)return"BitKeep";if(r.isBraveWallet)return"Brave Wallet";if(r.isCoinbaseWallet)return"Coinbase Wallet";if(r.isExodus)return"Exodus";if(r.isFrame)return"Frame";if(r.isMathWallet)return"MathWallet";if(r.isOpera)return"Opera";if(r.isPortal)return"Ripio Portal";if(r.isTally)return"Tally";if(r.isTokenPocket)return"TokenPocket";if(r.isTokenary)return"Tokenary";if(r.isTrust)return"Trust Wallet";if(r.isOneInchIOSWallet||r.isOneInchAndroidWallet)return"1inch Wallet";if(r.isMetaMask)return"MetaMask"};if((e=n.providers)!==null&&e!==void 0&&e.length){const r=new Set;let i=1;for(const o of n.providers){let a=t(o);a||(a=`Unknown Wallet #${i}`,i+=1),r.add(a)}const s=[...r];return s.length?s:s[0]??"Injected"}return t(n)??"Injected"}function Zh(n){return typeof n=="string"?Number.parseInt(n,n.trim().substring(0,2)==="0x"?16:10):typeof n=="bigint"?Number(n):n}class x4 extends c1e{constructor(e){let{chains:t=S1e,options:r}=e;super(),Ct(this,"id",void 0),Ct(this,"name",void 0),Ct(this,"chains",void 0),Ct(this,"options",void 0),Ct(this,"ready",void 0),this.chains=t,this.options=r}getBlockExplorerUrls(e){const{default:t,...r}=e.blockExplorers??{};if(t)return[t.url,...Object.values(r).map(i=>i.url)]}isChainUnsupported(e){return!this.chains.some(t=>t.id===e)}}var hA=new WeakMap,Fx=new WeakMap;class ep extends x4{constructor(){let{chains:e,options:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r={shimDisconnect:!0,shimChainChangedDisconnect:!0,...t};super({chains:e,options:r}),Ct(this,"id",void 0),Ct(this,"name",void 0),Ct(this,"ready",typeof window<"u"&&!!window.ethereum),Rl(this,hA,{writable:!0,value:void 0}),Rl(this,Fx,{writable:!0,value:void 0}),Ct(this,"shimDisconnectKey","injected.shimDisconnect"),Ct(this,"onAccountsChanged",o=>{o.length===0?this.emit("disconnect"):this.emit("change",{account:mr.getAddress(o[0])})}),Ct(this,"onChainChanged",o=>{const a=Zh(o),l=this.isChainUnsupported(a);this.emit("change",{chain:{id:a,unsupported:l}})}),Ct(this,"onDisconnect",()=>{var o,a,l;if((o=this.options)!==null&&o!==void 0&&o.shimChainChangedDisconnect&&Zi(this,Fx)){oo(this,Fx,!1);return}this.emit("disconnect"),(a=this.options)!==null&&a!==void 0&&a.shimDisconnect&&((l=ri().storage)===null||l===void 0||l.removeItem(this.shimDisconnectKey))});let i="Injected";const s=r.name;if(typeof s=="string")i=s;else if(typeof window<"u"){const o=T1e(window.ethereum);s?i=s(o):i=typeof o=="string"?o:o[0]}this.id="injected",this.name=i}async connect(){let{chainId:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};try{var t,r;const i=await this.getProvider();if(!i)throw new zc;i.on&&(i.on("accountsChanged",this.onAccountsChanged),i.on("chainChanged",this.onChainChanged),i.on("disconnect",this.onDisconnect)),this.emit("message",{type:"connecting"});const s=await this.getAccount();let o=await this.getChainId(),a=this.isChainUnsupported(o);return e&&o!==e&&(o=(await this.switchChain(e)).id,a=this.isChainUnsupported(o)),(t=this.options)!==null&&t!==void 0&&t.shimDisconnect&&((r=ri().storage)===null||r===void 0||r.setItem(this.shimDisconnectKey,!0)),{account:s,chain:{id:o,unsupported:a},provider:i}}catch(i){throw this.isUserRejectedRequestError(i)?new gl(i):i.code===-32002?new pH(i):i}}async disconnect(){var e,t;const r=await this.getProvider();!(r!=null&&r.removeListener)||(r.removeListener("accountsChanged",this.onAccountsChanged),r.removeListener("chainChanged",this.onChainChanged),r.removeListener("disconnect",this.onDisconnect),(e=this.options)!==null&&e!==void 0&&e.shimDisconnect&&((t=ri().storage)===null||t===void 0||t.removeItem(this.shimDisconnectKey)))}async getAccount(){const e=await this.getProvider();if(!e)throw new zc;const t=await e.request({method:"eth_requestAccounts"});return mr.getAddress(t[0])}async getChainId(){const e=await this.getProvider();if(!e)throw new zc;return e.request({method:"eth_chainId"}).then(Zh)}async getProvider(){return typeof window<"u"&&!!window.ethereum&&oo(this,hA,window.ethereum),Zi(this,hA)}async getSigner(){let{chainId:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const[t,r]=await Promise.all([this.getProvider(),this.getAccount()]);return new Ff(t,e).getSigner(r)}async isAuthorized(){try{var e,t;if((e=this.options)!==null&&e!==void 0&&e.shimDisconnect&&!((t=ri().storage)!==null&&t!==void 0&&t.getItem(this.shimDisconnectKey)))return!1;const r=await this.getProvider();if(!r)throw new zc;return!!(await r.request({method:"eth_accounts"}))[0]}catch{return!1}}async switchChain(e){var t;(t=this.options)!==null&&t!==void 0&&t.shimChainChangedDisconnect&&oo(this,Fx,!0);const r=await this.getProvider();if(!r)throw new zc;const i=mr.hexValue(e);try{return await r.request({method:"wallet_switchEthereumChain",params:[{chainId:i}]}),this.chains.find(a=>a.id===e)??{id:e,name:`Chain ${i}`,network:`${i}`,rpcUrls:{default:""}}}catch(a){var s,o;const l=this.chains.find(u=>u.id===e);if(!l)throw new dH({chainId:e,connectorId:this.id});if(a.code===4902||(a==null||(s=a.data)===null||s===void 0||(o=s.originalError)===null||o===void 0?void 0:o.code)===4902)try{return await r.request({method:"wallet_addEthereumChain",params:[{chainId:i,chainName:l.name,nativeCurrency:l.nativeCurrency,rpcUrls:[l.rpcUrls.public??l.rpcUrls.default],blockExplorerUrls:this.getBlockExplorerUrls(l)}]}),l}catch(u){throw this.isUserRejectedRequestError(u)?new gl(a):new fH}throw this.isUserRejectedRequestError(a)?new gl(a):new y4(a)}}async watchAsset(e){let{address:t,decimals:r=18,image:i,symbol:s}=e;const o=await this.getProvider();if(!o)throw new zc;return o.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:t,decimals:r,image:i,symbol:s}}})}isUserRejectedRequestError(e){return e.code===4001}}const P1e={getItem:n=>"",setItem:(n,e)=>null,removeItem:n=>null};function I1e(n){let{storage:e,key:t="wagmi"}=n;return{...e,getItem:function(r){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const s=e.getItem(`${t}.${r}`);try{return s?JSON.parse(s):i}catch(o){return console.warn(o),i}},setItem:(r,i)=>{if(i===null)e.removeItem(`${t}.${r}`);else try{e.setItem(`${t}.${r}`,JSON.stringify(i))}catch(s){console.error(s)}},removeItem:r=>e.removeItem(`${t}.${r}`)}}const Qk="store";var C0=new WeakMap,Ux=new WeakMap,Zk=new WeakSet;class R1e{constructor(e){let{autoConnect:t=!1,connectors:r=[new ep],provider:i,storage:s=I1e({storage:typeof window<"u"?window.localStorage:P1e}),logger:o={warn:console.warn},webSocketProvider:a}=e;pg(this,Zk),Ct(this,"config",void 0),Ct(this,"providers",new Map),Ct(this,"storage",void 0),Ct(this,"store",void 0),Ct(this,"webSocketProviders",new Map),Rl(this,C0,{writable:!0,value:void 0}),Rl(this,Ux,{writable:!0,value:void 0}),this.config={autoConnect:t,connectors:r,logger:o,provider:i,storage:s,webSocketProvider:a};let l="disconnected",u;if(t)try{var c,f,d;const m=s.getItem(Qk,""),y=(c=JSON.parse(m||"{}"))===null||c===void 0||(f=c.state)===null||f===void 0?void 0:f.data;l=y!=null&&y.account?"reconnecting":"connecting",u=y==null||(d=y.chain)===null||d===void 0?void 0:d.id}catch{}this.store=n0e(Zpe(t0e(()=>({connectors:typeof r=="function"?r():r,provider:this.getProvider({chainId:u}),status:l,webSocketProvider:this.getWebSocketProvider({chainId:u})}),{name:Qk,getStorage:()=>s,partialize:m=>{var y,g;return{...t&&{data:{account:m==null||(y=m.data)===null||y===void 0?void 0:y.account,chain:m==null||(g=m.data)===null||g===void 0?void 0:g.chain}},chains:m?.chains}},version:1}))),this.storage=s,oo(this,Ux,s?.getItem("wallet")),ec(this,Zk,B1e).call(this),t&&typeof window<"u"&&setTimeout(async()=>await this.autoConnect(),0)}get chains(){return this.store.getState().chains}get connectors(){return this.store.getState().connectors}get connector(){return this.store.getState().connector}get data(){return this.store.getState().data}get error(){return this.store.getState().error}get lastUsedChainId(){var e,t;return(e=this.data)===null||e===void 0||(t=e.chain)===null||t===void 0?void 0:t.id}get provider(){return this.store.getState().provider}get status(){return this.store.getState().status}get subscribe(){return this.store.subscribe}get webSocketProvider(){return this.store.getState().webSocketProvider}setState(e){const t=typeof e=="function"?e(this.store.getState()):e;this.store.setState(t,!0)}clearState(){this.setState(e=>({...e,chains:void 0,connector:void 0,data:void 0,error:void 0,status:"disconnected"}))}async destroy(){var e,t;this.connector&&await((e=(t=this.connector).disconnect)===null||e===void 0?void 0:e.call(t)),oo(this,C0,!1),this.clearState(),this.store.destroy()}async autoConnect(){if(Zi(this,C0))return;oo(this,C0,!0),this.setState(r=>{var i;return{...r,status:(i=r.data)!==null&&i!==void 0&&i.account?"reconnecting":"connecting"}});const e=Zi(this,Ux)?[...this.connectors].sort(r=>r.id===Zi(this,Ux)?-1:1):this.connectors;let t=!1;for(const r of e){if(!r.ready||!r.isAuthorized||!await r.isAuthorized())continue;const s=await r.connect();this.setState(o=>({...o,connector:r,chains:r?.chains,data:s,status:"connected"})),t=!0;break}return t||this.setState(r=>({...r,data:void 0,status:"disconnected"})),oo(this,C0,!1),this.data}getProvider(){let{bust:e,chainId:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=this.providers.get(t??-1);if(r&&!e)return r;const{provider:i}=this.config;return r=typeof i=="function"?i({chainId:t}):i,this.providers.set(t??-1,r),r}getWebSocketProvider(){let{bust:e,chainId:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=this.webSocketProviders.get(t??-1);if(r&&!e)return r;const{webSocketProvider:i}=this.config;return r=typeof i=="function"?i({chainId:t}):i,r&&this.webSocketProviders.set(t??-1,r),r}setLastUsedConnector(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;(e=this.storage)===null||e===void 0||e.setItem("wallet",t)}}function B1e(){const n=a=>{this.setState(l=>({...l,data:{...l.data,...a}}))},e=()=>{this.clearState()},t=a=>{this.setState(l=>({...l,error:a}))};this.store.subscribe(a=>{let{connector:l}=a;return l},(a,l)=>{var u,c,f,d,m,y;l==null||(u=l.off)===null||u===void 0||u.call(l,"change",n),l==null||(c=l.off)===null||c===void 0||c.call(l,"disconnect",e),l==null||(f=l.off)===null||f===void 0||f.call(l,"error",t),a&&((d=a.on)===null||d===void 0||d.call(a,"change",n),(m=a.on)===null||m===void 0||m.call(a,"disconnect",e),(y=a.on)===null||y===void 0||y.call(a,"error",t))});const{provider:r,webSocketProvider:i}=this.config;(typeof r=="function"||typeof i=="function")&&this.store.subscribe(a=>{var l;let{data:u}=a;return u==null||(l=u.chain)===null||l===void 0?void 0:l.id},a=>{this.setState(l=>({...l,provider:this.getProvider({bust:!0,chainId:a}),webSocketProvider:this.getWebSocketProvider({bust:!0,chainId:a})}))})}let NC;function k1e(n){const e=new R1e(n);return NC=e,e}function ri(){if(!NC)throw new Error("No wagmi client found. Ensure you have set up a client: https://wagmi.sh/docs/client");return NC}function Ko(){let{chainId:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=ri();return n&&e.getProvider({chainId:n})||e.provider}var b4={};const N1e=Cn(lye),L1e=Cn(h0e),D1e=Cn(lge),O1e=Cn(K0e),e7=Cn(kxe),F1e=Cn(yye);var Zw={};Object.defineProperty(Zw,"__esModule",{value:!0});Zw.version=void 0;Zw.version="ethers/5.7.2";(function(n){var e=Yi&&Yi.__createBinding||(Object.create?function(v,x,w,b){b===void 0&&(b=w),Object.defineProperty(v,b,{enumerable:!0,get:function(){return x[w]}})}:function(v,x,w,b){b===void 0&&(b=w),v[b]=x[w]}),t=Yi&&Yi.__setModuleDefault||(Object.create?function(v,x){Object.defineProperty(v,"default",{enumerable:!0,value:x})}:function(v,x){v.default=x}),r=Yi&&Yi.__importStar||function(v){if(v&&v.__esModule)return v;var x={};if(v!=null)for(var w in v)w!=="default"&&Object.prototype.hasOwnProperty.call(v,w)&&e(x,v,w);return t(x,v),x};Object.defineProperty(n,"__esModule",{value:!0}),n.Wordlist=n.version=n.wordlists=n.utils=n.logger=n.errors=n.constants=n.FixedNumber=n.BigNumber=n.ContractFactory=n.Contract=n.BaseContract=n.providers=n.getDefaultProvider=n.VoidSigner=n.Wallet=n.Signer=void 0;var i=N1e;Object.defineProperty(n,"BaseContract",{enumerable:!0,get:function(){return i.BaseContract}}),Object.defineProperty(n,"Contract",{enumerable:!0,get:function(){return i.Contract}}),Object.defineProperty(n,"ContractFactory",{enumerable:!0,get:function(){return i.ContractFactory}});var s=L1e;Object.defineProperty(n,"BigNumber",{enumerable:!0,get:function(){return s.BigNumber}}),Object.defineProperty(n,"FixedNumber",{enumerable:!0,get:function(){return s.FixedNumber}});var o=D1e;Object.defineProperty(n,"Signer",{enumerable:!0,get:function(){return o.Signer}}),Object.defineProperty(n,"VoidSigner",{enumerable:!0,get:function(){return o.VoidSigner}});var a=eH;Object.defineProperty(n,"Wallet",{enumerable:!0,get:function(){return a.Wallet}});var l=r(O1e);n.constants=l;var u=r(e7);n.providers=u;var c=e7;Object.defineProperty(n,"getDefaultProvider",{enumerable:!0,get:function(){return c.getDefaultProvider}});var f=F1e;Object.defineProperty(n,"Wordlist",{enumerable:!0,get:function(){return f.Wordlist}}),Object.defineProperty(n,"wordlists",{enumerable:!0,get:function(){return f.wordlists}});var d=r(mr);n.utils=d;var m=ZG;Object.defineProperty(n,"errors",{enumerable:!0,get:function(){return m.ErrorCode}});var y=Zw;Object.defineProperty(n,"version",{enumerable:!0,get:function(){return y.version}});var g=new m.Logger(y.version);n.logger=g})(b4);function mH(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(n[t[r]],e[t[r]]))return!1;return!0}function U1e(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];if(!e)return n(...i);t&&clearTimeout(t),t=setTimeout(function(){t=null,n(...i)},e)}}function z1e(n,e){let{minQuorum:t=1,pollingInterval:r=4e3,targetQuorum:i=1,stallTimeout:s}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!n.length)throw new Error("must have at least one chain");if(i<t)throw new Error("quorum cannot be lower than minQuorum");let o=[];const a={},l={};for(const u of n){let c=!1;for(const f of e){const d=f(u);!d||(c=!0,o.some(m=>{let{id:y}=m;return y===u.id})||(o=[...o,d.chain]),a[u.id]=[...a[u.id]||[],d.provider],d.webSocketProvider&&(l[u.id]=[...l[u.id]||[],d.webSocketProvider]))}if(!c)throw new Error([`Could not find valid provider configuration for chain "${u.name}".
`,"You may need to add `jsonRpcProvider` to `configureChains` with the chain's RPC URLs.","Read more: https://wagmi.sh/docs/providers/jsonRpc"].join(`
`))}return{chains:o,provider:u=>{let{chainId:c}=u;const f=o.find(y=>y.id===c)??n[0],d=a[f.id];if(!d||!d[0])throw new Error(`No providers configured for chain "${f.id}"`);let m;return d.length===1?m=d[0]():m=gH(i,t,d,{stallTimeout:s}),f.id===42220&&(m.formatter.formats.block={...m.formatter.formats.block,difficulty:()=>0,gasLimit:()=>0}),Object.assign(m,{chains:o,pollingInterval:r})},webSocketProvider:u=>{var c;let{chainId:f}=u;const d=o.find(g=>g.id===f)??n[0],m=l[d.id];if(!m)return;const y=(c=m[0])===null||c===void 0?void 0:c.call(m);return y&&d.id===42220&&(y.formatter.formats.block={...y.formatter.formats.block,difficulty:()=>0,gasLimit:()=>0}),Object.assign(y||{},{chains:o})}}}function gH(n,e,t,r){let{stallTimeout:i}=r;try{return new h4(t.map((o,a)=>{const l=o();return{provider:l,priority:l.priority??a,stallTimeout:l.stallTimeout??i,weight:l.weight}}),n)}catch(o){var s;if(o!=null&&(s=o.message)!==null&&s!==void 0&&s.includes("quorum will always fail; larger than total weight")){if(n===e)throw o;return gH(n-1,e,t,{stallTimeout:i})}throw o}}function LC(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;let t,r;if(Array.isArray(n)&&Array.isArray(e)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(!LC(n[r],e[r]))return!1;return!0}if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===e.toString();const i=Object.keys(n);if(t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(s&&!LC(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function DC(n){let{contract:e,functionName:t,args:r=[]}=n;if(t in e.functions)return t;const i=r?.length??0,s=Object.keys(e.functions).filter(o=>o.startsWith(`${t}(`)).map(o=>({name:o,fragment:mr.FunctionFragment.fromString(o)})).filter(o=>i===o.fragment.inputs.length);for(const o of s)if(r.every((l,u)=>{const c=o.fragment.inputs[u];return OC(l,c)}))return o.name;return t}function OC(n,e){const t=typeof n,r=e.type;switch(r){case"address":return mr.isAddress(n);case"bool":return t==="boolean";case"function":return t==="string";case"string":return t==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>OC(Object.values(n)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?t==="number"||t==="bigint"||We.isBigNumber(n):/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?t==="string"||n instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(n)&&n.every(i=>OC(i,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function oh(n){var e,t,r;(e=ri())===null||e===void 0||(t=e.config.logger)===null||t===void 0||(r=t.warn)===null||r===void 0||r.call(t,n)}const G1e=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],H1e=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],j1e=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}];function T1(n){let{address:e,abi:t,signerOrProvider:r}=n;return new Rb(e,t,r)}function FC(){let{chainId:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=ri();return n&&e.getWebSocketProvider({chainId:n})||e.webSocketProvider}function V1e(n,e){const t=ri(),r=async()=>e(Ko(n));return t.subscribe(s=>{let{provider:o}=s;return o},r)}function W1e(n,e){const t=ri(),r=async()=>e(FC(n));return t.subscribe(s=>{let{webSocketProvider:o}=s;return o},r)}async function q1e(n){let{allowFailure:e=!0,chainId:t,contracts:r,overrides:i}=n;const s=Ko({chainId:t});if(!s.chains)throw new Yk;const o=s.chains.find(f=>f.id===t)||s.chains[0];if(!o)throw new Yk;if(!(o!=null&&o.multicall))throw new BC({chain:o});if(typeof i?.blockTag=="number"&&i?.blockTag<o.multicall.blockCreated)throw new BC({blockNumber:i?.blockTag,chain:o});const a=T1({address:o.multicall.address,abi:j1e,signerOrProvider:s}),u=[r.map(f=>{let{address:d,abi:m,functionName:y,...g}=f;const{args:v}=g||{},x=T1({address:d,abi:m}),w=v??[],b=DC({contract:x,functionName:y,args:v});try{x[b]||oh(`"${b}" is not in the interface for contract "${d}"`);const M=x.interface.encodeFunctionData(b,w);return{target:d,allowFailure:e,callData:M}}catch(A){if(!e)throw A;return{target:d,allowFailure:e,callData:"0x"}}}),...i?[i]:[]];return(await a.aggregate3(...u)).map((f,d)=>{let{returnData:m,success:y}=f;const{address:g,abi:v,args:x,functionName:w}=r[d],b=T1({address:g,abi:v}),A=DC({contract:b,functionName:w,args:x});if(!y){let M;try{b.interface.decodeFunctionResult(A,m)}catch(I){if(M=new kC({address:g,args:x,chainId:o.id,functionName:A,errorMessage:I.message}),!e)throw M;oh(M.message)}return null}if(m==="0x"){const M=new hH({address:g,args:x,chainId:o.id,functionName:A});if(!e)throw M;return oh(M.message),null}try{const M=b.interface.decodeFunctionResult(A,m);return Array.isArray(M)&&M.length===1?M[0]:M}catch(M){const I=new v4({address:g,args:x,chainId:o.id,functionName:A,errorMessage:M.message});if(!e)throw I;return oh(I.message),null}})}async function K1e(n){let{address:e,args:t,chainId:r,abi:i,functionName:s,overrides:o}=n;const a=Ko({chainId:r}),l=T1({address:e,abi:i,signerOrProvider:a}),u=DC({contract:l,functionName:s,args:t}),c=l[u];if(!c)throw new M1e({address:e,functionName:u});const f=[...t??[],...o?[o]:[]];return c?.(...f)}async function J1e(n){let{allowFailure:e=!0,contracts:t,overrides:r}=n;try{const i=Ko(),s=t.reduce((u,c,f)=>{const d=c.chainId??i.network.chainId;return{...u,[d]:[...u[d]||[],{contract:c,index:f}]}},{}),o=()=>Object.entries(s).map(u=>{let[c,f]=u;return q1e({allowFailure:e,chainId:parseInt(c),contracts:f.map(d=>{let{contract:m}=d;return m}),overrides:r})});let a;e?a=(await Promise.allSettled(o())).map(u=>{if(u.status==="fulfilled")return u.value;if(u.reason instanceof BC)throw oh(u.reason.message),u.reason;return null}).flat():a=(await Promise.all(o())).flat();const l=Object.values(s).map(u=>u.map(c=>{let{index:f}=c;return f})).flat();return a.reduce((u,c,f)=>(u[l[f]]=c,u),[])}catch(i){if(i instanceof v4||i instanceof hH||i instanceof kC)throw i;const s=()=>t.map(o=>K1e({...o,overrides:r}));return e?(await Promise.allSettled(s())).map((o,a)=>{if(o.status==="fulfilled")return o.value;const{address:l,args:u,chainId:c,functionName:f}=t[a],d=new kC({address:l,functionName:f,chainId:c??g4.id,args:u,errorMessage:o.reason});return oh(d.message),null}):await Promise.all(s())}}async function $1e(){let{chainId:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return await Ko({chainId:n}).getBlockNumber()}async function X1e(n){let{addressOrName:e,chainId:t}=n;return await Ko({chainId:t}).getAvatar(e)}async function Y1e(n){let{address:e,chainId:t}=n;return Ko({chainId:t}).lookupAddress(mr.getAddress(e))}async function Q1e(n){var e,t;let{addressOrName:r,chainId:i,formatUnits:s,token:o}=n;const a=ri(),l=Ko({chainId:i});if(o){let d;if(mr.isAddress(r))d=r;else{const y=await l.resolveName(r);y||b4.logger.throwError("ENS name not configured",mr.Logger.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(r)})`}),d=y}const m=async y=>{let{abi:g}=y;const v={abi:g,address:o,chainId:i},[x,w,b]=await J1e({allowFailure:!1,contracts:[{...v,functionName:"balanceOf",args:[d]},{...v,functionName:"decimals"},{...v,functionName:"symbol"}]});return{decimals:w,formatted:mr.formatUnits(x??"0",s??w),symbol:b,value:x}};try{return await m({abi:G1e})}catch(y){if(y instanceof v4){const{symbol:g,...v}=await m({abi:H1e});return{symbol:mr.parseBytes32String(g),...v}}throw y}}const u=[...a.provider.chains||[],...a.chains??[]],c=await l.getBalance(r),f=u.find(d=>d.id===l.network.chainId);return{decimals:(f==null||(e=f.nativeCurrency)===null||e===void 0?void 0:e.decimals)??18,formatted:mr.formatUnits(c??"0",s??"ether"),symbol:(f==null||(t=f.nativeCurrency)===null||t===void 0?void 0:t.symbol)??"ETH",value:c}}function vH(){const{data:n,connector:e,status:t}=ri();switch(t){case"connected":return{address:n?.account,connector:e,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:t};case"reconnecting":return{address:n?.account,connector:e,isConnected:!!(n!=null&&n.account),isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:t};case"connecting":return{address:void 0,connector:void 0,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:t};case"disconnected":return{address:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:t}}}function yH(){var n,e,t;const r=ri(),i=(n=r.data)===null||n===void 0||(e=n.chain)===null||e===void 0?void 0:e.id,s=r.chains??[],o=[...r.provider.chains||[],...s].find(a=>a.id===i)??{id:i,name:`Chain ${i}`,network:`${i}`,rpcUrls:{default:""}};return{chain:i?{...o,...(t=r.data)===null||t===void 0?void 0:t.chain,id:i}:void 0,chains:s}}function Z1e(n){let{selector:e=s=>s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t=ri(),r=()=>n(vH());return t.subscribe(s=>{let{data:o,connector:a,status:l}=s;return e({address:o?.account,connector:a,status:l})},r,{equalityFn:mH})}function ebe(n){let{selector:e=s=>s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t=ri(),r=()=>n(yH());return t.subscribe(s=>{var o;let{data:a,chains:l}=s;return e({chainId:a==null||(o=a.chain)===null||o===void 0?void 0:o.id,chains:l})},r,{equalityFn:mH})}const UC=(n,e)=>{let{find:t,replace:r}=e;return n&&t(n)?r(n):typeof n!="object"?n:Array.isArray(n)?n.map(i=>UC(i,{find:t,replace:r})):n instanceof Object?Object.entries(n).reduce((i,s)=>{let[o,a]=s;return{...i,[o]:UC(a,{find:t,replace:r})}},{}):n};function tbe(n){const e=JSON.parse(n);return UC(e,{find:r=>r.type==="BigNumber",replace:r=>b4.BigNumber.from(r.hex)})}function t7(n,e){return n.slice(0,e).join(".")||"."}function n7(n,e){const{length:t}=n;for(let r=0;r<t;++r)if(n[r]===e)return r+1;return 0}function nbe(n,e){const t=typeof n=="function",r=typeof e=="function",i=[],s=[];return function(a,l){if(typeof l=="object")if(i.length){const u=n7(i,this);u===0?i[i.length]=this:(i.splice(u),s.splice(u)),s[s.length]=a;const c=n7(i,l);if(c!==0)return r?e.call(this,a,l,t7(s,c)):`[ref=${t7(s,c)}]`}else i[0]=l,s[0]=a;return t?n.call(this,a,l):l}}function rbe(n,e,t,r){return JSON.stringify(n,nbe(e,r),t??void 0)}function ibe(n){let{queryClient:e=new Npe({defaultOptions:{queries:{cacheTime:1e3*60*60*24,networkMode:"offlineFirst",refetchOnWindowFocus:!1,retry:0},mutations:{networkMode:"offlineFirst"}}}),persister:t=typeof window<"u"?ype({key:"wagmi.cache",storage:window.localStorage,serialize:rbe,deserialize:tbe}):void 0,...r}=n;const i=k1e(r);return t&&Ype({queryClient:e,persister:t,dehydrateOptions:{shouldDehydrateQuery:s=>s.cacheTime!==0&&s.queryKey[0].persist!==!1}}),Object.assign(i,{queryClient:e})}const xH=J.exports.createContext(void 0),sbe=jM.exports.useSyncExternalStore;function obe(n){return Array.isArray(n)}function abe(n,e,t){return obe(n)?typeof e=="function"?{...t,queryKey:n,queryFn:e}:{...e,queryKey:n}:n}function lbe(n,e){return typeof n=="function"?n(...e):!!n}function ube(n,e){const t={};return Object.keys(n).forEach(r=>{Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:()=>(e.trackedProps.add(r),n[r])})}),t}function cbe(n,e){const t=$U({context:n.context}),r=Wpe(),i=Jpe(),s=t.defaultQueryOptions(n);s._optimisticResults=r?"isRestoring":"optimistic",s.onError&&(s.onError=_r.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=_r.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=_r.batchCalls(s.onSettled)),s.suspense&&typeof s.staleTime!="number"&&(s.staleTime=1e3),(s.suspense||s.useErrorBoundary)&&(i.isReset()||(s.retryOnMount=!1));const[o]=J.exports.useState(()=>new e(t,s)),a=o.getOptimisticResult(s);if(sbe(J.exports.useCallback(f=>r?()=>{}:o.subscribe(_r.batchCalls(f)),[o,r]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),J.exports.useEffect(()=>{i.clearReset()},[i]),J.exports.useEffect(()=>{o.setOptions(s,{listeners:!1})},[s,o]),s.suspense&&a.isLoading&&a.isFetching&&!r)throw o.fetchOptimistic(s).then(f=>{var d,m;let{data:y}=f;(d=s.onSuccess)===null||d===void 0||d.call(s,y),(m=s.onSettled)===null||m===void 0||m.call(s,y,null)}).catch(f=>{var d,m;i.clearReset(),(d=s.onError)===null||d===void 0||d.call(s,f),(m=s.onSettled)===null||m===void 0||m.call(s,void 0,f)});if(a.isError&&!i.isReset()&&!a.isFetching&&lbe(s.useErrorBoundary,[a.error,o.getCurrentQuery()]))throw a.error;const l=a.status==="loading"&&a.fetchStatus==="idle"?"idle":a.status,u=l==="idle",c=l==="loading"&&a.fetchStatus==="fetching";return{...a,defaultedOptions:s,isIdle:u,isLoading:c,observer:o,status:l}}function e2(n,e,t){const r=abe(n,e,t),i=cbe({context:xH,...r},Lpe),s={data:i.data,error:i.error,fetchStatus:i.fetchStatus,isError:i.isError,isFetched:i.isFetched,isFetchedAfterMount:i.isFetchedAfterMount,isFetching:i.isFetching,isIdle:i.isIdle,isLoading:i.isLoading,isRefetching:i.isRefetching,isSuccess:i.isSuccess,refetch:i.refetch,status:i.status,internal:{dataUpdatedAt:i.dataUpdatedAt,errorUpdatedAt:i.errorUpdatedAt,failureCount:i.failureCount,isFetchedAfterMount:i.isFetchedAfterMount,isLoadingError:i.isLoadingError,isPaused:i.isPaused,isPlaceholderData:i.isPlaceholderData,isPreviousData:i.isPreviousData,isRefetchError:i.isRefetchError,isStale:i.isStale,remove:i.remove}};return i.defaultedOptions.notifyOnChangeProps?s:ube(s,i.observer)}const fbe=()=>$U({context:xH});function w4(){let{chainId:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return _g.exports.useSyncExternalStoreWithSelector(e=>V1e({chainId:n},e),()=>Ko({chainId:n}),()=>Ko({chainId:n}),e=>e,(e,t)=>e.network.chainId===t.network.chainId)}function dbe(){let{chainId:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return _g.exports.useSyncExternalStoreWithSelector(e=>W1e({chainId:n},e),()=>FC({chainId:n}),()=>FC({chainId:n}),e=>e,(e,t)=>e?.network.chainId===t?.network.chainId)}function t2(){let{chainId:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return w4({chainId:n}).network.chainId}function r7(n){let{chainId:e,scopeKey:t}=n;return[{entity:"blockNumber",chainId:e,scopeKey:t}]}function hbe(n){let{queryKey:[{chainId:e}]}=n;return $1e({chainId:e})}function pbe(){let{cacheTime:n=0,chainId:e,enabled:t=!0,scopeKey:r,staleTime:i,suspense:s,watch:o=!1,onBlock:a,onError:l,onSettled:u,onSuccess:c}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const f=t2({chainId:e}),d=w4({chainId:f}),m=dbe({chainId:f}),y=fbe();return J.exports.useEffect(()=>{if(!o&&!a)return;const g=U1e(x=>{o&&y.setQueryData(r7({chainId:f,scopeKey:r}),x),a&&a(x)},1),v=m??d;return v.on("block",g),()=>{v.off("block",g)}},[f,r,a,d,y,o,m]),e2(r7({scopeKey:r,chainId:f}),hbe,{cacheTime:n,enabled:t,staleTime:i,suspense:s,onError:l,onSettled:u,onSuccess:c})}const pA=n=>typeof n=="object"&&!Array.isArray(n);function bH(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:(o,a)=>LC(o,a);const i=J.exports.useRef([]),s=_g.exports.useSyncExternalStoreWithSelector(n,e,t,o=>o,(o,a)=>{if(pA(o)&&pA(a)){for(const l of i.current)if(!r(o[l],a[l]))return!1;return!0}return r(o,a)});if(pA(s)){const o={...s};return Object.defineProperties(o,Object.entries(o).reduce((a,l)=>{let[u,c]=l;return{...a,[u]:{configurable:!1,enumerable:!0,get:()=>(i.current.includes(u)||i.current.push(u),c)}}},{})),o}return s}function _4(){var n,e,t;let{onConnect:r,onDisconnect:i}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=bH(Z1e,vH),o=J.exports.useRef();return!!r&&((n=o.current)===null||n===void 0?void 0:n.status)!=="connected"&&s.status==="connected"&&r({address:s.address,connector:s.connector,isReconnected:((e=o.current)===null||e===void 0?void 0:e.status)==="reconnecting"}),!!i&&((t=o.current)===null||t===void 0?void 0:t.status)=="connected"&&s.status==="disconnected"&&i(),o.current=s,s}function mbe(n){let{addressOrName:e,chainId:t,formatUnits:r,scopeKey:i,token:s}=n;return[{entity:"balance",addressOrName:e,chainId:t,formatUnits:r,scopeKey:i,token:s}]}function gbe(n){let{queryKey:[{addressOrName:e,chainId:t,formatUnits:r,token:i}]}=n;if(!e)throw new Error("address is required");return Q1e({addressOrName:e,chainId:t,formatUnits:r,token:i})}function vbe(){let{addressOrName:n,cacheTime:e,chainId:t,enabled:r=!0,formatUnits:i,scopeKey:s,staleTime:o,suspense:a,token:l,watch:u,onError:c,onSettled:f,onSuccess:d}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const m=t2({chainId:t}),y=e2(mbe({addressOrName:n,chainId:m,formatUnits:i,scopeKey:s,token:l}),gbe,{cacheTime:e,enabled:Boolean(r&&n),staleTime:o,suspense:a,onError:c,onSettled:f,onSuccess:d}),{data:g}=pbe({chainId:m,watch:u});return J.exports.useEffect(()=>{!r||!u||!g||!n||y.refetch()},[g]),y}function wH(){return bH(ebe,yH)}function ybe(n){let{addressOrName:e,chainId:t,scopeKey:r}=n;return[{entity:"ensAvatar",addressOrName:e,chainId:t,scopeKey:r}]}function xbe(n){let{queryKey:[{addressOrName:e,chainId:t}]}=n;if(!e)throw new Error("addressOrName is required");return X1e({addressOrName:e,chainId:t})}function bbe(){let{addressOrName:n,cacheTime:e,chainId:t,enabled:r=!0,scopeKey:i,staleTime:s=1e3*60*60*24,suspense:o,onError:a,onSettled:l,onSuccess:u}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const c=t2({chainId:t});return e2(ybe({addressOrName:n,chainId:c,scopeKey:i}),xbe,{cacheTime:e,enabled:Boolean(r&&n&&c),staleTime:s,suspense:o,onError:a,onSettled:l,onSuccess:u})}function wbe(n){let{address:e,chainId:t,scopeKey:r}=n;return[{entity:"ensName",address:e,chainId:t,scopeKey:r}]}function _be(n){let{queryKey:[{address:e,chainId:t}]}=n;if(!e)throw new Error("address is required");return Y1e({address:e,chainId:t})}function Abe(){let{address:n,cacheTime:e,chainId:t,enabled:r=!0,scopeKey:i,staleTime:s=1e3*60*60*24,suspense:o,onError:a,onSettled:l,onSuccess:u}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const c=t2({chainId:t});return e2(wbe({address:n,chainId:c,scopeKey:i}),_be,{cacheTime:e,enabled:Boolean(r&&n&&c),staleTime:s,suspense:o,onError:a,onSettled:l,onSuccess:u})}const Sbe="0xAf1e15396b8A91D5842245227A09E75A573a03CC",Ebe="0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0",Cbe="0xf6E075A14280b3AEE058955757D6A45158e500f5",_H={skale:Sbe,localhost:Ebe,mumbai:Cbe};function Mbe(){let{apiKey:n=f1e,priority:e,stallTimeout:t,weight:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(i){return i.rpcUrls.alchemy?{chain:{...i,rpcUrls:{...i.rpcUrls,default:`${i.rpcUrls.alchemy}/${n}`}},provider:()=>{const s=new Yw(i.id,n);return Object.assign(s,{priority:e,stallTimeout:t,weight:r})},webSocketProvider:()=>new d4(i.id,n)}:null}}function Tbe(){let{apiKey:n=nH,priority:e,stallTimeout:t,weight:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(i){return i.rpcUrls.infura?{chain:{...i,rpcUrls:{...i.rpcUrls,default:`${i.rpcUrls.infura}/${n}`}},provider:()=>{const s=new Qw(i.id,n);return Object.assign(s,{priority:e,stallTimeout:t,weight:r})},webSocketProvider:()=>new p4(i.id,n)}:null}}function Pbe(){let{priority:n,stallTimeout:e,weight:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(r){return r.rpcUrls.default?{chain:r,provider:()=>{const i=new f4(r.rpcUrls.default,{chainId:r.id,name:r.network});return Object.assign(i,{priority:n,stallTimeout:e,weight:t})}}:null}}const Ibe="modulepreload",Rbe=function(n,e){return new URL(n,e).href},i7={},us=function(e,t,r){if(!t||t.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=Rbe(s,r),s in i7)return;i7[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const f=i[c];if(f.href===s&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":Ibe,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((c,f)=>{u.addEventListener("load",c),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())};var s7='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',Bbe={rounded:`SFRounded, ui-rounded, "SF Pro Rounded", ${s7}`,system:s7},M0={large:{actionButton:"9999px",connectButton:"12px",modal:"24px",modalMobile:"28px"},medium:{actionButton:"10px",connectButton:"8px",modal:"16px",modalMobile:"18px"},none:{actionButton:"0px",connectButton:"0px",modal:"0px",modalMobile:"0px"},small:{actionButton:"4px",connectButton:"4px",modal:"8px",modalMobile:"8px"}},kbe={large:{modalOverlay:"blur(20px)"},none:{modalOverlay:"blur(0px)"},small:{modalOverlay:"blur(4px)"}},Nbe=({borderRadius:n="large",fontStack:e="rounded",overlayBlur:t="none"})=>({blurs:{modalOverlay:kbe[t].modalOverlay},fonts:{body:Bbe[e]},radii:{actionButton:M0[n].actionButton,connectButton:M0[n].connectButton,menuButton:M0[n].connectButton,modal:M0[n].modal,modalMobile:M0[n].modalMobile}}),AH={blue:{accentColor:"#0E76FD",accentColorForeground:"#FFF"},green:{accentColor:"#1DB847",accentColorForeground:"#FFF"},orange:{accentColor:"#FF801F",accentColorForeground:"#FFF"},pink:{accentColor:"#FF5CA0",accentColorForeground:"#FFF"},purple:{accentColor:"#5F5AFA",accentColorForeground:"#FFF"},red:{accentColor:"#FA423C",accentColorForeground:"#FFF"}},o7=AH.blue,SH=({accentColor:n=o7.accentColor,accentColorForeground:e=o7.accentColorForeground,...t}={})=>({...Nbe(t),colors:{accentColor:n,accentColorForeground:e,actionButtonBorder:"rgba(0, 0, 0, 0.04)",actionButtonBorderMobile:"rgba(0, 0, 0, 0.06)",actionButtonSecondaryBackground:"rgba(0, 0, 0, 0.06)",closeButton:"rgba(60, 66, 66, 0.8)",closeButtonBackground:"rgba(0, 0, 0, 0.06)",connectButtonBackground:"#FFF",connectButtonBackgroundError:"#FF494A",connectButtonInnerBackground:"linear-gradient(0deg, rgba(0, 0, 0, 0.03), rgba(0, 0, 0, 0.06))",connectButtonText:"#25292E",connectButtonTextError:"#FFF",connectionIndicator:"#30E000",downloadBottomCardBackground:"linear-gradient(126deg, rgba(255, 255, 255, 0) 9.49%, rgba(171, 171, 171, 0.04) 71.04%), #FFFFFF",downloadTopCardBackground:"linear-gradient(126deg, rgba(171, 171, 171, 0.2) 9.49%, rgba(255, 255, 255, 0) 71.04%), #FFFFFF",error:"#FF494A",generalBorder:"rgba(0, 0, 0, 0.06)",generalBorderDim:"rgba(0, 0, 0, 0.03)",menuItemBackground:"rgba(60, 66, 66, 0.1)",modalBackdrop:"rgba(0, 0, 0, 0.3)",modalBackground:"#FFF",modalBorder:"transparent",modalText:"#25292E",modalTextDim:"rgba(60, 66, 66, 0.3)",modalTextSecondary:"rgba(60, 66, 66, 0.6)",profileAction:"#FFF",profileActionHover:"rgba(255, 255, 255, 0.5)",profileForeground:"rgba(60, 66, 66, 0.06)",selectedOptionBorder:"rgba(60, 66, 66, 0.1)",standby:"#FFD641"},shadows:{connectButton:"0px 4px 12px rgba(0, 0, 0, 0.1)",dialog:"0px 8px 32px rgba(0, 0, 0, 0.32)",profileDetailsAction:"0px 2px 6px rgba(37, 41, 46, 0.04)",selectedOption:"0px 2px 6px rgba(0, 0, 0, 0.24)",selectedWallet:"0px 2px 6px rgba(0, 0, 0, 0.12)",walletLogo:"0px 2px 16px rgba(0, 0, 0, 0.16)"}});SH.accentColors=AH;function Lbe(n,e){return Object.defineProperty(n,"__recipe__",{value:e,writable:!1}),n}var EH=Lbe;function CH(n){var{conditions:e}=n;if(!e)throw new Error("Styles have no conditions");function t(r){if(typeof r=="string"||typeof r=="number"||typeof r=="boolean"){if(!e.defaultCondition)throw new Error("No default condition");return{[e.defaultCondition]:r}}if(Array.isArray(r)){if(!("responsiveArray"in e))throw new Error("Responsive arrays are not supported");var i={};for(var s in e.responsiveArray)r[s]!=null&&(i[e.responsiveArray[s]]=r[s]);return i}return r}return EH(t,{importPath:"@vanilla-extract/sprinkles/createUtils",importName:"createNormalizeValueFn",args:[{conditions:n.conditions}]})}function Dbe(n){var{conditions:e}=n;if(!e)throw new Error("Styles have no conditions");var t=CH(n);function r(i,s){if(typeof i=="string"||typeof i=="number"||typeof i=="boolean"){if(!e.defaultCondition)throw new Error("No default condition");return s(i,e.defaultCondition)}var o=Array.isArray(i)?t(i):i,a={};for(var l in o)o[l]!=null&&(a[l]=s(o[l],l));return a}return EH(r,{importPath:"@vanilla-extract/sprinkles/createUtils",importName:"createMapValueFn",args:[{conditions:n.conditions}]})}function Obe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function a7(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function mA(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?a7(Object(t),!0).forEach(function(r){Obe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):a7(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var Fbe=n=>function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=Object.assign({},...t.map(l=>l.styles)),s=Object.keys(i),o=s.filter(l=>"mappings"in i[l]),a=l=>{var u=[],c={},f=mA({},l),d=!1;for(var m of o){var y=l[m];if(y!=null){var g=i[m];d=!0;for(var v of g.mappings)c[v]=y,f[v]==null&&delete f[v]}}var x=d?mA(mA({},c),f):l;for(var w in x){var b=x[w],A=i[w];try{if(A.mappings)continue;if(typeof b=="string"||typeof b=="number")u.push(A.values[b].defaultClass);else if(Array.isArray(b))for(var M=0;M<b.length;M++){var I=b[M];if(I!=null){var D=A.responsiveArray[M];u.push(A.values[I].conditions[D])}}else for(var P in b){var O=b[P];O!=null&&u.push(A.values[O].conditions[P])}}catch(V){throw V}}return n(u.join(" "))};return Object.assign(a,{properties:new Set(s)})},Ube=n=>n,zbe=function(){return Fbe(Ube)(...arguments)};function MH(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=MH(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function TH(){for(var n=0,e,t,r="";n<arguments.length;)(e=arguments[n++])&&(t=MH(e))&&(r&&(r+=" "),r+=t);return r}var Gbe=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},PH={},Os={};let A4;const Hbe=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Os.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Os.getSymbolTotalCodewords=function(e){return Hbe[e]};Os.getBCHDigit=function(n){let e=0;for(;n!==0;)e++,n>>>=1;return e};Os.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');A4=e};Os.isKanjiModeEnabled=function(){return typeof A4<"u"};Os.toSJIS=function(e){return A4(e)};var n2={};(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,i){if(n.isValid(r))return r;try{return e(r)}catch{return i}}})(n2);function IH(){this.buffer=[],this.length=0}IH.prototype={get:function(n){const e=Math.floor(n/8);return(this.buffer[e]>>>7-n%8&1)===1},put:function(n,e){for(let t=0;t<e;t++)this.putBit((n>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),n&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var jbe=IH;function tv(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}tv.prototype.set=function(n,e,t,r){const i=n*this.size+e;this.data[i]=t,r&&(this.reservedBit[i]=!0)};tv.prototype.get=function(n,e){return this.data[n*this.size+e]};tv.prototype.xor=function(n,e,t){this.data[n*this.size+e]^=t};tv.prototype.isReserved=function(n,e){return this.reservedBit[n*this.size+e]};var Vbe=tv,RH={};(function(n){const e=Os.getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},n.getPositions=function(r){const i=[],s=n.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||i.push([s[a],s[l]]);return i}})(RH);var BH={};const Wbe=Os.getSymbolSize,l7=7;BH.getPositions=function(e){const t=Wbe(e);return[[0,0],[t-l7,0],[0,t-l7]]};var kH={};(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},n.from=function(i){return n.isValid(i)?parseInt(i,10):void 0},n.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,l=0,u=null,c=null;for(let f=0;f<s;f++){a=l=0,u=c=null;for(let d=0;d<s;d++){let m=i.get(f,d);m===u?a++:(a>=5&&(o+=e.N1+(a-5)),u=m,a=1),m=i.get(d,f),m===c?l++:(l>=5&&(o+=e.N1+(l-5)),c=m,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},n.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let l=0;l<s-1;l++){const u=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(u===4||u===0)&&o++}return o*e.N2},n.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,l=0;for(let u=0;u<s;u++){a=l=0;for(let c=0;c<s;c++)a=a<<1&2047|i.get(u,c),c>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|i.get(c,u),c>=10&&(l===1488||l===93)&&o++}return o*e.N3},n.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let l=0;l<o;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function t(r,i,s){switch(r){case n.Patterns.PATTERN000:return(i+s)%2===0;case n.Patterns.PATTERN001:return i%2===0;case n.Patterns.PATTERN010:return s%3===0;case n.Patterns.PATTERN011:return(i+s)%3===0;case n.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case n.Patterns.PATTERN101:return i*s%2+i*s%3===0;case n.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case n.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)s.isReserved(l,a)||s.xor(l,a,t(i,l,a))},n.getBestMask=function(i,s){const o=Object.keys(n.Patterns).length;let a=0,l=1/0;for(let u=0;u<o;u++){s(u),n.applyMask(u,i);const c=n.getPenaltyN1(i)+n.getPenaltyN2(i)+n.getPenaltyN3(i)+n.getPenaltyN4(i);n.applyMask(u,i),c<l&&(l=c,a=u)}return a}})(kH);var r2={};const Iu=n2,zx=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Gx=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];r2.getBlocksCount=function(e,t){switch(t){case Iu.L:return zx[(e-1)*4+0];case Iu.M:return zx[(e-1)*4+1];case Iu.Q:return zx[(e-1)*4+2];case Iu.H:return zx[(e-1)*4+3];default:return}};r2.getTotalCodewordsCount=function(e,t){switch(t){case Iu.L:return Gx[(e-1)*4+0];case Iu.M:return Gx[(e-1)*4+1];case Iu.Q:return Gx[(e-1)*4+2];case Iu.H:return Gx[(e-1)*4+3];default:return}};var NH={},i2={};const pm=new Uint8Array(512),Lb=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)pm[t]=e,Lb[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)pm[t]=pm[t-255]})();i2.log=function(e){if(e<1)throw new Error("log("+e+")");return Lb[e]};i2.exp=function(e){return pm[e]};i2.mul=function(e,t){return e===0||t===0?0:pm[Lb[e]+Lb[t]]};(function(n){const e=i2;n.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},n.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let l=0;l<i.length;l++)s[l]^=e.mul(i[l],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},n.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=n.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(NH);const LH=NH;function S4(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}S4.prototype.initialize=function(e){this.degree=e,this.genPoly=LH.generateECPolynomial(this.degree)};S4.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const r=LH.mod(t,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var qbe=S4,DH={},dc={},E4={};E4.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Oa={};const OH="[0-9]+",Kbe="[A-Z $%*+\\-./:]+";let mg="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";mg=mg.replace(/u/g,"\\u");const Jbe="(?:(?![A-Z0-9 $%*+\\-./:]|"+mg+`)(?:.|[\r
]))+`;Oa.KANJI=new RegExp(mg,"g");Oa.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Oa.BYTE=new RegExp(Jbe,"g");Oa.NUMERIC=new RegExp(OH,"g");Oa.ALPHANUMERIC=new RegExp(Kbe,"g");const $be=new RegExp("^"+mg+"$"),Xbe=new RegExp("^"+OH+"$"),Ybe=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Oa.testKanji=function(e){return $be.test(e)};Oa.testNumeric=function(e){return Xbe.test(e)};Oa.testAlphanumeric=function(e){return Ybe.test(e)};(function(n){const e=E4,t=Oa;n.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},n.getBestModeForData=function(s){return t.testNumeric(s)?n.NUMERIC:t.testAlphanumeric(s)?n.ALPHANUMERIC:t.testKanji(s)?n.KANJI:n.BYTE},n.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},n.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+i)}}n.from=function(s,o){if(n.isValid(s))return s;try{return r(s)}catch{return o}}})(dc);(function(n){const e=Os,t=r2,r=n2,i=dc,s=E4,o=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,a=e.getBCHDigit(o);function l(d,m,y){for(let g=1;g<=40;g++)if(m<=n.getCapacity(g,y,d))return g}function u(d,m){return i.getCharCountIndicator(d,m)+4}function c(d,m){let y=0;return d.forEach(function(g){const v=u(g.mode,m);y+=v+g.getBitsLength()}),y}function f(d,m){for(let y=1;y<=40;y++)if(c(d,y)<=n.getCapacity(y,m,i.MIXED))return y}n.from=function(m,y){return s.isValid(m)?parseInt(m,10):y},n.getCapacity=function(m,y,g){if(!s.isValid(m))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=i.BYTE);const v=e.getSymbolTotalCodewords(m),x=t.getTotalCodewordsCount(m,y),w=(v-x)*8;if(g===i.MIXED)return w;const b=w-u(g,m);switch(g){case i.NUMERIC:return Math.floor(b/10*3);case i.ALPHANUMERIC:return Math.floor(b/11*2);case i.KANJI:return Math.floor(b/13);case i.BYTE:default:return Math.floor(b/8)}},n.getBestVersionForData=function(m,y){let g;const v=r.from(y,r.M);if(Array.isArray(m)){if(m.length>1)return f(m,v);if(m.length===0)return 1;g=m[0]}else g=m;return l(g.mode,g.getLength(),v)},n.getEncodedBits=function(m){if(!s.isValid(m)||m<7)throw new Error("Invalid QR Code version");let y=m<<12;for(;e.getBCHDigit(y)-a>=0;)y^=o<<e.getBCHDigit(y)-a;return m<<12|y}})(DH);var FH={};const zC=Os,UH=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,Qbe=1<<14|1<<12|1<<10|1<<4|1<<1,u7=zC.getBCHDigit(UH);FH.getEncodedBits=function(e,t){const r=e.bit<<3|t;let i=r<<10;for(;zC.getBCHDigit(i)-u7>=0;)i^=UH<<zC.getBCHDigit(i)-u7;return(r<<10|i)^Qbe};var zH={};const Zbe=dc;function tp(n){this.mode=Zbe.NUMERIC,this.data=n.toString()}tp.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};tp.prototype.getLength=function(){return this.data.length};tp.prototype.getBitsLength=function(){return tp.getBitsLength(this.data.length)};tp.prototype.write=function(e){let t,r,i;for(t=0;t+3<=this.data.length;t+=3)r=this.data.substr(t,3),i=parseInt(r,10),e.put(i,10);const s=this.data.length-t;s>0&&(r=this.data.substr(t),i=parseInt(r,10),e.put(i,s*3+1))};var ewe=tp;const twe=dc,gA=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function np(n){this.mode=twe.ALPHANUMERIC,this.data=n}np.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};np.prototype.getLength=function(){return this.data.length};np.prototype.getBitsLength=function(){return np.getBitsLength(this.data.length)};np.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let r=gA.indexOf(this.data[t])*45;r+=gA.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(gA.indexOf(this.data[t]),6)};var nwe=np,rwe=function(e){for(var t=[],r=e.length,i=0;i<r;i++){var s=e.charCodeAt(i);if(s>=55296&&s<=56319&&r>i+1){var o=e.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){t.push(s);continue}if(s<2048){t.push(s>>6|192),t.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){t.push(s>>12|224),t.push(s>>6&63|128),t.push(s&63|128);continue}if(s>=65536&&s<=1114111){t.push(s>>18|240),t.push(s>>12&63|128),t.push(s>>6&63|128),t.push(s&63|128);continue}t.push(239,191,189)}return new Uint8Array(t).buffer};const iwe=rwe,swe=dc;function rp(n){this.mode=swe.BYTE,this.data=new Uint8Array(iwe(n))}rp.getBitsLength=function(e){return e*8};rp.prototype.getLength=function(){return this.data.length};rp.prototype.getBitsLength=function(){return rp.getBitsLength(this.data.length)};rp.prototype.write=function(n){for(let e=0,t=this.data.length;e<t;e++)n.put(this.data[e],8)};var owe=rp;const awe=dc,lwe=Os;function ip(n){this.mode=awe.KANJI,this.data=n}ip.getBitsLength=function(e){return e*13};ip.prototype.getLength=function(){return this.data.length};ip.prototype.getBitsLength=function(){return ip.getBitsLength(this.data.length)};ip.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let t=lwe.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),n.put(t,13)}};var uwe=ip,GH={exports:{}};(function(n){var e={single_source_shortest_paths:function(t,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,u,c,f,d,m,y,g,v;!a.empty();){l=a.pop(),u=l.value,f=l.cost,d=t[u]||{};for(c in d)d.hasOwnProperty(c)&&(m=d[c],y=f+m,g=o[c],v=typeof o[c]>"u",(v||g>y)&&(o[c]=y,a.push(c,y),s[c]=u))}if(typeof i<"u"&&typeof o[i]>"u"){var x=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(x)}return s},extract_shortest_path_from_predecessor_list:function(t,r){for(var i=[],s=r;s;)i.push(s),t[s],s=t[s];return i.reverse(),i},find_path:function(t,r,i){var s=e.single_source_shortest_paths(t,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(t){var r=e.PriorityQueue,i={},s;t=t||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=t.sorter||r.default_sorter,i},default_sorter:function(t,r){return t.cost-r.cost},push:function(t,r){var i={value:t,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e})(GH);(function(n){const e=dc,t=ewe,r=nwe,i=owe,s=uwe,o=Oa,a=Os,l=GH.exports;function u(x){return unescape(encodeURIComponent(x)).length}function c(x,w,b){const A=[];let M;for(;(M=x.exec(b))!==null;)A.push({data:M[0],index:M.index,mode:w,length:M[0].length});return A}function f(x){const w=c(o.NUMERIC,e.NUMERIC,x),b=c(o.ALPHANUMERIC,e.ALPHANUMERIC,x);let A,M;return a.isKanjiModeEnabled()?(A=c(o.BYTE,e.BYTE,x),M=c(o.KANJI,e.KANJI,x)):(A=c(o.BYTE_KANJI,e.BYTE,x),M=[]),w.concat(b,A,M).sort(function(D,P){return D.index-P.index}).map(function(D){return{data:D.data,mode:D.mode,length:D.length}})}function d(x,w){switch(w){case e.NUMERIC:return t.getBitsLength(x);case e.ALPHANUMERIC:return r.getBitsLength(x);case e.KANJI:return s.getBitsLength(x);case e.BYTE:return i.getBitsLength(x)}}function m(x){return x.reduce(function(w,b){const A=w.length-1>=0?w[w.length-1]:null;return A&&A.mode===b.mode?(w[w.length-1].data+=b.data,w):(w.push(b),w)},[])}function y(x){const w=[];for(let b=0;b<x.length;b++){const A=x[b];switch(A.mode){case e.NUMERIC:w.push([A,{data:A.data,mode:e.ALPHANUMERIC,length:A.length},{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.ALPHANUMERIC:w.push([A,{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.KANJI:w.push([A,{data:A.data,mode:e.BYTE,length:u(A.data)}]);break;case e.BYTE:w.push([{data:A.data,mode:e.BYTE,length:u(A.data)}])}}return w}function g(x,w){const b={},A={start:{}};let M=["start"];for(let I=0;I<x.length;I++){const D=x[I],P=[];for(let O=0;O<D.length;O++){const V=D[O],q=""+I+O;P.push(q),b[q]={node:V,lastCount:0},A[q]={};for(let ne=0;ne<M.length;ne++){const H=M[ne];b[H]&&b[H].node.mode===V.mode?(A[H][q]=d(b[H].lastCount+V.length,V.mode)-d(b[H].lastCount,V.mode),b[H].lastCount+=V.length):(b[H]&&(b[H].lastCount=V.length),A[H][q]=d(V.length,V.mode)+4+e.getCharCountIndicator(V.mode,w))}}M=P}for(let I=0;I<M.length;I++)A[M[I]].end=0;return{map:A,table:b}}function v(x,w){let b;const A=e.getBestModeForData(x);if(b=e.from(w,A),b!==e.BYTE&&b.bit<A.bit)throw new Error('"'+x+'" cannot be encoded with mode '+e.toString(b)+`.
 Suggested mode is: `+e.toString(A));switch(b===e.KANJI&&!a.isKanjiModeEnabled()&&(b=e.BYTE),b){case e.NUMERIC:return new t(x);case e.ALPHANUMERIC:return new r(x);case e.KANJI:return new s(x);case e.BYTE:return new i(x)}}n.fromArray=function(w){return w.reduce(function(b,A){return typeof A=="string"?b.push(v(A,null)):A.data&&b.push(v(A.data,A.mode)),b},[])},n.fromString=function(w,b){const A=f(w,a.isKanjiModeEnabled()),M=y(A),I=g(M,b),D=l.find_path(I.map,"start","end"),P=[];for(let O=1;O<D.length-1;O++)P.push(I.table[D[O]].node);return n.fromArray(m(P))},n.rawSplit=function(w){return n.fromArray(f(w,a.isKanjiModeEnabled()))}})(zH);const s2=Os,vA=n2,cwe=jbe,fwe=Vbe,dwe=RH,hwe=BH,GC=kH,HC=r2,pwe=qbe,Db=DH,mwe=FH,gwe=dc,yA=zH;function vwe(n,e){const t=n.size,r=hwe.getPositions(e);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||t<=s+a))for(let l=-1;l<=7;l++)o+l<=-1||t<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?n.set(s+a,o+l,!0,!0):n.set(s+a,o+l,!1,!0))}}function ywe(n){const e=n.size;for(let t=8;t<e-8;t++){const r=t%2===0;n.set(t,6,r,!0),n.set(6,t,r,!0)}}function xwe(n,e){const t=dwe.getPositions(e);for(let r=0;r<t.length;r++){const i=t[r][0],s=t[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?n.set(i+o,s+a,!0,!0):n.set(i+o,s+a,!1,!0)}}function bwe(n,e){const t=n.size,r=Db.getEncodedBits(e);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+t-8-3,o=(r>>a&1)===1,n.set(i,s,o,!0),n.set(s,i,o,!0)}function xA(n,e,t){const r=n.size,i=mwe.getEncodedBits(e,t);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?n.set(s,8,o,!0):s<8?n.set(s+1,8,o,!0):n.set(r-15+s,8,o,!0),s<8?n.set(8,r-s-1,o,!0):s<9?n.set(8,15-s-1+1,o,!0):n.set(8,15-s-1,o,!0);n.set(r-8,8,1,!0)}function wwe(n,e){const t=n.size;let r=-1,i=t-1,s=7,o=0;for(let a=t-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!n.isReserved(i,a-l)){let u=!1;o<e.length&&(u=(e[o]>>>s&1)===1),n.set(i,a-l,u),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||t<=i){i-=r,r=-r;break}}}function _we(n,e,t){const r=new cwe;t.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),gwe.getCharCountIndicator(l.mode,n)),l.write(r)});const i=s2.getSymbolTotalCodewords(n),s=HC.getTotalCodewordsCount(n,e),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return Awe(r,n,e)}function Awe(n,e,t){const r=s2.getSymbolTotalCodewords(e),i=HC.getTotalCodewordsCount(e,t),s=r-i,o=HC.getBlocksCount(e,t),a=r%o,l=o-a,u=Math.floor(r/o),c=Math.floor(s/o),f=c+1,d=u-c,m=new pwe(d);let y=0;const g=new Array(o),v=new Array(o);let x=0;const w=new Uint8Array(n.buffer);for(let D=0;D<o;D++){const P=D<l?c:f;g[D]=w.slice(y,y+P),v[D]=m.encode(g[D]),y+=P,x=Math.max(x,P)}const b=new Uint8Array(r);let A=0,M,I;for(M=0;M<x;M++)for(I=0;I<o;I++)M<g[I].length&&(b[A++]=g[I][M]);for(M=0;M<d;M++)for(I=0;I<o;I++)b[A++]=v[I][M];return b}function Swe(n,e,t,r){let i;if(Array.isArray(n))i=yA.fromArray(n);else if(typeof n=="string"){let u=e;if(!u){const c=yA.rawSplit(n);u=Db.getBestVersionForData(c,t)}i=yA.fromString(n,u||40)}else throw new Error("Invalid data");const s=Db.getBestVersionForData(i,t);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=_we(e,t,i),a=s2.getSymbolSize(e),l=new fwe(a);return vwe(l,e),ywe(l),xwe(l,e),xA(l,t,0),e>=7&&bwe(l,e),wwe(l,o),isNaN(r)&&(r=GC.getBestMask(l,xA.bind(null,l,t))),GC.applyMask(r,l),xA(l,t,r),{modules:l,version:e,errorCorrectionLevel:t,maskPattern:r,segments:i}}PH.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let r=vA.M,i,s;return typeof t<"u"&&(r=vA.from(t.errorCorrectionLevel,vA.M),i=Db.from(t.version),s=GC.from(t.maskPattern),t.toSJISFunc&&s2.setToSJISFunction(t.toSJISFunc)),Swe(e,i,r,s)};var HH={},C4={};(function(n){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let r=t.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+t);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},n.getImageWidth=function(r,i){const s=n.getScale(r,i);return Math.floor((r+i.margin*2)*s)},n.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,l=n.getScale(o,s),u=Math.floor((o+s.margin*2)*l),c=s.margin*l,f=[s.color.light,s.color.dark];for(let d=0;d<u;d++)for(let m=0;m<u;m++){let y=(d*u+m)*4,g=s.color.light;if(d>=c&&m>=c&&d<u-c&&m<u-c){const v=Math.floor((d-c)/l),x=Math.floor((m-c)/l);g=f[a[v*o+x]?1:0]}r[y++]=g.r,r[y++]=g.g,r[y++]=g.b,r[y]=g.a}}})(C4);(function(n){const e=C4;function t(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(s,o,a){let l=a,u=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(u=r()),l=e.getOptions(l);const c=e.getImageWidth(s.modules.size,l),f=u.getContext("2d"),d=f.createImageData(c,c);return e.qrToImageData(d.data,s,l),t(f,u,c),f.putImageData(d,0,0),u},n.renderToDataURL=function(s,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const u=n.render(s,o,l),c=l.type||"image/png",f=l.rendererOpts||{};return u.toDataURL(c,f.quality)}})(HH);var jH={};const Ewe=C4;function c7(n,e){const t=n.a/255,r=e+'="'+n.hex+'"';return t<1?r+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':r}function bA(n,e,t){let r=n+e;return typeof t<"u"&&(r+=" "+t),r}function Cwe(n,e,t){let r="",i=0,s=!1,o=0;for(let a=0;a<n.length;a++){const l=Math.floor(a%e),u=Math.floor(a/e);!l&&!s&&(s=!0),n[a]?(o++,a>0&&l>0&&n[a-1]||(r+=s?bA("M",l+t,.5+u+t):bA("m",i,0),i=0,s=!1),l+1<e&&n[a+1]||(r+=bA("h",o),o=0)):i++}return r}jH.render=function(e,t,r){const i=Ewe.getOptions(t),s=e.modules.size,o=e.modules.data,a=s+i.margin*2,l=i.color.light.a?"<path "+c7(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",u="<path "+c7(i.color.dark,"stroke")+' d="'+Cwe(o,s,i.margin)+'"/>',c='viewBox="0 0 '+a+" "+a+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+c+' shape-rendering="crispEdges">'+l+u+`</svg>
`;return typeof r=="function"&&r(null,d),d};const Mwe=Gbe,jC=PH,VH=HH,Twe=jH;function M4(n,e,t,r,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!Mwe())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=t,t=e,e=r=void 0):o===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=t,t=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(t=e,e=r=void 0):o===2&&!e.getContext&&(r=t,t=e,e=void 0),new Promise(function(l,u){try{const c=jC.create(t,r);l(n(c,e,r))}catch(c){u(c)}})}try{const l=jC.create(t,r);i(null,n(l,e,r))}catch(l){i(l)}}jC.create;M4.bind(null,VH.render);M4.bind(null,VH.renderToDataURL);M4.bind(null,function(n,e,t){return Twe.render(n,t)});Dbe({conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0}});CH({conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0}});var VC=zbe({conditions:{defaultCondition:"base",conditionNames:["base","hover","active"],responsiveArray:void 0},styles:{background:{values:{accentColor:{conditions:{base:"ju367v9c",hover:"ju367v9d",active:"ju367v9e"},defaultClass:"ju367v9c"},accentColorForeground:{conditions:{base:"ju367v9f",hover:"ju367v9g",active:"ju367v9h"},defaultClass:"ju367v9f"},actionButtonBorder:{conditions:{base:"ju367v9i",hover:"ju367v9j",active:"ju367v9k"},defaultClass:"ju367v9i"},actionButtonBorderMobile:{conditions:{base:"ju367v9l",hover:"ju367v9m",active:"ju367v9n"},defaultClass:"ju367v9l"},actionButtonSecondaryBackground:{conditions:{base:"ju367v9o",hover:"ju367v9p",active:"ju367v9q"},defaultClass:"ju367v9o"},closeButton:{conditions:{base:"ju367v9r",hover:"ju367v9s",active:"ju367v9t"},defaultClass:"ju367v9r"},closeButtonBackground:{conditions:{base:"ju367v9u",hover:"ju367v9v",active:"ju367v9w"},defaultClass:"ju367v9u"},connectButtonBackground:{conditions:{base:"ju367v9x",hover:"ju367v9y",active:"ju367v9z"},defaultClass:"ju367v9x"},connectButtonBackgroundError:{conditions:{base:"ju367va0",hover:"ju367va1",active:"ju367va2"},defaultClass:"ju367va0"},connectButtonInnerBackground:{conditions:{base:"ju367va3",hover:"ju367va4",active:"ju367va5"},defaultClass:"ju367va3"},connectButtonText:{conditions:{base:"ju367va6",hover:"ju367va7",active:"ju367va8"},defaultClass:"ju367va6"},connectButtonTextError:{conditions:{base:"ju367va9",hover:"ju367vaa",active:"ju367vab"},defaultClass:"ju367va9"},connectionIndicator:{conditions:{base:"ju367vac",hover:"ju367vad",active:"ju367vae"},defaultClass:"ju367vac"},downloadBottomCardBackground:{conditions:{base:"ju367vaf",hover:"ju367vag",active:"ju367vah"},defaultClass:"ju367vaf"},downloadTopCardBackground:{conditions:{base:"ju367vai",hover:"ju367vaj",active:"ju367vak"},defaultClass:"ju367vai"},error:{conditions:{base:"ju367val",hover:"ju367vam",active:"ju367van"},defaultClass:"ju367val"},generalBorder:{conditions:{base:"ju367vao",hover:"ju367vap",active:"ju367vaq"},defaultClass:"ju367vao"},generalBorderDim:{conditions:{base:"ju367var",hover:"ju367vas",active:"ju367vat"},defaultClass:"ju367var"},menuItemBackground:{conditions:{base:"ju367vau",hover:"ju367vav",active:"ju367vaw"},defaultClass:"ju367vau"},modalBackdrop:{conditions:{base:"ju367vax",hover:"ju367vay",active:"ju367vaz"},defaultClass:"ju367vax"},modalBackground:{conditions:{base:"ju367vb0",hover:"ju367vb1",active:"ju367vb2"},defaultClass:"ju367vb0"},modalBorder:{conditions:{base:"ju367vb3",hover:"ju367vb4",active:"ju367vb5"},defaultClass:"ju367vb3"},modalText:{conditions:{base:"ju367vb6",hover:"ju367vb7",active:"ju367vb8"},defaultClass:"ju367vb6"},modalTextDim:{conditions:{base:"ju367vb9",hover:"ju367vba",active:"ju367vbb"},defaultClass:"ju367vb9"},modalTextSecondary:{conditions:{base:"ju367vbc",hover:"ju367vbd",active:"ju367vbe"},defaultClass:"ju367vbc"},profileAction:{conditions:{base:"ju367vbf",hover:"ju367vbg",active:"ju367vbh"},defaultClass:"ju367vbf"},profileActionHover:{conditions:{base:"ju367vbi",hover:"ju367vbj",active:"ju367vbk"},defaultClass:"ju367vbi"},profileForeground:{conditions:{base:"ju367vbl",hover:"ju367vbm",active:"ju367vbn"},defaultClass:"ju367vbl"},selectedOptionBorder:{conditions:{base:"ju367vbo",hover:"ju367vbp",active:"ju367vbq"},defaultClass:"ju367vbo"},standby:{conditions:{base:"ju367vbr",hover:"ju367vbs",active:"ju367vbt"},defaultClass:"ju367vbr"}}},borderColor:{values:{accentColor:{conditions:{base:"ju367vbu",hover:"ju367vbv",active:"ju367vbw"},defaultClass:"ju367vbu"},accentColorForeground:{conditions:{base:"ju367vbx",hover:"ju367vby",active:"ju367vbz"},defaultClass:"ju367vbx"},actionButtonBorder:{conditions:{base:"ju367vc0",hover:"ju367vc1",active:"ju367vc2"},defaultClass:"ju367vc0"},actionButtonBorderMobile:{conditions:{base:"ju367vc3",hover:"ju367vc4",active:"ju367vc5"},defaultClass:"ju367vc3"},actionButtonSecondaryBackground:{conditions:{base:"ju367vc6",hover:"ju367vc7",active:"ju367vc8"},defaultClass:"ju367vc6"},closeButton:{conditions:{base:"ju367vc9",hover:"ju367vca",active:"ju367vcb"},defaultClass:"ju367vc9"},closeButtonBackground:{conditions:{base:"ju367vcc",hover:"ju367vcd",active:"ju367vce"},defaultClass:"ju367vcc"},connectButtonBackground:{conditions:{base:"ju367vcf",hover:"ju367vcg",active:"ju367vch"},defaultClass:"ju367vcf"},connectButtonBackgroundError:{conditions:{base:"ju367vci",hover:"ju367vcj",active:"ju367vck"},defaultClass:"ju367vci"},connectButtonInnerBackground:{conditions:{base:"ju367vcl",hover:"ju367vcm",active:"ju367vcn"},defaultClass:"ju367vcl"},connectButtonText:{conditions:{base:"ju367vco",hover:"ju367vcp",active:"ju367vcq"},defaultClass:"ju367vco"},connectButtonTextError:{conditions:{base:"ju367vcr",hover:"ju367vcs",active:"ju367vct"},defaultClass:"ju367vcr"},connectionIndicator:{conditions:{base:"ju367vcu",hover:"ju367vcv",active:"ju367vcw"},defaultClass:"ju367vcu"},downloadBottomCardBackground:{conditions:{base:"ju367vcx",hover:"ju367vcy",active:"ju367vcz"},defaultClass:"ju367vcx"},downloadTopCardBackground:{conditions:{base:"ju367vd0",hover:"ju367vd1",active:"ju367vd2"},defaultClass:"ju367vd0"},error:{conditions:{base:"ju367vd3",hover:"ju367vd4",active:"ju367vd5"},defaultClass:"ju367vd3"},generalBorder:{conditions:{base:"ju367vd6",hover:"ju367vd7",active:"ju367vd8"},defaultClass:"ju367vd6"},generalBorderDim:{conditions:{base:"ju367vd9",hover:"ju367vda",active:"ju367vdb"},defaultClass:"ju367vd9"},menuItemBackground:{conditions:{base:"ju367vdc",hover:"ju367vdd",active:"ju367vde"},defaultClass:"ju367vdc"},modalBackdrop:{conditions:{base:"ju367vdf",hover:"ju367vdg",active:"ju367vdh"},defaultClass:"ju367vdf"},modalBackground:{conditions:{base:"ju367vdi",hover:"ju367vdj",active:"ju367vdk"},defaultClass:"ju367vdi"},modalBorder:{conditions:{base:"ju367vdl",hover:"ju367vdm",active:"ju367vdn"},defaultClass:"ju367vdl"},modalText:{conditions:{base:"ju367vdo",hover:"ju367vdp",active:"ju367vdq"},defaultClass:"ju367vdo"},modalTextDim:{conditions:{base:"ju367vdr",hover:"ju367vds",active:"ju367vdt"},defaultClass:"ju367vdr"},modalTextSecondary:{conditions:{base:"ju367vdu",hover:"ju367vdv",active:"ju367vdw"},defaultClass:"ju367vdu"},profileAction:{conditions:{base:"ju367vdx",hover:"ju367vdy",active:"ju367vdz"},defaultClass:"ju367vdx"},profileActionHover:{conditions:{base:"ju367ve0",hover:"ju367ve1",active:"ju367ve2"},defaultClass:"ju367ve0"},profileForeground:{conditions:{base:"ju367ve3",hover:"ju367ve4",active:"ju367ve5"},defaultClass:"ju367ve3"},selectedOptionBorder:{conditions:{base:"ju367ve6",hover:"ju367ve7",active:"ju367ve8"},defaultClass:"ju367ve6"},standby:{conditions:{base:"ju367ve9",hover:"ju367vea",active:"ju367veb"},defaultClass:"ju367ve9"}}},boxShadow:{values:{connectButton:{conditions:{base:"ju367vec",hover:"ju367ved",active:"ju367vee"},defaultClass:"ju367vec"},dialog:{conditions:{base:"ju367vef",hover:"ju367veg",active:"ju367veh"},defaultClass:"ju367vef"},profileDetailsAction:{conditions:{base:"ju367vei",hover:"ju367vej",active:"ju367vek"},defaultClass:"ju367vei"},selectedOption:{conditions:{base:"ju367vel",hover:"ju367vem",active:"ju367ven"},defaultClass:"ju367vel"},selectedWallet:{conditions:{base:"ju367veo",hover:"ju367vep",active:"ju367veq"},defaultClass:"ju367veo"},walletLogo:{conditions:{base:"ju367ver",hover:"ju367ves",active:"ju367vet"},defaultClass:"ju367ver"}}},color:{values:{accentColor:{conditions:{base:"ju367veu",hover:"ju367vev",active:"ju367vew"},defaultClass:"ju367veu"},accentColorForeground:{conditions:{base:"ju367vex",hover:"ju367vey",active:"ju367vez"},defaultClass:"ju367vex"},actionButtonBorder:{conditions:{base:"ju367vf0",hover:"ju367vf1",active:"ju367vf2"},defaultClass:"ju367vf0"},actionButtonBorderMobile:{conditions:{base:"ju367vf3",hover:"ju367vf4",active:"ju367vf5"},defaultClass:"ju367vf3"},actionButtonSecondaryBackground:{conditions:{base:"ju367vf6",hover:"ju367vf7",active:"ju367vf8"},defaultClass:"ju367vf6"},closeButton:{conditions:{base:"ju367vf9",hover:"ju367vfa",active:"ju367vfb"},defaultClass:"ju367vf9"},closeButtonBackground:{conditions:{base:"ju367vfc",hover:"ju367vfd",active:"ju367vfe"},defaultClass:"ju367vfc"},connectButtonBackground:{conditions:{base:"ju367vff",hover:"ju367vfg",active:"ju367vfh"},defaultClass:"ju367vff"},connectButtonBackgroundError:{conditions:{base:"ju367vfi",hover:"ju367vfj",active:"ju367vfk"},defaultClass:"ju367vfi"},connectButtonInnerBackground:{conditions:{base:"ju367vfl",hover:"ju367vfm",active:"ju367vfn"},defaultClass:"ju367vfl"},connectButtonText:{conditions:{base:"ju367vfo",hover:"ju367vfp",active:"ju367vfq"},defaultClass:"ju367vfo"},connectButtonTextError:{conditions:{base:"ju367vfr",hover:"ju367vfs",active:"ju367vft"},defaultClass:"ju367vfr"},connectionIndicator:{conditions:{base:"ju367vfu",hover:"ju367vfv",active:"ju367vfw"},defaultClass:"ju367vfu"},downloadBottomCardBackground:{conditions:{base:"ju367vfx",hover:"ju367vfy",active:"ju367vfz"},defaultClass:"ju367vfx"},downloadTopCardBackground:{conditions:{base:"ju367vg0",hover:"ju367vg1",active:"ju367vg2"},defaultClass:"ju367vg0"},error:{conditions:{base:"ju367vg3",hover:"ju367vg4",active:"ju367vg5"},defaultClass:"ju367vg3"},generalBorder:{conditions:{base:"ju367vg6",hover:"ju367vg7",active:"ju367vg8"},defaultClass:"ju367vg6"},generalBorderDim:{conditions:{base:"ju367vg9",hover:"ju367vga",active:"ju367vgb"},defaultClass:"ju367vg9"},menuItemBackground:{conditions:{base:"ju367vgc",hover:"ju367vgd",active:"ju367vge"},defaultClass:"ju367vgc"},modalBackdrop:{conditions:{base:"ju367vgf",hover:"ju367vgg",active:"ju367vgh"},defaultClass:"ju367vgf"},modalBackground:{conditions:{base:"ju367vgi",hover:"ju367vgj",active:"ju367vgk"},defaultClass:"ju367vgi"},modalBorder:{conditions:{base:"ju367vgl",hover:"ju367vgm",active:"ju367vgn"},defaultClass:"ju367vgl"},modalText:{conditions:{base:"ju367vgo",hover:"ju367vgp",active:"ju367vgq"},defaultClass:"ju367vgo"},modalTextDim:{conditions:{base:"ju367vgr",hover:"ju367vgs",active:"ju367vgt"},defaultClass:"ju367vgr"},modalTextSecondary:{conditions:{base:"ju367vgu",hover:"ju367vgv",active:"ju367vgw"},defaultClass:"ju367vgu"},profileAction:{conditions:{base:"ju367vgx",hover:"ju367vgy",active:"ju367vgz"},defaultClass:"ju367vgx"},profileActionHover:{conditions:{base:"ju367vh0",hover:"ju367vh1",active:"ju367vh2"},defaultClass:"ju367vh0"},profileForeground:{conditions:{base:"ju367vh3",hover:"ju367vh4",active:"ju367vh5"},defaultClass:"ju367vh3"},selectedOptionBorder:{conditions:{base:"ju367vh6",hover:"ju367vh7",active:"ju367vh8"},defaultClass:"ju367vh6"},standby:{conditions:{base:"ju367vh9",hover:"ju367vha",active:"ju367vhb"},defaultClass:"ju367vh9"}}}}},{conditions:{defaultCondition:"smallScreen",conditionNames:["smallScreen","largeScreen"],responsiveArray:void 0},styles:{alignItems:{values:{"flex-start":{conditions:{smallScreen:"ju367v0",largeScreen:"ju367v1"},defaultClass:"ju367v0"},"flex-end":{conditions:{smallScreen:"ju367v2",largeScreen:"ju367v3"},defaultClass:"ju367v2"},center:{conditions:{smallScreen:"ju367v4",largeScreen:"ju367v5"},defaultClass:"ju367v4"}}},display:{values:{none:{conditions:{smallScreen:"ju367v6",largeScreen:"ju367v7"},defaultClass:"ju367v6"},block:{conditions:{smallScreen:"ju367v8",largeScreen:"ju367v9"},defaultClass:"ju367v8"},flex:{conditions:{smallScreen:"ju367va",largeScreen:"ju367vb"},defaultClass:"ju367va"},inline:{conditions:{smallScreen:"ju367vc",largeScreen:"ju367vd"},defaultClass:"ju367vc"}}}}},{conditions:void 0,styles:{margin:{mappings:["marginTop","marginBottom","marginLeft","marginRight"]},marginX:{mappings:["marginLeft","marginRight"]},marginY:{mappings:["marginTop","marginBottom"]},padding:{mappings:["paddingTop","paddingBottom","paddingLeft","paddingRight"]},paddingX:{mappings:["paddingLeft","paddingRight"]},paddingY:{mappings:["paddingTop","paddingBottom"]},alignSelf:{values:{"flex-start":{defaultClass:"ju367ve"},"flex-end":{defaultClass:"ju367vf"},center:{defaultClass:"ju367vg"}}},backgroundSize:{values:{cover:{defaultClass:"ju367vh"}}},borderRadius:{values:{1:{defaultClass:"ju367vi"},6:{defaultClass:"ju367vj"},10:{defaultClass:"ju367vk"},13:{defaultClass:"ju367vl"},actionButton:{defaultClass:"ju367vm"},connectButton:{defaultClass:"ju367vn"},menuButton:{defaultClass:"ju367vo"},modal:{defaultClass:"ju367vp"},modalMobile:{defaultClass:"ju367vq"},"25%":{defaultClass:"ju367vr"},full:{defaultClass:"ju367vs"}}},borderStyle:{values:{solid:{defaultClass:"ju367vt"}}},borderWidth:{values:{0:{defaultClass:"ju367vu"},1:{defaultClass:"ju367vv"},2:{defaultClass:"ju367vw"},4:{defaultClass:"ju367vx"}}},cursor:{values:{pointer:{defaultClass:"ju367vy"}}},flexDirection:{values:{row:{defaultClass:"ju367vz"},column:{defaultClass:"ju367v10"}}},fontFamily:{values:{body:{defaultClass:"ju367v11"}}},fontSize:{values:{12:{defaultClass:"ju367v12"},13:{defaultClass:"ju367v13"},14:{defaultClass:"ju367v14"},16:{defaultClass:"ju367v15"},18:{defaultClass:"ju367v16"},20:{defaultClass:"ju367v17"},23:{defaultClass:"ju367v18"}}},fontWeight:{values:{regular:{defaultClass:"ju367v19"},medium:{defaultClass:"ju367v1a"},semibold:{defaultClass:"ju367v1b"},bold:{defaultClass:"ju367v1c"},heavy:{defaultClass:"ju367v1d"}}},gap:{values:{0:{defaultClass:"ju367v1e"},1:{defaultClass:"ju367v1f"},2:{defaultClass:"ju367v1g"},3:{defaultClass:"ju367v1h"},4:{defaultClass:"ju367v1i"},5:{defaultClass:"ju367v1j"},6:{defaultClass:"ju367v1k"},8:{defaultClass:"ju367v1l"},10:{defaultClass:"ju367v1m"},12:{defaultClass:"ju367v1n"},14:{defaultClass:"ju367v1o"},16:{defaultClass:"ju367v1p"},18:{defaultClass:"ju367v1q"},20:{defaultClass:"ju367v1r"},24:{defaultClass:"ju367v1s"},28:{defaultClass:"ju367v1t"},32:{defaultClass:"ju367v1u"},36:{defaultClass:"ju367v1v"},44:{defaultClass:"ju367v1w"},64:{defaultClass:"ju367v1x"},"-1":{defaultClass:"ju367v1y"}}},height:{values:{1:{defaultClass:"ju367v1z"},2:{defaultClass:"ju367v20"},4:{defaultClass:"ju367v21"},8:{defaultClass:"ju367v22"},12:{defaultClass:"ju367v23"},20:{defaultClass:"ju367v24"},24:{defaultClass:"ju367v25"},28:{defaultClass:"ju367v26"},30:{defaultClass:"ju367v27"},32:{defaultClass:"ju367v28"},34:{defaultClass:"ju367v29"},36:{defaultClass:"ju367v2a"},40:{defaultClass:"ju367v2b"},44:{defaultClass:"ju367v2c"},48:{defaultClass:"ju367v2d"},54:{defaultClass:"ju367v2e"},60:{defaultClass:"ju367v2f"},200:{defaultClass:"ju367v2g"},full:{defaultClass:"ju367v2h"},max:{defaultClass:"ju367v2i"}}},justifyContent:{values:{"flex-start":{defaultClass:"ju367v2j"},"flex-end":{defaultClass:"ju367v2k"},center:{defaultClass:"ju367v2l"},"space-between":{defaultClass:"ju367v2m"},"space-around":{defaultClass:"ju367v2n"}}},textAlign:{values:{left:{defaultClass:"ju367v2o"},center:{defaultClass:"ju367v2p"},inherit:{defaultClass:"ju367v2q"}}},marginBottom:{values:{0:{defaultClass:"ju367v2r"},1:{defaultClass:"ju367v2s"},2:{defaultClass:"ju367v2t"},3:{defaultClass:"ju367v2u"},4:{defaultClass:"ju367v2v"},5:{defaultClass:"ju367v2w"},6:{defaultClass:"ju367v2x"},8:{defaultClass:"ju367v2y"},10:{defaultClass:"ju367v2z"},12:{defaultClass:"ju367v30"},14:{defaultClass:"ju367v31"},16:{defaultClass:"ju367v32"},18:{defaultClass:"ju367v33"},20:{defaultClass:"ju367v34"},24:{defaultClass:"ju367v35"},28:{defaultClass:"ju367v36"},32:{defaultClass:"ju367v37"},36:{defaultClass:"ju367v38"},44:{defaultClass:"ju367v39"},64:{defaultClass:"ju367v3a"},"-1":{defaultClass:"ju367v3b"}}},marginLeft:{values:{0:{defaultClass:"ju367v3c"},1:{defaultClass:"ju367v3d"},2:{defaultClass:"ju367v3e"},3:{defaultClass:"ju367v3f"},4:{defaultClass:"ju367v3g"},5:{defaultClass:"ju367v3h"},6:{defaultClass:"ju367v3i"},8:{defaultClass:"ju367v3j"},10:{defaultClass:"ju367v3k"},12:{defaultClass:"ju367v3l"},14:{defaultClass:"ju367v3m"},16:{defaultClass:"ju367v3n"},18:{defaultClass:"ju367v3o"},20:{defaultClass:"ju367v3p"},24:{defaultClass:"ju367v3q"},28:{defaultClass:"ju367v3r"},32:{defaultClass:"ju367v3s"},36:{defaultClass:"ju367v3t"},44:{defaultClass:"ju367v3u"},64:{defaultClass:"ju367v3v"},"-1":{defaultClass:"ju367v3w"}}},marginRight:{values:{0:{defaultClass:"ju367v3x"},1:{defaultClass:"ju367v3y"},2:{defaultClass:"ju367v3z"},3:{defaultClass:"ju367v40"},4:{defaultClass:"ju367v41"},5:{defaultClass:"ju367v42"},6:{defaultClass:"ju367v43"},8:{defaultClass:"ju367v44"},10:{defaultClass:"ju367v45"},12:{defaultClass:"ju367v46"},14:{defaultClass:"ju367v47"},16:{defaultClass:"ju367v48"},18:{defaultClass:"ju367v49"},20:{defaultClass:"ju367v4a"},24:{defaultClass:"ju367v4b"},28:{defaultClass:"ju367v4c"},32:{defaultClass:"ju367v4d"},36:{defaultClass:"ju367v4e"},44:{defaultClass:"ju367v4f"},64:{defaultClass:"ju367v4g"},"-1":{defaultClass:"ju367v4h"}}},marginTop:{values:{0:{defaultClass:"ju367v4i"},1:{defaultClass:"ju367v4j"},2:{defaultClass:"ju367v4k"},3:{defaultClass:"ju367v4l"},4:{defaultClass:"ju367v4m"},5:{defaultClass:"ju367v4n"},6:{defaultClass:"ju367v4o"},8:{defaultClass:"ju367v4p"},10:{defaultClass:"ju367v4q"},12:{defaultClass:"ju367v4r"},14:{defaultClass:"ju367v4s"},16:{defaultClass:"ju367v4t"},18:{defaultClass:"ju367v4u"},20:{defaultClass:"ju367v4v"},24:{defaultClass:"ju367v4w"},28:{defaultClass:"ju367v4x"},32:{defaultClass:"ju367v4y"},36:{defaultClass:"ju367v4z"},44:{defaultClass:"ju367v50"},64:{defaultClass:"ju367v51"},"-1":{defaultClass:"ju367v52"}}},maxWidth:{values:{1:{defaultClass:"ju367v53"},2:{defaultClass:"ju367v54"},4:{defaultClass:"ju367v55"},8:{defaultClass:"ju367v56"},12:{defaultClass:"ju367v57"},20:{defaultClass:"ju367v58"},24:{defaultClass:"ju367v59"},28:{defaultClass:"ju367v5a"},30:{defaultClass:"ju367v5b"},32:{defaultClass:"ju367v5c"},34:{defaultClass:"ju367v5d"},36:{defaultClass:"ju367v5e"},40:{defaultClass:"ju367v5f"},44:{defaultClass:"ju367v5g"},48:{defaultClass:"ju367v5h"},54:{defaultClass:"ju367v5i"},60:{defaultClass:"ju367v5j"},200:{defaultClass:"ju367v5k"},full:{defaultClass:"ju367v5l"},max:{defaultClass:"ju367v5m"}}},minWidth:{values:{1:{defaultClass:"ju367v5n"},2:{defaultClass:"ju367v5o"},4:{defaultClass:"ju367v5p"},8:{defaultClass:"ju367v5q"},12:{defaultClass:"ju367v5r"},20:{defaultClass:"ju367v5s"},24:{defaultClass:"ju367v5t"},28:{defaultClass:"ju367v5u"},30:{defaultClass:"ju367v5v"},32:{defaultClass:"ju367v5w"},34:{defaultClass:"ju367v5x"},36:{defaultClass:"ju367v5y"},40:{defaultClass:"ju367v5z"},44:{defaultClass:"ju367v60"},48:{defaultClass:"ju367v61"},54:{defaultClass:"ju367v62"},60:{defaultClass:"ju367v63"},200:{defaultClass:"ju367v64"},full:{defaultClass:"ju367v65"},max:{defaultClass:"ju367v66"}}},overflow:{values:{hidden:{defaultClass:"ju367v67"}}},paddingBottom:{values:{0:{defaultClass:"ju367v68"},1:{defaultClass:"ju367v69"},2:{defaultClass:"ju367v6a"},3:{defaultClass:"ju367v6b"},4:{defaultClass:"ju367v6c"},5:{defaultClass:"ju367v6d"},6:{defaultClass:"ju367v6e"},8:{defaultClass:"ju367v6f"},10:{defaultClass:"ju367v6g"},12:{defaultClass:"ju367v6h"},14:{defaultClass:"ju367v6i"},16:{defaultClass:"ju367v6j"},18:{defaultClass:"ju367v6k"},20:{defaultClass:"ju367v6l"},24:{defaultClass:"ju367v6m"},28:{defaultClass:"ju367v6n"},32:{defaultClass:"ju367v6o"},36:{defaultClass:"ju367v6p"},44:{defaultClass:"ju367v6q"},64:{defaultClass:"ju367v6r"},"-1":{defaultClass:"ju367v6s"}}},paddingLeft:{values:{0:{defaultClass:"ju367v6t"},1:{defaultClass:"ju367v6u"},2:{defaultClass:"ju367v6v"},3:{defaultClass:"ju367v6w"},4:{defaultClass:"ju367v6x"},5:{defaultClass:"ju367v6y"},6:{defaultClass:"ju367v6z"},8:{defaultClass:"ju367v70"},10:{defaultClass:"ju367v71"},12:{defaultClass:"ju367v72"},14:{defaultClass:"ju367v73"},16:{defaultClass:"ju367v74"},18:{defaultClass:"ju367v75"},20:{defaultClass:"ju367v76"},24:{defaultClass:"ju367v77"},28:{defaultClass:"ju367v78"},32:{defaultClass:"ju367v79"},36:{defaultClass:"ju367v7a"},44:{defaultClass:"ju367v7b"},64:{defaultClass:"ju367v7c"},"-1":{defaultClass:"ju367v7d"}}},paddingRight:{values:{0:{defaultClass:"ju367v7e"},1:{defaultClass:"ju367v7f"},2:{defaultClass:"ju367v7g"},3:{defaultClass:"ju367v7h"},4:{defaultClass:"ju367v7i"},5:{defaultClass:"ju367v7j"},6:{defaultClass:"ju367v7k"},8:{defaultClass:"ju367v7l"},10:{defaultClass:"ju367v7m"},12:{defaultClass:"ju367v7n"},14:{defaultClass:"ju367v7o"},16:{defaultClass:"ju367v7p"},18:{defaultClass:"ju367v7q"},20:{defaultClass:"ju367v7r"},24:{defaultClass:"ju367v7s"},28:{defaultClass:"ju367v7t"},32:{defaultClass:"ju367v7u"},36:{defaultClass:"ju367v7v"},44:{defaultClass:"ju367v7w"},64:{defaultClass:"ju367v7x"},"-1":{defaultClass:"ju367v7y"}}},paddingTop:{values:{0:{defaultClass:"ju367v7z"},1:{defaultClass:"ju367v80"},2:{defaultClass:"ju367v81"},3:{defaultClass:"ju367v82"},4:{defaultClass:"ju367v83"},5:{defaultClass:"ju367v84"},6:{defaultClass:"ju367v85"},8:{defaultClass:"ju367v86"},10:{defaultClass:"ju367v87"},12:{defaultClass:"ju367v88"},14:{defaultClass:"ju367v89"},16:{defaultClass:"ju367v8a"},18:{defaultClass:"ju367v8b"},20:{defaultClass:"ju367v8c"},24:{defaultClass:"ju367v8d"},28:{defaultClass:"ju367v8e"},32:{defaultClass:"ju367v8f"},36:{defaultClass:"ju367v8g"},44:{defaultClass:"ju367v8h"},64:{defaultClass:"ju367v8i"},"-1":{defaultClass:"ju367v8j"}}},position:{values:{absolute:{defaultClass:"ju367v8k"},fixed:{defaultClass:"ju367v8l"},relative:{defaultClass:"ju367v8m"}}},right:{values:{0:{defaultClass:"ju367v8n"}}},transition:{values:{default:{defaultClass:"ju367v8o"},transform:{defaultClass:"ju367v8p"}}},userSelect:{values:{none:{defaultClass:"ju367v8q"}}},width:{values:{1:{defaultClass:"ju367v8r"},2:{defaultClass:"ju367v8s"},4:{defaultClass:"ju367v8t"},8:{defaultClass:"ju367v8u"},12:{defaultClass:"ju367v8v"},20:{defaultClass:"ju367v8w"},24:{defaultClass:"ju367v8x"},28:{defaultClass:"ju367v8y"},30:{defaultClass:"ju367v8z"},32:{defaultClass:"ju367v90"},34:{defaultClass:"ju367v91"},36:{defaultClass:"ju367v92"},40:{defaultClass:"ju367v93"},44:{defaultClass:"ju367v94"},48:{defaultClass:"ju367v95"},54:{defaultClass:"ju367v96"},60:{defaultClass:"ju367v97"},200:{defaultClass:"ju367v98"},full:{defaultClass:"ju367v99"},max:{defaultClass:"ju367v9a"}}},backdropFilter:{values:{modalOverlay:{defaultClass:"ju367v9b"}}}}}),Pwe={shrink:"_12cbo8i6",shrinkSm:"_12cbo8i7"},Iwe="_12cbo8i3 ju367v8m",Rwe={grow:"_12cbo8i4",growLg:"_12cbo8i5"};function Bwe({active:n,hover:e}){return[Iwe,e&&Rwe[e],Pwe[n]]}var kwe=J.exports.createContext(null);function Nwe(){var n;const e=J.exports.useContext(kwe);return(n=e?.status)!=null?n:null}function T4(){return typeof navigator<"u"&&/android/i.test(navigator.userAgent)}function WH(){return typeof navigator<"u"&&/iPhone|iPod/.test(navigator.userAgent)}function Lwe(){return typeof navigator<"u"&&/iPad/.test(navigator.userAgent)}function qH(){return WH()||Lwe()}function KH(){return T4()||WH()}var Dwe="iekbcc0",Owe={a:"iekbcca",blockquote:"iekbcc2",button:"iekbcc9",input:"iekbcc8 iekbcc5 iekbcc4",mark:"iekbcc6",ol:"iekbcc1",q:"iekbcc2",select:"iekbcc7 iekbcc5 iekbcc4",table:"iekbcc3",textarea:"iekbcc5 iekbcc4",ul:"iekbcc1"},Fwe=({reset:n,...e})=>{if(!n)return VC(e);const t=Owe[n],r=VC(e);return TH(Dwe,t,r)},xf=J.exports.forwardRef(({as:n="div",className:e,testId:t,...r},i)=>{const s={},o={};for(const l in r)VC.properties.has(l)?s[l]=r[l]:o[l]=r[l];const a=Fwe({reset:typeof n=="string"?n:"div",...s});return J.exports.createElement(n,{className:TH(a,e),...o,"data-testid":t?`rk-${t.replace(/^rk-/,"")}`:void 0,ref:i})});xf.displayName="Box";var JH=new Map,wA=new Map;async function Uwe(n){const e=wA.get(n);if(e)return e;const t=async()=>n().then(async i=>(JH.set(n,i),i)),r=t().catch(i=>t().catch(s=>{wA.delete(n)}));return wA.set(n,r),r}function zwe(){const[,n]=J.exports.useReducer(e=>e+1,0);return n}function Gwe(n){const e=typeof n=="function"?JH.get(n):void 0,t=zwe();return J.exports.useEffect(()=>{typeof n=="function"&&!e&&Uwe(n).then(t)},[n,e,t]),typeof n=="function"?e:n}var Hwe="_1luule42",jwe="_1luule43",Vwe=n=>J.exports.useMemo(()=>`${n}_${Math.round(Math.random()*1e9)}`,[n]),Wwe=({height:n=21,width:e=21})=>{const t=Vwe("spinner");return Ar.createElement("svg",{className:Hwe,fill:"none",height:n,viewBox:"0 0 21 21",width:e,xmlns:"http://www.w3.org/2000/svg"},Ar.createElement("clipPath",{id:t},Ar.createElement("path",{d:"M10.5 3C6.35786 3 3 6.35786 3 10.5C3 14.6421 6.35786 18 10.5 18C11.3284 18 12 18.6716 12 19.5C12 20.3284 11.3284 21 10.5 21C4.70101 21 0 16.299 0 10.5C0 4.70101 4.70101 0 10.5 0C16.299 0 21 4.70101 21 10.5C21 11.3284 20.3284 12 19.5 12C18.6716 12 18 11.3284 18 10.5C18 6.35786 14.6421 3 10.5 3Z"})),Ar.createElement("foreignObject",{clipPath:`url(#${t})`,height:"21",width:"21",x:"0",y:"0"},Ar.createElement("div",{className:jwe})))},Qt=["#FC5C54","#FFD95A","#E95D72","#6A87C8","#5FD0F3","#75C06B","#FFDD86","#5FC6D4","#FF949A","#FF8024","#9BA1A4","#EC66FF","#FF8CBC","#FF9A23","#C5DADB","#A8CE63","#71ABFF","#FFE279","#B6B1B6","#FF6780","#A575FF","#4D82FF","#FFB35A"],f7=[{color:Qt[0],emoji:"\u{1F336}"},{color:Qt[1],emoji:"\u{1F911}"},{color:Qt[2],emoji:"\u{1F419}"},{color:Qt[3],emoji:"\u{1FAD0}"},{color:Qt[4],emoji:"\u{1F433}"},{color:Qt[0],emoji:"\u{1F936}"},{color:Qt[5],emoji:"\u{1F332}"},{color:Qt[6],emoji:"\u{1F31E}"},{color:Qt[7],emoji:"\u{1F412}"},{color:Qt[8],emoji:"\u{1F435}"},{color:Qt[9],emoji:"\u{1F98A}"},{color:Qt[10],emoji:"\u{1F43C}"},{color:Qt[11],emoji:"\u{1F984}"},{color:Qt[12],emoji:"\u{1F437}"},{color:Qt[13],emoji:"\u{1F427}"},{color:Qt[8],emoji:"\u{1F9A9}"},{color:Qt[14],emoji:"\u{1F47D}"},{color:Qt[0],emoji:"\u{1F388}"},{color:Qt[8],emoji:"\u{1F349}"},{color:Qt[1],emoji:"\u{1F389}"},{color:Qt[15],emoji:"\u{1F432}"},{color:Qt[16],emoji:"\u{1F30E}"},{color:Qt[17],emoji:"\u{1F34A}"},{color:Qt[18],emoji:"\u{1F42D}"},{color:Qt[19],emoji:"\u{1F363}"},{color:Qt[1],emoji:"\u{1F425}"},{color:Qt[20],emoji:"\u{1F47E}"},{color:Qt[15],emoji:"\u{1F966}"},{color:Qt[0],emoji:"\u{1F479}"},{color:Qt[17],emoji:"\u{1F640}"},{color:Qt[4],emoji:"\u26F1"},{color:Qt[21],emoji:"\u26F5\uFE0F"},{color:Qt[17],emoji:"\u{1F973}"},{color:Qt[8],emoji:"\u{1F92F}"},{color:Qt[22],emoji:"\u{1F920}"}];function qwe(n){let e=0;if(n.length===0)return e;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);e=(e<<5)-e+r,e|=0}return e}function Kwe(n){const t=Math.abs(qwe((typeof n=="string"?n:"").toLowerCase())%f7.length);return f7[t??0]}var Jwe=({address:n,ensImage:e,size:t})=>{const[r,i]=J.exports.useState(!1);J.exports.useEffect(()=>{if(e){const a=new Image;a.src=e,a.onload=()=>i(!0)}},[e]);const{color:s,emoji:o}=J.exports.useMemo(()=>Kwe(n),[n]);return e?r?Ar.createElement(xf,{backgroundSize:"cover",borderRadius:"full",position:"absolute",style:{backgroundImage:`url(${e})`,backgroundPosition:"center",height:t,width:t}}):Ar.createElement(xf,{alignItems:"center",backgroundSize:"cover",borderRadius:"full",color:"modalText",display:"flex",justifyContent:"center",position:"absolute",style:{height:t,width:t}},Ar.createElement(Wwe,null)):Ar.createElement(xf,{alignItems:"center",display:"flex",justifyContent:"center",overflow:"hidden",style:{...!e&&{backgroundColor:s},height:t,width:t}},o)},$we=Jwe;J.exports.createContext($we);function Xwe(n){return n!=null}var d7={iconBackground:"#96bedc",iconUrl:async()=>(await us(()=>import("./arbitrum-RJBKFWDE.0cd40f4a.js"),[],import.meta.url)).default},h7={iconBackground:"#e84141",iconUrl:async()=>(await us(()=>import("./avalanche-GTODSNSK.b30de94a.js"),[],import.meta.url)).default},Bc={iconBackground:"#484c50",iconUrl:async()=>(await us(()=>import("./ethereum-TCZSTHSI.5bed1467.js"),[],import.meta.url)).default},Ywe={iconBackground:"#f9f7ec",iconUrl:async()=>(await us(()=>import("./hardhat-VJNBZ2P3.04d4e147.js"),[],import.meta.url)).default},_A={iconBackground:"#ff5a57",iconUrl:async()=>(await us(()=>import("./optimism-3QUIF6AD.2a76d8de.js"),[],import.meta.url)).default},p7={iconBackground:"#9f71ec",iconUrl:async()=>(await us(()=>import("./polygon-JVGMAJ3S.2f649b66.js"),[],import.meta.url)).default},Qwe={arbitrum:{chainId:42161,...d7},arbitrumRinkeby:{chainId:421611,...d7},avalanche:{chainId:43114,...h7},avalancheFuji:{chainId:43113,...h7},goerli:{chainId:5,...Bc},hardhat:{chainId:31337,...Ywe},kovan:{chainId:42,...Bc},localhost:{chainId:1337,...Bc},mainnet:{chainId:1,...Bc},optimism:{chainId:10,..._A},optimismGoerli:{chainId:420,..._A},optimismKovan:{chainId:69,..._A},polygon:{chainId:137,...p7},polygonMumbai:{chainId:80001,...p7},rinkeby:{chainId:4,...Bc},ropsten:{chainId:3,...Bc},sepolia:{chainId:11155111,...Bc}};Object.fromEntries(Object.values(Qwe).filter(Xwe).map(({chainId:n,...e})=>[n,e]));var Zwe=J.exports.createContext({chains:[]}),e2e=()=>J.exports.useContext(Zwe).chains,t2e=()=>{const n=e2e();return J.exports.useMemo(()=>{const e={};return n.forEach(t=>{e[t.id]=t}),e},[n])},n2e=()=>{const[n,e]=J.exports.useReducer(()=>!0,!1);return J.exports.useEffect(e,[e]),n};function $H(){const n=hm.mainnet.id,e=w4(),t=Array.isArray(e.chains)?e.chains:[],r=t?.some(i=>i?.id===n);return{chainId:n,enabled:r}}function r2e(n){const{chainId:e,enabled:t}=$H(),{data:r}=bbe({addressOrName:n,chainId:e,enabled:t});return r}function i2e(n){const{chainId:e,enabled:t}=$H(),{data:r}=Abe({address:n,chainId:e,enabled:t});return r}function s2e(){var n;const{chain:e}=wH();return(n=e?.id)!=null?n:null}var o2e=J.exports.createContext(null);function a2e(){const n=J.exports.useContext(o2e);if(!n)throw new Error("Transaction hooks must be used within RainbowKitProvider");return n}function l2e(){const n=a2e(),{address:e}=_4(),t=s2e(),[r,i]=J.exports.useState(()=>n&&e&&t?n.getTransactions(e,t):[]);return J.exports.useEffect(()=>{if(n&&e&&t)return i(n.getTransactions(e,t)),n.onChange(()=>{i(n.getTransactions(e,t))})},[n,e,t]),r}var u2e={appName:void 0,disclaimer:void 0,learnMoreUrl:"https://learn.rainbow.me/what-is-a-cryptoweb3-wallet-actually"};J.exports.createContext(u2e);J.exports.createContext(!1);var c2e={COMPACT:"compact",WIDE:"wide"};J.exports.createContext(c2e.WIDE);var f2e=J.exports.createContext(!1),d2e=Ar.forwardRef(({as:n="div",children:e,className:t,color:r,display:i,font:s="body",id:o,size:a="16",style:l,tabIndex:u,textAlign:c="inherit",weight:f="regular"},d)=>Ar.createElement(xf,{as:n,className:t,color:r,display:i,fontFamily:s,fontSize:a,fontWeight:f,id:o,ref:d,style:l,tabIndex:u,textAlign:c},e));d2e.displayName="Text";J.exports.createContext(void 0);SH();var m7=["k","m","b","t"];function Hx(n,e=1){return n.toString().replace(new RegExp(`(.+\\.\\d{${e}})\\d+`),"$1").replace(/(\.[1-9]*)0+$/,"$1").replace(/\.$/,"")}function h2e(n){if(n<1)return Hx(n,3);if(n<10**2)return Hx(n,2);if(n<10**4)return new Intl.NumberFormat().format(parseFloat(Hx(n,1)));const e=10**1;let t=String(n);for(let r=m7.length-1;r>=0;r--){const i=10**((r+1)*3);if(i<=n){n=n*e/i/e,t=Hx(n,1)+m7[r];break}}return t}function p2e(n){return n.length<4+4?n:`${n.substring(0,4)}\u2026${n.substring(n.length-4)}`}function m2e(n){const e=n.split("."),t=e.pop();return e.join(".").length>24?`${e.join(".").substring(0,24)}...`:`${e.join(".")}.${t}`}var g2e="v9horb0",v2e=Ar.forwardRef(({children:n,currentlySelected:e=!1,onClick:t,testId:r,...i},s)=>{const o=KH();return Ar.createElement(xf,{as:"button",borderRadius:"menuButton",disabled:e,display:"flex",onClick:t,ref:s,testId:r,type:"button"},Ar.createElement(xf,{borderRadius:"menuButton",className:[o?g2e:void 0,!e&&Bwe({active:"shrink"})],padding:o?"8":"6",transition:"default",width:"full",...e?{background:"accentColor",borderColor:"selectedOptionBorder",borderStyle:"solid",borderWidth:"1",boxShadow:"selectedOption",color:"accentColorForeground"}:{background:{hover:"menuItemBackground"},color:"modalText",transition:"default"},...i},n))});v2e.displayName="MenuButton";var y2e=n=>/^#([0-9a-f]{3}){1,2}$/i.test(n),o2=J.exports.createContext({accountModalOpen:!1,chainModalOpen:!1,connectModalOpen:!1});function x2e(){const{accountModalOpen:n,chainModalOpen:e,connectModalOpen:t}=J.exports.useContext(o2);return{accountModalOpen:n,chainModalOpen:e,connectModalOpen:t}}function b2e(){const{openAccountModal:n}=J.exports.useContext(o2);return{openAccountModal:n}}function w2e(){const{openChainModal:n}=J.exports.useContext(o2);return{openChainModal:n}}function _2e(){const{openConnectModal:n}=J.exports.useContext(o2);return{openConnectModal:n}}var AA=()=>{};function A2e({children:n}){var e,t,r;const i=n2e(),{address:s}=_4(),o=r2e(s),a=i2e(s),{data:l}=vbe({addressOrName:s}),{chain:u}=wH(),c=t2e(),f=(e=Nwe())!=null?e:void 0,d=u?c[u.id]:void 0,m=(t=d?.iconUrl)!=null?t:void 0,y=(r=d?.iconBackground)!=null?r:void 0,g=Gwe(m),v=J.exports.useContext(f2e),x=l2e().some(({status:O})=>O==="pending")&&v,w=l?`${h2e(parseFloat(l.formatted))} ${l.symbol}`:void 0,{openConnectModal:b}=_2e(),{openChainModal:A}=w2e(),{openAccountModal:M}=b2e(),{accountModalOpen:I,chainModalOpen:D,connectModalOpen:P}=x2e();return Ar.createElement(Ar.Fragment,null,n({account:s?{address:s,balanceDecimals:l?.decimals,balanceFormatted:l?.formatted,balanceSymbol:l?.symbol,displayBalance:w,displayName:a?m2e(a):p2e(s),ensAvatar:o??void 0,ensName:a??void 0,hasPendingTransactions:x}:void 0,accountModalOpen:I,authenticationStatus:f,chain:u?{hasIcon:Boolean(m),iconBackground:y,iconUrl:g,id:u.id,name:u.name,unsupported:u.unsupported}:void 0,chainModalOpen:D,connectModalOpen:P,mounted:i,openAccountModal:M??AA,openChainModal:A??AA,openConnectModal:b??AA}))}A2e.displayName="ConnectButton.Custom";const S2e=/(imtoken|metamask|rainbow)/i;var jx=new WeakMap,g7=new WeakSet;class XH extends x4{constructor(e){super(e),pg(this,g7),Ct(this,"id","walletConnect"),Ct(this,"name","WalletConnect"),Ct(this,"ready",!0),Rl(this,jx,{writable:!0,value:void 0}),Ct(this,"onAccountsChanged",t=>{t.length===0?this.emit("disconnect"):this.emit("change",{account:mr.getAddress(t[0])})}),Ct(this,"onChainChanged",t=>{const r=Zh(t),i=this.isChainUnsupported(r);this.emit("change",{chain:{id:r,unsupported:i}})}),Ct(this,"onDisconnect",()=>{this.emit("disconnect")})}async connect(){let{chainId:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};try{var t,r;let i=e;if(!i){const f=ri().lastUsedChainId;f&&!this.isChainUnsupported(f)&&(i=f)}const s=await this.getProvider({chainId:i,create:!0});s.on("accountsChanged",this.onAccountsChanged),s.on("chainChanged",this.onChainChanged),s.on("disconnect",this.onDisconnect),setTimeout(()=>this.emit("message",{type:"connecting"}),0);const o=await s.enable(),a=mr.getAddress(o[0]),l=await this.getChainId(),u=this.isChainUnsupported(l),c=((t=s.connector)===null||t===void 0||(r=t.peerMeta)===null||r===void 0?void 0:r.name)??"";return S2e.test(c)&&(this.switchChain=ec(this,g7,E2e)),{account:a,chain:{id:l,unsupported:u},provider:new Ff(s)}}catch(i){throw/user closed modal/i.test(i.message)?new gl(i):i}}async disconnect(){const e=await this.getProvider();await e.disconnect(),e.removeListener("accountsChanged",this.onAccountsChanged),e.removeListener("chainChanged",this.onChainChanged),e.removeListener("disconnect",this.onDisconnect),typeof localStorage<"u"&&localStorage.removeItem("walletconnect")}async getAccount(){const t=(await this.getProvider()).accounts;return mr.getAddress(t[0])}async getChainId(){const e=await this.getProvider();return Zh(e.chainId)}async getProvider(){let{chainId:e,create:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!Zi(this,jx)||e||t){var r,i;const s=(r=this.options)!==null&&r!==void 0&&r.infuraId?{}:this.chains.reduce((a,l)=>({...a,[l.id]:l.rpcUrls.default}),{}),o=(await us(()=>import("./index.8651fa5f.js"),["./index.8651fa5f.js","./index.83764fde.js"],import.meta.url)).default;oo(this,jx,new o({...this.options,chainId:e,rpc:{...s,...(i=this.options)===null||i===void 0?void 0:i.rpc}}))}return Zi(this,jx)}async getSigner(){let{chainId:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const[t,r]=await Promise.all([this.getProvider({chainId:e}),this.getAccount()]);return new Ff(t,e).getSigner(r)}async isAuthorized(){try{return!!await this.getAccount()}catch{return!1}}}async function E2e(n){const e=await this.getProvider(),t=mr.hexValue(n);try{return await e.request({method:"wallet_switchEthereumChain",params:[{chainId:t}]}),this.chains.find(r=>r.id===n)??{id:n,name:`Chain ${t}`,network:`${t}`,rpcUrls:{default:""}}}catch(r){const i=typeof r=="string"?r:r?.message;throw/user rejected request/i.test(i)?new gl(r):new y4(r)}}var Vx=new WeakMap,T0=new WeakMap,SA=new WeakSet;class C2e extends x4{constructor(e){let{chains:t,options:r}=e;super({chains:t,options:{reloadOnDisconnect:!1,...r}}),pg(this,SA),Ct(this,"id","coinbaseWallet"),Ct(this,"name","Coinbase Wallet"),Ct(this,"ready",!0),Rl(this,Vx,{writable:!0,value:void 0}),Rl(this,T0,{writable:!0,value:void 0}),Ct(this,"onAccountsChanged",i=>{i.length===0?this.emit("disconnect"):this.emit("change",{account:mr.getAddress(i[0])})}),Ct(this,"onChainChanged",i=>{const s=Zh(i),o=this.isChainUnsupported(s);this.emit("change",{chain:{id:s,unsupported:o}})}),Ct(this,"onDisconnect",()=>{this.emit("disconnect")})}async connect(){let{chainId:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};try{const t=await this.getProvider();t.on("accountsChanged",this.onAccountsChanged),t.on("chainChanged",this.onChainChanged),t.on("disconnect",this.onDisconnect),this.emit("message",{type:"connecting"});const r=await t.enable(),i=mr.getAddress(r[0]);let s=await this.getChainId(),o=this.isChainUnsupported(s);return e&&s!==e&&(s=(await this.switchChain(e)).id,o=this.isChainUnsupported(s)),{account:i,chain:{id:s,unsupported:o},provider:new Ff(t)}}catch(t){throw/(user closed modal|accounts received is empty)/i.test(t.message)?new gl(t):t}}async disconnect(){if(!Zi(this,T0))return;const e=await this.getProvider();e.removeListener("accountsChanged",this.onAccountsChanged),e.removeListener("chainChanged",this.onChainChanged),e.removeListener("disconnect",this.onDisconnect),e.disconnect(),e.close()}async getAccount(){const t=await(await this.getProvider()).request({method:"eth_accounts"});return mr.getAddress(t[0])}async getChainId(){const e=await this.getProvider();return Zh(e.chainId)}async getProvider(){if(!Zi(this,T0)){var e;let t=(await us(()=>import("./index.5882b865.js").then(a=>a.i),["./index.5882b865.js","./index.83764fde.js"],import.meta.url)).default;typeof t!="function"&&typeof t.default=="function"&&(t=t.default),oo(this,Vx,new t(this.options));const r=(e=Zi(this,Vx).walletExtension)===null||e===void 0?void 0:e.getChainId(),i=this.chains.find(a=>this.options.chainId?a.id===this.options.chainId:a.id===r)||this.chains[0],s=this.options.chainId||i?.id,o=this.options.jsonRpcUrl||i?.rpcUrls.default;oo(this,T0,Zi(this,Vx).makeWeb3Provider(o,s))}return Zi(this,T0)}async getSigner(){let{chainId:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const[t,r]=await Promise.all([this.getProvider(),this.getAccount()]);return new Ff(t,e).getSigner(r)}async isAuthorized(){try{return!!await this.getAccount()}catch{return!1}}async switchChain(e){const t=await this.getProvider(),r=mr.hexValue(e);try{return await t.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]}),this.chains.find(i=>i.id===e)??{id:e,name:`Chain ${r}`,network:`${r}`,rpcUrls:{default:""}}}catch(i){const s=this.chains.find(o=>o.id===e);if(!s)throw new dH({chainId:e,connectorId:this.id});if(i.code===4902)try{return await t.request({method:"wallet_addEthereumChain",params:[{chainId:r,chainName:s.name,nativeCurrency:s.nativeCurrency,rpcUrls:[s.rpcUrls.public??s.rpcUrls.default],blockExplorerUrls:this.getBlockExplorerUrls(s)}]}),s}catch(o){throw ec(this,SA,v7).call(this,o)?new gl(o):new fH}throw ec(this,SA,v7).call(this,i)?new gl(i):new y4(i)}}async watchAsset(e){let{address:t,decimals:r=18,image:i,symbol:s}=e;return(await this.getProvider()).request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:t,decimals:r,image:i,symbol:s}}})}}function v7(n){return/(user rejected)/i.test(n.message)}var EA=new WeakMap,CA=new WeakMap,WC=new WeakSet,MA=new WeakSet;class M2e extends ep{constructor(){let{chains:e,options:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r={name:"MetaMask",shimDisconnect:!0,shimChainChangedDisconnect:!0,...t};super({chains:e,options:r}),pg(this,MA),pg(this,WC),Ct(this,"id","metaMask"),Ct(this,"ready",typeof window<"u"&&!!ec(this,MA,x7).call(this,window.ethereum)),Rl(this,EA,{writable:!0,value:void 0}),Rl(this,CA,{writable:!0,value:void 0}),oo(this,CA,r.UNSTABLE_shimOnConnectSelectAccount)}async connect(){let{chainId:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};try{var t,r,i,s;const o=await this.getProvider();if(!o)throw new zc;o.on&&(o.on("accountsChanged",this.onAccountsChanged),o.on("chainChanged",this.onChainChanged),o.on("disconnect",this.onDisconnect)),this.emit("message",{type:"connecting"}),Zi(this,CA)&&(t=this.options)!==null&&t!==void 0&&t.shimDisconnect&&!((r=ri().storage)!==null&&r!==void 0&&r.getItem(this.shimDisconnectKey))&&!!(await o.request({method:"eth_accounts"}).catch(()=>[]))[0]&&await o.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});const a=await this.getAccount();let l=await this.getChainId(),u=this.isChainUnsupported(l);return e&&l!==e&&(l=(await this.switchChain(e)).id,u=this.isChainUnsupported(l)),(i=this.options)!==null&&i!==void 0&&i.shimDisconnect&&((s=ri().storage)===null||s===void 0||s.setItem(this.shimDisconnectKey,!0)),{account:a,chain:{id:l,unsupported:u},provider:o}}catch(o){throw this.isUserRejectedRequestError(o)?new gl(o):o.code===-32002?new pH(o):o}}async getProvider(){return typeof window<"u"&&oo(this,EA,ec(this,MA,x7).call(this,window.ethereum)),Zi(this,EA)}}function y7(n){if(!!(n!=null&&n.isMetaMask)&&!(n.isBraveWallet&&!n._events&&!n._state)&&!n.isTokenPocket&&!n.isTokenary&&!n.isAvalanche&&!n.isPortal&&!n.isKuCoinWallet)return n}function x7(n){return n!=null&&n.providers?n.providers.find(ec(this,WC,y7)):ec(this,WC,y7).call(this,n)}function T2e(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>t!==void 0))}var P2e=n=>()=>{let e=-1;const t=[],r=[],i=[],s=[];return n.forEach(({groupName:a,wallets:l},u)=>{l.forEach(c=>{if(e++,c?.iconAccent&&!y2e(c?.iconAccent))throw new Error(`Property \`iconAccent\` is not a hex value for wallet: ${c.name}`);const f={...c,groupIndex:u,groupName:a,index:e};typeof c.hidden=="function"?i.push(f):r.push(f)})}),[...r,...i].forEach(({createConnector:a,groupIndex:l,groupName:u,hidden:c,index:f,...d})=>{if(typeof c=="function"&&c({wallets:[...s.map(({connector:w,id:b,installed:A})=>({connector:w,id:b,installed:A}))]}))return;const{connector:m,...y}=T2e(a());let g;if(d.id==="walletConnect"&&y.qrCode&&!KH()){const{chains:x,options:w}=m;g=new XH({chains:x,options:{...w,qrcode:!0}}),t.push(g)}const v={connector:m,groupIndex:l,groupName:u,index:f,walletConnectModalConnector:g,...d,...y};s.push(v),t.includes(m)||(t.push(m),m._wallets=[]),m._wallets.push(v)}),t},I2e=({chains:n,shimDisconnect:e})=>{var t;return{id:"brave",name:"Brave Wallet",iconUrl:async()=>(await us(()=>import("./braveWallet-VWIUQB2U.a56b825b.js"),[],import.meta.url)).default,iconBackground:"#fff",installed:typeof window<"u"&&((t=window.ethereum)==null?void 0:t.isBraveWallet)===!0,downloadUrls:{},createConnector:()=>({connector:new ep({chains:n,options:{shimDisconnect:e}})})}},R2e=({appName:n,chains:e})=>{var t;const r=typeof window<"u"&&((t=window.ethereum)==null?void 0:t.isCoinbaseWallet)===!0;return{id:"coinbase",name:"Coinbase Wallet",shortName:"Coinbase",iconUrl:async()=>(await us(()=>import("./coinbaseWallet-VVDQG4AO.a4c49987.js"),[],import.meta.url)).default,iconAccent:"#2c5ff6",iconBackground:"#2c5ff6",installed:r||void 0,downloadUrls:{browserExtension:"https://chrome.google.com/webstore/detail/coinbase-wallet-extension/hnfanknocfeofbddgcijnmhnfnkdnaad",android:"https://play.google.com/store/apps/details?id=org.toshi",ios:"https://apps.apple.com/us/app/coinbase-wallet-store-crypto/id1278383455",qrCode:"https://coinbase-wallet.onelink.me/q5Sx/fdb9b250"},createConnector:()=>{const i=qH(),s=new C2e({chains:e,options:{appName:n,headlessMode:!0}});return{connector:s,...i?{}:{qrCode:{getUri:async()=>(await s.getProvider()).qrUrl,instructions:{learnMoreUrl:"https://www.coinbase.com/learn/tips-and-tutorials/how-to-set-up-a-crypto-wallet",steps:[{description:"We recommend putting Coinbase Wallet on your home screen for quicker access.",step:"install",title:"Open the Coinbase Wallet app"},{description:"You can easily backup your wallet using the cloud backup feature.",step:"create",title:"Create or Import a Wallet"},{description:"After you scan, a connection prompt will appear for you to connect your wallet.",step:"scan",title:"Tap the scan button"}]}},extension:{instructions:{steps:[{description:"We recommend pinning Coinbase Wallet to your taskbar for quicker access to your wallet.",step:"install",title:"Install the Coinbase Wallet extension"},{description:"Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",step:"create",title:"Create or Import a Wallet"},{description:"Once you set up your wallet, click below to refresh the browser and load up the extension.",step:"refresh",title:"Refresh your browser"}]}}}}}}},B2e=({chains:n,shimDisconnect:e})=>({id:"injected",name:"Injected Wallet",iconUrl:async()=>(await us(()=>import("./injectedWallet-FYEFRY76.04f1a7c9.js"),[],import.meta.url)).default,iconBackground:"#fff",hidden:({wallets:t})=>t.some(r=>r.installed&&(r.connector instanceof ep||r.id==="coinbase")),createConnector:()=>({connector:new ep({chains:n,options:{shimDisconnect:e}})})}),YH=new Map;function k2e(n){const e=new XH(n);return YH.set(JSON.stringify(n),e),e}function P4({chains:n,qrcode:e=!1}){const t={chains:n,options:{qrcode:e}},r=JSON.stringify(t),i=YH.get(r);return i??k2e(t)}function N2e(n){return!(!Boolean(n.isMetaMask)||n.isBraveWallet&&!n._events&&!n._state||n.isTokenPocket||n.isTokenary)}var L2e=({chains:n,shimDisconnect:e})=>{const t=typeof window<"u"&&typeof window.ethereum<"u"&&N2e(window.ethereum),r=!t;return{id:"metaMask",name:"MetaMask",iconUrl:async()=>(await us(()=>import("./metaMaskWallet-F3BDZH5W.be166ae9.js"),[],import.meta.url)).default,iconAccent:"#f6851a",iconBackground:"#fff",installed:r?void 0:t,downloadUrls:{browserExtension:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn?hl=en",android:"https://play.google.com/store/apps/details?id=io.metamask",ios:"https://apps.apple.com/us/app/metamask/id1438144202",qrCode:"https://metamask.io/download/"},createConnector:()=>{const i=r?P4({chains:n}):new M2e({chains:n,options:{shimDisconnect:e}}),s=async()=>{const{uri:o}=(await i.getProvider()).connector;return T4()?o:`https://metamask.app.link/wc?uri=${encodeURIComponent(o)}`};return{connector:i,mobile:{getUri:r?s:void 0},qrCode:r?{getUri:s,instructions:{learnMoreUrl:"https://metamask.io/faqs/",steps:[{description:"We recommend putting MetaMask on your home screen for quicker access.",step:"install",title:"Open the MetaMask app"},{description:"Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",step:"create",title:"Create or Import a Wallet"},{description:"After you scan, a connection prompt will appear for you to connect your wallet.",step:"scan",title:"Tap the scan button"}]}}:void 0,extension:{learnMoreUrl:"https://metamask.io/faqs/",instructions:{steps:[{description:"We recommend pinning MetaMask to your taskbar for quicker access to your wallet.",step:"install",title:"Install the MetaMask extension"},{description:"Be sure to back up your wallet using a secure method. Never share your secret phrase with anyone.",step:"create",title:"Create or Import a Wallet"},{description:"Once you set up your wallet, click below to refresh the browser and load up the extension.",step:"refresh",title:"Refresh your browser"}]}}}}}};function D2e(n){return!!Boolean(n.isRainbow)}var O2e=({chains:n,shimDisconnect:e})=>{const r=!(typeof window<"u"&&typeof window.ethereum<"u"&&D2e(window.ethereum));return{id:"rainbow",name:"Rainbow",iconUrl:async()=>(await us(()=>import("./rainbowWallet-KSMGN6MJ.dfd37114.js"),[],import.meta.url)).default,iconBackground:"#0c2f78",downloadUrls:{android:"https://play.google.com/store/apps/details?id=me.rainbow",ios:"https://apps.apple.com/us/app/rainbow-ethereum-wallet/id1457119021",qrCode:"https://rainbow.download"},createConnector:()=>{const i=r?P4({chains:n}):new ep({chains:n,options:{shimDisconnect:e}}),s=async()=>{const{uri:o}=(await i.getProvider()).connector;return T4()?o:`https://rnbwapp.com/wc?uri=${encodeURIComponent(o)}`};return{connector:i,mobile:{getUri:r?s:void 0},qrCode:r?{getUri:s,instructions:{learnMoreUrl:"https://learn.rainbow.me/connect-your-wallet-to-a-website-or-app",steps:[{description:"We recommend putting Rainbow on your home screen for faster access to your wallet.",step:"install",title:"Open the Rainbow app"},{description:"You can easily backup your wallet using our backup feature on your phone.",step:"create",title:"Create or Import a Wallet"},{description:"After you scan, a connection prompt will appear for you to connect your wallet.",step:"scan",title:"Tap the scan button"}]}}:void 0}}}},F2e=({chains:n})=>({id:"walletConnect",name:"WalletConnect",iconUrl:async()=>(await us(()=>import("./walletConnectWallet-GTSESN7Q.82f2e73c.js"),[],import.meta.url)).default,iconBackground:"#3b99fc",createConnector:()=>{const e=qH(),t=P4({chains:n,qrcode:e}),r=async()=>(await t.getProvider()).connector.uri;return{connector:t,...e?{}:{mobile:{getUri:r},qrCode:{getUri:r}}}}}),U2e=({appName:n,chains:e})=>{const t=[{groupName:"Popular",wallets:[B2e({chains:e}),O2e({chains:e}),R2e({appName:n,chains:e}),L2e({chains:e}),F2e({chains:e}),I2e({chains:e})]}];return{connectors:P2e(t),wallets:t}};const QH=()=>({id:647426021,name:"skale",network:"https://eth-sf.skalenodes.com/v1/hackathon-complex-easy-naos",rpcUrls:{default:"https://eth-sf.skalenodes.com/v1/hackathon-complex-easy-naos"},blockExplorers:{default:{name:"blockscout",url:"https://hackathon-complex-easy-naos.explorer.eth-sf.skalenodes.com/"}}}),z2e=()=>Object.keys(_H).map(n=>{if(n==="localhost")return hm.hardhat;if(n==="skale")return QH();if(n==="mumbai")return hm.polygonMumbai;const e=Object.values(hm).find(t=>t.name===n);if(!e)throw new Error(`could not find chain with name ${n}`);return e}),G2e=()=>{const n=[],e={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.VITE_APP_ALCHEMY_ID;e&&n.push(Mbe({apiKey:e}));const t={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.VITE_APP_INFURA_ID;return t&&n.push(Tbe({apiKey:t})),n.push(Pbe()),n},{chains:H2e,provider:j2e,webSocketProvider:V2e}=z1e(z2e(),G2e()),{connectors:W2e}=U2e({appName:{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.VITE_APP_APP_NAME,chains:H2e});ibe({autoConnect:!0,connectors:W2e,provider:j2e,webSocketProvider:V2e});const q2e=n=>{const e=QH(),r=[...Object.values(hm),e].find(o=>o.id===n);if(!r)throw new Error(`invalid chain id ${r}`);let i=r.name;i==="Hardhat"&&(i="localhost"),i==="Polygon Mumbai"&&(i="mumbai");const s=_H;if(!s[i])throw new Error(`contract not deployed for chain ${i}`);return s[i]},K2e=()=>{const{connector:n,isConnected:e}=_4(),[t,r]=J.exports.useState(null);return J.exports.useEffect(()=>{(async()=>{const i=await n?.getChainId();if(!i)return;const s=q2e(i);r(s)})()},[n,e]),t},J2e=({modelUrl:n,smartContractActions:e})=>{const t=NT(n),[r,i]=J.exports.useState({}),s=fie(t,i),{registry:o,specJson:a,lifecyleEmitter:l}=Mie({scene:s,smartContractActions:e});return{sceneJson:t,scene:s,sceneOnClickListeners:r,registry:o,specJson:a,lifecyleEmitter:l}},ZH=["SpinningSuzanne.gltf","CourtYard.glb"],$2e=({modelUrl:n,setModelUrl:e})=>te(vr,{children:te("select",{id:"countries",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",value:n,onChange:t=>e(t.target.value),children:ZH.map(t=>te("option",{children:t},t))})}),X2e=({graphJson:n,modelUrl:e,setModelUrl:t,contractAddress:r})=>te("div",{className:"grid grid-cols-3",children:te("div",{className:"col-span-2",children:te("div",{className:"grid grid-cols-3",children:te("div",{className:"col-span-1",children:te($2e,{modelUrl:e,setModelUrl:t})})})})});function Y2e({modelUrl:n,rawGraphJSON:e,setModelUrl:t}){const{sceneJson:r,scene:i,sceneOnClickListeners:s,registry:o,specJson:a,lifecyleEmitter:l}=J2e({modelUrl:n}),[u,c]=J.exports.useMemo(()=>JD(e),[e]),[f,,d]=fQ(u),[m,,y]=dQ(c),[g,v]=J.exports.useState(!1),[x,w]=J.exports.useState();J.exports.useEffect(()=>{if(!a)return;const M=XD({nodes:f,edges:m,nodeSpecJSON:a});w(M)},[f,m,a]),Tie({graphJson:x,registry:o,eventEmitter:l,run:g});const b=J.exports.useCallback(()=>{v(M=>!M)},[]),A=K2e();return Tt("div",{className:"h-full grid grid-cols-2 gap-0",children:[te("div",{className:"bg-lime-500 h-full",children:a&&i&&te(Aie,{toggleRun:b,registry:o,nodes:f,onNodesChange:d,edges:m,onEdgesChange:y,specJson:a,running:g,scene:i})}),Tt("div",{className:"h-full grid",children:[te("div",{className:"row-span-1",children:te(X2e,{contractAddress:A,graphJson:x,modelUrl:n,setModelUrl:t})}),te("div",{className:"row-span-6",children:te(vpe,{scene:r,onClickListeners:s})})]})]})}function Q2e(){const[n,e]=J.exports.useState(()=>ZH[0]),[t,r]=J.exports.useState(!1),i=J.exports.useCallback(s=>{r(!0),e(s),setTimeout(()=>{r(!1)},100)},[]);return t?null:te(J.exports.Suspense,{fallback:null,children:te(Y2e,{modelUrl:n,rawGraphJSON:$D,setModelUrl:i})})}/**
 * @remix-run/router v1.0.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kn(){return Kn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Kn.apply(this,arguments)}var Pr;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Pr||(Pr={}));const b7="popstate";function Z2e(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return bf("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Bl(i)}return t_e(e,t,null,n)}function e_e(){return Math.random().toString(36).substr(2,8)}function w7(n){return{usr:n.state,key:n.key}}function bf(n,e,t,r){return t===void 0&&(t=null),Kn({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Wl(e):e,{state:t,key:e&&e.key||r||e_e()})}function Bl(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function gg(n){let e=typeof window<"u"&&typeof window.location<"u"&&window.location.origin!=="null"?window.location.origin:"unknown://unknown",t=typeof n=="string"?n:Bl(n);return new URL(t,e)}function t_e(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Pr.Pop,l=null;function u(){a=Pr.Pop,l&&l({action:a,location:d.location})}function c(m,y){a=Pr.Push;let g=bf(d.location,m,y);t&&t(g,m);let v=w7(g),x=d.createHref(g);try{o.pushState(v,"",x)}catch{i.location.assign(x)}s&&l&&l({action:a,location:d.location})}function f(m,y){a=Pr.Replace;let g=bf(d.location,m,y);t&&t(g,m);let v=w7(g),x=d.createHref(g);o.replaceState(v,"",x),s&&l&&l({action:a,location:d.location})}let d={get action(){return a},get location(){return n(i,o)},listen(m){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(b7,u),l=m,()=>{i.removeEventListener(b7,u),l=null}},createHref(m){return e(i,m)},encodeLocation(m){let y=gg(Bl(m));return Kn({},m,{pathname:y.pathname,search:y.search,hash:y.hash})},push:c,replace:f,go(m){return o.go(m)}};return d}var Zr;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Zr||(Zr={}));function n_e(n){return n.index===!0}function ej(n,e,t){return e===void 0&&(e=[]),t===void 0&&(t=new Set),n.map((r,i)=>{let s=[...e,i],o=typeof r.id=="string"?r.id:s.join("-");return Zt(r.index!==!0||!r.children,"Cannot specify children on an index route"),Zt(!t.has(o),'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),t.add(o),n_e(r)?Kn({},r,{id:o}):Kn({},r,{id:o,children:r.children?ej(r.children,s,t):void 0})})}function H0(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?Wl(e):e,i=nj(r.pathname||"/",t);if(i==null)return null;let s=tj(n);r_e(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=d_e(s[a],m_e(i));return o}function tj(n,e,t,r){return e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r=""),n.forEach((i,s)=>{let o={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};o.relativePath.startsWith("/")&&(Zt(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let a=wf([r,o.relativePath]),l=t.concat(o);i.children&&i.children.length>0&&(Zt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+a+'".')),tj(i.children,e,l,a)),!(i.path==null&&!i.index)&&e.push({path:a,score:c_e(a,i.index),routesMeta:l})}),e}function r_e(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:f_e(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const i_e=/^:\w+$/,s_e=3,o_e=2,a_e=1,l_e=10,u_e=-2,_7=n=>n==="*";function c_e(n,e){let t=n.split("/"),r=t.length;return t.some(_7)&&(r+=u_e),e&&(r+=o_e),t.filter(i=>!_7(i)).reduce((i,s)=>i+(i_e.test(s)?s_e:s===""?a_e:l_e),r)}function f_e(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function d_e(n,e){let{routesMeta:t}=n,r={},i="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=h_e({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let f=a.route;s.push({params:r,pathname:wf([i,c.pathname]),pathnameBase:b_e(wf([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=wf([i,c.pathnameBase]))}return s}function h_e(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=p_e(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{if(c==="*"){let d=a[f]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=g_e(a[f]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:n}}function p_e(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),I4(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,a)=>(r.push(a),"([^\\/]+)"));return n.endsWith("*")?(r.push("*"),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function m_e(n){try{return decodeURI(n)}catch(e){return I4(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function g_e(n,e){try{return decodeURIComponent(n)}catch(t){return I4(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function nj(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Zt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function I4(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function v_e(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Wl(n):n;return{pathname:t?t.startsWith("/")?t:y_e(t,e):e,search:w_e(r),hash:__e(i)}}function y_e(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function TA(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rj(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function x_e(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Wl(n):(i=Kn({},n),Zt(!i.pathname||!i.pathname.includes("?"),TA("?","pathname","search",i)),Zt(!i.pathname||!i.pathname.includes("#"),TA("#","pathname","hash",i)),Zt(!i.search||!i.search.includes("#"),TA("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=t;else{let f=e.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?e[f]:"/"}let l=v_e(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const wf=n=>n.join("/").replace(/\/\/+/g,"/"),b_e=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),w_e=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,__e=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class A7 extends Error{}class A_e{constructor(e){this.pendingKeys=new Set,this.subscriber=void 0,Zt(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let t;this.abortPromise=new Promise((i,s)=>t=s),this.controller=new AbortController;let r=()=>t(new A7("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",r),this.controller.signal.addEventListener("abort",r),this.data=Object.entries(e).reduce((i,s)=>{let[o,a]=s;return Object.assign(i,{[o]:this.trackPromise(o,a)})},{})}trackPromise(e,t){if(!(t instanceof Promise))return t;this.pendingKeys.add(e);let r=Promise.race([t,this.abortPromise]).then(i=>this.onSettle(r,e,null,i),i=>this.onSettle(r,e,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(e,t,r,i){if(this.controller.signal.aborted&&r instanceof A7)return this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>r}),Promise.reject(r);this.pendingKeys.delete(t),this.done&&this.unlistenAbortSignal();const s=this.subscriber;return r?(Object.defineProperty(e,"_error",{get:()=>r}),s&&s(!1),Promise.reject(r)):(Object.defineProperty(e,"_data",{get:()=>i}),s&&s(!1),i)}subscribe(e){this.subscriber=e}cancel(){this.controller.abort(),this.pendingKeys.forEach((t,r)=>this.pendingKeys.delete(r));let e=this.subscriber;e&&e(!0)}async resolveData(e){let t=!1;if(!this.done){let r=()=>this.cancel();e.addEventListener("abort",r),t=await new Promise(i=>{this.subscribe(s=>{e.removeEventListener("abort",r),(s||this.done)&&i(s)})})}return t}get done(){return this.pendingKeys.size===0}get unwrappedData(){return Zt(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,t)=>{let[r,i]=t;return Object.assign(e,{[r]:E_e(i)})},{})}}function S_e(n){return n instanceof Promise&&n._tracked===!0}function E_e(n){if(!S_e(n))return n;if(n._error)throw n._error;return n._data}class Cp{constructor(e,t,r){this.status=e,this.statusText=t||"",this.data=r}}function ij(n){return n instanceof Cp}const PA={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},C_e={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},M_e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",T_e=!M_e;function P_e(n){Zt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=ej(n.routes),t=null,r=new Set,i=null,s=null,o=null,a=!1,l=H0(e,n.history.location,n.basename),u=null;if(l==null){let{matches:ue,route:we,error:Ce}=T7(e);l=ue,u={[we.id]:Ce}}let c=!l.some(ue=>ue.route.loader)||n.hydrationData!=null,f,d={historyAction:n.history.action,location:n.history.location,matches:l,initialized:c,navigation:PA,restoreScrollPosition:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||u,fetchers:new Map},m=Pr.Pop,y=!1,g,v=!1,x=!1,w=[],b=[],A=new Map,M=0,I=-1,D=new Map,P=new Set,O=new Map,V=new Map;function q(){return t=n.history.listen(ue=>{let{action:we,location:Ce}=ue;return L(we,Ce)}),d.initialized||L(Pr.Pop,d.location),f}function ne(){t&&t(),r.clear(),g&&g.abort(),d.fetchers.forEach((ue,we)=>fe(we))}function H(ue){return r.add(ue),()=>r.delete(ue)}function _(ue){d=Kn({},d,ue),r.forEach(we=>we(d))}function T(ue,we){var Ce;let ze=d.actionData!=null&&d.navigation.formMethod!=null&&d.navigation.state==="loading"&&((Ce=d.navigation.formAction)==null?void 0:Ce.split("?")[0])===ue.pathname,$=we.loaderData?{loaderData:RA(d.loaderData,we.loaderData,we.matches||[])}:{};_(Kn({},ze?{}:{actionData:null},we,$,{historyAction:m,location:ue,initialized:!0,navigation:PA,revalidation:"idle",restoreScrollPosition:d.navigation.formData?!1:$e(ue,we.matches||d.matches),preventScrollReset:y})),v||m===Pr.Pop||(m===Pr.Push?n.history.push(ue,ue.state):m===Pr.Replace&&n.history.replace(ue,ue.state)),m=Pr.Pop,y=!1,v=!1,x=!1,w=[],b=[]}async function k(ue,we){if(typeof ue=="number"){n.history.go(ue);return}let{path:Ce,submission:ze,error:$}=S7(ue,we),W=bf(d.location,Ce,we&&we.state);W=n.history.encodeLocation(W);let le=(we&&we.replace)===!0||ze!=null?Pr.Replace:Pr.Push,Re=we&&"preventScrollReset"in we?we.preventScrollReset===!0:void 0;return await L(le,W,{submission:ze,pendingError:$,preventScrollReset:Re,replace:we&&we.replace})}function U(){if(oe(),_({revalidation:"loading"}),d.navigation.state!=="submitting"){if(d.navigation.state==="idle"){L(d.historyAction,d.location,{startUninterruptedRevalidation:!0});return}L(m||d.historyAction,d.navigation.location,{overrideNavigation:d.navigation})}}async function L(ue,we,Ce){g&&g.abort(),g=null,m=ue,v=(Ce&&Ce.startUninterruptedRevalidation)===!0,He(d.location,d.matches),y=(Ce&&Ce.preventScrollReset)===!0;let ze=Ce&&Ce.overrideNavigation,$=H0(e,we,n.basename);if(!$){let{matches:Oe,route:be,error:Ye}=T7(e);xe(),T(we,{matches:Oe,loaderData:{},errors:{[be.id]:Ye}});return}if(L_e(d.location,we)){T(we,{matches:$});return}g=new AbortController;let W=I0(we,g.signal,Ce&&Ce.submission),le,Re;if(Ce&&Ce.pendingError)Re={[ah($).route.id]:Ce.pendingError};else if(Ce&&Ce.submission){let Oe=await F(W,we,Ce.submission,$,{replace:Ce.replace});if(Oe.shortCircuited)return;le=Oe.pendingActionData,Re=Oe.pendingActionError,ze=Kn({state:"loading",location:we},Ce.submission)}let{shortCircuited:Te,loaderData:ke,errors:Qe}=await z(W,we,$,ze,Ce&&Ce.submission,Ce&&Ce.replace,le,Re);Te||(g=null,T(we,{matches:$,loaderData:ke,errors:Qe}))}async function F(ue,we,Ce,ze,$){oe();let W=Kn({state:"submitting",location:we},Ce);_({navigation:W});let le,Re=k7(ze,we);if(!Re.route.action)le=P7(we);else if(le=await P0("action",ue,Re,ze,f.basename),ue.signal.aborted)return{shortCircuited:!0};if(_h(le)){let Te=Kn({state:"loading",location:bf(d.location,le.location)},Ce);return await N(le,Te,$&&$.replace),{shortCircuited:!0}}if(mm(le)){let Te=ah(ze,Re.route.id);return($&&$.replace)!==!0&&(m=Pr.Push),{pendingActionError:{[Te.route.id]:le.error}}}if(sf(le))throw new Error("defer() is not supported in actions");return{pendingActionData:{[Re.route.id]:le.data}}}async function z(ue,we,Ce,ze,$,W,le,Re){let Te=ze;Te||(Te={state:"loading",location:we,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0});let[ke,Qe]=E7(d,Ce,$,we,x,w,b,le,Re,O);if(xe(je=>!(Ce&&Ce.some(lt=>lt.route.id===je))||ke&&ke.some(lt=>lt.route.id===je)),ke.length===0&&Qe.length===0)return T(we,{matches:Ce,loaderData:RA(d.loaderData,{},Ce),errors:Re||null,actionData:le||null}),{shortCircuited:!0};v||(Qe.forEach(je=>{let[lt]=je,ht=d.fetchers.get(lt),re={state:"loading",data:ht&&ht.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};d.fetchers.set(lt,re)}),_(Kn({navigation:Te,actionData:le||d.actionData||null},Qe.length>0?{fetchers:new Map(d.fetchers)}:{}))),I=++M,Qe.forEach(je=>{let[lt]=je;return A.set(lt,g)});let{results:Oe,loaderResults:be,fetcherResults:Ye}=await K(d.matches,Ce,ke,Qe,ue);if(ue.signal.aborted)return{shortCircuited:!0};Qe.forEach(je=>{let[lt]=je;return A.delete(lt)});let ee=I7(Oe);if(ee){let je=IA(d,ee);return await N(ee,je,W),{shortCircuited:!0}}let{loaderData:ge,errors:Ue}=M7(d,Ce,ke,be,Re,Qe,Ye,V);V.forEach((je,lt)=>{je.subscribe(ht=>{(ht||je.done)&&V.delete(lt)})}),ae();let De=me(I);return Kn({loaderData:ge,errors:Ue},De||Qe.length>0?{fetchers:new Map(d.fetchers)}:{})}function B(ue){return d.fetchers.get(ue)||C_e}function E(ue,we,Ce,ze){if(T_e)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");A.has(ue)&&ce(ue);let $=H0(e,Ce,n.basename);if(!$){ie(ue,we,new Cp(404,"Not Found",null));return}let{path:W,submission:le}=S7(Ce,ze,!0),Re=k7($,W);if(le){j(ue,we,W,Re,$,le);return}O.set(ue,[W,Re,$]),X(ue,we,W,Re,$)}async function j(ue,we,Ce,ze,$,W){if(oe(),O.delete(ue),!ze.route.action){let{error:rt}=P7(Ce);ie(ue,we,rt);return}let le=d.fetchers.get(ue),Re=Kn({state:"submitting"},W,{data:le&&le.data});d.fetchers.set(ue,Re),_({fetchers:new Map(d.fetchers)});let Te=new AbortController,ke=I0(Ce,Te.signal,W);A.set(ue,Te);let Qe=await P0("action",ke,ze,$,f.basename);if(ke.signal.aborted){A.get(ue)===Te&&A.delete(ue);return}if(_h(Qe)){A.delete(ue),P.add(ue);let rt=Kn({state:"loading"},W,{data:void 0});d.fetchers.set(ue,rt),_({fetchers:new Map(d.fetchers)});let vt=Kn({state:"loading",location:bf(d.location,Qe.location)},W);await N(Qe,vt);return}if(mm(Qe)){ie(ue,we,Qe.error);return}sf(Qe)&&Zt(!1,"defer() is not supported in actions");let Oe=d.navigation.location||d.location,be=I0(Oe,Te.signal),Ye=d.navigation.state!=="idle"?H0(e,d.navigation.location,n.basename):d.matches;Zt(Ye,"Didn't find any matches after fetcher action");let ee=++M;D.set(ue,ee);let ge=Kn({state:"loading",data:Qe.data},W);d.fetchers.set(ue,ge);let[Ue,De]=E7(d,Ye,W,Oe,x,w,b,{[ze.route.id]:Qe.data},void 0,O);De.filter(rt=>{let[vt]=rt;return vt!==ue}).forEach(rt=>{let[vt]=rt,mn=d.fetchers.get(vt),zt={state:"loading",data:mn&&mn.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};d.fetchers.set(vt,zt),A.set(vt,Te)}),_({fetchers:new Map(d.fetchers)});let{results:je,loaderResults:lt,fetcherResults:ht}=await K(d.matches,Ye,Ue,De,be);if(Te.signal.aborted)return;D.delete(ue),A.delete(ue),De.forEach(rt=>{let[vt]=rt;return A.delete(vt)});let re=I7(je);if(re){let rt=IA(d,re);await N(re,rt);return}let{loaderData:Ae,errors:Be}=M7(d,d.matches,Ue,lt,void 0,De,ht,V),Ve={state:"idle",data:Qe.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};d.fetchers.set(ue,Ve);let st=me(ee);d.navigation.state==="loading"&&ee>I?(Zt(m,"Expected pending action"),g&&g.abort(),T(d.navigation.location,{matches:Ye,loaderData:Ae,errors:Be,fetchers:new Map(d.fetchers)})):(_(Kn({errors:Be,loaderData:RA(d.loaderData,Ae,Ye)},st?{fetchers:new Map(d.fetchers)}:{})),x=!1)}async function X(ue,we,Ce,ze,$){let W=d.fetchers.get(ue),le={state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,data:W&&W.data};d.fetchers.set(ue,le),_({fetchers:new Map(d.fetchers)});let Re=new AbortController,Te=I0(Ce,Re.signal);A.set(ue,Re);let ke=await P0("loader",Te,ze,$,f.basename);if(sf(ke)&&(ke=await lj(ke,Te.signal,!0)||ke),A.get(ue)===Re&&A.delete(ue),Te.signal.aborted)return;if(_h(ke)){let Oe=IA(d,ke);await N(ke,Oe);return}if(mm(ke)){let Oe=ah(d.matches,we);d.fetchers.delete(ue),_({fetchers:new Map(d.fetchers),errors:{[Oe.route.id]:ke.error}});return}Zt(!sf(ke),"Unhandled fetcher deferred data");let Qe={state:"idle",data:ke.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};d.fetchers.set(ue,Qe),_({fetchers:new Map(d.fetchers)})}async function N(ue,we,Ce){ue.revalidate&&(x=!0),Zt(we.location,"Expected a location on the redirect navigation"),g=null;let ze=Ce===!0?Pr.Replace:Pr.Push;await L(ze,we.location,{overrideNavigation:we})}async function K(ue,we,Ce,ze,$){let W=await Promise.all([...Ce.map(Te=>P0("loader",$,Te,we,f.basename)),...ze.map(Te=>{let[,ke,Qe,Oe]=Te;return P0("loader",I0(ke,$.signal),Qe,Oe,f.basename)})]),le=W.slice(0,Ce.length),Re=W.slice(Ce.length);return await Promise.all([R7(ue,Ce,le,$.signal,!1,d.loaderData),R7(ue,ze.map(Te=>{let[,,ke]=Te;return ke}),Re,$.signal,!0)]),{results:W,loaderResults:le,fetcherResults:Re}}function oe(){x=!0,w.push(...xe()),O.forEach((ue,we)=>{A.has(we)&&(b.push(we),ce(we))})}function ie(ue,we,Ce){let ze=ah(d.matches,we);fe(ue),_({errors:{[ze.route.id]:Ce},fetchers:new Map(d.fetchers)})}function fe(ue){A.has(ue)&&ce(ue),O.delete(ue),D.delete(ue),P.delete(ue),d.fetchers.delete(ue)}function ce(ue){let we=A.get(ue);Zt(we,"Expected fetch controller: "+ue),we.abort(),A.delete(ue)}function Ee(ue){for(let we of ue){let ze={state:"idle",data:B(we).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};d.fetchers.set(we,ze)}}function ae(){let ue=[];for(let we of P){let Ce=d.fetchers.get(we);Zt(Ce,"Expected fetcher: "+we),Ce.state==="loading"&&(P.delete(we),ue.push(we))}Ee(ue)}function me(ue){let we=[];for(let[Ce,ze]of D)if(ze<ue){let $=d.fetchers.get(Ce);Zt($,"Expected fetcher: "+Ce),$.state==="loading"&&(ce(Ce),D.delete(Ce),we.push(Ce))}return Ee(we),we.length>0}function xe(ue){let we=[];return V.forEach((Ce,ze)=>{(!ue||ue(ze))&&(Ce.cancel(),we.push(ze),V.delete(ze))}),we}function Ne(ue,we,Ce){if(i=ue,o=we,s=Ce||(ze=>ze.key),!a&&d.navigation===PA){a=!0;let ze=$e(d.location,d.matches);ze!=null&&_({restoreScrollPosition:ze})}return()=>{i=null,o=null,s=null}}function He(ue,we){if(i&&s&&o){let Ce=we.map($=>B7($,d.loaderData)),ze=s(ue,Ce)||ue.key;i[ze]=o()}}function $e(ue,we){if(i&&s&&o){let Ce=we.map(W=>B7(W,d.loaderData)),ze=s(ue,Ce)||ue.key,$=i[ze];if(typeof $=="number")return $}return null}return f={get basename(){return n.basename},get state(){return d},get routes(){return e},initialize:q,subscribe:H,enableScrollRestoration:Ne,navigate:k,fetch:E,revalidate:U,createHref:ue=>n.history.createHref(ue),getFetcher:B,deleteFetcher:fe,dispose:ne,_internalFetchControllers:A,_internalActiveDeferreds:V},f}const I_e=new Set(["POST","PUT","PATCH","DELETE"]);[...I_e];function S7(n,e,t){t===void 0&&(t=!1);let r=typeof n=="string"?n:Bl(n);if(!e||!("formMethod"in e)&&!("formData"in e))return{path:r};if(e.formMethod!=null&&e.formMethod!=="get")return{path:r,submission:{formMethod:e.formMethod,formAction:aj(r),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData}};if(!e.formData)return{path:r};let i=Wl(r);try{let s=oj(e.formData);t&&i.search&&uj(i.search)&&s.append("index",""),i.search="?"+s}catch{return{path:r,error:new Cp(400,"Bad Request","Cannot submit binary form data using GET")}}return{path:Bl(i)}}function IA(n,e){let{formMethod:t,formAction:r,formEncType:i,formData:s}=n.navigation;return{state:"loading",location:bf(n.location,e.location),formMethod:t||void 0,formAction:r||void 0,formEncType:i||void 0,formData:s||void 0}}function R_e(n,e){let t=n;if(e){let r=n.findIndex(i=>i.route.id===e);r>=0&&(t=n.slice(0,r))}return t}function E7(n,e,t,r,i,s,o,a,l,u){let c=l?Object.values(l)[0]:a?Object.values(a)[0]:null,f=l?Object.keys(l)[0]:void 0,m=R_e(e,f).filter((g,v)=>g.route.loader!=null&&(B_e(n.loaderData,n.matches[v],g)||s.some(x=>x===g.route.id)||C7(n.location,n.matches[v],t,r,g,i,c))),y=[];return u&&u.forEach((g,v)=>{let[x,w,b]=g;o.includes(v)?y.push([v,x,w,b]):i&&C7(x,w,t,x,w,i,c)&&y.push([v,x,w,b])}),[m,y]}function B_e(n,e,t){let r=!e||t.route.id!==e.route.id,i=n[t.route.id]===void 0;return r||i}function sj(n,e){let t=n.route.path;return n.pathname!==e.pathname||t&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function C7(n,e,t,r,i,s,o){let a=gg(n),l=e.params,u=gg(r),c=i.params,f=sj(e,i)||a.toString()===u.toString()||a.search!==u.search||s;if(i.route.shouldRevalidate){let d=i.route.shouldRevalidate(Kn({currentUrl:a,currentParams:l,nextUrl:u,nextParams:c},t,{actionResult:o,defaultShouldRevalidate:f}));if(typeof d=="boolean")return d}return f}async function P0(n,e,t,r,i,s,o){s===void 0&&(s=!1),o===void 0&&(o=!1);let a,l,u,c=new Promise((d,m)=>u=m),f=()=>u();e.signal.addEventListener("abort",f);try{let d=t.route[n];Zt(d,"Could not find the "+n+' to run on the "'+t.route.id+'" route'),l=await Promise.race([d({request:e,params:t.params}),c])}catch(d){a=Zr.error,l=d}finally{e.signal.removeEventListener("abort",f)}if(l instanceof Response){let d=l.status;if(d>=300&&d<=399){let g=l.headers.get("Location");Zt(g,"Redirects returned/thrown from loaders/actions must have a Location header");let v=r.slice(0,r.indexOf(t)+1),x=rj(v).map(A=>A.pathnameBase),w=gg(e.url).pathname,b=x_e(g,x,w);if(Zt(Bl(b),"Unable to resolve redirect location: "+l.headers.get("Location")),i){let A=b.pathname;b.pathname=A==="/"?i:wf([i,A])}if(g=Bl(b),s)throw l.headers.set("Location",g),l;return{type:Zr.redirect,status:d,location:g,revalidate:l.headers.get("X-Remix-Revalidate")!==null}}if(o)throw{type:a||Zr.data,response:l};let m,y=l.headers.get("Content-Type");return y&&y.startsWith("application/json")?m=await l.json():m=await l.text(),a===Zr.error?{type:a,error:new Cp(d,l.statusText,m),headers:l.headers}:{type:Zr.data,data:m,statusCode:l.status,headers:l.headers}}return a===Zr.error?{type:a,error:l}:l instanceof A_e?{type:Zr.deferred,deferredData:l}:{type:Zr.data,data:l}}function I0(n,e,t){let r=gg(aj(n)).toString(),i={signal:e};if(t){let{formMethod:s,formEncType:o,formData:a}=t;i.method=s.toUpperCase(),i.body=o==="application/x-www-form-urlencoded"?oj(a):a}return new Request(r,i)}function oj(n){let e=new URLSearchParams;for(let[t,r]of n.entries())Zt(typeof r=="string",'File inputs are not supported with encType "application/x-www-form-urlencoded", please use "multipart/form-data" instead.'),e.append(t,r);return e}function k_e(n,e,t,r,i){let s={},o=null,a,l=!1,u={};return t.forEach((c,f)=>{let d=e[f].route.id;if(Zt(!_h(c),"Cannot handle redirect results in processLoaderData"),mm(c)){let m=ah(n,d),y=c.error;r&&(y=Object.values(r)[0],r=void 0),o=Object.assign(o||{},{[m.route.id]:y}),l||(l=!0,a=ij(c.error)?c.error.status:500),c.headers&&(u[d]=c.headers)}else sf(c)?(i&&i.set(d,c.deferredData),s[d]=c.deferredData.data):(s[d]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[d]=c.headers))}),r&&(o=r),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function M7(n,e,t,r,i,s,o,a){let{loaderData:l,errors:u}=k_e(e,t,r,i,a);for(let c=0;c<s.length;c++){let[f,,d]=s[c];Zt(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let m=o[c];if(mm(m)){let y=ah(n.matches,d.route.id);u&&u[y.route.id]||(u=Kn({},u,{[y.route.id]:m.error})),n.fetchers.delete(f)}else{if(_h(m))throw new Error("Unhandled fetcher revalidation redirect");if(sf(m))throw new Error("Unhandled fetcher deferred data");{let y={state:"idle",data:m.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0};n.fetchers.set(f,y)}}}return{loaderData:l,errors:u}}function RA(n,e,t){let r=Kn({},e);return t.forEach(i=>{let s=i.route.id;e[s]===void 0&&n[s]!==void 0&&(r[s]=n[s])}),r}function ah(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function N_e(n,e,t){let r=n.find(i=>i.index||!i.path||i.path==="/")||{id:"__shim-"+e+"-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:r}],route:r,error:new Cp(e,t,null)}}function T7(n){return N_e(n,404,"Not Found")}function P7(n){let e=typeof n=="string"?n:Bl(n);return console.warn("You're trying to submit to a route that does not have an action.  To fix this, please add an `action` function to the route for "+("["+e+"]")),{type:Zr.error,error:new Cp(405,"Method Not Allowed","")}}function I7(n){for(let e=n.length-1;e>=0;e--){let t=n[e];if(_h(t))return t}}function aj(n){let e=typeof n=="string"?Wl(n):n;return Bl(Kn({},e,{hash:""}))}function L_e(n,e){return n.pathname===e.pathname&&n.search===e.search&&n.hash!==e.hash}function sf(n){return n.type===Zr.deferred}function mm(n){return n.type===Zr.error}function _h(n){return(n&&n.type)===Zr.redirect}async function R7(n,e,t,r,i,s){for(let o=0;o<t.length;o++){let a=t[o],l=e[o],u=n.find(f=>f.route.id===l.route.id),c=u!=null&&!sj(u,l)&&(s&&s[l.route.id])!==void 0;sf(a)&&(i||c)&&await lj(a,r,i).then(f=>{f&&(t[o]=f||t[o])})}}async function lj(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Zr.data,data:n.deferredData.unwrappedData}}catch(i){return{type:Zr.error,error:i}}return{type:Zr.data,data:n.deferredData.data}}}function uj(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function B7(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function k7(n,e){let t=typeof e=="string"?Wl(e).search:e.search;if(n[n.length-1].route.index&&uj(t||""))return n[n.length-1];let r=rj(n);return r[r.length-1]}/**
 * React Router v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ob(){return Ob=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ob.apply(this,arguments)}function D_e(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}const O_e=typeof Object.is=="function"?Object.is:D_e,{useState:F_e,useEffect:U_e,useLayoutEffect:z_e,useDebugValue:G_e}=kA;function H_e(n,e,t){const r=e(),[{inst:i},s]=F_e({inst:{value:r,getSnapshot:e}});return z_e(()=>{i.value=r,i.getSnapshot=e,BA(i)&&s({inst:i})},[n,r,e]),U_e(()=>(BA(i)&&s({inst:i}),n(()=>{BA(i)&&s({inst:i})})),[n]),G_e(r),r}function BA(n){const e=n.getSnapshot,t=n.value;try{const r=e();return!O_e(t,r)}catch{return!0}}function j_e(n,e,t){return e()}const V_e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",W_e=!V_e,q_e=W_e?j_e:H_e,K_e="useSyncExternalStore"in kA?(n=>n.useSyncExternalStore)(kA):q_e,J_e=J.exports.createContext(null),cj=J.exports.createContext(null),R4=J.exports.createContext(null),$_e=J.exports.createContext(null),a2=J.exports.createContext(null),B4=J.exports.createContext({outlet:null,matches:[]}),fj=J.exports.createContext(null);function k4(){return J.exports.useContext(a2)!=null}function X_e(){return k4()||Zt(!1),J.exports.useContext(a2).location}function Y_e(n,e){k4()||Zt(!1);let t=J.exports.useContext(R4),{matches:r}=J.exports.useContext(B4),i=r[r.length-1],s=i?i.params:{};i&&i.pathname;let o=i?i.pathnameBase:"/";i&&i.route;let a=X_e(),l;if(e){var u;let y=typeof e=="string"?Wl(e):e;o==="/"||((u=y.pathname)==null?void 0:u.startsWith(o))||Zt(!1),l=y}else l=a;let c=l.pathname||"/",f=o==="/"?c:c.slice(o.length)||"/",d=H0(n,{pathname:f}),m=t3e(d&&d.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:wf([o,y.pathname]),pathnameBase:y.pathnameBase==="/"?o:wf([o,y.pathnameBase])})),r,t||void 0);return e&&m?te(a2.Provider,{value:{location:Ob({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:Pr.Pop},children:m}):m}function Q_e(){let n=r3e(),e=ij(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r};return Tt(vr,{children:[te("h2",{children:"Unhandled Thrown Error!"}),te("h3",{style:{fontStyle:"italic"},children:e}),t?te("pre",{style:i,children:t}):null,te("p",{children:"\u{1F4BF} Hey developer \u{1F44B}"}),Tt("p",{children:["You can provide a way better UX than this when your app throws errors by providing your own\xA0",te("code",{style:s,children:"errorElement"})," props on\xA0",te("code",{style:s,children:"<Route>"})]})]})}class Z_e extends J.exports.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?te(fj.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function e3e(n){let{routeContext:e,match:t,children:r}=n,i=J.exports.useContext(J_e);return i&&t.route.errorElement&&(i._deepestRenderedBoundaryId=t.route.id),te(B4.Provider,{value:e,children:r})}function t3e(n,e,t){if(e===void 0&&(e=[]),n==null)if(t!=null&&t.errors)n=t.matches;else return null;let r=n,i=t?.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&i?.[o.route.id]);s>=0||Zt(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i?.[o.route.id]:null,u=t?o.route.errorElement||te(Q_e,{}):null,c=()=>te(e3e,{match:o,routeContext:{outlet:s,matches:e.concat(r.slice(0,a+1))},children:l?u:o.route.element!==void 0?o.route.element:s});return t&&(o.route.errorElement||a===0)?te(Z_e,{location:t.location,component:u,error:l,children:c()}):c()},null)}var N7;(function(n){n.UseRevalidator="useRevalidator"})(N7||(N7={}));var qC;(function(n){n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator"})(qC||(qC={}));function n3e(n){let e=J.exports.useContext(R4);return e||Zt(!1),e}function r3e(){var n;let e=J.exports.useContext(fj),t=n3e(qC.UseRouteError),r=J.exports.useContext(B4),i=r.matches[r.matches.length-1];return e||(r||Zt(!1),i.route.id||Zt(!1),(n=t.errors)==null?void 0:n[i.route.id])}function i3e(n){let{fallbackElement:e,router:t}=n,r=K_e(t.subscribe,()=>t.state,()=>t.state),i=J.exports.useMemo(()=>({createHref:t.createHref,go:o=>t.navigate(o),push:(o,a,l)=>t.navigate(o,{state:a,preventScrollReset:l?.preventScrollReset}),replace:(o,a,l)=>t.navigate(o,{replace:!0,state:a,preventScrollReset:l?.preventScrollReset})}),[t]),s=t.basename||"/";return te(cj.Provider,{value:{router:t,navigator:i,static:!1,basename:s},children:te(R4.Provider,{value:r,children:te(o3e,{basename:t.basename,location:t.state.location,navigationType:t.state.historyAction,navigator:i,children:t.state.initialized?te(a3e,{}):e})})})}function s3e(n){Zt(!1)}function o3e(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Pr.Pop,navigator:s,static:o=!1}=n;k4()&&Zt(!1);let a=e.replace(/^\/*/,"/"),l=J.exports.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Wl(r));let{pathname:u="/",search:c="",hash:f="",state:d=null,key:m="default"}=r,y=J.exports.useMemo(()=>{let g=nj(u,a);return g==null?null:{pathname:g,search:c,hash:f,state:d,key:m}},[a,u,c,f,d,m]);return y==null?null:te($_e.Provider,{value:l,children:te(a2.Provider,{children:t,value:{location:y,navigationType:i}})})}function a3e(n){let{children:e,location:t}=n,r=J.exports.useContext(cj),i=r&&!e?r.router.routes:KC(e);return Y_e(i,t)}var L7;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(L7||(L7={}));new Promise(()=>{});function KC(n,e){e===void 0&&(e=[]);let t=[];return J.exports.Children.forEach(n,(r,i)=>{if(!J.exports.isValidElement(r))return;if(r.type===J.exports.Fragment){t.push.apply(t,KC(r.props.children,e));return}r.type!==s3e&&Zt(!1),!r.props.index||!r.props.children||Zt(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=KC(r.props.children,s)),t.push(o)}),t}function dj(n){return n.map(e=>{let t=Ob({},e);return t.hasErrorBoundary==null&&(t.hasErrorBoundary=t.errorElement!=null),t.children&&(t.children=dj(t.children)),t})}/**
 * React Router DOM v6.4.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function l3e(n,e){var t;return P_e({basename:e?.basename,history:Z2e({window:e?.window}),hydrationData:e?.hydrationData||((t=window)==null?void 0:t.__staticRouterHydrationData),routes:dj(n)}).initialize()}var D7;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(D7||(D7={}));var O7;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(O7||(O7={}));const u3e=l3e([{path:"/",element:te(Q2e,{})}]);function c3e(){return te(i3e,{router:u3e})}NA.createRoot(document.getElementById("root")).render(te(Ar.StrictMode,{children:te(c3e,{})}));export{c1e as E,Cn as a,YU as b,Yi as c,GH as d,JC as g,yC as i,s0e as r,fz as s};
